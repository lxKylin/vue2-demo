"use strict";(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["1628"],{70345:function(e,t,n){n.r(t),n.d(t,{DiffEditorControlRenderer:()=>l,DiffEditorRenderer:()=>a});var i=n(9787),o=n(65758),r=n(47755),s=n(68333);function u(e,t){if(e&&"string"!=typeof e&&(e=JSON.stringify(e,null,2)),t&&"json"===t)try{e=JSON.stringify("string"==typeof e?JSON.parse(e):e,null,2)}catch(e){}return e||""}var a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focused:!1},n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleEditorMounted=n.handleEditorMounted.bind(n),n.handleChange=n.handleChange.bind(n),n}return(0,i.ZT)(t,e),t.prototype.doAction=function(e,t,n,i){void 0===n&&(n=!1);var o,s,u=null==e?void 0:e.actionType,a=this.props,l=a.onChange,d=a.resetValue,h=a.formStore,c=a.store,p=a.name;if("clear"===u)l("");else if("reset"===u){var f=null!=(s=(0,r.E04)(null!=(o=null==h?void 0:h.pristine)?o:null==c?void 0:c.pristine,p))?s:d;l(null!=f?f:"")}else"focus"===u&&this.focus()},t.prototype.focus=function(){null==(e=this.editor)||e.focus(),this.setState({focused:!0});var e,t,n,i=null==(t=this.editor)?void 0:t.getPosition();null==(n=this.editor)||n.setPosition(i)},t.prototype.handleFocus=function(e){return(0,i.mG)(this,void 0,void 0,function(){var t,n,o,s,u;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=(t=this.props).dispatchEvent,o=t.value,s=t.onFocus,this.setState({focused:!0}),[4,n("focus",(0,r.vXk)(this.props,{value:o}))];case 1:if(null==(u=i.sent())?void 0:u.prevented)return[2];return null==s||s(e),[2]}})})},t.prototype.handleBlur=function(e){return(0,i.mG)(this,void 0,void 0,function(){var t,n,o,s,u;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=(t=this.props).dispatchEvent,o=t.value,s=t.onBlur,this.setState({focused:!1}),[4,n("blur",(0,r.vXk)(this.props,{value:o}))];case 1:if(null==(u=i.sent())?void 0:u.prevented)return[2];return null==s||s(e),[2]}})})},t.prototype.handleChange=function(e){return(0,i.mG)(this,void 0,void 0,function(){var t,n,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=(t=this.props).onChange,[4,(0,t.dispatchEvent)("change",(0,r.vXk)(this.props,{value:e}))];case 1:if(null==(o=i.sent())?void 0:o.prevented)return[2];return n&&n(e),[2]}})})},t.prototype.handleEditorMounted=function(e){this.editor=e},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.style,e.value),i=(e.onChange,e.disabled),a=e.size,l=e.options,d=e.language,h=e.editorTheme,c=e.diffValue,p=e.classnames,f=e.data,v=(0,r.SSQ)(c)?u((0,r.OgC)(c||"",f,"| raw"),d):u(c,d),g=u(n,d);return o.createElement("div",{className:p("EditorControl",a?"EditorControl--".concat(a):"",t,{"is-focused":this.state.focused})},o.createElement(s.SV,{value:g,originValue:v,onChange:this.handleChange,disabled:i,language:d,editorTheme:h,options:l,onFocus:this.handleFocus,onBlur:this.handleBlur,editorDidMount:this.handleEditorMounted}))},t.defaultProps={language:"javascript",editorTheme:"vs",options:{automaticLayout:!1,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1}},diffValue:""},t}(o.Component),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.defaultProps=(0,i.pi)({},a.defaultProps),t=(0,i.gn)([(0,r.xJW)({type:"diff-editor",sizeMutable:!1})],t)}(a)}}]);