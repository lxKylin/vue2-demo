"use strict";(self.webpackChunkvue2_demo=self.webpackChunkvue2_demo||[]).push([["5816"],{38393:function(e,t,n){n.r(t),n.d(t,{Navigation:()=>v,NavigationRenderer:()=>m,default:()=>g});var i=n(9787),o=n(65758),r=n(97326),a=n(8427),l=n(31223),d=n.n(l),s=n(56549),p=n.n(s),u=n(32222),c=n.n(u),h=n(47755),f=n(68333),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPoint={y:0,x:0},t.state={keyword:"",filteredLinks:[]},t}return(0,i.ZT)(t,e),t.prototype.handleClick=function(e,t){return(0,i.mG)(this,void 0,void 0,function(){var n,o,r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return o=(n=this.props).env,r=n.onSelect,e&&e.to&&(null==o||o.tracker({eventType:"link",eventData:{label:e.label,link:e.to}})),[4,null==r?void 0:r(e,t)];case 1:return i.sent(),[2,!1]}})})},t.prototype.handleChange=function(e){return(0,i.mG)(this,void 0,void 0,function(){var t;return(0,i.Jh)(this,function(n){return(t=this.props.onChange)&&t(e),[2]})})},t.prototype.toggleLink=function(e,t,n){var i,o;null==(o=(i=this.props).onToggle)||o.call(i,e,t,n)},t.prototype.getDropInfo=function(e,t,n){var i,o,r,a=this.props,l=a.dragOnSameLevel,d=a.indentSize,s=e.target.getBoundingClientRect(),p=null==(i=this.dragNode)?void 0:i.link,u=s.top,c=s.height,h=s.width,f=e.clientY,v=e.clientX,g=n*(null!=(o=parseInt(d,10))?o:16);return r=f>=u+c/2?"bottom":"top",!l&&"bottom"===r&&v>=this.startPoint.x+(g+.2*h)&&(r="self"),{nodeId:t,dragLink:p,position:r,rect:s,height:c,left:g}},t.prototype.updateDropIndicator=function(e){var t,n=this.props,i=n.dragOnSameLevel,o=n.overflow,a=e.target.querySelector("a"),l=null==a?void 0:a.getAttribute("data-id"),s=Number(null==a?void 0:a.getAttribute("data-depth")),p=o&&o.enable&&o.wrapperComponent||"ul";if(i&&(null==(t=this.dragNode)?void 0:t.node.closest("".concat(p,'[role="menu"]')))!==(null==a?void 0:a.closest("".concat(p,'[role="menu"]')))){this.setState({dropIndicator:void 0}),this.dropInfo=null;return}this.dropInfo=this.getDropInfo(e,l,s);var u=this.dropInfo,c=u.position,h=u.rect,f=u.dragLink,v=u.height,g=u.left;if(l===(null==f?void 0:f.__id)){this.setState({dropIndicator:void 0}),this.dropInfo=null;return}var y=(0,r.findDOMNode)(this).firstChild;if("self"===c){var m={top:h.top-y.getBoundingClientRect().top,left:g,width:y.getBoundingClientRect().width-g,height:v,opacity:.2};this.state.dropIndicator&&(!this.state.dropIndicator||d()(this.state.dropIndicator,m))||this.setState({dropIndicator:m})}else{var m={top:("bottom"===c?h.top+h.height:h.top)-y.getBoundingClientRect().top,left:g,width:y.getBoundingClientRect().width-g};this.state.dropIndicator&&(!this.state.dropIndicator||d()(this.state.dropIndicator,m))||this.setState({dropIndicator:m})}},t.prototype.handleDragStart=function(e){var t=this;return function(n){n.stopPropagation();var i=n.currentTarget;n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage(i,0,0),t.dragNode={node:i,link:e},t.dropInfo=null,t.startPoint={x:n.clientX,y:n.clientY},i.addEventListener("dragend",t.handleDragEnd),document.body.addEventListener("dragover",t.handleDragOver)}},t.prototype.handleDragOver=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragNode){var t=e.target.querySelector("a");(null==t?void 0:t.getAttribute("data-id"))&&this.updateDropIndicator(e)}},t.prototype.handleDragEnd=function(e){e.preventDefault(),e.stopPropagation(),this.setState({dropIndicator:void 0});var t,n,i,o=e.currentTarget,r=o.getAttribute("data-id");if(!r){var a=o.querySelector("a");a&&(r=a.getAttribute("data-id"))}var l=null==(t=this.dropInfo)?void 0:t.nodeId;this.dropInfo&&l&&r!==l&&(o.removeEventListener("dragend",this.handleDragEnd),document.body.removeEventListener("dragover",this.handleDragOver),null==(i=(n=this.props).onDragUpdate)||i.call(n,this.dropInfo),this.dragNode=null,this.dropInfo=null)},t.prototype.normalizeNavigations=function(e,t){var n=this,r=this.props,a=r.level,l=r.stacked,d=r.mode,s=r.itemActions,u=r.render,c=r.popOverContainer,v=r.env,g=r.classnames,y=r.data,m=r.collapsed;if(!e||a&&t>a)return[];var w=m&&1===t;return e.filter(function(e){return!0!==e.hidden&&!1!==e.visible}).map(function(e){var r=[],a=[];e.icon&&(Array.isArray(e.icon)?e.icon:[e.icon]).forEach(function(e,t){if(o.isValidElement(e))r.push(e);else if(p()(e))r.push(o.createElement(f.JO,{key:"icon-".concat(t),cx:g,icon:e,className:w?"":"mr-2"}));else if(e&&(0,h.Kn2)(e)){var n="after"===e.position,i=o.createElement(f.JO,{key:"icon-".concat(t),cx:g,icon:e.icon||e,className:w?"":n?"ml-2":"mr-2"});n?a.push(i):r.push(i)}});var m="string"==typeof e.label?(0,h.hXT)(e.label,y):o.isValidElement(e.label)?o.cloneElement(e.label):u("inline",e.label),b=l&&"float"!==d&&!e.expanded&&e.overflow&&(0,h.Kn2)(e.overflow)&&e.overflow.enable,C=e.children;if(b){var k=e.overflow,N=k.maxVisibleCount,E=k.overflowIndicator,I=void 0===E?"fa fa-ellipsis-h":E,S=k.overflowLabel,L=k.overflowClassName,O=N||2;O<((null==C?void 0:C.length)||0)&&(C=null==C?void 0:C.map(function(t,n){return(0,i.pi)((0,i.pi)({},t),{label:n===O?o.createElement("span",{className:g(L)},o.createElement(f.JO,{icon:I,className:"icon Nav-item-icon"}),S&&(0,h.Kn2)(S)?u("nav-overflow-label",S):S):t.label,hidden:n>O||e.hidden,expandMore:n===O})}))}return{link:e,label:m,labelExtra:a.length?o.createElement("i",{className:g("Nav-Menu-item-icon-after")},a):null,icon:r.length?o.createElement("i",null,r):null,children:C?n.normalizeNavigations(C,"group"===e.mode?t:t+1):[],path:e.to,open:e.unfolded,extra:s?u("inline",s,{data:(0,h.nW9)(y,e),popOverContainer:c||(v&&v.getModalContainer?v.getModalContainer:function(){return document.body}),closeOnClick:!0}):null,disabled:!!e.disabled,disabledTip:e.disabledTip,hidden:e.hidden,className:e.className,mode:e.mode}})},t.prototype.handleSearch=function(e){return(0,i.mG)(this,void 0,void 0,function(){var t,n,o,r,l,d,s;return(0,i.Jh)(this,function(p){return(n=(t=this.props).links,r=void 0===(o=t.searchConfig)?{}:o,l=c()(null!=n?n:[]),d=null==r?void 0:r.matchFunc,e)?(d&&"string"==typeof d?d=(0,h.PqP)(d,"link","keyword"):"function"==typeof d||(d=function(e,t){var n,i;return(null==(n=(0,a.Lu)([e],t,{keys:["label","title","key"],threshold:a.Lu.rankings.CONTAINS}))?void 0:n.length)||(null==e?void 0:e.children)&&(null==(i=e.children)?void 0:i.length)>0}),s=function(e,t){var n=function(e,o){if(d(o,t))return e.push((0,i.pi)((0,i.pi)({},o),{unfolded:!0})),e;if(Array.isArray(o.children)){var r=o.children.reduce(n,[]);r.length&&e.push((0,i.pi)((0,i.pi)({},o),{unfolded:!0,children:r}))}return e};return e.reduce(n,[])},this.setState({keyword:e,filteredLinks:s(l,e)})):this.setState({keyword:"",filteredLinks:[]}),[2]})})},t.prototype.renderSearchBox=function(){var e,t,n,i=this.props,r=i.classnames,a=i.searchable,l=i.searchConfig,d=void 0===l?{}:l,s=this.state.keyword;return o.createElement(o.Fragment,null,a?o.createElement(f.Rj,{className:r("Nav-SearchBox",null==d?void 0:d.className),mini:null!=(e=d.mini)&&e,enhance:null!=(t=d.enhance)&&t,clearable:null==(n=d.clearable)||n,searchImediately:d.searchImediately,placeholder:d.placeholder,defaultValue:"",value:null!=s?s:"",onSearch:this.handleSearch,onChange:h.ZTd}):null)},t.prototype.render=function(){var e,t=this.props,n=t.className,i=t.style,r=t.stacked,a=t.mode,l=t.classnames,d=t.links,s=t.loading,p=t.overflow,u=t.loadingConfig,c=t.itemBadge,v=t.badge,g=t.data,y=t.location,m=t.collapsed,w=t.expandIcon,b=t.indentSize,C=t.accordion,k=t.draggable,N=t.themeColor,E=t.expandPosition,I=t.popupClassName,S=t.disabled,L=t.id,O=t.render,A=t.popOverContainer,D=t.env,_=t.searchable,R=t.testIdBuilder,x=this.state,T=x.dropIndicator,j=x.filteredLinks,F=null;if(p&&(0,h.Kn2)(p)&&p.enable){var Z=p.overflowIndicator,P=p.overflowLabel,U=p.overflowClassName;F=o.createElement("span",{className:l(U)},o.createElement(o.Fragment,null,o.createElement(f.JO,{icon:void 0===Z?"fa fa-ellipsis-h":Z,className:"icon Nav-item-icon"}),P&&(0,h.Kn2)(P)?O("nav-overflow-label",P):P))}var B=null,G="";if(i)try{B=(0,h.uBL)(i,g);var J=JSON.stringify(B).replace(/\,/g,";").replace(/\"/g,"").replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});G=l("Nav-PopupClassName-".concat(L)),document.getElementById(G)||(0,h.CQn)({style:".".concat(G," ").concat(J),classId:G})}catch(e){}var K=Array.isArray(j)&&j.length>0?j:d,M=o.createElement(o.Fragment,null,Array.isArray(K)?o.createElement(f.v2,{navigations:this.normalizeNavigations(K,1),isActive:function(e,t){if(void 0===t&&(t=""),e.link&&void 0!==e.link.active)return e.link.active;var n=e.path;return y.pathname===n},isOpen:function(e){return!!e.open},stacked:!!r,mode:a,testIdBuilder:R,themeColor:N,onSelect:this.handleClick,onToggle:this.toggleLink,onChange:this.handleChange,renderLink:function(e){return e.link},badge:c||v,collapsed:m,overflowedIndicator:F,overflowMaxCount:null==p?void 0:p.maxVisibleCount,overflowedIndicatorPopupClassName:l(null==p?void 0:p.overflowPopoverClassName),overflowSuffix:(null==p?void 0:p.overflowSuffix)?O("nav-overflow-suffix",null==p?void 0:p.overflowSuffix):null,overflowItemWidth:null==p?void 0:p.itemWidth,overflowComponent:null==p?void 0:p.wrapperComponent,overflowStyle:null==p?void 0:p.style,popupClassName:"".concat(I||"").concat(G?" ".concat(G):""),expandIcon:w?"string"==typeof w?w:O("expand-icon",w):null,expandBefore:"after"!==E,inlineIndent:b,accordion:C,draggable:k,data:g,disabled:S,onDragStart:this.handleDragStart,popOverContainer:A||(D&&D.getModalContainer?D.getModalContainer:function(){return document.body})}):null,o.createElement(f.$j,{show:!!s,overlay:!0,loadingConfig:u}));return o.createElement("div",{className:l("Nav",n,((e={})["Nav-horizontal"]=!r,e["Nav--searchable"]=!!_,e)),style:B},_?o.createElement(o.Fragment,null,this.renderSearchBox(),M):M,T?o.createElement("div",{className:l("Nav-dropIndicator"),style:T}):null)},t.defaultProps={indentSize:16},(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object,Number]),(0,i.w6)("design:returntype",Promise)],t.prototype,"handleClick",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Array]),(0,i.w6)("design:returntype",Promise)],t.prototype,"handleChange",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object,Number,Boolean]),(0,i.w6)("design:returntype",void 0)],t.prototype,"toggleLink",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[DragEvent,String,Number]),(0,i.w6)("design:returntype",Object)],t.prototype,"getDropInfo",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[DragEvent]),(0,i.w6)("design:returntype",void 0)],t.prototype,"updateDropIndicator",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleDragStart",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[DragEvent]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleDragOver",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[DragEvent]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleDragEnd",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[String]),(0,i.w6)("design:returntype",Promise)],t.prototype,"handleSearch",null),t}(o.Component),g=(0,h.YYN)(v),y=(0,f.it)({adaptor:function(e,t){var n=Array.isArray(e)?e:e.links||e.options||e.items||e.rows;if(!Array.isArray(n))throw Error("payload.data.options is not array.");return n},afterLoad:function(e,t,n){return(0,i.mG)(void 0,void 0,void 0,function(){var o,r,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return o=n.dispatchEvent,r=n.data,[4,o("loaded",(0,h.nW9)(r,{data:e.value,items:e.links}))];case 1:if(null==(a=i.sent())?void 0:a.prevented)return[2];return e.value&&!(0,h.Jyg)(t,function(e){return e.active})&&n.env.jumpTo((0,h.hXT)(e.value,n.data),void 0,n.data),[2]}})})},normalizeConfig:function(e,t,n,o){if(Array.isArray(e)&&"toggle"!==o){var r=n.data,a=n.env,l=n.unfoldedField,d=n.foldedField,s=n.location,p=n.level,u=n.defaultOpenLevel,c=n.disabled,f=n.valueField,v=function(e,t){return!c&&!e.disabled&&(o&&!["location-change","data-change"].includes(o)&&void 0!==e.active?e.active:t===p&&!!(0,h.hEs)(e.children||[],function(t){return!!(t.hasOwnProperty("to")&&a&&a.isCurrentUrl((0,h.hXT)(t.to,r),e))})||(e.activeOn?(0,h.fz_)(e.activeOn,r)||(0,h.fz_)(e.activeOn,s):!!(e.hasOwnProperty("to")&&null!==e.to&&a&&a.isCurrentUrl((0,h.hXT)(e.to,r),e))))};e=(0,h.GyU)(e,function(e,n,o){var a,s=(0,i.pi)((0,i.pi)((0,i.pi)({},e),(0,h.Lti)(e,r)),{active:v(e,o),__id:null!=(a=e.__id)?a:(0,h.M8z)()}),p=null;return!e.defer&&f&&e[f]&&(p=(0,h.hEs)(t||[],function(t){return t[f]===e[f]})),s.unfolded=p?(0,h.FCL)(p,{unfoldedField:l,foldedField:d}):void 0!==e.unfolded?(0,h.FCL)(s,{unfoldedField:l,foldedField:d}):!!u&&o<=u||e.children&&!!(0,h.hEs)(e.children,function(e,t,n){return v(e,o+n)}),s},1,!0)}return e},beforeDeferLoad:function(e,t,n){return(0,h.o5f)(n,t,1,(0,i.pi)((0,i.pi)({},e),{loading:!0}))},afterDeferLoad:function(e,t,n,o,r){var a,l,d,s;return(0,i.mG)(this,void 0,void 0,function(){var p,u,c,f,v;return(0,i.Jh)(this,function(g){switch(g.label){case 0:return p=r.dispatchEvent,u=r.data,[4,p("loaded",(0,h.nW9)(u,{data:n.data,item:(0,i.pi)({},e)}))];case 1:if(null==(c=g.sent())?void 0:c.prevented)return[2];return f=(0,i.pi)((0,i.pi)({},e),{loading:!1,loaded:!0,error:n.ok?void 0:n.msg}),Array.isArray(v=Array.isArray(n.data)?n.data:(null==(a=n.data)?void 0:a.links)||(null==(l=n.data)?void 0:l.options)||(null==(d=n.data)?void 0:d.items)||(null==(s=n.data)?void 0:s.rows))&&(f.children=v.concat(),f.unfolded=!0),[2,(0,h.o5f)(o,t,1,f)]}})})}})(function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentKey:t.showKey||"",collapsed:t.collapsed||!1},n.toggleLink=n.toggleLink.bind(n),n.handleSelect=n.handleSelect.bind(n),n.dragUpdate=n.dragUpdate.bind(n),n.handleChange=n.handleChange.bind(n),null==t||t.onRef(n),n}return(0,i.ZT)(t,e),t.prototype.componentDidMount=function(){Array.isArray(this.props.links)&&this.props.updateConfig(this.props.links,"mount")},t.prototype.componentDidUpdate=function(e,t){d()(this.props.location,e.location)?d()(this.props.links,e.links)?(0,h.RjM)(this.props.data,e.data,!1,void 0,void 0,10)&&this.props.updateConfig(this.props.config,"data-change"):this.props.updateConfig(this.props.links,"update"):this.props.updateConfig(this.props.config,"location-change"),e.defaultOpenLevel!==this.props.defaultOpenLevel&&this.props.updateConfig(this.props.config,"update"),e.collapsed!==this.props.collapsed&&this.setState({collapsed:this.props.collapsed}),t.collapsed!==this.state.collapsed&&this.props.dispatchEvent("collapsed",(0,h.nW9)(this.props.data,{collapsed:this.state.collapsed}))},t.prototype.getCurrentLink=function(e){var t=null,n=this.props,i=n.config,o=n.data,r=n.valueField,a=(0,h.OgC)(e,o,"| raw");return e&&(t=(0,h.hEs)(i,function(e){return r?e[r]===a:e.label==a||e.key==a})),t},t.prototype.toggleLink=function(e,t,n){return(0,i.mG)(this,void 0,void 0,function(){var t,o,r,a,l,d,s,p,u,c,f;return(0,i.Jh)(this,function(v){switch(v.label){case 0:return o=(t=this.props).config,r=t.updateConfig,a=t.deferLoad,l=t.dispatchEvent,d=t.stacked,s=t.mode,p=t.accordion,u=t.data,c=d&&"float"!==s&&p,[4,l("toggled",(0,h.nW9)(u,{item:(0,i.pi)({},e),open:void 0!==n?!n:!e.unfolded}))];case 1:if(null==(f=v.sent())?void 0:f.prevented)return[2];return e.defer&&!e.loaded?a(e):r((0,h.GyU)(o,function(t){return e.__id===t.__id?(0,i.pi)((0,i.pi)({},t),{unfolded:void 0!==n?!n:!t.unfolded}):(0,i.pi)((0,i.pi)({},t),{unfolded:c?!!(0,h.hEs)(t.children||[],function(t){return t===e}):t.unfolded})}),"toggle"),[2]}})})},t.prototype.dragUpdate=function(e){var t,n;return(0,i.mG)(this,void 0,void 0,function(){var o,r,a,l,d,s;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return o=this.props.config,r=e.nodeId,a=e.dragLink,l=e.position,a&&(d=(0,h.L$8)(o,function(e){return e.__id===a.__id}),o=(0,h.o5f)(o,d,1),"self"===l?(0,h.GyU)(o,function(e){return e.__id===r&&(e.children||(e.children=[]),e.children.push(a)),e}):(s=(0,h.L$8)(o,function(e){return e.__id===r}),"bottom"===l&&s&&s.push(s.pop()+1),o=(0,h.o5f)(o,s,0,a))),this.props.updateConfig(o,"update"),null==(n=(t=this.props).onOrderChange)||n.call(t,o),[4,this.saveOrder((0,h.GyU)(o,function(e){for(var t in e)/^__.*$/.test(t)&&delete e[t];return e}))];case 1:return i.sent(),[2]}})})},t.prototype.saveOrder=function(e){return(0,i.mG)(this,void 0,void 0,function(){var t,n,o,r,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(n=(t=this.props).saveOrderApi,o=t.env,r=t.data,a=t.reload,!(n&&(0,h.X1t)(n)))return[3,2];return[4,null==o?void 0:o.fetcher(n,(0,h.nW9)(r,{data:e}),{method:"post"})];case 1:return i.sent(),a(),[3,3];case 2:this.props.onOrderChange||null==o||o.alert("NAV saveOrderApi is required!"),i.label=3;case 3:return[2]}})})},t.prototype.expandLink=function(e){var t=this.props,n=t.config;(0,t.updateConfig)((0,h.GyU)(n,function(t){return(0,h.hEs)((null==t?void 0:t.children)||[],function(t){return t.__id===e.__id})?(0,i.pi)((0,i.pi)({},t),{expanded:!0}):(0,i.pi)({},t)}),"expand")},t.prototype.handleChange=function(e){var t=this.props,n=t.dispatchEvent,i=t.data;setTimeout(function(){n("change",(0,h.nW9)(i,{value:e}))})},t.prototype.handleSelect=function(e,t){return(0,i.mG)(this,void 0,void 0,function(){var n,o,r,a,l,d,s,p,u;return(0,i.Jh)(this,function(c){switch(c.label){case 0:return o=(n=this.props).onSelect,r=n.env,a=n.data,l=n.level,d=n.dispatchEvent,s=n.updateConfig,p=n.config,[4,d("click",(0,h.nW9)(a,{item:(0,i.pi)({},e)}))];case 1:if((null==(u=c.sent())?void 0:u.prevented)||o&&!1===o(e))return[2];if(t===l)return s((0,h.GyU)(p,function(t){return(0,i.pi)((0,i.pi)({},t),{active:t.__id===e.__id})}),"select"),[2];if(e.expandMore)return this.expandLink(e),[2];if(!e.to)return[2];return null==r||r.jumpTo((0,h.hXT)(e.to,a),e,a),[2]}})})},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.loading,r=e.config,a=(e.deferLoad,e.updateConfig,(0,i._T)(e,["disabled","loading","config","deferLoad","updateConfig"])),l=this.getCurrentLink(this.state.currentKey);return o.createElement(g,(0,i.pi)({},a,{loading:n,links:(null==l?void 0:l.children)||r,collapsed:this.state.collapsed,disabled:t||n,onSelect:this.handleSelect,onToggle:this.toggleLink,onChange:this.handleChange,onDragUpdate:this.dragUpdate}))},t}(o.Component)),m=function(e){function t(t,n){var i=e.call(this,t)||this;return i.remoteRef=void 0,n.registerComponent(i),i}return(0,i.ZT)(t,e),t.prototype.remoteConfigRef=function(e){this.remoteRef=e},t.prototype.getRef=function(e){this.navRef=e},t.prototype.componentDidUpdate=function(e){this.remoteRef&&this.props.source!==e.source&&this.remoteRef.syncConfig()},t.prototype.componentWillUnmount=function(){this.context.unRegisterComponent(this)},t.prototype.doAction=function(e,t,n,i){var o,r=null==e?void 0:e.actionType,a=(null==i?void 0:i.value)||(null==(o=null==e?void 0:e.data)?void 0:o.value);if("updateItems"===r){var l=this.props.valueField,d=[];if(a){if(Array.isArray(a)){if(a.length>0){var s=a.find(function(e){return e.children&&e.children.length});if(s){var p=l?s[l]:(null==s?void 0:s.key)||(null==s?void 0:s.label);this.navRef.state.currentKey!==p&&(this.navRef.setState({currentKey:p}),d=s.children)}else this.navRef.setState({currentKey:""})}}else if("string"==typeof a&&this.navRef.state.currentKey!==a){this.navRef.setState({currentKey:a});var u=this.navRef.getCurrentLink(a);d=null==u?void 0:u.children}}if(d.length>0){var c=this.props,f=c.env,v=c.data,g=(0,h.hEs)(d,function(e){return f&&f.isCurrentUrl((0,h.hXT)(e.to,v),e)});null==f||f.jumpTo((0,h.hXT)(g?g.to:d[0].to,v),void 0,v)}}else if("collapse"===r){var y=void 0!==a?a:!this.navRef.state.collapsed;this.navRef.setState({collapsed:y})}else"reset"===r&&this.navRef.setState({currentKey:""})},t.prototype.reload=function(e,t,n){if(t)return this.receive(t);var i,o=this.props,r=o.data;o.translate;var a=n?(0,h.nW9)(r,n):r;null==(i=this.remoteRef)||i.loadConfig(a)},t.prototype.receive=function(e){this.reload(void 0,void 0,e)},t.prototype.render=function(){var e=this.props,t=e.id,n=(0,i._T)(e,["id"]);return o.createElement(y,(0,i.pi)({},n,{id:t||(0,h.M8z)(),onRef:this.getRef,reload:this.reload,remoteConfigRef:this.remoteConfigRef}))},t.contextType=h.ZHe,(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"remoteConfigRef",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"getRef",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[String,Object,Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"reload",null),(0,i.gn)([h.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"receive",null),t=(0,i.gn)([(0,h.Thl)({type:"nav",alias:["navigation"],name:"nav"}),(0,i.w6)("design:paramtypes",[Object,Object])],t)}(o.Component)}}]);