"use strict";(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["8017"],{17049:function(e,t,n){n.r(t),n.d(t,{BaseTabsTransferRenderer:()=>h,TabsTransferRenderer:()=>v});var r=n(9787),i=n(47755),a=n(65758),o=n(33170),l=n.n(o),s=n(68333),u=n(78079),d=n(6423),p=n(81415),c=n(8427),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeKey:0},t}return(0,r.ZT)(t,e),t.prototype.onTabChange=function(e){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(n){switch(n.label){case 0:return[4,(0,this.props.dispatchEvent)("tab-change",{key:e})];case 1:if(null==(t=n.sent())?void 0:t.prevented)return[2];return this.setState({activeKey:e}),[2]}})})},t.prototype.handleTabSearch=function(e,t,n){return(0,r.mG)(this,void 0,void 0,function(){var a,o,s,u,d,p,h,v,y,f,g;return(0,r.Jh)(this,function(r){switch(r.label){case 0:if(o=(a=this.props).options,s=a.labelField,u=a.valueField,d=a.env,p=a.data,h=a.searchApi,v=a.translate,!h)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,d.fetcher(h,(0,i.nW9)(p,{term:e}),{cancelExecutor:n})];case 2:if(!(y=r.sent()).ok)throw Error(v(y.msg||"networkError"));if(!Array.isArray(f=y.data.options||y.data.items||y.data))throw Error(v("CRUD.invalidArray"));return[2,f.map(function(e){var t=null,n=e[u||"value"];return Array.isArray(o)&&null!=n&&(t=l()(o,(0,i.IWw)(n,u))),t||e})];case 3:return g=r.sent(),!d.isCancel(g)&&(h.silent||d.notify("error",g.message)),[2,[]];case 4:return[3,6];case 5:if(e)return[2,(0,i.get)(t.children||o,function(t,n,r,i){return!!(Array.isArray(t.children)&&t.children.length||(0,c.Lu)([t].concat(i),e,{keys:[s||"label",u||"value"],threshold:c.Lu.rankings.CONTAINS}).length)},0,!0)];return[2,o];case 6:return[2]}})})},t.prototype.handleChange=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,a,o,l,s,u,d,p,c,h,v,y,f,g;return(0,r.Jh)(this,function(m){switch(m.label){case 0:return a=(n=this.props).onChange,o=n.joinValues,l=n.delimiter,s=n.valueField,u=n.extractValue,d=n.options,p=n.dispatchEvent,c=n.setOptions,h=n.translate,v=e,y=d.concat(),f="UN_MATCH_RESULT",Array.isArray(e)?(v=e.map(function(e){var n=(0,i.L$8)(d,(0,i.IWw)(e[s||"value"],s||"value"));if(n){if(t){var a=(0,i.IMU)(y,n);y=(0,i.o5f)(y,n,1,(0,r.pi)((0,r.pi)({},a),e))}}else{var l=(0,i.L$8)(y,function(e){return e.value===f});if(l){var p=(0,i.IMU)(y,l);(null==p?void 0:p.children)&&(p.children.push(e),y=(0,i.o5f)(y,l,1,(0,r.pi)((0,r.pi)({},p),e)))}else y.push({label:h("searchResult"),value:f,visible:!1,children:[e]})}return o||u?e[s||"value"]:e}),o&&(v=v.join(l||","))):e&&(v=o||u?e[s||"value"]:e),(y.length>d.length||t)&&c(y,!0),[4,p("change",(0,i.vXk)(this.props,{value:v,options:d,items:d}))];case 1:if(null==(g=m.sent())?void 0:g.prevented)return[2];return a(v),[2]}})})},(0,r.gn)([i.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Number]),(0,r.w6)("design:returntype",Promise)],t.prototype,"onTabChange",null),(0,r.gn)([i.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,Object,Function]),(0,r.w6)("design:returntype",Promise)],t.prototype,"handleTabSearch",null),(0,r.gn)([i.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Boolean]),(0,r.w6)("design:returntype",Promise)],t.prototype,"handleChange",null),t}(u.BaseTransferRenderer),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.optionItemRender=function(e,t){var n=this.props,a=n.menuTpl,o=n.render,l=n.data,s=n.classnames,u=arguments[2]||{};return a?o("item/".concat(t.index),a,{data:(0,i.nW9)((0,i.nW9)(l,(0,r.pi)((0,r.pi)({},t),u)),e)}):d.PA.itemRender(e,(0,r.pi)((0,r.pi)({},t),{classnames:s}))},t.prototype.doAction=function(e,t,n,r){void 0===n&&(n=!1);var a,o,l,s=this.props,u=s.resetValue,d=s.onChange,p=s.formStore,c=s.store,h=s.name,v=null==r?void 0:r.activeKey;switch(e.actionType){case"clear":null==d||d("");break;case"reset":null==d||d(null!=(l=null!=(o=(0,i.E04)(null!=(a=null==p?void 0:p.pristine)?a:null==c?void 0:c.pristine,h))?o:u)?l:"");break;case"changeTabKey":this.setState({activeKey:v})}},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.style,e.classnames),r=e.options,o=e.selectedOptions,l=e.sortable,u=e.loading,d=e.searchResultMode,p=e.selectMode,c=e.searchable,h=e.showArrow,v=e.deferLoad,y=e.leftDeferLoad,f=e.disabled,g=e.selectTitle,m=e.resultTitle,b=e.itemHeight,T=e.virtualThreshold,w=e.onlyChildren,C=e.loadingConfig,R=e.valueField,F=e.labelField,I=e.valueTpl,E=e.menuTpl,k=e.data,A=e.mobileUI,O=e.initiallyOpen,j=e.testIdBuilder;return a.createElement("div",{className:n("TabsTransferControl",t)},a.createElement(s.C5,{onlyChildren:w,activeKey:this.state.activeKey,value:o,disabled:f,options:r,onChange:this.handleChange,option2value:this.option2value,sortable:l,searchResultMode:d,onSearch:this.handleTabSearch,showArrow:h,onDeferLoad:v,onLeftDeferLoad:y,selectTitle:g,resultTitle:m,selectMode:p,searchable:c,optionItemRender:E?this.optionItemRender:void 0,resultItemRender:I?this.resultItemRender:void 0,onTabChange:this.onTabChange,itemHeight:(0,i.He2)(b)>0?(0,i.He2)(b):void 0,virtualThreshold:T,labelField:void 0===F?"label":F,valueField:void 0===R?"value":R,ctx:k,mobileUI:A,initiallyOpen:void 0===O||O,testIdBuilder:j}),a.createElement(s.$j,{overlay:!0,key:"info",show:u,loadingConfig:C}))},t.defaultProps={multiple:!0},(0,r.gn)([i.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Object]),(0,r.w6)("design:returntype",void 0)],t.prototype,"optionItemRender",null),(0,r.gn)([(0,p.i)(),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"render",null),t=(0,r.gn)([(0,i.oZB)({type:"tabs-transfer"})],t)}(h)},87701:function(e,t,n){n.r(t),n.d(t,{TabsTransferPickerRenderer:()=>u});var r=n(9787),i=n(47755),a=n(65758),o=n(68333),l=n(17049),s=n(81415),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeKey:0},t}return(0,r.ZT)(t,e),t.prototype.dispatchEvent=function(e){var t=this.props,n=t.dispatchEvent,r=t.value;n(e,(0,i.vXk)(this.props,{value:r}))},t.prototype.optionItemRender=function(e,t){var n=this.props,a=n.menuTpl,l=n.render,s=n.data,u=n.classnames,d=arguments[2]||{};return a?l("item/".concat(t.index),a,{data:(0,i.nW9)((0,i.nW9)(s,(0,r.pi)((0,r.pi)({},t),d)),e)}):o.Y1.itemRender(e,(0,r.pi)((0,r.pi)({},t),{classnames:u}))},t.prototype.doAction=function(e){var t,n,r,a=this.props,o=a.resetValue,l=a.onChange,s=a.formStore,u=a.store,d=a.name;switch(e.actionType){case"clear":null==l||l("");break;case"reset":null==l||l(null!=(r=null!=(n=(0,i.E04)(null!=(t=null==s?void 0:s.pristine)?t:null==u?void 0:u.pristine,d))?n:o)?r:"")}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=(t.style,t.classnames),l=t.options,s=t.selectedOptions,u=t.sortable,d=t.loading,p=t.searchResultMode,c=t.showArrow,h=t.deferLoad,v=t.disabled,y=t.selectTitle,f=t.resultTitle,g=t.pickerSize,m=t.leftMode,b=t.leftOptions,T=t.itemHeight,w=t.virtualThreshold,C=t.loadingConfig,R=t.labelField,F=t.valueField,I=t.deferField,E=t.mobileUI,k=t.env,A=t.maxTagCount,O=t.overflowTagPopover,j=t.placeholder,S=t.initiallyOpen;return a.createElement("div",{className:r("TabsTransferControl",n)},a.createElement(o.u9,{activeKey:this.state.activeKey,onTabChange:this.onTabChange,placeholder:j,value:s,disabled:v,options:l,onChange:this.handleChange,option2value:this.option2value,sortable:u,searchResultMode:p,onSearch:this.handleTabSearch,showArrow:c,onDeferLoad:h,selectTitle:y,resultTitle:f,size:g,leftMode:m,leftOptions:b,optionItemRender:this.optionItemRender,resultItemRender:this.resultItemRender,onFocus:function(){return e.dispatchEvent("focus")},onBlur:function(){return e.dispatchEvent("blur")},itemHeight:(0,i.He2)(T)>0?(0,i.He2)(T):void 0,virtualThreshold:w,labelField:void 0===R?"label":R,valueField:void 0===F?"value":F,deferField:void 0===I?"defer":I,mobileUI:E,popOverContainer:null==k?void 0:k.getModalContainer,maxTagCount:A,overflowTagPopover:O,initiallyOpen:void 0===S||S}),a.createElement(o.$j,{loadingConfig:C,overlay:!0,key:"info",show:d}))},(0,r.gn)([i.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String]),(0,r.w6)("design:returntype",void 0)],t.prototype,"dispatchEvent",null),(0,r.gn)([i.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Object]),(0,r.w6)("design:returntype",void 0)],t.prototype,"optionItemRender",null),(0,r.gn)([(0,s.i)(),(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"render",null),t=(0,r.gn)([(0,i.oZB)({type:"tabs-transfer-picker"})],t)}(l.BaseTabsTransferRenderer)}}]);