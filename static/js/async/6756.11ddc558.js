"use strict";(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["6756"],{33230:function(e,t,n){n.r(t),n.d(t,{IconPickerControlRenderer:()=>y,default:()=>g});var i=n(9787),o=n(65758),a=n(84875),s=n.n(a),r=n(8427),p=n(17735),l=n.n(p),u=n(17949),c=n(47755),d=n(57752),h=n(68333),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1,inputValue:"",isFocused:!1,vendorIndex:0},t}return(0,i.ZT)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.value!==t.value&&this.setState({inputValue:""})},t.prototype.changeVendor=function(e){this.setState({vendorIndex:e},this.formatOptions)},t.prototype.formatOptions=function(){var e=this.state.vendorIndex||0,t=d.U[e],n=t.prefix;return t.icons.map(function(e){return{label:n+e,value:n+e}})},t.prototype.getVendors=function(){return d.U.map(function(e){return e.name})},t.prototype.inputRef=function(e){this.input=e},t.prototype.focus=function(){if(this.input){this.input.focus();var e=this.input.value.length;e&&this.input.setSelectionRange(e,e)}},t.prototype.handleClick=function(){this.props.disabled||(this.focus(),this.setState({isOpen:!0}))},t.prototype.handleFocus=function(e){this.setState({isOpen:!0,isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},t.prototype.handleBlur=function(e){var t=this.props,n=t.onBlur,i=t.trimContents,o=t.value,a=t.onChange;this.setState({isFocused:!1},function(){i&&o&&"string"==typeof o&&a(o.trim())}),n&&n(e)},t.prototype.handleInputChange=function(e){var t=e.currentTarget.value;this.setState({inputValue:t})},t.prototype.handleKeyDown=function(e){if("backspace"===l()(e.keyCode)){var t=this.props.onChange;this.state.inputValue||(t(""),this.setState({inputValue:""}))}},t.prototype.handleChange=function(e){var t=this.props,n=t.onChange;t.disabled||(n(e),this.setState({isFocused:!1,inputValue:""}))},t.prototype.handleStateChange=function(e){switch(e.type){case u.ZP.stateChangeTypes.itemMouseEnter:case u.ZP.stateChangeTypes.changeInput:this.setState({isOpen:!0});break;default:var t={};void 0!==e.isOpen&&(t.isOpen=e.isOpen),this.state.isOpen&&!1===e.isOpen&&(t.inputValue=""),this.setState(t)}},t.prototype.handleClear=function(){var e=this,t=this.props,n=t.onChange,i=t.resetValue;null==n||n(i),this.setState({inputValue:i,isFocused:!0},function(){e.focus()})},t.prototype.renderFontIcons=function(){var e=this,t=this.props,n=t.className,a=t.inputOnly,s=t.placeholder,p=t.classnames,l=t.name,c=t.value,d=t.noDataTip,g=t.disabled,y=t.clearable,m=t.translate,v=this.formatOptions(),f=this.getVendors();return o.createElement(u.ZP,{isOpen:this.state.isOpen,inputValue:this.state.inputValue,onChange:this.handleChange,onOuterClick:this.handleBlur,onStateChange:this.handleStateChange,selectedItem:[c]},function(t){var u=t.getInputProps,C=t.getItemProps,w=t.isOpen,k=t.inputValue,N=k&&w?(0,r.Lu)(v,k,{keys:["label","value"],threshold:r.Lu.rankings.CONTAINS}):v;return o.createElement("div",{className:p("IconPickerControl-input IconPickerControl-input--withAC",a?n:"",{"is-opened":w}),onClick:e.handleClick},o.createElement("div",{className:p("IconPickerControl-valueWrap")},!s||c||e.state.inputValue?null:o.createElement("div",{className:p("IconPickerControl-placeholder")},s),!c||k&&w?null:o.createElement("div",{className:p("IconPickerControl-value")},o.createElement("i",{className:p(c)}),"string"==typeof c?c:""),o.createElement("input",(0,i.pi)({},u({name:l,ref:e.inputRef,onFocus:e.handleFocus,onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,value:e.state.inputValue}),{autoComplete:"off",disabled:g,size:10})),y&&!g&&c?o.createElement("a",{onClick:e.handleClear,className:p("IconPickerControl-clear")},o.createElement(h.JO,{icon:"input-clear",className:"icon"})):null),w?o.createElement("div",{className:p("IconPickerControl-sugsPanel")},f.length>1?o.createElement("div",{className:p("IconPickerControl-tabs")},f.map(function(t,n){return o.createElement("div",{className:p("IconPickerControl-tab",{active:e.state.vendorIndex===n}),onClick:function(){return e.changeVendor(n)},key:n},t)})):null,N.length?o.createElement("div",{className:p("IconPickerControl-sugs",f.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},N.map(function(e,t){return o.createElement("div",(0,i.pi)({},C({item:e.value,className:p("IconPickerControl-sugItem",{"is-active":c===e.value})}),{key:t}),o.createElement("i",{className:p("".concat(e.value)),title:"".concat(e.value)}))})):o.createElement("div",{className:p(f.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},m(d))):null)})},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.style,e.classPrefix),i=e.inputOnly,a=e.disabled,r=this.renderFontIcons();return i?r:o.createElement("div",{className:s()(t,"".concat(n,"IconPickerControl"),{"is-focused":this.state.isFocused,"is-disabled":a})},r)},t.defaultProps={resetValue:"",placeholder:"",noDataTip:"placeholder.noData"},(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Number]),(0,i.w6)("design:returntype",void 0)],t.prototype,"changeVendor",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],t.prototype,"formatOptions",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],t.prototype,"getVendors",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"inputRef",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],t.prototype,"focus",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleClick",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleFocus",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleBlur",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleInputChange",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleKeyDown",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleChange",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleStateChange",null),(0,i.gn)([c.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],t.prototype,"handleClear",null),t}(o.PureComponent),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t=(0,i.gn)([(0,c.xJW)({type:"icon-picker"})],t)}(g)}}]);