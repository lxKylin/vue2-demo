(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["9789"],{69981:function(e,t,o){"use strict";o.r(t),o.d(t,{CRUD2Renderer:()=>F,default:()=>C});var r=o(9787),n=o(65758),i=o(97326),a=o(24465),l=o.n(a),s=o(19334),c=o.n(s),p=o(33886),u=o.n(p),d=o(42950),h=o.n(d),g=o(47755),m=o(12557),y=o.n(m),f=o(68333),v=o(69143),b=o.n(v),S=o(82691),P=o.n(S),T=["selectedChange","columnSort","columnFilter","columnSearch","columnToggled","orderChange","rowClick","rowDbClick","rowMouseEnter","rowMouseLeave","selected"],C=function(e){function t(t){var o=e.call(this,t)||this;o.stopingAutoRefresh=!1;var r=t.location,n=t.store,i=t.syncLocation,a=t.pageField,l=t.perPageField;t.parsePrimitiveQuery;var s=o.getParseQueryOptions(t);o.mounted=!0,i&&r&&(r.query||r.search)?n.updateQuery((0,g.mB4)(r,s),void 0,a,l):i&&!r&&window.location.search&&n.updateQuery((0,g.mB4)(window.location,s),void 0,a,l),o.props.api&&o.props.store.updateData({items:[]});var c=t.mode,p=t.columns;return"table2"===c&&p&&n.updateColumns(p),o}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.store,o=e.pickerMode,r=e.loadType,n=e.loadDataOnce,i=e.maxLoadNum;if(r&&!n){var a="more"===r?this.props.perPage||10:this.getPaginationPerPage();t.changePage(t.page,a)}else r||t.changePage(1,i||500);if(this.initQuery({}),o){var l=(0,g.v8S)(this.props);l&&t.setSelectedItems(l)}},t.prototype.componentDidUpdate=function(e){var t,o,r=this.props,n=e.store;r.parsePrimitiveQuery,e.columns!==r.columns&&n.updateColumns(r.columns),this.props.pickerMode&&(0,g.RBK)(o=(0,g.v8S)(this.props),(0,g.v8S)(e))&&n.setSelectedItems(o);var i=!1;if(e.syncLocation&&e.location&&e.location.search!==r.location.search&&(n.updateQuery((0,g.mB4)(r.location,this.getParseQueryOptions(r)),void 0,r.pageField,r.perPageField),i=!!(r.api&&(0,g.RjM)(n.query,this.lastQuery,!1))),i);else if(e.api&&r.api&&(0,g.rMT)(e.api,r.api,n.fetchCtxOf(e.data,{pageField:e.pageField,perPageField:e.perPageField}),n.fetchCtxOf(r.data,{pageField:r.pageField,perPageField:r.perPageField})))i=!0;else if(!r.api&&(0,g.SSQ)(r.source)){var a=(0,g.OgC)(r.source,r.data,"| raw");this.lastData&&this.lastData===a||(n.initFromScope(r.data,r.source,{columns:null!=(t=n.columns)?t:r.columns}),this.lastData=a)}i&&this.getData()},t.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},t.prototype.getPaginationPerPage=function(){var e=10,t=this.props,o=t.headerToolbar,r=t.footerToolbar;return(0,g.DLf)({headerToolbar:o,footerToolbar:r},function(t,o,r){"type"!==o||"pagination"!==t||isNaN(null==r?void 0:r.perPage)||(e=+r.perPage)}),e},t.prototype.getParseQueryOptions=function(e){var t,o=e.parsePrimitiveQuery;return{parsePrimitive:!!((0,g.Kn2)(o)?null==o?void 0:o.enable:o),primitiveTypes:null!=(t=null==o?void 0:o.types)?t:["boolean"]}},t.prototype.controlRef=function(e){for(;e&&e.getWrappedInstance;)e=e.getWrappedInstance();this.control=e},t.prototype.initQuery=function(e){var t=this.props,o=t.store,n=t.orderBy,i=t.orderDir,a=t.loadType,l={};n&&(l.orderBy=n,l.orderDir=i||"asc"),this.handleSearch({query:(0,r.pi)((0,r.pi)((0,r.pi)({},l),e),o.query),replaceQuery:!1!==this.props.initFetch,loadMore:"more"===a,resetPage:!1}),o.setPristineQuery()},t.prototype.handleLoadMore=function(){var e=this.props,t=e.store,o=e.perPage;t.changePage(t.page+1,void 0===o?10:o),this.getData(void 0,void 0,void 0,!0)},t.prototype.handleSearch=function(e){var t,o,n=this.props,i=n.store,a=n.syncLocation,l=n.env,s=n.pageField,c=n.perPageField,p=n.parsePrimitiveQuery,u=this.getParseQueryOptions(this.props),d=e||{},h=d.query,m=d.resetQuery,f=d.replaceQuery,v=d.loadMore,b=d.resetPage;h=(0,r.pi)((0,r.pi)({},h),y()(null!=(o=null==(t=null==h?void 0:h.__super)?void 0:t.diff)?o:{},function(e){return void 0===e})),h=a?(0,g.J1H)((0,g.mUA)(h,void 0,!0)):h,p&&(h=(0,g.pa5)(h,u)),i.updateQuery(m?(0,r.pi)((0,r.pi)({},h),this.props.store.pristineQuery):h,a&&l&&l.updateLocation?function(e){return l.updateLocation(e,!0)}:void 0,s,c,f),b&&i.changePage(1),this.lastQuery=i.query,this.getData(void 0,void 0,void 0,null!=v&&v)},t.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},t.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},t.prototype.reloadTarget=function(e,t){},t.prototype.closeTarget=function(e){},t.prototype.updateQuery=function(e){void 0===e&&(e={}),this.props.store},t.prototype.getData=function(e,t,o,n){var i,a,l;return void 0===o&&(o=!1),(0,r.mG)(this,void 0,void 0,function(){var s,c,p,u,d,h,m,y,f,v,b,S,P,T,C,F,w,A,I,O,N;return(0,r.Jh)(this,function(r){switch(r.label){case 0:if(c=(s=this.props).store,p=s.api,u=s.messages,d=s.pageField,h=s.perPageField,m=s.interval,y=s.stopAutoRefreshWhen,f=s.silentPolling,s.syncLocation,v=s.syncResponse2Query,b=s.keepItemSelectionOnPageChange,S=s.stopAutoRefreshWhenModalIsOpen,P=s.pickerMode,s.env,T=s.loadType,C=s.loadDataOnce,F=s.source,w=s.columns,A=s.perPage,!n&&b&&t&&!P&&(c.setSelectedItems([]),c.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=c.query,I=null!=n?n:"more"===T,O=(0,g.nW9)(c.data,c.query),I&&A&&c.changePerPage(A),!(0,g.X1t)(p,O))return[3,2];return[4,c.fetchInitData(p,O,{successMessage:u&&u.fetchSuccess,errorMessage:u&&u.fetchFailed,autoAppend:!0,forceReload:o,loadDataOnce:C,source:F,silent:e,pageField:d,perPageField:h,loadDataMode:I,syncResponse2Query:v,columns:null!=(i=c.columns)?i:w,isTable2:!0})];case 1:return null==(N=r.sent())||!N.ok||!m||this.stopingAutoRefresh||!this.mounted||y&&y&&(0,g.fz_)(y,(0,g.nW9)(c.data,c.query))||S&&(c.dialogOpen||(null==(a=null==c?void 0:c.parentStore)?void 0:a.dialogOpen))||(this.timer=setTimeout(this.getData.bind(this,f,void 0,!0),Math.max(m,1e3))),[3,3];case 2:F&&c.initFromScope(O,F,{columns:null!=(l=c.columns)?l:w}),r.label=3;case 3:return[2,c.data]}})})},t.prototype.handleChangePage=function(e,t){var o,r=this.props,n=r.store,a=r.syncLocation,l=r.env,s=r.pageField,c=r.perPageField,p=r.autoJumpToTopOnPagerChange,u=((o={})[s||"page"]=e,o);if(t&&(u[c||"perPage"]=t),n.updateQuery(u,a&&(null==l?void 0:l.updateLocation)?l.updateLocation:void 0,s,c),n.changePage(e,t),this.getData(),p&&this.control){(0,i.findDOMNode)(this.control).scrollIntoView();var d=window.scrollY;d&&window.scroll(0,d)}},t.prototype.handleSave=function(e,t,o,r,n,i){var a=this,l=this.props,s=l.store,c=l.quickSaveApi,p=l.quickSaveItemApi,u=l.primaryField,d=l.env,h=l.messages,m=l.reload;if(Array.isArray(e)){if(!(0,g.X1t)(c)){d&&d.alert("CRUD quickSaveApi is required");return}var y=(0,g.nW9)(s.data,{rows:e,rowsDiff:t,indexes:o,rowsOrigin:n});e.length&&e[0].hasOwnProperty(u||"id")&&(y.ids=e.map(function(e){return e[u||"id"]}).join(",")),r&&(y.unModifiedItems=r),s.saveRemote(c,y,{successMessage:h&&h.saveFailed,errorMessage:h&&h.saveSuccess}).then(function(){m&&a.reloadTarget((0,g.u22)(m,y),y),a.getData(void 0,void 0,!0)}).catch(function(){})}else{if(!(0,g.X1t)(p)){d&&d.alert("CRUD quickSaveItemApi is required!");return}var f=(0,g.nW9)(s.data,{item:e,modified:t,origin:n}),v=(0,g.nW9)(f,e);s.saveRemote(p,v).then(function(){m&&a.reloadTarget((0,g.u22)(m,f),f),a.getData(void 0,void 0,!0)}).catch(function(){(null==i?void 0:i.resetOnFailed)&&a.control.reset()})}},t.prototype.handleSaveOrder=function(e,t){var o,r,n=this,i=this.props,a=i.store,l=i.saveOrderApi,s=i.orderField,p=i.primaryField,u=i.env,d=i.reload;if(!l){u&&u.alert("CRUD saveOrderApi is required!");return}var h=(0,g.nW9)(a.data),m=[],y=p&&t[0]&&t[0].hasOwnProperty(p);if(y||(h.idMap={}),h.insertAfter={},t.forEach(function(n){if(~e.indexOf(n))if(o){var i=y?o[p]:t.indexOf(o);h.insertAfter[i]=h.insertAfter[i]||[],y||(h.idMap[i]=o),h.insertAfter[i].push(y?n[p]:n)}else m.push(n);else o=n,r=r||n}),r&&m.length){var f=y?r[p]:t.indexOf(r);y||(h.idMap[f]=r),h.insertBefore={},h.insertBefore[f]=m.map(function(e){return y?e[p]:e})}else if(m.length){var v=m[0],b=y?v[p]:t.indexOf(v);y||(h.idMap[b]=v),h.insertAfter[b]=m.slice(1).map(function(e){return y?e[p]:e})}if(s){var S=(a.page-1)*a.perPage||0;t=t.map(function(e,t){var o;return(0,g.ktx)(e,((o={})[s]=S+t+1,o))})}h.rows=t.concat(),y&&(h.ids=t.map(function(e){return e[p]}).join(",")),y&&s&&(h.order=t.map(function(e){return c()(e,[p,s])})),(0,g.X1t)(l,h)&&a.saveRemote(l,h).then(function(){d&&n.reloadTarget((0,g.u22)(d,h),h),n.getData(void 0,void 0,!0)}).catch(function(){})},t.prototype.handleSelect=function(e,t){var o=this.props,r=o.store,n=o.keepItemSelectionOnPageChange,i=o.primaryField,a=o.multiple,l=o.pickerMode,s=o.onSelect,c=e,p=t;if((0,g.RBK)(r.selectedItemsAsArray,c)){if(n&&r.selectedItems.length){var d=r.selectedItems.concat(),h=r.unSelectedItems.concat();e.forEach(function(e){var t=u()(d,function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]});~t?d[t]=e:d.push(e);var o=u()(h,function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]});~o&&h.splice(o,1)}),t.forEach(function(e){var t=u()(h,function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]}),o=u()(d,function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]});~t?h[t]=e:h.push(e),!~t&&~o&&d.splice(o,1)}),c=d,p=h}l&&!1===a&&c.length>1&&p.push.apply(p,c.splice(0,c.length-1)),r.setSelectedItems(c),r.setUnSelectedItems(p),s&&s(c)}},t.prototype.handleQuerySearch=function(e,t){void 0===t&&(t=!1);var o,n=this.props,i=n.store,a=n.syncLocation,l=n.env,s=n.pageField,c=n.perPageField;return i.updateQuery((0,r.pi)((0,r.pi)({},e),((o={})[s||"page"]=1,o)),a&&l&&l.updateLocation?l.updateLocation:void 0,s,c),this.getData(void 0,void 0,t)},t.prototype.reload=function(e,t){return t?this.receive(t):this.getData(void 0,void 0,!0)},t.prototype.receive=function(e){return this.handleQuerySearch(e,!0)},t.prototype.doAction=function(e,t,o){if(void 0===o&&(o=!1),e.actionType&&["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(e.actionType))return this["handle".concat(h()(e.actionType))](t)},t.prototype.handleAction=function(e,t,o,r,n){return(void 0===r&&(r=!1),["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(t.actionType))?this.doAction(t,o,r):this.props.onAction(e,t,o,r,n||this.context)},t.prototype.unSelectItem=function(e,t){var o=this.props.store,r=o.selectedItems.concat(),n=o.unSelectedItems.concat(),i=r.indexOf(e);~i&&n.push.apply(n,r.splice(i,1)),o.setSelectedItems(r),o.setUnSelectedItems(n)},t.prototype.clearSelection=function(){var e=this.props.store,t=e.selectedItems.concat(),o=e.unSelectedItems.concat();e.setSelectedItems([]),e.setUnSelectedItems(o.concat(t))},t.prototype.toggleAllColumns=function(e){var t=this.props.store;t.updateColumns(t.columns.map(function(t){return(0,r.pi)((0,r.pi)({},t),{toggled:e})}))},t.prototype.toggleToggle=function(e){var t=this.props.store,o=t.columns[e].toggled;t.updateColumns(t.columns.map(function(t,n){return(0,r.pi)((0,r.pi)({},t),{toggled:e===n?!o:!1!==t.toggled})}))},t.prototype.handlePullRefresh=function(){return(0,r.mG)(this,void 0,void 0,function(){var e,t;return(0,r.Jh)(this,function(o){switch(o.label){case 0:return[4,(0,(e=this.props).dispatchEvent)("pullRefresh",e.data)];case 1:if(null==(t=o.sent())?void 0:t.prevented)return[2];return this.handleLoadMore(),[2]}})})},t.prototype.renderChild=function(e,t,o){void 0===o&&(o={});var n,i=this.props,a=i.render,l=i.store,s=i.primaryField,c=void 0===s?"id":s,p=l.selectedItems,u=l.unSelectedItems,d=l.items;n=/^filter/.test(e)?(0,g.nW9)((0,g.nW9)(l.filterData,l.getData(this.props.data)),{}):(0,g.nW9)(l.mergedData,{items:d.concat(),selectedItems:p.concat(),unSelectedItems:u.concat(),ids:p.map(function(e){return e.hasOwnProperty(c)?e[c]:null}).filter(function(e){return e}).join(",")});var h={activePage:l.page,lastPage:l.lastPage,perPage:l.perPage,total:l.total,onPageChange:this.handleChangePage,cols:l.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return t.type,a(e,t,(0,r.pi)((0,r.pi)({data:n},o),h))},t.prototype.renderToolbar=function(e,t){var o=this;return t?(t=[].concat(t)).map(function(t,r){return o.renderChild("".concat(e,"/").concat(r),t,{key:r+""})}):null},t.prototype.renderFilter=function(e){var t=this;if(!e||Array.isArray(e)&&0===e.length)return null;var o=Array.isArray(e)?e:(0,g.Kn2)(e)&&null!=e.type?[e]:[];return o.length<1?null:o.map(function(e,o){return t.renderChild("filter/".concat(o),e,(0,r.pi)({key:o+"filter",data:t.props.store.filterData,onSubmit:function(e){return t.handleSearch({query:e,resetPage:!0})},onReset:function(e){var o={};Object.keys(e).forEach(function(e){return o[e]=""}),t.handleSearch({query:o,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},t.props.mobileUI?{columnCount:1,mode:"normal",collapsible:!0,title:{type:"container",body:[{type:"icon",icon:"column-filter",className:"icon mr-2"},e.title||""]}}:{}))})},t.prototype.renderSelection=function(){var e=this,t=this.props,o=t.store,r=t.classnames,i=t.labelField,a=t.labelTpl,l=t.primaryField,s=t.translate,c=t.env;return o.selectedItems.length?n.createElement("div",{className:r("Crud-selection")},n.createElement("div",{className:r("Crud-selectionLabel")},s("CRUD.selected",{total:o.selectedItems.length})),o.selectedItems.map(function(t,o){return n.createElement("div",{key:o,className:r("Crud-value")},n.createElement("span",{"data-tooltip":s("delete"),"data-position":"bottom",className:r("Crud-valueIcon"),onClick:e.unSelectItem.bind(e,t,o)},"\xd7"),n.createElement("span",{className:r("Crud-valueLabel")},a?n.createElement(f.Vt,{html:(0,g.hXT)(a,t),filterHtml:c.filterHtml}):(0,g.E04)(t,i||"label")||(0,g.E04)(t,l||"id")))}),n.createElement("a",{onClick:this.clearSelection.bind(this),className:r("Crud-selectionClear")},s("clear"))):null},t.prototype.transformTable2cards=function(){for(var e,t=this.props,o=t.store,n=t.columns,i=t.card,a=t.mobileMode,l=[],s=a.fieldCount||4,c=[],p="",u=(null!=(e=o.columns)?e:n)||[],d=0;d<u.length;d++){var h=u[d];if(b()(h))if("operation"===h.type)c.push.apply(c,(0,r.ev)([],(0,r.CR)((null==h?void 0:h.buttons)||[]),!1));else if("button"===h.type&&"operation"===h.name)c.push(h);else{if(!h.label&&h.title&&(h.label=h.title),"static-image"===h.type&&!p){p="${".concat(h.name,"}");continue}l.length<s&&("static-image"===h.type&&h.title&&delete h.title,l.push(h))}}return l.length?{columnsCount:1,type:"cards",card:(0,r.pi)((0,r.pi)((0,r.pi)({},i),{body:l,actions:c}),p?{media:{type:"image",url:p,position:"right",className:""},mediaActionPosition:"outside"}:{})}:null},t.prototype.transMobileHeaderToolbar=function(e,t){var o=0,r={},n={},i=null;e.forEach(function(e){!function e(t,a){Array.isArray(t)?t.forEach(function(t){return e(t,a)}):t&&"object"==typeof t&&("button"===t.type?(o++,"新增"===t.label&&(r=t,n=a)):"search-box"===t.type&&(i=t),(t.items||t.body)&&e(t.items||t.body,t))}(e)}),1===o&&r&&(r.label="",r.icon="plus",r.className||(r.className=""),r.className+=" is-fixed-right-bottom",n&&(n.className||(n.className=""),n.className+=" is-fixed-right-bottom-wrapper")),i&&(0===o||1===o&&r)&&P()(this.props.filterSchema)&&t()},t.prototype.render=function(){var e,t=this.props,o=t.columns,i=t.className,a=t.style,s=t.bodyClassName,c=t.filter,p=t.render,u=t.store,d=t.mode,h=void 0===d?"table2":d,g=(t.syncLocation,t.children,t.bulkActions,t.pickerMode),m=t.selectable,y=t.multiple,v=(t.valueField,t.primaryField),b=(t.value,t.hideQuickSaveBtn,t.itemActions),S=t.classnames,P=t.keepItemSelectionOnPageChange,C=t.maxKeepItemSelectionLength,F=t.onEvent,w=(t.onAction,t.popOverContainer),A=t.translate,I=(t.onQuery,t.autoGenerateFilter),O=(t.onSelect,t.autoFillHeight),N=t.showSelection,Q=t.headerToolbar,R=t.footerToolbar,D=(t.columnsTogglable,t.headerToolbarClassName),k=t.footerToolbarClassName,M=t.id,x=t.testIdBuilder,j=t.mobileMode,E=t.mobileUI,L=t.pullRefresh,q=(0,r._T)(t,["columns","className","style","bodyClassName","filter","render","store","mode","syncLocation","children","bulkActions","pickerMode","selectable","multiple","valueField","primaryField","value","hideQuickSaveBtn","itemActions","classnames","keepItemSelectionOnPageChange","maxKeepItemSelectionLength","onEvent","onAction","popOverContainer","translate","onQuery","autoGenerateFilter","onSelect","autoFillHeight","showSelection","headerToolbar","footerToolbar","columnsTogglable","headerToolbarClassName","footerToolbarClassName","id","testIdBuilder","mobileMode","mobileUI","pullRefresh"]),B=!1,W=null;if(j&&E&&h.includes("table")){var U=this.transformTable2cards();"string"==typeof j&&"cards"===j?U&&(W=U):"object"==typeof j&&(W=(0,r.pi)((0,r.pi)((0,r.pi)({},U),j),{card:(0,r.pi)((0,r.pi)({},null==U?void 0:U.card),j.card)})),W&&this.transMobileHeaderToolbar(Q,function(){B=!0}),!W||(null==L?void 0:L.disabled)||(e=(0,r.pi)((0,r.pi)({normalText:A("pullRefresh.crud2NormalText"),pullingText:A("pullRefresh.crud2PullingText"),loosingText:A("pullRefresh.crud2LoosingText")},L),{disabled:!1}))}else e=L;var Z=p("body",(0,r.pi)((0,r.pi)((0,r.pi)({},q),{onEvent:l()(F,function(e,t){return!T.includes(t)}),type:h,columns:h.startsWith("table")?u.columns||o:void 0,id:M}),W),{key:"body",className:S("Crud2-body",s),ref:this.controlRef,autoGenerateFilter:!c&&I,autoFillHeight:O,checkAll:!1,selectable:!!(null!=m?m:g),itemActions:b,multiple:y,columnsTogglable:!1,selected:g||P?u.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:P,maxKeepItemSelectionLength:C,primaryField:v,testIdBuilder:x,items:u.data.items,query:u.query,orderBy:u.query.orderBy,orderDir:u.query.orderDir,popOverContainer:w,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,data:u.mergedData,loading:u.loading,host:this});return n.createElement("div",(0,r.pi)({className:S("Crud2",i,{"is-loading":u.loading,"is-mobile":E,"is-mobile-cards":"cards"===j||(null==W?void 0:W.type)==="cards"}),style:a,"data-id":M,"data-role":"container"},null==x?void 0:x.getTestId()),n.createElement("div",(0,r.pi)({className:S("Crud2-filter")},null==x?void 0:x.getChild("filter").getTestId()),this.renderFilter(c)),n.createElement("div",{className:S("Crud2-toolbar","Crud2-header-toolbar",D,{"is-sticky":B})},this.renderToolbar("headerToolbar",Q)),N&&P&&!1!==y?this.renderSelection():null,E&&e&&!e.disabled?n.createElement(f.I8,(0,r.pi)({},e,{translate:A,onRefresh:this.handlePullRefresh,direction:"up",loading:u.loading,completed:!u.loading&&u.lastPage>0&&u.page>=u.lastPage,completedText:u.total>0?void 0:""}),Z):n.createElement(n.Fragment,null,Z,n.createElement("div",{className:S("Crud2-toolbar","Crud2-footer-toolbar",k)},this.renderToolbar("footerToolbar",R))))},t.propsList=["mode","syncLocation","value","multiple","valueField","pageField","perPageField","hideQuickSaveBtn","autoJumpToTopOnPagerChange","interval","silentPolling","stopAutoRefreshWhen","stopAutoRefreshWhenModalIsOpen","api","headerToolbar","footerToolbar","autoGenerateFilter","syncResponse2Query","keepItemSelectionOnPageChange","source","onChange","onInit","onSaved","onQuery","autoFillHeight","showSelection","headerToolbarClassName","footerToolbarClassName","primaryField","parsePrimitiveQuery"],t.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:"id",parsePrimitiveQuery:!0},(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"getPaginationPerPage",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],t.prototype,"controlRef",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Number,Number]),(0,r.w6)("design:returntype",void 0)],t.prototype,"handleChangePage",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Array,Array]),(0,r.w6)("design:returntype",void 0)],t.prototype,"handleSaveOrder",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Array,Array]),(0,r.w6)("design:returntype",void 0)],t.prototype,"handleSelect",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Boolean]),(0,r.w6)("design:returntype",void 0)],t.prototype,"handleQuerySearch",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Object,Boolean]),(0,r.w6)("design:returntype",void 0)],t.prototype,"doAction",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Object,Object,Boolean,Object]),(0,r.w6)("design:returntype",void 0)],t.prototype,"handleAction",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Boolean]),(0,r.w6)("design:returntype",void 0)],t.prototype,"toggleAllColumns",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Number]),(0,r.w6)("design:returntype",void 0)],t.prototype,"toggleToggle",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",Promise)],t.prototype,"handlePullRefresh",null),(0,r.gn)([g.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,Object,Object]),(0,r.w6)("design:returntype",void 0)],t.prototype,"renderChild",null),t}(n.Component),F=function(e){function t(t,o){var r=e.call(this,t)||this;return o.registerComponent(r),r}return(0,r.ZT)(t,e),t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.context.unRegisterComponent(this)},t.prototype.reload=function(t,o,n){return(0,r.mG)(this,void 0,void 0,function(){var i;return(0,r.Jh)(this,function(r){return(i=this.context,t)?[2,i.reload(o?"".concat(t,"?").concat((0,g.mUA)(o)):t,n)]:[2,e.prototype.reload.call(this,t,o)]})})},t.prototype.receive=function(t,o){return(0,r.mG)(this,void 0,void 0,function(){var n;return(0,r.Jh)(this,function(r){return(n=this.context,o)?[2,n.send(o,t)]:[2,e.prototype.receive.call(this,t)]})})},t.prototype.reloadTarget=function(e,t){this.context.reload(e,t)},t.prototype.closeTarget=function(e){this.context.close(e)},t.contextType=g.ZHe,t=(0,r.gn)([(0,g.Thl)({type:"crud2",storeType:g.qh2.name,isolateScope:!0}),(0,r.w6)("design:paramtypes",[Object,Object])],t)}(C)},2226:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},24465:function(e,t,o){var r=o(5673),n=o(2226),i=o(12557);e.exports=function(e,t){return i(e,n(r(t)))}},12557:function(e,t,o){var r=o(75697),n=o(5673),i=o(32648),a=o(21699);e.exports=function(e,t){if(null==e)return{};var o=r(a(e),function(e){return[e]});return t=n(t),i(e,o,function(e,o){return t(e,o[0])})}}}]);