"use strict";(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["5945"],{89436:function(t,e,a){a.r(e),a.d(e,{DateRangeControlRenderer:()=>d,DateTimeRangeControlRenderer:()=>m,TimeRangeControlRenderer:()=>f,default:()=>l});var n=a(9787),i=a(65758),r=a(47755),o=a(84875),s=a.n(o),u=a(68333),p=a(81415),l=function(t){function e(e){var a=t.call(this,e)||this,n=e.defaultValue,i=e.setPrinstineValue,o=e.delimiter,s=e.format,p=e.valueFormat,l=e.data,d=e.value,m=e.joinValues,f=e.utc;if(n&&d===n){var c="string"==typeof n?n.split(o):n;i(u.Dw.formatValue({startDate:(0,r.kXI)(c[0],l,p||s),endDate:(0,r.kXI)(c[1],l,p||s)},p||s,m,o,f))}return a}return(0,n.ZT)(e,t),e.prototype.componentDidUpdate=function(t){var e=this.props,a=e.defaultValue,n=e.delimiter,i=e.joinValues,o=e.setPrinstineValue,s=e.data,p=e.utc,l=e.format,d=e.valueFormat;if(t.defaultValue!==a){var m="string"==typeof a?a.split(n):a;o(m?u.Dw.formatValue({startDate:(0,r.kXI)(m[0],s,d||l),endDate:(0,r.kXI)(m[1],s,d||l)},d||l,i,n,p):void 0)}},e.prototype.getRef=function(t){for(;t&&t.getWrappedInstance;)t=t.getWrappedInstance();this.dateRef=t},e.prototype.dispatchEvent=function(t){var e=this.props,a=e.dispatchEvent,n=(e.data,e.value);a(t,(0,r.vXk)(this.props,{value:n}))},e.prototype.doAction=function(t,e,a){var n,i,o,s,u=this.props,p=u.resetValue,l=u.formStore,d=u.store,m=u.name;if("clear"===t.actionType){null==(n=this.dateRef)||n.clear();return}if("reset"===t.actionType){var f=null!=(o=(0,r.E04)(null!=(i=null==l?void 0:l.pristine)?i:null==d?void 0:d.pristine,m))?o:p;null==(s=this.dateRef)||s.reset(f)}},e.prototype.setData=function(t){var e=this.props,a=e.data,n=e.delimiter,i=e.valueFormat,o=e.format,s=e.joinValues,p=e.utc,l=e.onChange;if("string"==typeof t){var d="string"==typeof t?t.split(n):t;t=u.Dw.formatValue({startDate:(0,r.kXI)(d[0],a,i||o),endDate:(0,r.kXI)(d[1],a,i||o)},i||o,s,n,p)}l(t)},e.prototype.handleChange=function(t){return(0,n.mG)(this,void 0,void 0,function(){var e,a;return(0,n.Jh)(this,function(n){return a=(e=this.props).dispatchEvent,e.data,a("change",(0,r.vXk)(this.props,{value:t})),this.props.onChange(t),[2]})})},e.prototype.render=function(){var t,e=this,a=this.props,o=a.className,p=(a.style,a.classPrefix),l=(a.defaultValue,a.defaultData,a.minDate),d=a.maxDate,m=a.minDuration,f=a.maxDuration,c=a.data,v=a.format,h=a.valueFormat,g=a.inputFormat,y=a.displayFormat,D=a.env,w=a.mobileUI,C=(0,n._T)(a,["className","style","classPrefix","defaultValue","defaultData","minDate","maxDate","minDuration","maxDuration","data","format","valueFormat","inputFormat","displayFormat","env","mobileUI"]),F=null==(t=this.props)?void 0:t.type;return i.createElement("div",{className:s()("".concat(p,"DateRangeControl"),{"is-date":/date-/.test(F),"is-datetime":/datetime-/.test(F)},o)},i.createElement(u.Dw,(0,n.pi)({},C,{mobileUI:w,classPrefix:p,popOverContainer:w?null==D?void 0:D.getModalContainer:C.popOverContainer||D.getModalContainer,popOverContainerSelector:C.popOverContainerSelector,onRef:this.getRef,data:c,valueFormat:h||v,displayFormat:y||g,minDate:l?(0,r.kXI)(l,c,h||v):void 0,maxDate:d?(0,r.kXI)(d,c,h||v):void 0,minDateRaw:l,maxDateRaw:d,minDuration:m?(0,r.RAA)(m):void 0,maxDuration:f?(0,r.RAA)(f):void 0,onChange:this.handleChange,onFocus:function(){return e.dispatchEvent("focus")},onBlur:function(){return e.dispatchEvent("blur")}})))},e.defaultProps={format:"X",joinValues:!0,delimiter:",",animation:!0},(0,n.gn)([r.NjZ,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object]),(0,n.w6)("design:returntype",void 0)],e.prototype,"getRef",null),(0,n.gn)([r.NjZ,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",void 0)],e.prototype,"dispatchEvent",null),(0,n.gn)([r.NjZ,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object]),(0,n.w6)("design:returntype",Promise)],e.prototype,"handleChange",null),(0,n.gn)([(0,p.i)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[]),(0,n.w6)("design:returntype",void 0)],e.prototype,"render",null),e}(i.Component),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.ZT)(e,t),e.defaultProps=(0,n.pi)({},l.defaultProps),e=(0,n.gn)([(0,r.xJW)({type:"input-date-range"})],e)}(l),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.ZT)(e,t),e.defaultProps=(0,n.pi)((0,n.pi)({},l.defaultProps),{inputFormat:"YYYY-MM-DD HH:mm"}),e=(0,n.gn)([(0,r.xJW)({type:"input-datetime-range",sizeMutable:!1})],e)}(l),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.ZT)(e,t),e.defaultProps=(0,n.pi)((0,n.pi)({},l.defaultProps),{format:"HH:mm",inputFormat:"HH:mm",viewMode:"time",ranges:"",shortcuts:""}),e=(0,n.gn)([(0,r.xJW)({type:"input-time-range",sizeMutable:!1})],e)}(l)}}]);