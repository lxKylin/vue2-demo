"use strict";(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["8981"],{69082:function(t,e,n){n.r(e),n.d(e,{Tpl:()=>l,TplRenderer:()=>u});var s=n(9787),i=n(65758),r=n(47755),o=n(82691),p=n.n(o),a=n(68333),l=function(t){function e(e){var n=t.call(this,e)||this;return n.sn=0,n.state={content:n.getContent()},n.mounted=!0,n}return(0,s.ZT)(e,t),e.prototype.componentDidUpdate=function(t){var e=this;(["tpl","html","text","raw","data","placeholder"].some(function(n){return!Object.is(t[n],e.props[n])})||!Object.is((0,r.v8S)(t),(0,r.v8S)(this.props)))&&this.updateContent()},e.prototype.componentDidMount=function(){this.updateContent()},e.prototype.componentWillUnmount=function(){this.mounted=!1},e.prototype.updateContent=function(){return(0,s.mG)(this,void 0,void 0,function(){var t,e;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return t=++this.sn,[4,this.getAsyncContent()];case 1:if(e=n.sent(),t!==this.sn)return[2];return this.mounted&&this.setState({content:e}),[2]}})})},e.prototype.getContent=function(){var t=this.props,e=t.tpl,n=t.html,s=t.text,i=t.raw,o=t.data,p=t.placeholder,a=(0,r.v8S)(this.props);return i?i:n?(0,r.hXT)(n,o):e?(0,r.hXT)(e,o):s?(0,r.Xvb)((0,r.hXT)(s,o)):null==a||""===a?'<span class="text-muted">'.concat(p,"</span>"):"string"==typeof a?a:JSON.stringify(a)},e.prototype.getAsyncContent=function(){return(0,s.mG)(this,void 0,void 0,function(){var t,e,n,i,o,p,a,l,u;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(e=(t=this.props).tpl,n=t.html,i=t.text,o=t.data,p=t.raw,a=t.placeholder,l=(0,r.v8S)(this.props),!p)return[3,1];return[2,p];case 1:if(!n)return[3,2];return[2,(0,r.uT5)(n,o)];case 2:if(!e)return[3,3];return[2,(0,r.uT5)(e,o)];case 3:if(!i)return[3,5];return u=r.Xvb,[4,(0,r.uT5)(i,o)];case 4:return[2,u.apply(void 0,[s.sent()])];case 5:return[2,null==l||""===l?'<span class="text-muted">'.concat(a,"</span>"):"string"==typeof l?l:JSON.stringify(l)]}})})},e.prototype.getTitle=function(t){if(!this.props.showNativeTitle)return"";var e,n="string"==typeof t?t:"",s=new DOMParser().parseFromString(t,"text/html");return(null==(e=null==s?void 0:s.body)?void 0:e.textContent)&&(n=s.body.textContent),n},e.prototype.handleClick=function(t){var e=this.props;(0,e.dispatchEvent)(t,e.data)},e.prototype.handleMouseEnter=function(t){var e=this.props;(0,e.dispatchEvent)(t,e.data)},e.prototype.handleMouseLeave=function(t){var e=this.props;(0,e.dispatchEvent)(t,e.data)},e.prototype.render=function(){var t,e=this.props,n=e.className,o=e.wrapperComponent,a=e.inline,l=e.classnames,u=e.style,d=e.maxLine,c=e.showNativeTitle,h=e.data,y=e.id,m=e.wrapperCustomStyle,g=e.env,v=e.themeCss,f=e.testIdBuilder,w=this.state.content,C={},T="";return d>0&&(T="max-line",C.WebkitLineClamp=+d),i.createElement(o||(a?"span":"div"),(0,s.pi)({className:l("TplField fr-view",n,(0,r.GwQ)((0,s.pi)((0,s.pi)({},this.props),{name:"baseControlClassName",id:y,themeCss:v})),(0,r.GwQ)((0,s.pi)((0,s.pi)({},this.props),{name:"wrapperCustomStyle",id:y,themeCss:m}))),style:(0,r.uBL)(u,h)},c?{title:this.getTitle(w)}:{},{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},null==(t=null==f?void 0:f.getChild("tpl"))?void 0:t.getTestId()),i.createElement("span",{className:T?l(T):void 0,style:p()(C)?void 0:C,dangerouslySetInnerHTML:{__html:g.filterHtml(w)}}),i.createElement(r.cWM,(0,s.pi)({},this.props,{config:{wrapperCustomStyle:m,id:y,themeCss:v,classNames:[{key:"baseControlClassName"}]},env:g})))},e.defaultProps={inline:!0,placeholder:""},(0,s.gn)([r.NjZ,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[]),(0,s.w6)("design:returntype",Promise)],e.prototype,"updateContent",null),(0,s.gn)([r.NjZ,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[]),(0,s.w6)("design:returntype",void 0)],e.prototype,"getContent",null),(0,s.gn)([r.NjZ,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[]),(0,s.w6)("design:returntype",Promise)],e.prototype,"getAsyncContent",null),(0,s.gn)([r.NjZ,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[String]),(0,s.w6)("design:returntype",void 0)],e.prototype,"getTitle",null),(0,s.gn)([r.NjZ,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object]),(0,s.w6)("design:returntype",void 0)],e.prototype,"handleClick",null),(0,s.gn)([r.NjZ,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object]),(0,s.w6)("design:returntype",void 0)],e.prototype,"handleMouseEnter",null),(0,s.gn)([r.NjZ,(0,s.w6)("design:type",Function),(0,s.w6)("design:paramtypes",[Object]),(0,s.w6)("design:returntype",void 0)],e.prototype,"handleMouseLeave",null),e}(i.Component),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e=(0,s.gn)([(0,r.Thl)({type:"tpl",alias:["html"],name:"tpl"}),a.tx],e)}(l)}}]);