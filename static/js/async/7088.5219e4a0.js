/*! For license information please see 7088.5219e4a0.js.LICENSE.txt */
(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["7088"],{50491:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>d,tinymce:()=>l.a});var o=r(9787),a=r(65758),n=r(36198),l=r.n(n);r(65550),r(34761),r(34476),r(51321),r(76444),r(20194),r(57638),r(81237),r(11593),r(98100),r(19562),r(73875),r(56544),r(68928),r(51954),r(23759),r(92310),r(99150),r(35652),r(44773),r(15782),r(40714),r(82358),r(13086),r(21098),r(17644),r(60263),r(18021),r(31613),r(58785),r(49044);var i=r(47755),s=r(31223),c=r.n(s),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unmounted=!1,t.editorInitialized=!1,t.elementRef=a.createRef(),t}return(0,o.ZT)(t,e),t.prototype.componentDidMount=function(){this.initTiny()},t.prototype.componentDidUpdate=function(e){var t,r=this.props;r.model!==e.model&&r.model!==this.currentContent&&this.editorInitialized&&(null==(t=this.editor)||t.setContent(this.currentContent=r.model||"")),this.editor&&!c()(this.props.config,e.config)&&(this.editor.contentWindow.removeEventListener("unload",this.handleIframeUnload),l().remove(this.editor),this.initTiny())},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.contentWindow.removeEventListener("unload",this.handleIframeUnload),l().remove(this.editor)),this.unmounted=!0},t.prototype.initTiny=function(){return(0,o.mG)(this,void 0,void 0,function(){var e,t,r,a,n=this;return(0,o.Jh)(this,function(i){switch(i.label){case 0:return e=this.props.locale,r=(t=this.props.config||{}).onLoaded,a=(0,o._T)(t,["onLoaded"]),this.config=(0,o.pi)((0,o.pi)({inline:!1,skin:!1,content_css:!1,height:400,language:e&&"zh-CN"!==e?"en":"zh_CN",branding:!1,plugins:["advlist","autolink","autoresize","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","nonbreaking","table","emoticons","template","help","quickbars"],toolbar:"undo redo | blocks | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | preview media | fontfamily fontsize forecolor backcolor emoticons | print help",quickbars_selection_toolbar:"bold italic | link h2 h3 blockquote",quickbars_insert_toolbar:"quickimage quicktable",menu:{file:{title:"File",items:"newdocument restoredraft | preview | print "},edit:{title:"Edit",items:"undo redo | cut copy paste | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontsize align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"code wordcount"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"},help:{title:"Help",items:"help"}},paste_data_images:!0,content_style:".mce-content-body div.mce-resizehandle { background-color: #4099ff; border-color: #4099ff; border-style: solid; border-width: 1px; box-sizing: border-box; height: 10px; position: absolute; width: 10px; z-index: 1298 } .mce-content-body .mce-clonedresizable { cursor: default; opacity: .5; outline: 1px dashed #000; position: absolute; z-index: 10001 }\n[data-mce-bogus] video {display:none;}"},a),{target:this.elementRef.current,readOnly:this.props.disabled,promotion:!1,setup:function(e){n.editor=e,e.on("init",function(t){n.editorInitialized=!0,n.initEditor(t,e)})}}),[4,null==r?void 0:r(l())];case 1:return i.sent(),this.unmounted||l().init(this.config),[2]}})})},t.prototype.handleIframeUnload=function(){var e=this;this.editor.contentWindow.removeEventListener("unload",this.handleIframeUnload),requestAnimationFrame(function(){l().remove(e.editor),e.initTiny()})},t.prototype.initEditor=function(e,t){var r=this,o=this.props,a=o.model,n=o.onModelChange,l=o.outputFormat,i=o.onFocus,s=o.onBlur;t.setContent(this.currentContent=a||""),n&&t.on("change keyup setcontent",function(e){var o=t.getContent({format:l});o!==r.currentContent&&(r.currentContent=o,n(o))}),i&&t.on("focus",i),s&&t.on("blur",s),t.contentWindow.addEventListener("unload",this.handleIframeUnload)},t.prototype.render=function(){return a.createElement("textarea",{ref:this.elementRef})},t.defaultProps={outputFormat:"html"},(0,o.gn)([i.NjZ,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[]),(0,o.w6)("design:returntype",Promise)],t.prototype,"initTiny",null),(0,o.gn)([i.NjZ,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[]),(0,o.w6)("design:returntype",void 0)],t.prototype,"handleIframeUnload",null),t}(a.Component);l().addI18n("zh_CN",{Redo:"重做",Undo:"撤销",Cut:"剪切",Copy:"复制",Paste:"粘贴","Select all":"全选","New document":"新文件",Ok:"确定",Cancel:"取消","Visual aids":"网格线",Bold:"粗体",Italic:"斜体",Underline:"下划线",Strikethrough:"删除线",Superscript:"上标",Subscript:"下标","Clear formatting":"清除格式","Align left":"左边对齐","Align center":"中间对齐","Align right":"右边对齐",Justify:"两端对齐","Bullet list":"项目符号","Numbered list":"编号列表","Decrease indent":"减少缩进","Increase indent":"增加缩进",Close:"关闭",Formats:"格式","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"你的浏览器不支持打开剪贴板，请使用Ctrl+X/C/V等快捷键。",Headers:"标题","Header 1":"标题1","Header 2":"标题2","Header 3":"标题3","Header 4":"标题4","Header 5":"标题5","Header 6":"标题6",Headings:"标题","Heading 1":"标题1","Heading 2":"标题2","Heading 3":"标题3","Heading 4":"标题4","Heading 5":"标题5","Heading 6":"标题6",Preformatted:"预先格式化的",Div:"Div",Pre:"Pre",Code:"代码",Paragraph:"段落",Blockquote:"引文区块",Inline:"文本",Blocks:"基块","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"当前为纯文本粘贴模式，再次点击可以回到普通粘贴模式。",Fonts:"字体","Font Sizes":"字号",Class:"类型","Browse for an image":"浏览图像",OR:"或","Drop an image here":"拖放一张图像至此",Upload:"上传",Block:"块",Align:"对齐",Default:"默认",Circle:"空心圆",Disc:"实心圆",Square:"方块","Lower Alpha":"小写英文字母","Lower Greek":"小写希腊字母","Lower Roman":"小写罗马字母","Upper Alpha":"大写英文字母","Upper Roman":"大写罗马字母","Anchor...":"锚点...",Name:"名称",Id:"标识符","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"标识符应该以字母开头，后跟字母、数字、破折号、点、冒号或下划线。","You have unsaved changes are you sure you want to navigate away?":"你还有文档尚未保存，确定要离开？","Restore last draft":"恢复上次的草稿","Special character...":"特殊字符...","Source code":"源代码","Insert/Edit code sample":"插入/编辑代码示例",Language:"语言","Code sample...":"示例代码...","Color Picker":"选色器",R:"R",G:"G",B:"B","Left to right":"从左到右","Right to left":"从右到左","Emoticons...":"表情符号...","Metadata and Document Properties":"元数据和文档属性",Title:"标题",Keywords:"关键词",Description:"描述",Robots:"机器人",Author:"作者",Encoding:"编码",Fullscreen:"全屏",Action:"操作",Shortcut:"快捷键",Help:"帮助",Address:"地址","Focus to menubar":"移动焦点到菜单栏","Focus to toolbar":"移动焦点到工具栏","Focus to element path":"移动焦点到元素路径","Focus to contextual toolbar":"移动焦点到上下文菜单","Insert link (if link plugin activated)":"插入链接 (如果链接插件已激活)","Save (if save plugin activated)":"保存(如果保存插件已激活)","Find (if searchreplace plugin activated)":"查找(如果查找替换插件已激活)","Plugins installed ({0}):":"已安装插件 ({0}):","Premium plugins:":"优秀插件：","Learn more...":"了解更多...","You are using {0}":"你正在使用 {0}",Plugins:"插件","Handy Shortcuts":"快捷键","Horizontal line":"水平分割线","Insert/edit image":"插入/编辑图片","Image description":"图片描述",Source:"地址",Dimensions:"大小","Constrain proportions":"保持纵横比",General:"普通",Advanced:"高级",Style:"样式","Vertical space":"垂直边距","Horizontal space":"水平边距",Border:"边框","Insert image":"插入图片","Image...":"图片...","Image list":"图片列表","Rotate counterclockwise":"逆时针旋转","Rotate clockwise":"顺时针旋转","Flip vertically":"垂直翻转","Flip horizontally":"水平翻转","Edit image":"编辑图片","Image options":"图片选项","Zoom in":"放大","Zoom out":"缩小",Crop:"裁剪",Resize:"调整大小",Orientation:"方向",Brightness:"亮度",Sharpen:"锐化",Contrast:"对比度","Color levels":"颜色层次",Gamma:"伽马值",Invert:"反转",Apply:"应用",Back:"后退","Insert date/time":"插入日期/时间","Date/time":"日期/时间","Insert/Edit Link":"插入/编辑链接","Insert/edit link":"插入/编辑链接","Text to display":"显示文字",Url:"地址","Open link in...":"链接打开位置...","Current window":"当前窗口",None:"无","New window":"在新窗口打开","Remove link":"删除链接",Anchors:"锚点","Link...":"链接...","Paste or type a link":"粘贴或输入链接","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"你所填写的URL地址为邮件地址，需要加上mailto:前缀吗？","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"你所填写的URL地址属于外部链接，需要加上http://:前缀吗？","Link list":"链接列表","Insert video":"插入视频","Insert/edit video":"插入/编辑视频","Insert/edit media":"插入/编辑媒体","Alternative source":"镜像","Alternative source URL":"替代来源网址","Media poster (Image URL)":"封面(图片地址)","Paste your embed code below:":"将内嵌代码粘贴在下面:",Embed:"内嵌","Media...":"多媒体...","Nonbreaking space":"不间断空格","Page break":"分页符","Paste as text":"粘贴为文本",Preview:"预览","Print...":"打印...",Save:"保存",Find:"查找","Replace with":"替换为",Replace:"替换","Replace all":"全部替换",Previous:"上一个",Next:"下一个","Find and replace...":"查找并替换...","Could not find the specified string.":"未找到搜索内容.","Match case":"区分大小写","Find whole words only":"全字匹配","Spell check":"拼写检查",Ignore:"忽略","Ignore all":"全部忽略",Finish:"完成","Add to Dictionary":"添加到字典","Insert table":"插入表格","Table properties":"表格属性","Delete table":"删除表格",Cell:"单元格",Row:"行",Column:"列","Cell properties":"单元格属性","Merge cells":"合并单元格","Split cell":"拆分单元格","Insert row before":"在上方插入","Insert row after":"在下方插入","Delete row":"删除行","Row properties":"行属性","Cut row":"剪切行","Copy row":"复制行","Paste row before":"粘贴到上方","Paste row after":"粘贴到下方","Insert column before":"在左侧插入","Insert column after":"在右侧插入","Delete column":"删除列",Cols:"列",Rows:"行",Width:"宽",Height:"高","Cell spacing":"单元格外间距","Cell padding":"单元格内边距","Show caption":"显示标题",Left:"左对齐",Center:"居中",Right:"右对齐","Cell type":"单元格类型",Scope:"范围",Alignment:"对齐方式","H Align":"水平对齐","V Align":"垂直对齐",Top:"顶部对齐",Middle:"垂直居中",Bottom:"底部对齐","Header cell":"表头单元格","Row group":"行组","Column group":"列组","Row type":"行类型",Header:"表头",Body:"表体",Footer:"表尾","Border color":"边框颜色","Insert template...":"插入模板...",Templates:"模板",Template:"模板","Text color":"文字颜色","Background color":"背景色","Custom...":"自定义...","Custom color":"自定义颜色","No color":"无","Remove color":"移除颜色","Table of Contents":"内容列表","Show blocks":"显示区块边框","Show invisible characters":"显示不可见字符","Word count":"字数",Count:"计数",Document:"文档",Selection:"选择",Words:"单词","Words: {0}":"字数：{0}","{0} words":"{0} 字",File:"文件",Edit:"编辑",Insert:"插入",View:"视图",Format:"格式",Table:"表格",Tools:"工具","Powered by {0}":"由{0}驱动","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"在编辑区按ALT-F9打开菜单，按ALT-F10打开工具栏，按ALT-0查看帮助","Image title":"图片标题","Border width":"边框宽度","Border style":"边框样式",Error:"错误",Warn:"警告",Valid:"有效","To open the popup, press Shift+Enter":"按Shitf+Enter键打开对话框","Rich Text Area. Press ALT-0 for help.":"编辑区。按Alt+0键打开帮助。","System Font":"系统字体","Failed to upload image: {0}":"图片上传失败: {0}","Failed to load plugin: {0} from url {1}":"插件加载失败: {0} 来自链接 {1}","Failed to load plugin url: {0}":"插件加载失败 链接: {0}","Failed to initialize plugin: {0}":"插件初始化失败: {0}",example:"示例",Search:"搜索",All:"全部",Currency:"货币",Text:"文字",Quotations:"引用",Mathematical:"数学","Extended Latin":"拉丁语扩充",Symbols:"符号",Arrows:"箭头","User Defined":"自定义","dollar sign":"美元符号","currency sign":"货币符号","euro-currency sign":"欧元符号","colon sign":"冒号","cruzeiro sign":"克鲁赛罗币符号","french franc sign":"法郎符号","lira sign":"里拉符号","mill sign":"密尔符号","naira sign":"奈拉符号","peseta sign":"比塞塔符号","rupee sign":"卢比符号","won sign":"韩元符号","new sheqel sign":"新谢克尔符号","dong sign":"越南盾符号","kip sign":"老挝基普符号","tugrik sign":"图格里克符号","drachma sign":"德拉克马符号","german penny symbol":"德国便士符号","peso sign":"比索符号","guarani sign":"瓜拉尼符号","austral sign":"澳元符号","hryvnia sign":"格里夫尼亚符号","cedi sign":"塞地符号","livre tournois sign":"里弗弗尔符号","spesmilo sign":"spesmilo符号","tenge sign":"坚戈符号","indian rupee sign":"印度卢比","turkish lira sign":"土耳其里拉","nordic mark sign":"北欧马克","manat sign":"马纳特符号","ruble sign":"卢布符号","yen character":"日元字样","yuan character":"人民币元字样","yuan character, in hong kong and taiwan":"元字样（港台地区）","yen/yuan character variant one":"元字样（大写）","Loading emoticons...":"加载表情符号...","Could not load emoticons":"不能加载表情符号",People:"人类","Animals and Nature":"动物和自然","Food and Drink":"食物和饮品",Activity:"活动","Travel and Places":"旅游和地点",Objects:"物件",Flags:"旗帜",Characters:"字符","Characters (no spaces)":"字符(无空格)","{0} characters":"{0} 个字符","Error: Form submit field collision.":"错误: 表单提交字段冲突。","Error: No form element found.":"错误: 没有表单控件。",Update:"更新","Color swatch":"颜色样本",Turquoise:"青绿色",Green:"绿色",Blue:"蓝色",Purple:"紫色","Navy Blue":"海军蓝","Dark Turquoise":"深蓝绿色","Dark Green":"深绿色","Medium Blue":"中蓝色","Medium Purple":"中紫色","Midnight Blue":"深蓝色",Yellow:"黄色",Orange:"橙色",Red:"红色","Light Gray":"浅灰色",Gray:"灰色","Dark Yellow":"暗黄色","Dark Orange":"深橙色","Dark Red":"深红色","Medium Gray":"中灰色","Dark Gray":"深灰色","Light Green":"浅绿色","Light Yellow":"浅黄色","Light Red":"浅红色","Light Purple":"浅紫色","Light Blue":"浅蓝色","Dark Purple":"深紫色","Dark Blue":"深蓝色",Black:"黑色",White:"白色","Switch to or from fullscreen mode":"切换全屏模式","Open help dialog":"打开帮助对话框",history:"历史",styles:"样式",formatting:"格式化",alignment:"对齐",indentation:"缩进","permanent pen":"记号笔",comments:"备注","Format Painter":"格式刷","Insert/edit iframe":"插入/编辑框架",Capitalization:"大写",lowercase:"小写",UPPERCASE:"大写","Title Case":"首字母大写","Permanent Pen Properties":"永久笔属性","Permanent pen properties...":"永久笔属性...",Font:"字体",Size:"字号","More...":"更多...","Spellcheck Language":"拼写检查语言","Select...":"选择...",Preferences:"首选项",Yes:"是",No:"否","Keyboard Navigation":"键盘指引",Version:"版本",Anchor:"锚点","Special character":"特殊符号","Code sample":"代码示例",Color:"颜色",Emoticons:"表情","Document properties":"文档属性",Image:"图片","Insert link":"插入链接",Target:"打开方式",Link:"链接",Poster:"封面",Media:"媒体",Print:"打印",Prev:"上一个","Find and replace":"查找和替换","Whole words":"全字匹配",Spellcheck:"拼写检查",Caption:"标题","Insert template":"插入模板"})},88606:function(){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},65550:function(e,t,r){r(88606)},34476:function(){!function(){"use strict";let e;var t=tinymce.util.Tools.resolve("tinymce.ModelManager");let r=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},o=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&r(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},a=e=>t=>o(t)===e,n=e=>t=>typeof t===e,l=e=>t=>e===t,i=a("string"),s=a("object"),c=a("array"),d=l(null),m=n("boolean"),u=l(void 0),g=e=>null==e,p=e=>!g(e),h=n("function"),f=n("number"),y=()=>{},b=(e,t)=>(...r)=>e(t.apply(null,r)),v=(e,t)=>r=>e(t(r)),k=e=>()=>e,w=e=>e,_=(e,t)=>e===t;function x(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}let C=e=>t=>!e(t),S=e=>()=>{throw Error(e)},z=e=>e(),E=k(!1),T=k(!0);class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return p(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);let O=Array.prototype.slice,D=Array.prototype.indexOf,N=Array.prototype.push,M=(e,t)=>D.call(e,t),R=(e,t)=>M(e,t)>-1,B=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},F=(e,t)=>{let r=[];for(let o=0;o<e;o++)r.push(t(o));return r},L=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},I=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},P=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},H=(e,t)=>{let r=[],o=[];for(let a=0,n=e.length;a<n;a++){let n=e[a];(t(n,a)?r:o).push(n)}return{pass:r,fail:o}},j=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},V=(e,t,r)=>(P(e,(e,o)=>{r=t(r,e,o)}),r),U=(e,t,r)=>(I(e,(e,o)=>{r=t(r,e,o)}),r),Z=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return A.some(a);if(r(a,o))break}return A.none()},q=(e,t)=>Z(e,t,E),W=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return A.some(r);return A.none()},$=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!c(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);N.apply(t,e[r])}return t},G=(e,t)=>$(L(e,t)),K=(e,t)=>{for(let r=0,o=e.length;r<o;++r)if(!0!==t(e[r],r))return!1;return!0},Y=e=>{let t=O.call(e,0);return t.reverse(),t},X=(e,t)=>{let r={};for(let o=0,a=e.length;o<a;o++){let a=e[o];r[String(a)]=t(a,o)}return r},J=(e,t)=>{let r=O.call(e,0);return r.sort(t),r},Q=(e,t)=>t>=0&&t<e.length?A.some(e[t]):A.none(),ee=e=>Q(e,0),et=e=>Q(e,e.length-1),er=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return A.none()},eo=Object.keys,ea=Object.hasOwnProperty,en=(e,t)=>{let r=eo(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},el=(e,t)=>ei(e,(e,r)=>({k:r,v:t(e,r)})),ei=(e,t)=>{let r={};return en(e,(e,o)=>{let a=t(e,o);r[a.k]=a.v}),r},es=e=>(t,r)=>{e[r]=t},ec=(e,t,r,o)=>{en(e,(e,a)=>{(t(e,a)?r:o)(e,a)})},ed=(e,t)=>{let r={};return ec(e,t,es(r),y),r},em=(e,t)=>{let r=[];return en(e,(e,o)=>{r.push(t(e,o))}),r},eu=e=>em(e,w),eg=(e,t)=>ep(e,t)?A.from(e[t]):A.none(),ep=(e,t)=>ea.call(e,t),eh=(e,t)=>ep(e,t)&&void 0!==e[t]&&null!==e[t],ef=e=>{for(let t in e)if(ea.call(e,t))return!1;return!0},ey="undefined"!=typeof window?window:Function("return this;")(),eb=(e,t)=>{let r=null!=t?t:ey;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},ev=(e,t)=>eb(e.split("."),t),ek=(e,t)=>ev(e,t),ew=(e,t)=>{let r=ek(e,t);if(null==r)throw Error(e+" not available on this browser");return r},e_=Object.getPrototypeOf,ex=e=>ew("HTMLElement",e),eC=e=>{let t=ev("ownerDocument.defaultView",e);return s(e)&&(ex(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(e_(e).constructor.name))},eS=e=>e.dom.nodeName.toLowerCase(),ez=e=>e.dom.nodeType,eE=e=>t=>ez(t)===e,eT=e=>8===ez(e)||"#comment"===eS(e),eA=e=>eO(e)&&eC(e.dom),eO=eE(1),eD=eE(3),eN=eE(9),eM=eE(11),eR=e=>t=>eO(t)&&eS(t)===e,eB=(e,t,r)=>{if(i(r)||m(r)||f(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},eF=(e,t,r)=>{eB(e.dom,t,r)},eL=(e,t)=>{let r=e.dom;en(t,(e,t)=>{eB(r,t,e)})},eI=(e,t)=>{en(t,(t,r)=>{t.fold(()=>{ej(e,r)},t=>{eB(e.dom,r,t)})})},eP=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},eH=(e,t)=>A.from(eP(e,t)),ej=(e,t)=>{e.dom.removeAttribute(t)},eV=e=>U(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),eU=e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}},eZ={fromTag:(e,t)=>eU((t||document).createElement(e)),fromText:(e,t)=>eU((t||document).createTextNode(e)),fromDom:eU,fromPoint:(e,t,r)=>A.from(e.dom.elementFromPoint(t,r)).map(eU)},eq=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);else throw Error("Browser lacks native selectors")},eW=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,e$=(e,t)=>{let r=void 0===t?document:t.dom;return eW(r)?[]:L(r.querySelectorAll(e),eZ.fromDom)},eG=(e,t)=>{let r=void 0===t?document:t.dom;return eW(r)?A.none():A.from(r.querySelector(e)).map(eZ.fromDom)},eK=(e,t)=>e.dom===t.dom,eY=(e,t)=>{let r=e.dom,o=t.dom;return r!==o&&r.contains(o)},eX=e=>eZ.fromDom(e.dom.ownerDocument),eJ=e=>eN(e)?e:eX(e),eQ=e=>eZ.fromDom(eJ(e).dom.documentElement),e1=e=>A.from(e.dom.parentNode).map(eZ.fromDom),e0=e=>A.from(e.dom.parentElement).map(eZ.fromDom),e2=(e,t)=>{let r=h(t)?t:E,o=e.dom,a=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){let e=o.parentNode,t=eZ.fromDom(e);if(a.push(t),!0===r(t))break;o=e}return a},e4=e=>A.from(e.dom.previousSibling).map(eZ.fromDom),e3=e=>A.from(e.dom.nextSibling).map(eZ.fromDom),e5=e=>L(e.dom.childNodes,eZ.fromDom),e6=(e,t)=>{let r=e.dom.childNodes;return A.from(r[t]).map(eZ.fromDom)},e8=e=>e6(e,0),e7=(e,t)=>{e1(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},e9=(e,t)=>{e3(e).fold(()=>{e1(e).each(e=>{tt(e,t)})},e=>{e7(e,t)})},te=(e,t)=>{e8(e).fold(()=>{tt(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},tt=(e,t)=>{e.dom.appendChild(t.dom)},tr=(e,t,r)=>{e6(e,r).fold(()=>{tt(e,t)},e=>{e7(e,t)})},to=(e,t)=>{e7(e,t),tt(t,e)},ta=(e,t)=>{I(t,(r,o)=>{e9(0===o?e:t[o-1],r)})},tn=(e,t)=>{I(t,t=>{tt(e,t)})},tl=e=>{e.dom.textContent="",I(e5(e),e=>{ti(e)})},ti=e=>{let t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ts=e=>{let t=e5(e);t.length>0&&ta(e,t),ti(e)},tc=(e,t)=>eZ.fromDom(e.dom.cloneNode(t)),td=e=>tc(e,!1),tm=e=>tc(e,!0),tu=(e,t)=>{let r=eZ.fromTag(t);return eL(r,eV(e)),r},tg=(e,t)=>{let r=tu(e,t);return tn(r,e5(tm(e))),r},tp=(e,t)=>{let r=tu(e,t);return e9(e,r),tn(r,e5(e)),ti(e),r},th=["tfoot","thead","tbody","colgroup"],tf=e=>R(th,e),ty=(e,t)=>({rows:e,columns:t}),tb=(e,t)=>({row:e,column:t}),tv=(e,t,r)=>({element:e,rowspan:t,colspan:r}),tk=(e,t,r,o)=>({element:e,rowspan:t,colspan:r,isNew:o}),tw=(e,t,r,o,a,n)=>({element:e,rowspan:t,colspan:r,row:o,column:a,isLocked:n}),t_=(e,t,r)=>({element:e,cells:t,section:r}),tx=(e,t,r,o)=>({element:e,cells:t,section:r,isNew:o}),tC=(e,t,r)=>({element:e,isNew:t,isLocked:r}),tS=(e,t,r,o)=>({element:e,cells:t,section:r,isNew:o}),tz=(e,t,r,o)=>({startRow:e,startCol:t,finishRow:r,finishCol:o}),tE=(e,t,r)=>({element:e,colspan:t,column:r}),tT=(e,t)=>({element:e,columns:t}),tA=e=>eM(e)&&p(e.dom.host),tO=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),tD=k(tO),tN=tO?e=>eZ.fromDom(e.dom.getRootNode()):eJ,tM=e=>{let t=tN(e);return tA(t)?A.some(t):A.none()},tR=e=>eZ.fromDom(e.dom.host),tB=e=>{if(tD()&&p(e.target)){let t=eZ.fromDom(e.target);if(eO(t)&&tF(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return ee(t)}}return A.from(e.target)},tF=e=>p(e.dom.shadowRoot),tL=e=>{let t=eD(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return tM(eZ.fromDom(t)).fold(()=>r.body.contains(t),v(tL,tR))},tI=()=>tP(eZ.fromDom(document)),tP=e=>{let t=e.dom.body;if(null==t)throw Error("Body is not available yet");return eZ.fromDom(t)},tH=(e,t,r)=>j(e2(e,r),t),tj=(e,t)=>j(e5(e),t),tV=(e,t)=>{let r=[];return I(e5(e),e=>{t(e)&&(r=r.concat([e])),r=r.concat(tV(e,t))}),r},tU=(e,t,r)=>tH(e,e=>eq(e,t),r),tZ=(e,t)=>tj(e,e=>eq(e,t)),tq=(e,t)=>e$(t,e);var tW=(e,t,r,o,a)=>e(r,o)?A.some(r):h(a)&&a(r)?A.none():t(r,o,a);let t$=(e,t,r)=>{let o=e.dom,a=h(r)?r:E;for(;o.parentNode;){o=o.parentNode;let e=eZ.fromDom(o);if(t(e))return A.some(e);if(a(e))break}return A.none()},tG=(e,t,r)=>tW((e,t)=>t(e),t$,e,t,r),tK=(e,t)=>q(e.dom.childNodes,e=>t(eZ.fromDom(e))).map(eZ.fromDom),tY=(e,t)=>{let r=e=>{for(let o=0;o<e.childNodes.length;o++){let a=eZ.fromDom(e.childNodes[o]);if(t(a))return A.some(a);let n=r(e.childNodes[o]);if(n.isSome())return n}return A.none()};return r(e.dom)},tX=(e,t,r)=>t$(e,e=>eq(e,t),r),tJ=(e,t)=>tK(e,e=>eq(e,t)),tQ=(e,t)=>eG(t,e),t1=(e,t,r)=>tW((e,t)=>eq(e,t),tX,e,t,r),t0=(e,t,r=_)=>e.exists(e=>r(e,t)),t2=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},t4=(e,t)=>null!=e?t(e):A.none(),t3=(e,t)=>e?A.some(t):A.none(),t5=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,t6=(e,t,r=0,o)=>{let a=e.indexOf(t,r);return -1!==a&&(!!u(o)||a+t.length<=o)},t8=(e,t)=>t5(e,t,0),t7=(e,t)=>t5(e,t,e.length-t.length),t9=(e=/^\s+|\s+$/g,t=>t.replace(e,"")),re=e=>e.length>0,rt=e=>{let t=parseFloat(e);return isNaN(t)?A.none():A.some(t)},rr=e=>void 0!==e.style&&h(e.style.getPropertyValue),ro=(e,t,r)=>{if(!i(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);rr(e)&&e.style.setProperty(t,r)},ra=(e,t)=>{rr(e)&&e.style.removeProperty(t)},rn=(e,t,r)=>{ro(e.dom,t,r)},rl=(e,t)=>{let r=e.dom;en(t,(e,t)=>{ro(r,t,e)})},ri=(e,t)=>{let r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||tL(e)?o:rs(r,t)},rs=(e,t)=>rr(e)?e.style.getPropertyValue(t):"",rc=(e,t)=>{let r=rs(e.dom,t);return A.from(r).filter(e=>e.length>0)},rd=(e,t)=>{ra(e.dom,t),t0(eH(e,"style").map(t9),"")&&ej(e,"style")},rm=(e,t)=>{let r=e.dom,o=t.dom;rr(r)&&rr(o)&&(o.style.cssText=r.style.cssText)},ru=(e,t,r=0)=>eH(e,t).map(e=>parseInt(e,10)).getOr(r),rg=(e,t)=>ru(e,t,1),rp=e=>eR("col")(e)?ru(e,"span",1)>1:rg(e,"colspan")>1,rh=e=>rg(e,"rowspan")>1,rf=(e,t)=>parseInt(ri(e,t),10),ry=k(10),rb=k(10),rv=(e,t)=>rk(e,t,T),rk=(e,t,r)=>G(e5(e),e=>eq(e,t)?r(e)?[e]:[]:rk(e,t,r)),rw=(e,t,r=E)=>r(t)?A.none():R(e,eS(t))?A.some(t):tX(t,e.join(","),e=>eq(e,"table")||r(e)),r_=(e,t)=>rw(["td","th"],e,t),rx=e=>rv(e,"th,td"),rC=e=>eq(e,"colgroup")?tZ(e,"col"):G(rE(e),e=>tZ(e,"col")),rS=(e,t)=>t1(e,"table",t),rz=e=>rv(e,"tr"),rE=e=>rS(e).fold(k([]),e=>tZ(e,"colgroup")),rT=(e,t)=>L(e,e=>{if("colgroup"===eS(e)){let t=L(rC(e),e=>{let t=ru(e,"span",1);return tv(e,1,t)});return t_(e,t,"colgroup")}{let r=L(rx(e),e=>{let t=ru(e,"rowspan",1),r=ru(e,"colspan",1);return tv(e,t,r)});return t_(e,r,t(e))}}),rA=e=>e1(e).map(e=>{let t=eS(e);return tf(t)?t:"tbody"}).getOr("tbody"),rO=e=>{let t=rz(e);return rT([...rE(e),...t],rA)},rD=(e,t)=>rT(e,()=>t),rN=e=>{let t,r=!1;return(...o)=>(r||(r=!0,t=e.apply(null,o)),t)},rM=(e,t,r,o)=>{let a=e.isiOS()&&!0===/ipad/i.test(r),n=e.isiOS()&&!a,l=e.isiOS()||e.isAndroid(),i=l||o("(pointer:coarse)"),s=a||!n&&l&&o("(min-device-width:768px)"),c=n||l&&!s,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r);return{isiPad:k(a),isiPhone:k(n),isTablet:k(s),isPhone:k(c),isTouch:k(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:k(d),isDesktop:k(!c&&!s&&!d)}},rR=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r];if(o.test(t))return o}},rB=(e,t)=>{let r=rR(e,t);if(!r)return{major:0,minor:0};let o=e=>Number(t.replace(r,"$"+e));return rL(o(1),o(2))},rF=()=>rL(0,0),rL=(e,t)=>({major:e,minor:t}),rI=(e,t)=>{let r=String(t).toLowerCase();return 0===e.length?rF():rB(e,r)},rP=(e,t)=>er(t.brands,t=>{let r=t.brand.toLowerCase();return q(e,e=>{var t;return r===(null==(t=e.brand)?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:rL(parseInt(t.version,10),0)}))}),rH=(e,t)=>{let r=String(t).toLowerCase();return q(e,e=>e.search(r))},rj=(e,t)=>rH(e,t).map(e=>{let r=rI(e.versionRegexes,t);return{current:e.name,version:r}}),rV=(e,t)=>rH(e,t).map(e=>{let r=rI(e.versionRegexes,t);return{current:e.name,version:r}}),rU=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rZ=e=>t=>t6(t,e),rq=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>t6(e,"edge/")&&t6(e,"chrome")&&t6(e,"safari")&&t6(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rU],search:e=>t6(e,"chrome")&&!t6(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>t6(e,"msie")||t6(e,"trident")},{name:"Opera",versionRegexes:[rU,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rZ("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rZ("firefox")},{name:"Safari",versionRegexes:[rU,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(t6(e,"safari")||t6(e,"mobile/"))&&t6(e,"applewebkit")}],rW=[{name:"Windows",search:rZ("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>t6(e,"iphone")||t6(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rZ("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rZ("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rZ("linux"),versionRegexes:[]},{name:"Solaris",search:rZ("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rZ("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rZ("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],r$={browsers:k(rq),oses:k(rW)},rG="Edge",rK="Chromium",rY="Opera",rX="Firefox",rJ="Safari",rQ=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isEdge:o(rG),isChromium:o(rK),isIE:o("IE"),isOpera:o(rY),isFirefox:o(rX),isSafari:o(rJ)}},r1={unknown:()=>rQ({current:void 0,version:rF()}),nu:rQ,edge:k(rG),chromium:k(rK),ie:k("IE"),opera:k(rY),firefox:k(rX),safari:k(rJ)},r0="Windows",r2="Android",r4="Linux",r3="macOS",r5="Solaris",r6="FreeBSD",r8="ChromeOS",r7=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isWindows:o(r0),isiOS:o("iOS"),isAndroid:o(r2),isMacOS:o(r3),isLinux:o(r4),isSolaris:o(r5),isFreeBSD:o(r6),isChromeOS:o(r8)}},r9={unknown:()=>r7({current:void 0,version:rF()}),nu:r7,windows:k(r0),ios:k("iOS"),android:k(r2),linux:k(r4),macos:k(r3),solaris:k(r5),freebsd:k(r6),chromeos:k(r8)},oe=(e,t,r)=>{let o=r$.browsers(),a=r$.oses(),n=t.bind(e=>rP(o,e)).orThunk(()=>rj(o,e)).fold(r1.unknown,r1.nu),l=rV(a,e).fold(r9.unknown,r9.nu),i=rM(l,n,e,r);return{browser:n,os:l,deviceType:i}},ot=e=>window.matchMedia(e).matches,or=rN(()=>oe(navigator.userAgent,A.from(navigator.userAgentData),ot)),oo=()=>or(),oa=(e,t)=>{let r=r=>{let o=t(r);return o<=0||null===o?parseFloat(ri(r,e))||0:o},o=(e,t)=>U(t,(t,r)=>{let o=ri(e,r),a=void 0===o?0:parseInt(o,10);return isNaN(a)?t:t+a},0);return{set:(t,r)=>{if(!f(r)&&!r.match(/^[0-9]+$/))throw Error(e+".set accepts only positive integer values. Value was "+r);let o=t.dom;rr(o)&&(o.style[e]=r+"px")},get:r,getOuter:r,aggregate:o,max:(e,t,r)=>{let a=o(e,r);return t>a?t-a:0}}},on=(e,t)=>rt(e).getOr(t),ol=(e,t,r)=>on(ri(e,t),r),oi=(e,t,r,o)=>{let a=ol(e,`padding-${r}`,0),n=ol(e,`padding-${o}`,0);return t-a-n-ol(e,`border-${r}-width`,0)-ol(e,`border-${o}-width`,0)},os=(e,t)=>{let r=e.dom,o=r.getBoundingClientRect().width||r.offsetWidth;return"border-box"===t?o:oi(e,o,"left","right")},oc=oa("width",e=>e.dom.offsetWidth),od=e=>oc.get(e),om=e=>oc.getOuter(e),ou=e=>os(e,"content-box"),og=e=>ol(e,"width",e.dom.offsetWidth),op=(e,t,r)=>{let o=e.cells,a=o.slice(0,t),n=o.slice(t);return oy(e,a.concat(r).concat(n))},oh=(e,t,r)=>op(e,t,[r]),of=(e,t,r)=>{e.cells[t]=r},oy=(e,t)=>tS(e.element,t,e.section,e.isNew),ob=(e,t)=>{let r=L(e.cells,t);return tS(e.element,r,e.section,e.isNew)},ov=(e,t)=>e.cells[t],ok=(e,t)=>ov(e,t).element,ow=e=>e.cells.length,o_=e=>{let t=H(e,e=>"colgroup"===e.section);return{rows:t.fail,cols:t.pass}},ox=(e,t,r)=>{let o=L(e.cells,r);return tS(t(e.element),o,e.section,!0)},oC="data-snooker-locked-cols",oS=e=>eH(e,oC).bind(e=>A.from(e.match(/\d+/g))).map(e=>X(e,T)),oz=e=>J(em(U(o_(e).rows,(e,t)=>(I(t.cells,(t,r)=>{t.isLocked&&(e[r]=!0)}),e),{}),(e,t)=>parseInt(t,10))),oE=(e,t)=>e+","+t,oT=(e,t)=>j(G(e.all,e=>e.cells),t),oA=e=>{let t={},r=0;return I(e.cells,e=>{let o=e.colspan;F(o,a=>{let n=r+a;t[n]=tE(e.element,o,n)}),r+=o}),t},oO=e=>{let t={},r=[],o=ee(e).map(e=>e.element).bind(rS).bind(oS).getOr({}),a=0,n=0,l=0,{pass:i,fail:s}=H(e,e=>"colgroup"===e.section);I(s,e=>{let i=[];I(e.cells,e=>{let r=0;for(;void 0!==t[oE(l,r)];)r++;let a=eh(o,r.toString()),s=tw(e.element,e.rowspan,e.colspan,l,r,a);for(let o=0;o<e.colspan;o++)for(let a=0;a<e.rowspan;a++){let e=r+o;t[oE(l+a,e)]=s,n=Math.max(n,e+1)}i.push(s)}),a++,r.push(t_(e.element,i,e.section)),l++});let{columns:c,colgroups:d}=et(i).map(e=>{let t=oA(e);return{colgroups:[tT(e.element,eu(t))],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ty(a,n),access:t,all:r,columns:c,colgroups:d}},oD={fromTable:e=>oO(rO(e)),generate:oO,getAt:(e,t,r)=>A.from(e.access[oE(t,r)]),findItem:(e,t,r)=>{let o=oT(e,e=>r(t,e.element));return o.length>0?A.some(o[0]):A.none()},filterItems:oT,justCells:e=>G(e.all,e=>e.cells),justColumns:e=>eu(e.columns),hasColumns:e=>eo(e.columns).length>0,getColumnAt:(e,t)=>A.from(e.columns[t])},oN=(e,t=T)=>{let r=e.grid,o=F(r.columns,w),a=F(r.rows,w);return L(o,r=>oM(()=>G(a,t=>oD.getAt(e,t,r).filter(e=>e.column===r).toArray()),e=>1===e.colspan&&t(e.element),()=>oD.getAt(e,0,r)))},oM=(e,t,r)=>{let o=e();return q(o,t).orThunk(()=>A.from(o[0]).orThunk(r)).map(e=>e.element)},oR=e=>{let t=e.grid,r=F(t.rows,w),o=F(t.columns,w);return L(r,t=>oM(()=>G(o,r=>oD.getAt(e,t,r).filter(e=>e.row===t).fold(k([]),e=>[e])),e=>1===e.rowspan,()=>oD.getAt(e,t,0)))},oB=(e,t)=>{if(t<0||t>=e.length-1)return A.none();let r=e[t].fold(()=>er(Y(e.slice(0,t)),(e,t)=>e.map(e=>({value:e,delta:t+1}))),e=>A.some({value:e,delta:0})),o=e[t+1].fold(()=>er(e.slice(t+1),(e,t)=>e.map(e=>({value:e,delta:t+1}))),e=>A.some({value:e,delta:1}));return r.bind(e=>o.map(t=>{let r=t.delta+e.delta;return Math.abs(t.value-e.value)/r}))},oF=(e,t)=>r=>"rtl"===oL(r)?t:e,oL=e=>"rtl"===ri(e,"direction")?"rtl":"ltr",oI=oa("height",e=>{let t=e.dom;return tL(e)?t.getBoundingClientRect().height:t.offsetHeight}),oP=e=>oI.get(e),oH=e=>oI.getOuter(e),oj=e=>ol(e,"height",e.dom.offsetHeight),oV=(e,t)=>({left:e,top:t,translate:(r,o)=>oV(e+r,t+o)}),oU=e=>{let t=e.getBoundingClientRect();return oV(t.left,t.top)},oZ=(e,t)=>void 0!==e?e:void 0!==t?t:0,oq=e=>{let t=e.dom.ownerDocument,r=t.body,o=t.defaultView,a=t.documentElement;if(r===e.dom)return oV(r.offsetLeft,r.offsetTop);let n=oZ(null==o?void 0:o.pageYOffset,a.scrollTop),l=oZ(null==o?void 0:o.pageXOffset,a.scrollLeft),i=oZ(a.clientTop,r.clientTop),s=oZ(a.clientLeft,r.clientLeft);return oW(e).translate(l-s,n-i)},oW=e=>{let t=e.dom,r=t.ownerDocument.body;return r===t?oV(r.offsetLeft,r.offsetTop):tL(e)?oU(t):oV(0,0)},o$=(e,t)=>({row:e,y:t}),oG=(e,t)=>({col:e,x:t}),oK=e=>oq(e).left+om(e),oY=e=>oq(e).left,oX=(e,t)=>oG(e,oY(t)),oJ=(e,t)=>oG(e,oK(t)),oQ=e=>oq(e).top,o1=(e,t)=>o$(e,oQ(t)),o0=(e,t)=>o$(e,oQ(t)+oH(t)),o2=(e,t,r)=>{if(0===r.length)return[];let o=L(r.slice(1),(t,r)=>t.map(t=>e(r,t))),a=r[r.length-1].map(e=>t(r.length-1,e));return o.concat([a])},o4={delta:w,positions:e=>o2(o1,o0,e),edge:oQ},o3=oF({delta:w,edge:oY,positions:e=>o2(oX,oJ,e)},{delta:e=>-e,edge:oK,positions:e=>o2(oJ,oX,e)}),o5={delta:(e,t)=>o3(t).delta(e,t),positions:(e,t)=>o3(t).positions(e,t),edge:e=>o3(e).edge(e)},o6={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},o8=(()=>{let e="[0-9]+",t="[eE][+-]?"+e,r=e=>`(?:${e})?`,o=["Infinity",e+"\\."+r(e)+r(t),"\\."+e+r(t),e+r(t)].join("|"),a=`[+-]?(?:${o})`;return RegExp(`^(${a})(.*)$`)})(),o7=(e,t)=>B(t,t=>B(o6[t],t=>e===t)),o9=(e,t)=>A.from(o8.exec(e)).bind(e=>{let r=Number(e[1]),o=e[2];return o7(o,t)?A.some({value:r,unit:o}):A.none()}),ae=/(\d+(\.\d+)?)%/,at=/(\d+(\.\d+)?)px|em/,ar=eR("col"),ao=(e,t,r)=>{let o=e0(e).getOrThunk(()=>tP(eX(e)));return t(e)/r(o)*100},aa=(e,t)=>{rn(e,"width",t+"px")},an=(e,t)=>{rn(e,"width",t+"%")},al=(e,t)=>{rn(e,"height",t+"px")},ai=e=>oj(e)+"px",as=(e,t,r,o)=>{let a=rS(e).map(e=>Math.floor(t/100*r(e))).getOr(t);return o(e,a),a},ac=(e,t,r,o)=>{let a=parseFloat(e);return t7(e,"%")&&"table"!==eS(t)?as(t,a,r,o):a},ad=e=>{let t=ai(e);return t?ac(t,e,oP,al):oP(e)},am=(e,t,r)=>r(e)/rg(e,t),au=(e,t)=>rc(e,t).orThunk(()=>eH(e,t).map(e=>e+"px")),ag=e=>au(e,"width"),ap=e=>au(e,"height"),ah=e=>ao(e,od,ou),af=e=>ar(e)?od(e):og(e),ay=e=>am(e,"rowspan",ad),ab=e=>ag(e).bind(e=>o9(e,["fixed","relative","empty"])),av=(e,t,r)=>{rn(e,"width",t+r)},ak=e=>od(e)+"px",aw=e=>ao(e,od,ou)+"%",a_=k(ae),ax=eR("col"),aC=e=>ag(e).getOrThunk(()=>af(e)+"px"),aS=e=>ap(e).getOrThunk(()=>ay(e)+"px"),az=e=>L(oD.justColumns(e),e=>A.from(e.element)),aE=e=>{let t=oo().browser,r=t.isChromium()||t.isFirefox();return!ax(e)||r},aT=(e,t,r,o,a,n)=>e.filter(o).fold(()=>n(oB(r,t)),e=>a(e)),aA=(e,t,r,o)=>{let a=oN(e),n=oD.hasColumns(e)?az(e):a,l=[A.some(o5.edge(t))].concat(L(o5.positions(a,t),e=>e.map(e=>e.x))),i=C(rp);return L(n,(e,t)=>aT(e,t,l,i,e=>aE(e)?r(e):aT(t4(a[t],w),t,l,i,e=>o(A.some(od(e))),o),o))},aO=e=>e.map(e=>e+"px").getOr(""),aD=(e,t)=>aA(e,t,aC,aO),aN=(e,t,r)=>aA(e,t,ah,e=>e.fold(()=>r.minCellWidth(),e=>e/r.pixelWidth()*100)),aM=(e,t,r)=>aA(e,t,af,e=>e.getOrThunk(r.minCellWidth)),aR=(e,t,r,o,a)=>{let n=oR(e),l=[A.some(r.edge(t))].concat(L(r.positions(n,t),e=>e.map(e=>e.y)));return L(n,(e,t)=>aT(e,t,l,C(rh),o,a))},aB=(e,t,r)=>aR(e,t,r,ay,e=>e.getOrThunk(rb)),aF=(e,t,r)=>aR(e,t,r,aS,aO),aL=(e,t)=>()=>tL(e)?t(e):parseFloat(rc(e,"width").getOr("0")),aI=e=>{let t=aL(e,od),r=k(0);return{width:t,pixelWidth:t,getWidths:(t,r)=>aM(t,e,r),getCellDelta:r,singleColumnWidth:k([0]),minCellWidth:r,setElementWidth:y,adjustTableWidth:y,isRelative:!0,label:"none"}},aP=e=>{let t=aL(e,e=>parseFloat(aw(e))),r=aL(e,od);return{width:t,pixelWidth:r,getWidths:(t,r)=>aN(t,e,r),getCellDelta:e=>e/r()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>ry()/r()*100,setElementWidth:an,adjustTableWidth:r=>{let o=t();an(e,o+r/100*o)},isRelative:!0,label:"percent"}},aH=e=>{let t=aL(e,od);return{width:t,pixelWidth:t,getWidths:(t,r)=>aM(t,e,r),getCellDelta:w,singleColumnWidth:(e,t)=>[Math.max(ry(),e+t)-e],minCellWidth:ry,setElementWidth:aa,adjustTableWidth:r=>{aa(e,t()+r)},isRelative:!1,label:"pixel"}},aj=(e,t)=>null!==a_().exec(t)?aP(e):aH(e),aV={getTableSize:e=>ag(e).fold(()=>aI(e),t=>aj(e,t)),pixelSize:aH,percentageSize:aP},aU=(e,t,r,o,a,n)=>({minRow:e,minCol:t,maxRow:r,maxCol:o,allCells:a,selectedCells:n}),aZ=(e,t)=>{let r=e.grid.columns,o=e.grid.rows,a=r,n=0,l=0,i=[],s=[];return en(e.access,e=>{if(i.push(e),t(e)){s.push(e);let t=e.row,r=t+e.rowspan-1,i=e.column,c=i+e.colspan-1;t<o?o=t:r>n&&(n=r),i<a?a=i:c>l&&(l=c)}}),aU(o,a,n,l,i,s)},aq=(e,t,r)=>{let o=e[r].element,a=eZ.fromTag("td");tt(a,eZ.fromTag("br")),(t?tt:te)(o,a)},aW=(e,t,r,o)=>{let a=j(e,e=>"colgroup"!==e.section),n=t.grid.columns,l=t.grid.rows;for(let e=0;e<l;e++){let l=!1;for(let i=0;i<n;i++)e<r.minRow||e>r.maxRow||i<r.minCol||i>r.maxCol||(oD.getAt(t,e,i).filter(o).isNone()?aq(a,l,e):l=!0)}},a$=(e,t,r,o)=>{en(r.columns,e=>{(e.column<t.minCol||e.column>t.maxCol)&&ti(e.element)}),I(j(rv(e,"tr"),e=>0===e.dom.childElementCount),ti),(t.minCol===t.maxCol||t.minRow===t.maxRow)&&I(rv(e,"th,td"),e=>{ej(e,"rowspan"),ej(e,"colspan")}),ej(e,oC),ej(e,"data-snooker-col-series"),aV.getTableSize(e).adjustTableWidth(o)},aG=(e,t,r,o)=>{if(0===o.minCol&&t.grid.columns===o.maxCol+1)return 0;let a=aM(t,e,r),n=U(a,(e,t)=>e+t,0),l=U(a.slice(o.minCol,o.maxCol+1),(e,t)=>e+t,0)/n*r.pixelWidth()-r.pixelWidth();return r.getCellDelta(l)},aK=(e,t)=>{let r=e=>eq(e.element,t),o=tm(e),a=rO(o),n=aV.getTableSize(e),l=oD.generate(a),i=aZ(l,r),s="th:not("+t+"),td:not("+t+")";I(rk(o,"th,td",e=>eq(e,s)),ti),aW(a,l,i,r);let c=oD.fromTable(e),d=aG(e,c,n,i);return a$(o,i,l,d),o},aY=((e,t)=>{let r=t=>e(t)?A.from(t.dom.nodeValue):A.none();return{get:o=>{if(!e(o))throw Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},getOption:r,set:(r,o)=>{if(!e(r))throw Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=o}}})(eD,"text"),aX=e=>aY.get(e),aJ=e=>aY.getOption(e),aQ=(e,t)=>aY.set(e,t),a1=e=>"img"===eS(e)?1:aJ(e).fold(()=>e5(e).length,e=>e.length),a0=e=>aJ(e).filter(e=>0!==e.trim().length||e.indexOf("\xa0")>-1).isSome(),a2=e=>eA(e)&&"false"===eP(e,"contenteditable"),a4=["img","br"],a3=e=>a0(e)||R(a4,eS(e))||a2(e),a5=e=>tY(e,a3),a6=e=>a8(e,a3),a8=(e,t)=>{let r=e=>{let o=e5(e);for(let e=o.length-1;e>=0;e--){let a=o[e];if(t(a))return A.some(a);let n=r(a);if(n.isSome())return n}return A.none()};return r(e)},a7={scope:["row","col"]},a9=e=>()=>{let t=eZ.fromTag("td",e.dom);return tt(t,eZ.fromTag("br",e.dom)),t},ne=e=>()=>eZ.fromTag("col",e.dom),nt=e=>()=>eZ.fromTag("colgroup",e.dom),nr=e=>()=>eZ.fromTag("tr",e.dom),no=(e,t,r)=>{let o=tg(e,t);return en(r,(e,t)=>{null===e?ej(o,t):eF(o,t,e)}),o},na=e=>e,nn=(e,t,r)=>a5(e).map(o=>V(tU(o,r.join(","),t=>eK(t,e)),(e,t)=>{let r=td(t);return tt(e,r),r},t)).getOr(t),nl=(e,t)=>{en(a7,(r,o)=>eH(e,o).filter(e=>R(r,e)).each(e=>eF(t,o,e)))},ni=(e,t,r)=>{let o=(e,t)=>{rm(e.element,t),rd(t,"height"),1!==e.colspan&&rd(t,"width")};return{col:r=>{let a=eZ.fromTag(eS(r.element),t.dom);return o(r,a),e(r.element,a),a},colgroup:nt(t),row:nr(t),cell:a=>{let n=eZ.fromTag(eS(a.element),t.dom),l=r.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]);return tt(l.length>0?nn(a.element,n,l):n,eZ.fromTag("br")),o(a,n),nl(a.element,n),e(a.element,n),n},replace:no,colGap:ne(t),gap:a9(t)}},ns=e=>({col:ne(e),colgroup:nt(e),row:nr(e),cell:a9(e),replace:na,colGap:ne(e),gap:a9(e)}),nc=(e,t)=>{let r=(t||document).createElement("div");return r.innerHTML=e,e5(eZ.fromDom(r))},nd=e=>L(e,eZ.fromDom),nm=e=>t=>t.options.get(e),nu="100%",ng=e=>{var t;let r=e.dom,o=null!=(t=r.getParent(e.selection.getStart(),r.isBlock))?t:e.getBody();return ou(eZ.fromDom(o))+"px"},np=(e,t)=>nz(e)||!nT(e)?t:nS(e)?{...t,width:ng(e)}:{...t,width:nu},nh=(e,t)=>nz(e)||nT(e)?t:nS(e)?{...t,width:ng(e)}:{...t,width:nu},nf=e=>{let t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{let t=R(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{let t=R(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_merge_content_on_paste",{processor:"boolean",default:!0})},ny=e=>A.from(e.options.get("table_clone_elements")),nb=e=>R(e.options.get("object_resizing").split(","),"table"),nv=nm("table_header_type"),nk=nm("table_column_resizing"),nw=e=>"preservetable"===nk(e),n_=e=>"resizetable"===nk(e),nx=nm("table_sizing_mode"),nC=e=>"relative"===nx(e),nS=e=>"fixed"===nx(e),nz=e=>"responsive"===nx(e),nE=nm("table_resize_bars"),nT=nm("table_style_by_css"),nA=nm("table_merge_content_on_paste"),nO=e=>{let t=e.options,r=t.get("table_default_attributes");return t.isSet("table_default_attributes")?r:nh(e,r)},nD=e=>{let t=e.options,r=t.get("table_default_styles");return t.isSet("table_default_styles")?r:np(e,r)},nN=nm("table_use_colgroups"),nM=e=>t1(e,"[contenteditable]"),nR=(e,t=!1)=>tL(e)?e.dom.isContentEditable:nM(e).fold(k(t),e=>"true"===nB(e)),nB=e=>e.dom.contentEditable,nF=e=>eZ.fromDom(e.getBody()),nL=e=>t=>eK(t,nF(e)),nI=e=>{ej(e,"data-mce-style");let t=e=>ej(e,"data-mce-style");I(rx(e),t),I(rC(e),t),I(rz(e),t)},nP=e=>eZ.fromDom(e.selection.getStart()),nH=e=>e.getBoundingClientRect().width,nj=e=>e.getBoundingClientRect().height,nV=(e,t)=>{let r=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return A.from(r).filter(re)},nU=e=>/^(\d+(\.\d+)?)%$/.test(e),nZ=e=>/^(\d+(\.\d+)?)px$/.test(e),nq=e=>tG(e,eR("table")).exists(nR),nW=(e,t)=>{let r=t.column,o=t.column+t.colspan-1,a=t.row,n=t.row+t.rowspan-1;return r<=e.finishCol&&o>=e.startCol&&a<=e.finishRow&&n>=e.startRow},n$=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,nG=(e,t)=>{let r=!0,o=x(n$,t);for(let a=t.startRow;a<=t.finishRow;a++)for(let n=t.startCol;n<=t.finishCol;n++)r=r&&oD.getAt(e,a,n).exists(o);return r?A.some(t):A.none()},nK=(e,t)=>tz(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),nY=(e,t,r)=>{let o=oD.findItem(e,t,eK),a=oD.findItem(e,r,eK);return o.bind(e=>a.map(t=>nK(e,t)))},nX=(e,t,r)=>nY(e,t,r).bind(t=>nG(e,t)),nJ=(e,t,r,o)=>oD.findItem(e,t,eK).bind(t=>{let a=r>0?t.row+t.rowspan-1:t.row,n=o>0?t.column+t.colspan-1:t.column;return oD.getAt(e,a+r,n+o).map(e=>e.element)}),nQ=(e,t,r)=>nY(e,t,r).map(t=>L(oD.filterItems(e,x(nW,t)),e=>e.element)),n1=(e,t)=>oD.findItem(e,t,(e,t)=>eY(t,e)).map(e=>e.element),n0=(e,t,r)=>rS(e).bind(o=>nJ(n5(o),e,t,r)),n2=(e,t,r)=>nQ(n5(e),t,r),n4=(e,t,r,o,a)=>{let n=n5(e),l=eK(e,r)?A.some(t):n1(n,t),i=eK(e,a)?A.some(o):n1(n,o);return l.bind(e=>i.bind(t=>nQ(n,e,t)))},n3=(e,t,r)=>nX(n5(e),t,r),n5=oD.fromTable;var n6=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],n8=()=>({up:k({selector:tX,closest:t1,predicate:t$,all:e2}),down:k({selector:tq,predicate:tV}),styles:k({get:ri,getRaw:rc,set:rn,remove:rd}),attrs:k({get:eP,set:eF,remove:ej,copyTo:(e,t)=>{eL(t,eV(e))}}),insert:k({before:e7,after:e9,afterAll:ta,append:tt,appendAll:tn,prepend:te,wrap:to}),remove:k({unwrap:ts,remove:ti}),create:k({nu:eZ.fromTag,clone:e=>eZ.fromDom(e.dom.cloneNode(!1)),text:eZ.fromText}),query:k({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e4,nextSibling:e3}),property:k({children:e5,name:eS,parent:e1,document:e=>eJ(e).dom,isText:eD,isComment:eT,isElement:eO,isSpecial:e=>R(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],eS(e)),getLanguage:e=>eO(e)?eH(e,"lang"):A.none(),getText:aX,setText:aQ,isBoundary:e=>!!eO(e)&&("body"===eS(e)||R(n6,eS(e))),isEmptyTag:e=>!!eO(e)&&R(["br","img","hr","input"],eS(e)),isNonEditable:e=>eO(e)&&"false"===eP(e,"contenteditable")}),eq:eK,is:eq});let n7=(e,t,r,o)=>o(e,t,r[0],r.slice(1)),n9=(e,t,r,o)=>V(o,(r,o)=>{let a=t(e,o);return le(e,r,a)},t(e,r)),le=(e,t,r)=>t.bind(t=>r.filter(x(e.eq,t))),lt=(e,t)=>x(e.eq,t),lr=(e,t,r)=>r.length>0?n7(e,t,r,n9):A.none(),lo=(e,t,r,o=E)=>{let a=[t].concat(e.up().all(t)),n=[r].concat(e.up().all(r)),l=e=>W(e,o).fold(()=>e,t=>e.slice(0,t+1)),i=l(a),s=l(n),c=q(i,t=>B(s,lt(e,t)));return{firstpath:i,secondpath:s,shared:c}},la=n8(),ln=(e,t)=>lr(la,(t,r)=>e(r),t),ll=(e,t,r)=>lo(la,e,t,r),li=e=>tX(e,"table"),ls=(e,t,r)=>{let o=e=>t=>void 0!==r&&r(t)||eK(t,e);return eK(e,t)?A.some({boxes:A.some([e]),start:e,finish:t}):li(e).bind(a=>li(t).bind(n=>{if(eK(a,n))return A.some({boxes:n2(a,e,t),start:e,finish:t});if(eY(a,n)){let r=tU(t,"td,th",o(a)),l=r.length>0?r[r.length-1]:t;return A.some({boxes:n4(a,e,a,t,n),start:e,finish:l})}if(!eY(n,a))return ll(e,t).shared.bind(l=>t1(l,"table",r).bind(r=>{let l=tU(t,"td,th",o(r)),i=l.length>0?l[l.length-1]:t,s=tU(e,"td,th",o(r)),c=s.length>0?s[s.length-1]:e;return A.some({boxes:n4(r,e,a,t,n),start:c,finish:i})}));{let r=tU(e,"td,th",o(n)),l=r.length>0?r[r.length-1]:e;return A.some({boxes:n4(n,e,a,t,n),start:e,finish:l})}}))},lc=(e,t)=>{let r=tq(e,t);return r.length>0?A.some(r):A.none()},ld=(e,t)=>q(e,e=>eq(e,t)),lm=(e,t,r)=>tQ(e,t).bind(t=>tQ(e,r).bind(e=>ln(li,[t,e]).map(r=>({first:t,last:e,table:r})))),lu=(e,t)=>tX(e,"table").bind(r=>tQ(r,t).bind(t=>ls(t,e).bind(e=>e.boxes.map(t=>({boxes:t,start:e.start,finish:e.finish}))))),lg=(e,t,r,o,a)=>ld(e,a).bind(e=>n0(e,t,r).bind(e=>lu(e,o))),lp=(e,t)=>lc(e,t),lh=(e,t,r)=>lm(e,t,r).bind(t=>{let r=t=>eK(e,t),o="thead,tfoot,tbody,table",a=tX(t.first,o,r),n=tX(t.last,o,r);return a.bind(e=>n.bind(r=>eK(e,r)?n3(t.table,t.first,t.last):A.none()))}),lf=e=>{let t=(e,t)=>eH(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&K(e,e=>t(e,"rowspan")||t(e,"colspan"))?A.some(e):A.none()},ly=(e,t,r)=>t.length<=1?A.none():lh(e,r.firstSelectedSelector,r.lastSelectedSelector).map(e=>({bounds:e,cells:t})),lb="data-mce-selected",lv="data-mce-first-selected",lk="data-mce-last-selected",lw="["+lb+"]",l_={selected:lb,selectedSelector:"td["+lb+"],th["+lb+"]",firstSelected:lv,firstSelectedSelector:"td["+lv+"],th["+lv+"]",lastSelected:lk,lastSelectedSelector:"td["+lk+"],th["+lk+"]"},lx=(e,t,r)=>({element:r,mergable:ly(t,e,l_),unmergable:lf(e),selection:w(e)}),lC=(e,t,r)=>({element:e,clipboard:t,generators:r}),lS=(e,t,r,o)=>({selection:w(e),clipboard:r,generators:o}),lz=e=>rS(e).bind(e=>lp(e,l_.firstSelectedSelector)).fold(k(e),e=>e[0]),lE=e=>(t,r)=>{let o=eS(t);return t1("col"===o||"colgroup"===o?lz(t):t,e,r)},lT=lE("th,td,caption"),lA=lE("th,td"),lO=e=>nd(e.model.table.getSelectedCells()),lD=e=>j(lO(e),e=>eq(e,l_.selectedSelector)),lN=e=>rS(e[0]).map(e=>{let t=aK(e,lw);return nI(t),[t]}),lM=(e,t)=>L(t,t=>e.selection.serializer.serialize(t.dom,{})).join(""),lR=e=>L(e,e=>e.dom.innerText).join(""),lB=(e,t)=>{e.on("BeforeGetContent",t=>{if(!0===t.selection){let r=lD(e);r.length>=1&&(t.preventDefault(),lN(r).each(r=>{t.content="text"===t.format?lR(r):lM(e,r)}))}}),e.on("BeforeSetContent",r=>{!0===r.selection&&!0===r.paste&&ee(lO(e)).each(o=>{rS(o).each(a=>{let n=j(nc(r.content),e=>"meta"!==eS(e)),l=eR("table");if(nA(e)&&1===n.length&&l(n[0])){r.preventDefault();let l=ns(eZ.fromDom(e.getDoc())),i=lC(o,n[0],l);t.pasteCells(a,i).each(()=>{e.focus()})}})})})},lF=(e,t)=>({element:e,offset:t}),lL=(e,t,r)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?r(t).bind(t=>lL(e,t,r).orThunk(()=>A.some(t))):A.none(),lI=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,lP=(e,t)=>{let r=lL(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(r))return lF(r,lI(e,r));let o=e.property().children(r);return o.length>0?lP(e,o[o.length-1]):lF(r,lI(e,r))},lH=n8(),lj=e=>lP(lH,e),lV=(e,t)=>{rp(e)||ab(e).each(r=>{let o=r.value/2;av(e,o,r.unit),av(t,o,r.unit)})},lU=e=>L(e,k(0)),lZ=(e,t,r,o,a)=>a(e.slice(0,t)).concat(o).concat(a(e.slice(r))),lq=e=>(t,r,o,a)=>{if(!e(o))return o;{let e=Math.abs(Math.max(a,t[r]-Math.abs(o))-t[r]);return o>=0?e:-e}},lW=lq(e=>e<0),l$=lq(T),lG=()=>{let e=(e,t,r,o,a)=>{let n=lW(e,t,o,a);return lZ(e,t,r+1,[n,0],lU)},t=(e,t,r,o)=>{let a=(100+r)/100,n=Math.max(o,(e[t]+r)/a);return L(e,(e,r)=>(r===t?n:e/a)-e)},r=(r,o,a,n,l,i)=>i?t(r,o,n,l):e(r,o,a,n,l);return{resizeTable:(e,t)=>e(t),clampTableDelta:lW,calcLeftEdgeDeltas:r,calcMiddleDeltas:(e,t,o,a,n,l,i)=>r(e,o,a,n,l,i),calcRightEdgeDeltas:(e,r,o,a,n,l)=>{if(l)return t(e,o,a,n);{let t=lW(e,o,a,n);return lU(e.slice(0,o)).concat([t])}},calcRedestributedWidths:(e,t,r,o)=>{if(!o)return{delta:r,newSizes:e};{let o=(t+r)/t,a=L(e,e=>e/o);return{delta:100*o-100,newSizes:a}}}}},lK=()=>{let e=(e,t,r,o,a)=>{let n=l$(e,o>=0?r:t,o,a);return lZ(e,t,r+1,[n,-n],lU)};return{resizeTable:(e,t,r)=>{r&&e(t)},clampTableDelta:(e,t,r,o,a)=>a?r>=0?r:Math.max(-U(e,(e,t)=>e+t-o,0),r):lW(e,t,r,o),calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,r,o,a,n,l)=>e(t,o,a,n,l),calcRightEdgeDeltas:(e,t,r,o,a,n)=>{if(n)return lU(e);{let t=o/e.length;return L(e,k(t))}},calcRedestributedWidths:(e,t,r,o)=>({delta:0,newSizes:e})}},lY=e=>oD.fromTable(e).grid,lX=eR("th"),lJ=e=>K(e,e=>lX(e.element)),lQ=(e,t)=>e&&t?"sectionCells":e?"section":"cells",l1=e=>{let t="thead"===e.section,r=t0(l0(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||r?{type:"header",subType:lQ(t,r)}:{type:"body"}},l0=e=>{let t=j(e,e=>lX(e.element));return 0===t.length?A.some("td"):t.length===e.length?A.some("th"):A.none()},l2=e=>{let t=L(e,e=>l1(e).type),r=R(t,"header"),o=R(t,"footer");if(!r&&!o)return A.some("body");{let e=R(t,"body");return!r||e||o?r||e||!o?A.none():A.some("footer"):A.some("header")}},l4=e=>er(e.all,e=>{let t=l1(e);return"header"===t.type?A.from(t.subType):A.none()}),l3=(e,t,r)=>tC(r(e.element,t),!0,e.isLocked),l5=(e,t)=>e.section!==t?tS(e.element,e.cells,t,e.isNew):e,l6=()=>({transformRow:l5,transformCell:(e,t,r)=>{let o=r(e.element,t);return tC("td"!==eS(o)?tp(o,"td"):o,e.isNew,e.isLocked)}}),l8=()=>({transformRow:l5,transformCell:l3}),l7=()=>({transformRow:(e,t)=>l5(e,"thead"===t?"tbody":t),transformCell:l3}),l9={getTableSectionType:(e,t)=>{switch(l4(oD.fromTable(e)).getOr(t)){case"section":return l6();case"sectionCells":return l8();case"cells":return l7()}},section:l6,sectionCells:l8,cells:l7,fallback:()=>({transformRow:w,transformCell:l3})},ie=(e,t,r,o)=>{r===o?ej(e,t):eF(e,t,r)},it=(e,t,r)=>{et(tZ(e,t)).fold(()=>te(e,r),e=>e9(e,r))},ir=(e,t)=>{let r=tJ(e,t).getOrThunk(()=>{let r=eZ.fromTag(t,eX(e).dom);return"thead"===t?it(e,"caption,colgroup",r):"colgroup"===t?it(e,"caption",r):tt(e,r),r});return tl(r),r},io=(e,t)=>{let r=[],o=[],a=e=>L(e,e=>{e.isNew&&r.push(e.element);let t=e.element;return tl(t),I(e.cells,e=>{e.isNew&&o.push(e.element),ie(e.element,"colspan",e.colspan,1),ie(e.element,"rowspan",e.rowspan,1),tt(t,e.element)}),t}),n=e=>G(e,e=>L(e.cells,e=>(ie(e.element,"span",e.colspan,1),e.element))),l=(t,r)=>{tn(ir(e,r),("colgroup"===r?n:a)(t))},i=t=>{tJ(e,t).each(ti)},s=(e,t)=>{e.length>0?l(e,t):i(t)},c=[],d=[],m=[],u=[];return I(t,e=>{switch(e.section){case"thead":c.push(e);break;case"tbody":d.push(e);break;case"tfoot":m.push(e);break;case"colgroup":u.push(e)}}),s(u,"colgroup"),s(c,"thead"),s(d,"tbody"),s(m,"tfoot"),{newRows:r,newCells:o}},ia=e=>L(e,e=>{let t=td(e.element);return I(e.cells,e=>{let r=tm(e.element);ie(r,"colspan",e.colspan,1),ie(r,"rowspan",e.rowspan,1),tt(t,r)}),t}),il=(e,t)=>L(e,e=>ov(e,t)),ii=(e,t)=>e[t],is=(e,t)=>{if(0===e.length)return 0;let r=e[0];return W(e,e=>!t(r.element,e.element)).getOr(e.length)},ic=(e,t,r,o)=>{let a=ii(e,t),n="colgroup"===a.section;return{colspan:is(a.cells.slice(r),o),rowspan:n?1:is(il(e.slice(t),r),o)}},id=(e,t)=>{let r=L(e,e=>L(e.cells,E)),o=(e,t,o,a)=>{for(let n=e;n<e+o;n++)for(let e=t;e<t+a;e++)r[n][e]=!0};return L(e,(a,n)=>{let l=G(a.cells,(a,l)=>{if(!1!==r[n][l])return[];{let r=ic(e,n,l,t);return o(n,l,r.rowspan,r.colspan),[tk(a.element,r.rowspan,r.colspan,a.isNew)]}});return tx(a.element,l,a.section,a.isNew)})},im=(e,t,r)=>{let o=[];I(e.colgroups,a=>{let n=[];for(let o=0;o<e.grid.columns;o++){let a=oD.getColumnAt(e,o).map(e=>tC(e.element,r,!1)).getOrThunk(()=>tC(t.colGap(),!0,!1));n.push(a)}o.push(tS(a.element,n,"colgroup",r))});for(let a=0;a<e.grid.rows;a++){let n=[];for(let o=0;o<e.grid.columns;o++){let l=oD.getAt(e,a,o).map(e=>tC(e.element,r,e.isLocked)).getOrThunk(()=>tC(t.gap(),!0,!1));n.push(l)}let l=e.all[a],i=tS(l.element,n,l.section,r);o.push(i)}return o},iu=(e,t)=>im(e,t,!1),ig=e=>id(e,eK),ip=(e,t)=>er(e.all,e=>q(e.cells,e=>eK(t,e.element))),ih=(e,t,r)=>{let o=t2(L(t.selection,t=>r_(t).bind(t=>ip(e,t)).filter(r)));return t3(o.length>0,o)},iy=(e,t,r,o,a)=>(n,l,i,s)=>{let c=oD.fromTable(n),d=A.from(null==s?void 0:s.section).getOrThunk(l9.fallback);return t(c,l).map(t=>{let r=e(iu(c,i),t,eK,a(i),d),o=oz(r.grid);return{info:t,grid:ig(r.grid),cursor:r.cursor,lockedColumns:o}}).bind(e=>{let t=io(n,e.grid),a=A.from(null==s?void 0:s.sizing).getOrThunk(()=>aV.getTableSize(n)),l=A.from(null==s?void 0:s.resize).getOrThunk(lK);return r(n,e.grid,e.info,{sizing:a,resize:l,section:d}),o(n),ej(n,oC),e.lockedColumns.length>0&&eF(n,oC,e.lockedColumns.join(",")),A.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})},ib=(e,t)=>ih(e,t,T).map(e=>({cells:e,generators:t.generators,clipboard:t.clipboard})),iv=(e,t)=>t.mergable,ik=(e,t)=>t.unmergable,iw=(e,t)=>ih(e,t,T),i_=(e,t)=>ih(e,t,e=>!e.isLocked),ix=(e,t)=>ip(e,t).exists(e=>!e.isLocked),iC=(e,t)=>K(t,t=>ix(e,t)),iS=(e,t,r,o)=>{let a=o_(e).rows;if(0===a.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let r=t.startCol;r<=t.finishCol;r++){let t=a[e],n=ov(t,r).isLocked;of(t,r,tC(o(),!1,n))}return e},iz=(e,t,r,o)=>{let a=o_(e).rows,n=!0;for(let e=0;e<a.length;e++)for(let l=0;l<ow(a[0]);l++){let i=a[e],s=ov(i,l),c=r(s.element,t);c&&!n?of(i,l,tC(o(),!0,s.isLocked)):c&&(n=!1)}return e},iE=(e,t)=>U(e,(e,r)=>B(e,e=>t(e.element,r.element))?e:e.concat([r]),[]),iT=(e,t,r,o)=>(t>0&&t<e[0].cells.length&&I(e,e=>{let a=e.cells[t-1],n=0,l=o();for(;e.cells.length>t+n&&r(a.element,e.cells[t+n].element);)of(e,t+n,tC(l,!0,e.cells[t+n].isLocked)),n++}),e),iA=(e,t,r,o)=>{let a=o_(e).rows;return t>0&&t<a.length&&I(iE(a[t-1].cells,r),e=>{let n=A.none();for(let l=t;l<a.length;l++)for(let t=0;t<ow(a[0]);t++){let i=a[l],s=ov(i,t);r(s.element,e.element)&&(n.isNone()&&(n=A.some(o())),n.each(e=>{of(i,t,tC(e,!0,s.isLocked))}))}}),e},iO={value:e=>{let t=t=>t(e),r=k(e),o=()=>a,a={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:T,isError:E,map:t=>iO.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:r,or:o,getOrThunk:r,orThunk:o,getOrDie:r,each:t=>{t(e)},toOptional:()=>A.some(e)};return a},error:e=>{let t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:E,isError:T,map:t,mapError:t=>iO.error(t(e)),bind:t,exists:E,forall:T,getOr:w,or:w,getOrThunk:z,orThunk:z,getOrDie:S(String(e)),each:y,toOptional:A.none};return r}},iD=(e,t,r)=>{if(e.row>=t.length||e.column>ow(t[0]))return iO.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);let o=t.slice(e.row),a=o[0].cells.slice(e.column),n=ow(r[0]),l=r.length;return iO.value({rowDelta:o.length-l,colDelta:a.length-n})},iN=(e,t)=>({rowDelta:0,colDelta:ow(e[0])-ow(t[0])}),iM=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),iR=(e,t,r,o)=>{let a="colgroup"===t.section?r.col:r.cell;return F(e,e=>tC(a(),!0,o(e)))},iB=(e,t,r,o)=>{let a=e[e.length-1];return e.concat(F(t,()=>{let e="colgroup"===a.section?r.colgroup:r.row,t=ox(a,e,w),n=iR(t.cells.length,t,r,e=>ep(o,e.toString()));return oy(t,n)}))},iF=(e,t,r,o)=>L(e,e=>{let a=iR(t,e,r,E);return op(e,o,a)}),iL=(e,t,r)=>L(e,e=>U(r,(r,o)=>oh(r,o,iR(1,e,t,T)[0]),e)),iI=(e,t,r)=>{let o=t.colDelta<0?iF:w,a=t.rowDelta<0?iB:w,n=oz(e),l=ow(e[0]),i=B(n,e=>e===l-1),s=o(e,Math.abs(t.colDelta),r,i?l-1:l),c=oz(s);return a(s,Math.abs(t.rowDelta),r,X(c,T))},iP=(e,t,r,o)=>{let a=x(o,ov(e[t],r).element),n=e[t];return e.length>1&&ow(n)>1&&(r>0&&a(ok(n,r-1))||r<n.cells.length-1&&a(ok(n,r+1))||t>0&&a(ok(e[t-1],r))||t<e.length-1&&a(ok(e[t+1],r)))},iH=(e,t,r,o,a,n)=>{let l=e.row,i=e.column,s=r.length,c=ow(r[0]),d=l+s,m=i+c+n.length,u=X(n,T);for(let e=l;e<d;e++){let n=0;for(let s=i;s<m;s++){if(u[s]){n++;continue}iP(t,e,s,a)&&iz(t,ok(t[e],s),a,o.cell);let c=s-i-n,d=ov(r[e-l],c),m=d.element,g=o.replace(m);of(t[e],s,tC(g,!0,d.isLocked))}}return t},ij=(e,t,r)=>{let o=ow(t[0]);return{row:o_(t).cols.length+e.row,column:q(F(o-e.column,t=>t+e.column),e=>K(r,t=>t!==e)).getOr(o-1)}},iV=(e,t,r)=>j(r,r=>r>=e.column&&r<=ow(t[0])+e.column),iU=(e,t,r,o,a)=>{let n=oz(t),l=ij(e,t,n),i=o_(r).rows,s=iV(l,i,n);return iD(l,t,i).map(e=>{let r=iI(t,{...e,colDelta:e.colDelta-s.length},o),n=iV(l,i,oz(r));return iH(l,r,i,o,a,n)})},iZ=(e,t,r,o,a)=>{iT(t,e,a,o.cell);let n=iM(r,t),l=iI(r,n,o),i=iM(t,l);return L(iI(t,i,o),(t,r)=>op(t,e,l[r].cells))},iq=(e,t,r,o,a)=>{iA(t,e,a,o.cell);let n=oz(t),l=iN(t,r),i=iI(t,{...l,colDelta:l.colDelta-n.length},o),{cols:s,rows:c}=o_(i),d=oz(i),m=iN(r,t),u={...m,colDelta:m.colDelta+d.length},g=iI(iL(r,o,d),u,o);return[...s,...c.slice(0,e),...g,...c.slice(e,c.length)]},iW=(e,t,r,o)=>ox(e,e=>o(e,r),t),i$=(e,t,r,o,a)=>{let{rows:n,cols:l}=o_(e),i=n.slice(0,t),s=n.slice(t);return[...l,...i,iW(n[r],(e,r)=>t>0&&t<n.length&&o(ok(n[t-1],r),ok(n[t],r))?ov(n[t],r):tC(a(e.element,o),!0,e.isLocked),o,a),...s]},iG=(e,t,r,o,a,n,l)=>"colgroup"!==r&&o?ov(e,t):tC(l(ov(e,a).element,n),!0,!1),iK=(e,t,r,o,a)=>L(e,e=>{let n=t>0&&t<ow(e)&&o(ok(e,t-1),ok(e,t)),l=iG(e,t,e.section,n,r,o,a);return oh(e,t,l)}),iY=(e,t)=>G(e,e=>{let r=V(t,(e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e,e.cells);return r.length>0?[tS(e.element,r,e.section,e.isNew)]:[]}),iX=(e,t,r)=>{let{rows:o,cols:a}=o_(e);return[...a,...o.slice(0,t),...o.slice(r+1)]},iJ=(e,t,r,o)=>void 0!==ok(e[t],r)&&t>0&&o(ok(e[t-1],r),ok(e[t],r)),iQ=(e,t,r)=>t>0&&r(ok(e,t-1),ok(e,t)),i1=(e,t,r,o)=>iJ(e,t,r,o)||iQ(e[t],r,o),i0=(e,t)=>K(t,w)&&lJ(e.cells)?T:(e,r,o)=>!("th"===eS(e.element)&&t[o]),i2=(e,t)=>K(t,w)&&lJ(e)?T:(e,r,o)=>!("th"===eS(e.element)&&t[r]),i4=(e,t,r,o)=>{let a=e=>"row"===e?rh(t):rp(t),n=e=>a(e)?`${e}group`:e;return e?lX(t)?n(r):null:o&&lX(t)?n("row"===r?"col":"row"):null},i3=(e,t)=>(r,o,a)=>A.some(i4(e,r.element,"col",t[a])),i5=(e,t)=>(r,o)=>A.some(i4(e,r.element,"row",t[o])),i6=(e,t,r)=>tC(r(e.element,t),!0,e.isLocked),i8=(e,t,r,o,a,n,l)=>{let i=e=>B(t,t=>r(e.element,t.element));return L(e,(e,t)=>ob(e,(e,s)=>{if(!i(e))return e;{let i=l(e,t,s)?a(e,r,o):e;return n(i,t,s).each(e=>{eI(i.element,{scope:A.from(e)})}),i}}))},i7=(e,t,r)=>G(e,(o,a)=>i1(e,a,t,r)?[]:[ov(o,t)]),i9=(e,t,r)=>G(e[t].cells,(o,a)=>i1(e,t,a,r)?[]:[o]),se=(e,t,r,o,a)=>{let n=o_(e).rows,l=G(t,e=>i7(n,e,o)),i=L(n,e=>lJ(e.cells)),s=i2(l,i);return i8(e,l,o,a,i6,i5(r,i),s)},st=(e,t,r,o,a,n,l)=>{let{cols:i,rows:s}=o_(e),c=s[t[0]],d=G(t,e=>i9(s,e,a)),m=L(c.cells,(e,t)=>lJ(i7(s,t,a))),u=[...s];I(t,e=>{u[e]=l.transformRow(s[e],r)});let g=[...i,...u],p=i0(c,m),h=i3(o,m);return i8(g,d,a,n,l.transformCell,h,p)},sr=(e,t,r,o)=>{let a=o_(e).rows;return i8(e,L(t,e=>ov(a[e.row],e.column)),r,o,i6,A.none,T)},so=e=>{if(!c(e))throw Error("cases must be an array");if(0===e.length)throw Error("there must be at least one case");let t=[],r={};return I(e,(o,a)=>{let n=eo(o);if(1!==n.length)throw Error("one and only one name per case");let l=n[0],i=o[l];if(void 0!==r[l])throw Error("duplicate key detected:"+l);if("cata"===l)throw Error("cannot have a case named cata (sorry)");if(!c(i))throw Error("case arguments must be an array");t.push(l),r[l]=(...r)=>{let o=r.length;if(o!==i.length)throw Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,r)},match:e=>{let o=eo(e);if(t.length!==o.length)throw Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!K(t,e=>R(o,e)))throw Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:l,params:r})}}}}),r},sa={...so([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},sn=(e,t)=>0===e.length?sa.none():1===e.length?sa.only(0):0===t?sa.left(0,1):t===e.length-1?sa.right(t-1,t):t>0&&t<e.length-1?sa.middle(t-1,t,t+1):sa.none(),sl=(e,t,r,o,a)=>{let n=e.slice(0),l=sn(e,t),i=k(L(n,k(0)));return l.fold(i,e=>o.singleColumnWidth(n[e],r),(e,t)=>a.calcLeftEdgeDeltas(n,e,t,r,o.minCellWidth(),o.isRelative),(e,t,l)=>a.calcMiddleDeltas(n,e,t,l,r,o.minCellWidth(),o.isRelative),(e,t)=>a.calcRightEdgeDeltas(n,e,t,r,o.minCellWidth(),o.isRelative))},si=(e,t,r)=>{let o=0;for(let a=e;a<t;a++)o+=void 0!==r[a]?r[a]:0;return o},ss=(e,t)=>L(oD.justCells(e),e=>{let r=si(e.column,e.column+e.colspan,t);return{element:e.element,width:r,colspan:e.colspan}}),sc=(e,t)=>L(oD.justColumns(e),(e,r)=>({element:e.element,width:t[r],colspan:e.colspan})),sd=(e,t)=>L(oD.justCells(e),e=>{let r=si(e.row,e.row+e.rowspan,t);return{element:e.element,height:r,rowspan:e.rowspan}}),sm=(e,t)=>L(e.all,(e,r)=>({element:e.element,height:t[r]})),su=e=>V(e,(e,t)=>e+t,0),sg=(e,t)=>oD.hasColumns(e)?sc(e,t):ss(e,t),sp=(e,t,r)=>{I(sg(e,t),e=>{r.setElementWidth(e.element,e.width)})},sh=(e,t,r,o,a)=>{let n=oD.fromTable(e),l=a.getCellDelta(t),i=a.getWidths(n,a),s=r===n.grid.columns-1,c=o.clampTableDelta(i,r,l,a.minCellWidth(),s);sp(n,L(sl(i,r,c,a,o),(e,t)=>e+i[t]),a),o.resizeTable(a.adjustTableWidth,c,s)},sf=(e,t,r,o)=>{let a=oD.fromTable(e),n=L(aB(a,e,o),(e,o)=>r===o?Math.max(t+e,rb()):e),l=sd(a,n);I(sm(a,n),e=>{al(e.element,e.height)}),I(l,e=>{al(e.element,e.height)}),al(e,su(n))},sy=(e,t,r,o,a)=>{let n=oD.generate(t),l=o.getWidths(n,o),i=o.pixelWidth(),{newSizes:s,delta:c}=a.calcRedestributedWidths(l,i,r.pixelDelta,o.isRelative);sp(n,s,o),o.adjustTableWidth(c)},sb=(e,t,r,o)=>{let a=oD.generate(t),n=o.getWidths(a,o);sp(a,n,o)},sv=e=>U(e,(e,t)=>B(e,e=>e.column===t.column)?e:e.concat([t]),[]).sort((e,t)=>e.column-t.column),sk=eR("col"),sw=eR("colgroup"),s_=e=>"tr"===eS(e)||sw(e),sx=e=>{let t=ru(e,"colspan",1),r=ru(e,"rowspan",1);return{element:e,colspan:t,rowspan:r}},sC=e=>eH(e,"scope").map(e=>e.substr(0,3)),sS=(e,t=sx)=>{let r=t=>sk(t.element)?e.col(t):e.cell(t),o=t=>sw(t.element)?e.colgroup(t):e.row(t),a=e=>{if(s_(e))return o({element:e});{let o=r(t(e));return n=A.some({item:e,replacement:o}),o}},n=A.none();return{getOrInit:(e,t)=>n.fold(()=>a(e),r=>t(e,r.item)?r.replacement:a(e))}},sz=e=>t=>{let r=[],o=(e,t)=>q(r,r=>t(r.item,e)),a=o=>{let a=t.replace(o,e,"td"===e?{scope:null}:{});return r.push({item:o,sub:a}),a};return{replaceOrInit:(e,t)=>s_(e)||sk(e)?e:o(e,t).fold(()=>a(e),r=>t(e,r.item)?r.sub:a(e))}},sE=e=>({unmerge:t=>{let r=sC(t);return r.each(e=>eF(t,"scope",e)),()=>{let o=e.cell({element:t,colspan:1,rowspan:1});return rd(o,"width"),rd(t,"width"),r.each(e=>eF(o,"scope",e)),o}},merge:e=>(rd(e[0],"width"),(()=>{let t=t2(L(e,sC));if(0===t.length)return A.none();{let e=t[0],r=["row","col"];return B(t,t=>t!==e&&R(r,t))?A.none():A.from(e)}})().fold(()=>ej(e[0],"scope"),t=>eF(e[0],"scope",t+"group")),k(e[0]))}),sT=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],sA=(e,t)=>R(["ol","ul"],e.property().name(t)),sO=(e,t)=>R(sT,e.property().name(t)),sD=(e,t)=>R(["br","img","hr","input"],e.property().name(t)),sN=n8(),sM=e=>sO(sN,e),sR=e=>sA(sN,e),sB=e=>sD(sN,e),sF=e=>{let t=eR("br"),r=e=>K(e,e=>t(e)||eD(e)&&0===aX(e).trim().length),o=e=>"li"===eS(e)||t$(e,sR).isSome(),a=e=>e3(e).map(e=>!!sM(e)||!!sB(e)&&"img"!==eS(e)).getOr(!1),n=e=>a6(e).bind(r=>{let n=a(r);return e1(r).map(a=>!0===n||o(a)||t(r)||sM(a)&&!eK(e,a)?[]:[eZ.fromTag("br")])}).getOr([]),l=(()=>{let t=G(e,e=>{let t=e5(e);return r(t)?[]:t.concat(n(e))});return 0===t.length?[eZ.fromTag("br")]:t})();tl(e[0]),tn(e[0],l)},sL=e=>nR(e,!0),sI=e=>{0===rx(e).length&&ti(e)},sP=(e,t)=>({grid:e,cursor:t}),sH=e=>er(e,e=>er(e.cells,e=>{let t=e.element;return t3(sL(t),t)})),sj=(e,t,r)=>{var o,a;let n=o_(e).rows;return A.from(null==(a=null==(o=n[t])?void 0:o.cells[r])?void 0:a.element).filter(sL).orThunk(()=>sH(n))},sV=(e,t,r)=>{let o=sj(e,t,r);return sP(e,o)},sU=e=>U(e,(e,t)=>B(e,e=>e.row===t.row)?e:e.concat([t]),[]).sort((e,t)=>e.row-t.row),sZ=(e,t)=>(r,o,a,n,l)=>sV(st(r,L(sU(o),e=>e.row),e,t,a,n.replaceOrInit,l),o[0].row,o[0].column),sq=sZ("thead",!0),sW=sZ("tbody",!1),s$=sZ("tfoot",!1),sG=(e,t,r)=>{let o=rD(e,r.section);return im(oD.generate(o),t,!0)},sK=(e,t,r,o)=>sb(e,t,r,o.sizing),sY=(e,t,r,o)=>sy(e,t,r,o.sizing,o.resize),sX=(e,t)=>B(t,e=>0===e.column&&e.isLocked),sJ=(e,t)=>B(t,t=>t.column+t.colspan>=e.grid.columns&&t.isLocked),sQ=(e,t)=>{let r=oN(e);return U(sv(t),(e,t)=>e+r[t.column].map(om).getOr(0),0)},s1=e=>(t,r)=>iw(t,r).filter(r=>!(e?sX:sJ)(t,r)).map(e=>({details:e,pixelDelta:sQ(t,e)})),s0=e=>(t,r)=>ib(t,r).filter(r=>!(e?sX:sJ)(t,r.cells)),s2=sz("th"),s4=sz("td"),s3=iy((e,t,r,o)=>{let a=t[0].row;return sV(V(sU(t),(e,t)=>({grid:i$(e.grid,a,t.row+e.delta,r,o.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid,a,t[0].column)},iw,y,y,sS),s5=iy((e,t,r,o)=>{let a=sU(t),n=a[a.length-1],l=n.row+n.rowspan;return sV(V(a,(e,t)=>i$(e,l,t.row,r,o.getOrInit),e),l,t[0].column)},iw,y,y,sS),s6=iy((e,t,r,o)=>{let a=t.details,n=sv(a),l=n[0].column;return sV(V(n,(e,t)=>({grid:iK(e.grid,l,t.column+e.delta,r,o.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid,a[0].row,l)},s1(!0),sY,y,sS),s8=iy((e,t,r,o)=>{let a=t.details,n=a[a.length-1],l=n.column+n.colspan;return sV(V(sv(a),(e,t)=>iK(e,l,t.column,r,o.getOrInit),e),a[0].row,l)},s1(!1),sY,y,sS),s7=iy((e,t,r,o)=>{let a=sv(t.details),n=iY(e,L(a,e=>e.column)),l=n.length>0?n[0].cells.length-1:0;return sV(n,a[0].row,Math.min(a[0].column,l))},(e,t)=>i_(e,t).map(t=>({details:t,pixelDelta:-sQ(e,t)})),sY,sI,sS),s9=iy((e,t,r,o)=>{let a=sU(t),n=iX(e,a[0].row,a[a.length-1].row),l=n.length>0?n.length-1:0;return sV(n,Math.min(t[0].row,l),t[0].column)},iw,y,sI,sS),ce=iy((e,t,r,o)=>sV(se(e,L(sv(t),e=>e.column),!0,r,o.replaceOrInit),t[0].row,t[0].column),i_,y,y,s2),ct=iy((e,t,r,o)=>sV(se(e,L(sv(t),e=>e.column),!1,r,o.replaceOrInit),t[0].row,t[0].column),i_,y,y,s4),cr=iy(sq,i_,y,y,s2),co=iy(sW,i_,y,y,s4),ca=iy(s$,i_,y,y,s4),cn=iy((e,t,r,o)=>sV(sr(e,t,r,o.replaceOrInit),t[0].row,t[0].column),i_,y,y,s2),cl=iy((e,t,r,o)=>sV(sr(e,t,r,o.replaceOrInit),t[0].row,t[0].column),i_,y,y,s4),ci=iy((e,t,r,o)=>{let a=t.cells;return sF(a),sP(iS(e,t.bounds,r,o.merge(a)),A.from(a[0]))},(e,t)=>iv(e,t).filter(t=>iC(e,t.cells)),sK,y,sE),cs=iy((e,t,r,o)=>sP(V(t,(e,t)=>iz(e,t,r,o.unmerge(t)),e),A.from(t[0])),(e,t)=>ik(e,t).filter(t=>iC(e,t)),sK,y,sE),cc=iy((e,t,r,o)=>{var a,n;let l=(a=t.clipboard,n=t.generators,im(oD.fromTable(a),n,!0));return iU(tb(t.row,t.column),e,l,t.generators,r).fold(()=>sP(e,A.some(t.element)),e=>sV(e,t.row,t.column))},(e,t)=>r_(t.element).bind(r=>ip(e,r).map(e=>({...e,generators:t.generators,clipboard:t.clipboard}))),sK,y,sS),cd=iy((e,t,r,o)=>{let a=o_(e).rows,n=t.cells[0].column,l=a[t.cells[0].row];return sV(iZ(n,e,sG(t.clipboard,t.generators,l),t.generators,r),t.cells[0].row,t.cells[0].column)},s0(!0),y,y,sS),cm=iy((e,t,r,o)=>{let a=o_(e).rows,n=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,l=a[t.cells[0].row];return sV(iZ(n,e,sG(t.clipboard,t.generators,l),t.generators,r),t.cells[0].row,t.cells[0].column)},s0(!1),y,y,sS),cu=iy((e,t,r,o)=>{let a=o_(e).rows,n=t.cells[0].row,l=a[n];return sV(iq(n,e,sG(t.clipboard,t.generators,l),t.generators,r),t.cells[0].row,t.cells[0].column)},ib,y,y,sS),cg=iy((e,t,r,o)=>{let a=o_(e).rows,n=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,l=a[t.cells[0].row];return sV(iq(n,e,sG(t.clipboard,t.generators,l),t.generators,r),t.cells[0].row,t.cells[0].column)},ib,y,y,sS),cp=(e,t)=>{let r=oD.fromTable(e);return iw(r,t).bind(e=>{let t=e[e.length-1],o=e[0].column,a=t.column+t.colspan;return l0($(L(r.all,e=>j(e.cells,e=>e.column>=o&&e.column<a))))}).getOr("")},ch=(e,t)=>iw(oD.fromTable(e),t).bind(l0).getOr(""),cf=(e,t)=>{let r=oD.fromTable(e);return iw(r,t).bind(e=>{let t=e[e.length-1],o=e[0].row,a=t.row+t.rowspan;return l2(r.all.slice(o,a))}).getOr("")},cy=(e,t)=>e.dispatch("NewRow",{node:t}),cb=(e,t)=>e.dispatch("NewCell",{node:t}),cv=(e,t,r)=>{e.dispatch("TableModified",{...r,table:t})},ck=(e,t,r,o,a)=>{e.dispatch("TableSelectionChange",{cells:t,start:r,finish:o,otherCells:a})},cw=e=>{e.dispatch("TableSelectionClear")},c_=(e,t,r,o,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:o,origin:a})},cx=(e,t,r,o,a)=>{e.dispatch("ObjectResized",{target:t,width:r,height:o,origin:a})},cC={structure:!1,style:!0},cS={structure:!0,style:!1},cz={structure:!0,style:!0},cE=(e,t)=>nC(e)?aV.percentageSize(t):nS(e)?aV.pixelSize(t):aV.getTableSize(t),cT=(e,t,r)=>{let o=e=>"table"===eS(nF(e)),a=ny(e),n=n_(e)?y:lV,l=t=>{switch(nv(e)){case"section":return l9.section();case"sectionCells":return l9.sectionCells();case"cells":return l9.cells();default:return l9.getTableSectionType(t,"section")}},i=(t,o)=>o.cursor.fold(()=>ee(rx(t)).filter(tL).map(o=>{r.clearSelectedCells(t.dom);let a=e.dom.createRng();return a.selectNode(o.dom),e.selection.setRng(a),eF(o,"data-mce-selected","1"),a}),o=>{let a=lj(o),n=e.dom.createRng();return n.setStart(a.element.dom,a.offset),n.setEnd(a.element.dom,a.offset),e.selection.setRng(n),r.clearSelectedCells(t.dom),A.some(n)}),s=(r,o,n,s)=>(c,d,m=!1)=>{nI(c);let u=ni(n,eZ.fromDom(e.getDoc()),a),g={sizing:cE(e,c),resize:n_(e)?lG():lK(),section:l(c)};return o(c)?r(c,d,u,g).bind(r=>{t.refresh(c.dom),I(r.newRows,t=>{cy(e,t.dom)}),I(r.newCells,t=>{cb(e,t.dom)});let o=i(c,r);return tL(c)&&(nI(c),m||cv(e,c.dom,s)),o.map(e=>({rng:e,effect:s}))}):A.none()},c=s(s9,t=>!o(e)||lY(t).rows>1,y,cS),d=s(s7,t=>!o(e)||lY(t).columns>1,y,cS),m=s(s3,T,y,cS),u=s(s5,T,y,cS),g=s(s6,T,n,cS),p=s(s8,T,n,cS),h=s(ci,T,y,cS),f=s(cs,T,y,cS),b=s(cd,T,y,cS),v=s(cm,T,y,cS),k=s(cu,T,y,cS),w=s(cg,T,y,cS),_=s(cc,T,y,cz),x=s(cn,T,y,cS),C=s(cl,T,y,cS),S=s(ce,T,y,cS),z=s(ct,T,y,cS),E=s(cr,T,y,cS),O=s(co,T,y,cS);return{deleteRow:c,deleteColumn:d,insertRowsBefore:m,insertRowsAfter:u,insertColumnsBefore:g,insertColumnsAfter:p,mergeCells:h,unmergeCells:f,pasteColsBefore:b,pasteColsAfter:v,pasteRowsBefore:k,pasteRowsAfter:w,pasteCells:_,makeCellsHeader:x,unmakeCellsHeader:C,makeColumnsHeader:S,unmakeColumnsHeader:z,makeRowsHeader:E,makeRowsBody:O,makeRowsFooter:s(ca,T,y,cS),getTableRowType:cf,getTableCellType:ch,getTableColType:cp}},cA=(e,t,r)=>{let o=ru(e,t,1);1===r||o<=1?ej(e,t):eF(e,t,Math.min(r,o))},cO=(e,t)=>r=>{let o=r.column+r.colspan-1,a=r.column;return o>=e&&a<t},cD=(e,t,r)=>{if(!oD.hasColumns(e))return[];{let o=L(j(oD.justColumns(e),cO(t,r)),e=>{let o=tm(e.element);return cA(o,"span",r-t),o}),a=eZ.fromTag("colgroup");return tn(a,o),[a]}},cN=(e,t,r)=>L(e.all,e=>{let o=L(j(e.cells,cO(t,r)),e=>{let o=tm(e.element);return cA(o,"colspan",r-t),o}),a=eZ.fromTag("tr");return tn(a,o),a}),cM=(e,t)=>{let r=oD.fromTable(e);return i_(r,t).map(e=>{let t=e[e.length-1],o=e[0].column,a=t.column+t.colspan;return[...cD(r,o,a),...cN(r,o,a)]})},cR=(e,t,r)=>{let o=oD.fromTable(e);return iw(o,t).bind(e=>{let t=ig(G(o_(im(o,r,!1)).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),e=>{let t=j(e.cells,e=>!e.isLocked);return t.length>0?[{...e,cells:t}]:[]}));return t3(t.length>0,t)}).map(e=>ia(e))},cB=so([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),cF=(e,t,r)=>{let o=r.substring(0,r.length-e.length),a=parseFloat(o);return o===a.toString()?t(a):cB.invalid(r)},cL={...cB,from:e=>t7(e,"%")?cF("%",cB.percent,e):t7(e,"px")?cF("px",cB.pixels,e):cB.invalid(e)},cI=(e,t)=>L(e,e=>cL.from(e).fold(()=>e,e=>e/t*100+"%",e=>e+"%")),cP=(e,t,r)=>{let o=r/t;return L(e,e=>cL.from(e).fold(()=>e,e=>e*o+"px",e=>e/100*r+"px"))},cH=(e,t)=>{let r=e.fold(()=>k(""),e=>k(e/t+"px"),()=>k(100/t+"%"));return F(t,r)},cj=(e,t,r)=>e.fold(()=>t,e=>cP(t,r,e),e=>cI(t,r)),cV=(e,t,r)=>{let o=cL.from(r);return cW(K(e,e=>"0px"===e)?cH(o,e.length):cj(o,e,t))},cU=(e,t)=>0===e.length?t:V(e,(e,t)=>cL.from(t).fold(k(0),w,w)+e,0),cZ=(e,t)=>{let r=Math.floor(e);return{value:r+t,remainder:e-r}},cq=(e,t)=>cL.from(e).fold(k(e),e=>e+t+"px",e=>e+t+"%"),cW=e=>{if(0===e.length)return e;let t=V(e,(e,t)=>{let r=cL.from(t).fold(()=>({value:t,remainder:0}),e=>cZ(e,"px"),e=>({value:e+"%",remainder:0}));return{output:[r.value].concat(e.output),remainder:e.remainder+r.remainder}},{output:[],remainder:0}),r=t.output;return r.slice(0,r.length-1).concat([cq(r[r.length-1],Math.round(t.remainder))])},c$=cL.from,cG=(e,t,r)=>{I(t,t=>{let o=cU(e.slice(t.column,t.colspan+t.column),ry());rn(t.element,"width",o+r)})},cK=(e,t,r)=>{I(t,(t,o)=>{let a=cU([e[o]],ry());rn(t.element,"width",a+r)})},cY=(e,t,r,o)=>{I(r,t=>{let r=cU(e.slice(t.row,t.rowspan+t.row),rb());rn(t.element,"height",r+o)}),I(t,(t,r)=>{rn(t.element,"height",e[r])})},cX=e=>c$(e).fold(k("px"),k("px"),k("%")),cJ=(e,t,r)=>{let o=oD.fromTable(e),a=o.all,n=oD.justCells(o),l=oD.justColumns(o);t.each(t=>{let r=cX(t),a=od(e),i=cV(aD(o,e),a,t);oD.hasColumns(o)?cK(i,l,r):cG(i,n,r),rn(e,"width",t)}),r.each(t=>{let r=cX(t),l=oP(e);cY(cV(aF(o,e,o4),l,t),a,n,r),rn(e,"height",t)})},cQ=e=>ag(e).exists(e=>ae.test(e)),c1=e=>ag(e).exists(e=>at.test(e)),c0=e=>ag(e).isNone(),c2=e=>{ej(e,"width")},c4=e=>{let t=aw(e);cJ(e,A.some(t),A.none()),c2(e)},c3=e=>{let t=ak(e);cJ(e,A.some(t),A.none()),c2(e)},c5=e=>{rd(e,"width");let t=rC(e);I(t.length>0?t:rx(e),e=>{rd(e,"width"),c2(e)}),c2(e)},c6={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},c8=()=>eZ.fromTag("th"),c7=()=>eZ.fromTag("td"),c9=()=>eZ.fromTag("col"),de=(e,t,r,o)=>{let a=eZ.fromTag("tr");for(let n=0;n<e;n++){let e=o<t||n<r?c8():c7();n<r&&eF(e,"scope","row"),o<t&&eF(e,"scope","col"),tt(e,eZ.fromTag("br")),tt(a,e)}return a},dt=e=>{let t=eZ.fromTag("colgroup");return F(e,()=>tt(t,c9())),t},dr=(e,t,r,o)=>F(e,e=>de(t,r,o,e)),da=(e,t,r,o,a,n=c6)=>{let l=eZ.fromTag("table"),i="cells"!==a;rl(l,n.styles),eL(l,n.attributes),n.colGroups&&tt(l,dt(t));let s=Math.min(e,r);if(i&&r>0){let e=eZ.fromTag("thead");tt(l,e),tn(e,dr(r,t,"sectionCells"===a?s:0,o))}let c=eZ.fromTag("tbody");tt(l,c);let d=i?0:r;return tn(c,dr(i?e-s:e,t,d,o)),l},dn=e=>e.dom.innerHTML,dl=e=>{let t=eZ.fromTag("div");return tt(t,eZ.fromDom(e.dom.cloneNode(!0))),dn(t)},di=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},ds=(e,t)=>{tQ(t,"td,th").each(x(di,e))},dc=(e,t)=>{I(tq(t,"tr"),t=>{cy(e,t.dom),I(tq(t,"th,td"),t=>{cb(e,t.dom)})})},dd=e=>i(e)&&-1!==e.indexOf("%"),dm=(e,t,r,o,a)=>{let n=nD(e),l={styles:n,attributes:nO(e),colGroups:nN(e)};return e.undoManager.ignore(()=>{let n=da(r,t,a,o,nv(e),l);eF(n,"data-mce-id","__mce");let i=dl(n);e.insertContent(i),e.addVisual()}),tQ(nF(e),'table[data-mce-id="__mce"]').map(t=>(nS(e)?c3(t):nz(e)?c5(t):(nC(e)||dd(n.width))&&c4(t),nI(t),ej(t,"data-mce-id"),dc(e,t),ds(e,t),t.dom)).getOrNull()},du=(e,t,r,o={})=>{let a=e=>f(e)&&e>0;if(!(a(t)&&a(r)))return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null;{let a=o.headerRows||0;return dm(e,r,t,o.headerColumns||0,a)}};var dg=tinymce.util.Tools.resolve("tinymce.FakeClipboard");let dp="x-tinymce/dom-table-",dh=dp+"rows",df=dp+"columns",dy=e=>{let t=dg.FakeClipboardItem(e);dg.write([t])},db=e=>{var t;return er(null!=(t=dg.read())?t:[],t=>A.from(t.getType(e)))},dv=e=>{db(e).isSome()&&dg.clear()},dk=e=>{e.fold(d_,e=>dy({[dh]:e}))},dw=()=>db(dh),d_=()=>dv(dh),dx=e=>{e.fold(dS,e=>dy({[df]:e}))},dC=()=>db(df),dS=()=>dv(df),dz=e=>lT(nP(e),nL(e)).filter(nq),dE=e=>lA(nP(e),nL(e)).filter(nq),dT=(e,t)=>{let r=nL(e),o=t=>dz(e).each(o=>{nz(e)||nS(e)||nC(e)||rS(o,r).each(r=>{"relative"!==t||cQ(r)?"fixed"!==t||c1(r)?"responsive"!==t||c0(r)||c5(r):c3(r):c4(r),nI(r),cv(e,r.dom,cS)})}),a=e=>rS(e,r),n=t=>dE(e).bind(e=>a(e).map(r=>t(r,e))),l=t=>{e.focus()},c=(t,r=!1)=>n((o,a)=>{let n=lx(lO(e),o,a);t(o,n,r).each(l)}),d=()=>n((t,r)=>{let o=lx(lO(e),t,r);return cR(t,o,ni(y,eZ.fromDom(e.getDoc()),A.none()))}),m=()=>n((t,r)=>{let o=lx(lO(e),t,r);return cM(t,o)}),u=(t,r)=>r().each(r=>{let o=L(r,e=>tm(e));n((r,a)=>{let n=ns(eZ.fromDom(e.getDoc()));t(r,lS(lO(e),a,o,n)).each(l)})}),g=e=>(t,r)=>eg(r,"type").each(t=>{c(e(t),r.no_events)});en({mceTableSplitCells:()=>c(t.unmergeCells),mceTableMergeCells:()=>c(t.mergeCells),mceTableInsertRowBefore:()=>c(t.insertRowsBefore),mceTableInsertRowAfter:()=>c(t.insertRowsAfter),mceTableInsertColBefore:()=>c(t.insertColumnsBefore),mceTableInsertColAfter:()=>c(t.insertColumnsAfter),mceTableDeleteCol:()=>c(t.deleteColumn),mceTableDeleteRow:()=>c(t.deleteRow),mceTableCutCol:()=>m().each(e=>{dx(e),c(t.deleteColumn)}),mceTableCutRow:()=>d().each(e=>{dk(e),c(t.deleteRow)}),mceTableCopyCol:()=>m().each(e=>dx(e)),mceTableCopyRow:()=>d().each(e=>dk(e)),mceTablePasteColBefore:()=>u(t.pasteColsBefore,dC),mceTablePasteColAfter:()=>u(t.pasteColsAfter,dC),mceTablePasteRowBefore:()=>u(t.pasteRowsBefore,dw),mceTablePasteRowAfter:()=>u(t.pasteRowsAfter,dw),mceTableDelete:()=>dz(e).each(t=>{rS(t,r).filter(C(r)).each(t=>{let r=eZ.fromText("");if(e9(t,r),ti(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{let t=e.dom.createRng();t.setStart(r.dom,0),t.setEnd(r.dom,0),e.selection.setRng(t),e.nodeChanged()}})}),mceTableCellToggleClass:(t,r)=>{n(t=>{let o=lO(e),a=K(o,t=>e.formatter.match("tablecellclass",{value:r},t.dom))?e.formatter.remove:e.formatter.apply;I(o,e=>a("tablecellclass",{value:r},e.dom)),cv(e,t.dom,cC)})},mceTableToggleClass:(t,r)=>{n(t=>{e.formatter.toggle("tableclass",{value:r},t.dom),cv(e,t.dom,cC)})},mceTableToggleCaption:()=>{dz(e).each(t=>{rS(t,r).each(r=>{tJ(r,"caption").fold(()=>{let t=eZ.fromTag("caption");tt(t,eZ.fromText("Caption")),tr(r,t,0),e.selection.setCursorLocation(t.dom,0)},o=>{eR("caption")(t)&&eG("td",r).each(t=>e.selection.setCursorLocation(t.dom,0)),ti(o)}),cv(e,r.dom,cS)})})},mceTableSizingMode:(e,t)=>o(t),mceTableCellType:g(e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader),mceTableColType:g(e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader),mceTableRowType:g(e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}})},(t,r)=>e.addCommand(r,t)),e.addCommand("mceInsertTable",(t,r)=>{du(e,r.rows,r.columns,r.options)}),e.addCommand("mceTableApplyCellStyle",(t,r)=>{let o=e=>"tablecell"+e.toLowerCase().replace("-","");if(!s(r))return;let n=j(lO(e),nq);if(0===n.length)return;let l=ed(r,(t,r)=>e.formatter.has(o(r))&&i(t));ef(l)||(en(l,(t,r)=>{let a=o(r);I(n,r=>{""===t?e.formatter.remove(a,{value:null},r.dom,!0):e.formatter.apply(a,{value:t},r.dom)})}),a(n[0]).each(t=>cv(e,t.dom,cC)))})},dA=(e,t)=>{let r=nL(e),o=t=>lA(nP(e)).bind(o=>rS(o,r).map(r=>{let a=lx(lO(e),r,o);return t(r,a)})).getOr("");en({mceTableRowType:()=>o(t.getTableRowType),mceTableCellType:()=>o(t.getTableCellType),mceTableColType:()=>o(t.getTableColType)},(t,r)=>e.addQueryValueHandler(r,t))},dO=so([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),dD=dO.before,dN={before:dD,on:dO.on,after:dO.after,getStart:e=>e.fold(w,w,w)},dM={create:(e,t)=>({selection:e,kill:t})},dR=(e,t)=>{let r=e.document.createRange();return r.selectNode(t.dom),r},dB=(e,t)=>{let r=e.document.createRange();return dF(r,t),r},dF=(e,t)=>e.selectNodeContents(t.dom),dL=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,r)=>{e.setStart(t.dom,r)},t=>{e.setStartAfter(t.dom)})},dI=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,r)=>{e.setEnd(t.dom,r)},t=>{e.setEndAfter(t.dom)})},dP=(e,t,r)=>{let o=e.document.createRange();return dL(o,t),dI(o,r),o},dH=(e,t,r,o,a)=>{let n=e.document.createRange();return n.setStart(t.dom,r),n.setEnd(o.dom,a),n},dj=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),dV=e=>{let t=e.getClientRects(),r=t.length>0?t[0]:e.getBoundingClientRect();return r.width>0||r.height>0?A.some(r).map(dj):A.none()},dU=so([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dZ=(e,t,r)=>t(eZ.fromDom(r.startContainer),r.startOffset,eZ.fromDom(r.endContainer),r.endOffset),dq=(e,t)=>t.match({domRange:e=>({ltr:k(e),rtl:A.none}),relative:(t,r)=>({ltr:rN(()=>dP(e,t,r)),rtl:rN(()=>A.some(dP(e,r,t)))}),exact:(t,r,o,a)=>({ltr:rN(()=>dH(e,t,r,o,a)),rtl:rN(()=>A.some(dH(e,o,a,t,r)))})}),dW=(e,t)=>{let r=t.ltr();return r.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>dU.rtl(eZ.fromDom(e.endContainer),e.endOffset,eZ.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>dZ(e,dU.ltr,r)):dZ(e,dU.ltr,r)},d$=(e,t)=>{let r=dq(e,t);return dW(e,r)},dG=(e,t)=>d$(e,t).match({ltr:(t,r,o,a)=>{let n=e.document.createRange();return n.setStart(t.dom,r),n.setEnd(o.dom,a),n},rtl:(t,r,o,a)=>{let n=e.document.createRange();return n.setStart(o.dom,a),n.setEnd(t.dom,r),n}});dU.ltr,dU.rtl;let dK={create:(e,t,r,o)=>({start:e,soffset:t,finish:r,foffset:o})},dY=(e,t,r,o)=>({start:dN.on(e,t),finish:dN.on(r,o)}),dX=(e,t)=>{let r=dG(e,t);return dK.create(eZ.fromDom(r.startContainer),r.startOffset,eZ.fromDom(r.endContainer),r.endOffset)},dJ=(e,t,r,o,a,n,l)=>eK(r,a)&&o===n?A.none():t1(r,"td,th",t).bind(r=>t1(a,"td,th",t).bind(o=>dQ(e,t,r,o,l))),dQ=(e,t,r,o,a)=>eK(r,o)?A.none():ls(r,o,t).bind(t=>{let o=t.boxes.getOr([]);return o.length>1?(a(e,o,t.start,t.finish),A.some(dM.create(A.some(dY(r,0,r,a1(r))),!0))):A.none()}),d1=(e,t,r,o,a)=>lg(o,e,t,a.firstSelectedSelector,a.lastSelectedSelector).map(e=>(a.clearBeforeUpdate(r),a.selectRange(r,e.boxes,e.start,e.finish),e.boxes)),d0=(e,t)=>({item:e,mode:t}),d2=(e,t,r,o=d4)=>e.property().parent(t).map(e=>d0(e,o)),d4=(e,t,r,o=d3)=>r.sibling(e,t).map(e=>d0(e,o)),d3=(e,t,r,o=d3)=>{let a=e.property().children(t);return r.first(a).map(e=>d0(e,o))},d5=[{current:d2,next:d4,fallback:A.none()},{current:d4,next:d3,fallback:A.some(d2)},{current:d3,next:d3,fallback:A.some(d4)}],d6=(e,t,r,o,a=d5)=>q(a,e=>e.current===r).bind(r=>r.current(e,t,o,r.next).orThunk(()=>r.fallback.bind(r=>d6(e,t,r,o)))),d8=()=>({sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?A.some(e[e.length-1]):A.none()}),d7=()=>({sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?A.some(e[0]):A.none()}),d9=(e,t,r,o,a,n)=>d6(e,t,o,a).bind(t=>n(t.item)?A.none():r(t.item)?A.some(t.item):d9(e,t.item,r,t.mode,a,n)),me=e=>t=>0===e.property().children(t).length,mt=(e,t,r)=>mo(e,t,me(e),r),mr=(e,t,r)=>ma(e,t,me(e),r),mo=(e,t,r,o)=>d9(e,t,r,d4,d8(),o),ma=(e,t,r,o)=>d9(e,t,r,d4,d7(),o),mn=n8(),ml=(e,t)=>mt(mn,e,t),mi=(e,t)=>mr(mn,e,t),ms=(e,t,r)=>mo(mn,e,t,r),mc=(e,t,r)=>ma(mn,e,t,r),md=(e,t,r)=>t$(e,t,r).isSome(),mm=so([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),mu=(e,t,r)=>{let o=e.getRect(t),a=e.getRect(r);return a.right>o.left&&a.left<o.right},mg=e=>t1(e,"tr"),mp={...mm,verify:(e,t,r,o,a,n,l)=>t1(o,"td,th",l).bind(r=>t1(t,"td,th",l).map(t=>eK(r,t)?eK(o,r)&&a1(r)===a?n(t):mm.none("in same cell"):ln(mg,[r,t]).fold(()=>mu(e,t,r)?mm.success():n(t),e=>n(t)))).getOr(mm.none("default")),cata:(e,t,r,o,a)=>e.fold(t,r,o,a)},mh=(e,t,r,o)=>({parent:e,children:t,element:r,index:o}),mf=e=>e1(e).bind(t=>{let r=e5(t);return my(r,e).map(o=>mh(t,r,e,o))}),my=(e,t)=>W(e,x(eK,t)),mb=eR("br"),mv=(e,t,r)=>t(e,r).bind(e=>eD(e)&&0===aX(e).trim().length?mv(e,t,r):A.some(e)),mk=(e,t,r)=>r.traverse(t).orThunk(()=>mv(t,r.gather,e)).map(r.relative),mw=(e,t)=>e6(e,t).filter(mb).orThunk(()=>e6(e,t-1).filter(mb)),m_=(e,t,r,o)=>mw(t,r).bind(t=>o.traverse(t).fold(()=>mv(t,o.gather,e).map(o.relative),e=>mf(e).map(e=>dN.on(e.parent,e.index)))),mx=(e,t,r,o)=>(mb(t)?mk(e,t,o):m_(e,t,r,o)).map(e=>({start:e,finish:e})),mC=e=>mp.cata(e,e=>A.none(),()=>A.none(),e=>A.some(lF(e,0)),e=>A.some(lF(e,a1(e)))),mS=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),mz=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),mE=(e,t,r)=>({left:e.left+t,top:e.top+r,right:e.right+t,bottom:e.bottom+r}),mT=(e,t,r)=>r>=0&&r<a1(t)?e.getRangedRect(t,r,t,r+1):r>0?e.getRangedRect(t,r-1,t,r):A.none(),mA=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),mO=(e,t)=>A.some(e.getRect(t)),mD=(e,t,r)=>eO(t)?mO(e,t).map(mA):eD(t)?mT(e,t,r).map(mA):A.none(),mN=(e,t)=>eO(t)?mO(e,t).map(mA):eD(t)?e.getRangedRect(t,0,t,a1(t)).map(mA):A.none(),mM=so([{none:[]},{retry:["caret"]}]),mR=(e,t)=>e.left<t.left||1>Math.abs(t.right-e.left)||e.left>t.right,mB=(e,t,r)=>tG(t,sM).fold(E,t=>mN(e,t).exists(e=>mR(r,e))),mF=(e,t,r)=>e.elementFromPoint(t,r).filter(e=>"table"===eS(e)).isSome(),mL=(e,t,r,o,a)=>mI(e,t,r,t.move(o,5),a),mI=(e,t,r,o,a)=>0===a?A.some(o):mF(e,o.left,t.point(o))?mL(e,t,r,o,a-1):e.situsFromPoint(o.left,t.point(o)).bind(n=>n.start.fold(A.none,n=>mN(e,n).bind(l=>t.adjuster(e,n,l,r,o).fold(A.none,o=>mI(e,t,r,o,a-1))).orThunk(()=>A.some(o)),A.none)),mP=(e,t,r)=>e.point(t)>r.getInnerHeight()?A.some(e.point(t)-r.getInnerHeight()):0>e.point(t)?A.some(-e.point(t)):A.none(),mH=(e,t,r)=>{let o=e.move(r,5),a=mI(t,e,r,o,100).getOr(o);return mP(e,a,t).fold(()=>t.situsFromPoint(a.left,e.point(a)),r=>(t.scrollBy(0,r),t.situsFromPoint(a.left,e.point(a)-r)))},mj={tryUp:x(mH,{point:e=>e.top,adjuster:(e,t,r,o,a)=>{let n=mz(a,5);return 1>Math.abs(r.top-o.top)||r.bottom<a.top?mM.retry(n):r.bottom===a.top?mM.retry(mz(a,1)):mB(e,t,a)?mM.retry(mE(n,5,0)):mM.none()},move:mz,gather:ml}),tryDown:x(mH,{point:e=>e.bottom,adjuster:(e,t,r,o,a)=>{let n=mS(a,5);return 1>Math.abs(r.bottom-o.bottom)||r.top>a.bottom?mM.retry(n):r.top===a.bottom?mM.retry(mS(a,1)):mB(e,t,a)?mM.retry(mE(n,5,0)):mM.none()},move:mS,gather:mi}),getJumpSize:k(5)},mV=(e,t,r)=>e.getSelection().bind(o=>mx(t,o.finish,o.foffset,r).fold(()=>A.some(lF(o.finish,o.foffset)),a=>{let n=e.fromSitus(a);return mC(mp.verify(e,o.finish,o.foffset,n.finish,n.foffset,r.failure,t))})),mU=(e,t,r,o,a,n)=>0===n?A.none():mW(e,t,r,o,a).bind(l=>{let i=e.fromSitus(l),s=mp.verify(e,r,o,i.finish,i.foffset,a.failure,t);return mp.cata(s,()=>A.none(),()=>A.some(l),l=>eK(r,l)&&0===o?mZ(e,r,o,mz,a):mU(e,t,l,0,a,n-1),l=>eK(r,l)&&o===a1(l)?mZ(e,r,o,mS,a):mU(e,t,l,a1(l),a,n-1))}),mZ=(e,t,r,o,a)=>mD(e,t,r).bind(t=>mq(e,a,o(t,mj.getJumpSize()))),mq=(e,t,r)=>{let o=oo().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,r):A.none()},mW=(e,t,r,o,a)=>mD(e,r,o).bind(t=>mq(e,a,t)),m$=(e,t,r)=>mV(e,t,r).bind(o=>mU(e,t,o.element,o.offset,r,20).map(e.fromSitus)),mG=(e,t)=>md(e,e=>e1(e).exists(e=>eK(e,t))),mK=(e,t,r,o,a)=>t1(o,"td,th",t).bind(o=>t1(o,"table",t).bind(n=>mG(a,n)?m$(e,t,r).bind(e=>t1(e.finish,"td,th",t).map(t=>({start:o,finish:t,range:e}))):A.none())),mY=(e,t,r,o,a,n)=>n(o,t).orThunk(()=>mK(e,t,r,o,a).map(e=>{let t=e.range;return dM.create(A.some(dY(t.start,t.soffset,t.finish,t.foffset)),!0)})),mX=(e,t)=>t1(e,"tr",t).bind(e=>t1(e,"table",t).bind(r=>eK(e,tq(r,"tr")[0])?ms(r,e=>a6(e).isSome(),t).map(e=>{let t=a1(e);return dM.create(A.some(dY(e,t,e,t)),!0)}):A.none())),mJ=(e,t)=>t1(e,"tr",t).bind(e=>t1(e,"table",t).bind(r=>{let o=tq(r,"tr");return eK(e,o[o.length-1])?mc(r,e=>a5(e).isSome(),t).map(e=>dM.create(A.some(dY(e,0,e,0)),!0)):A.none()})),mQ=(e,t,r,o,a,n,l)=>mK(e,r,o,a,n).bind(e=>dQ(t,r,e.start,e.finish,l)),m1=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},m0=e=>{let t=m1(A.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(A.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(A.some(e))}}},m2=()=>{let e=m0(y);return{...e,on:t=>e.get().each(t)}},m4=(e,t)=>t1(e,"td,th",t),m3=e=>e0(e).exists(nR),m5=(e,t,r,o)=>{let a=m2(),n=a.clear,l=n=>{a.on(a=>{o.clearBeforeUpdate(t),m4(n.target,r).each(l=>{ls(a,l,r).each(r=>{let a=r.boxes.getOr([]);if(1===a.length){let r=a[0],l="false"===nB(r),i=t0(nM(n.target),r,eK);l&&i&&(o.selectRange(t,a,r,r),e.selectContents(r))}else a.length>1&&(o.selectRange(t,a,r.start,r.finish),e.selectContents(l))})})})};return{clearstate:n,mousedown:e=>{o.clear(t),m4(e.target,r).filter(m3).each(a.set)},mouseover:e=>{l(e)},mouseup:e=>{l(e),n()}}},m6={traverse:e3,gather:mi,relative:dN.before,retry:mj.tryDown,failure:mp.failedDown},m8={traverse:e4,gather:ml,relative:dN.before,retry:mj.tryUp,failure:mp.failedUp},m7=e=>t=>t===e,m9=m7(38),ue=m7(40),ut=e=>e>=37&&e<=40,ur={isBackward:m7(37),isForward:m7(39)},uo={isBackward:m7(39),isForward:m7(37)},ua=e=>{let t=void 0!==e?e.dom:document;return oV(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},un=(e,t,r)=>{let o=(void 0!==r?r.dom:document).defaultView;o&&o.scrollBy(e,t)},ul=so([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ui=(ul.domRange,ul.relative),us=ul.exact,uc=(dK.create,{relative:ui,exact:us}),ud=document.caretPositionFromPoint?(e,t,r)=>{var o,a;return A.from(null==(a=(o=e.dom).caretPositionFromPoint)?void 0:a.call(o,t,r)).bind(t=>{if(null===t.offsetNode)return A.none();let r=e.dom.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),A.some(r)})}:document.caretRangeFromPoint?(e,t,r)=>{var o,a;return A.from(null==(a=(o=e.dom).caretRangeFromPoint)?void 0:a.call(o,t,r))}:A.none,um=(e,t,r)=>ud(eZ.fromDom(e.document),t,r).map(e=>dK.create(eZ.fromDom(e.startContainer),e.startOffset,eZ.fromDom(e.endContainer),e.endOffset)),uu=(e,t)=>{let r=eS(e);return"input"===r?dN.after(e):R(["br","img"],r)?0===t?dN.before(e):dN.after(e):dN.on(e,t)},ug=(e,t)=>{let r=e.fold(dN.before,uu,dN.after),o=t.fold(dN.before,uu,dN.after);return uc.relative(r,o)},up=(e,t,r,o)=>{let a=uu(e,t),n=uu(r,o);return uc.relative(a,n)},uh=(e,t,r,o)=>{let a=eX(e).dom.createRange();return a.setStart(e.dom,t),a.setEnd(r.dom,o),a},uf=(e,t,r,o)=>{let a=uh(e,t,r,o),n=eK(e,r)&&t===o;return a.collapsed&&!n},uy=e=>A.from(e.getSelection()),ub=(e,t)=>{uy(e).each(e=>{e.removeAllRanges(),e.addRange(t)})},uv=(e,t,r,o,a)=>{let n=dH(e,t,r,o,a);ub(e,n)},uk=(e,t,r,o,a,n)=>{t.collapse(r.dom,o),t.extend(a.dom,n)},uw=(e,t)=>d$(e,t).match({ltr:(t,r,o,a)=>{uv(e,t,r,o,a)},rtl:(t,r,o,a)=>{uy(e).each(n=>{if(n.setBaseAndExtent)n.setBaseAndExtent(t.dom,r,o.dom,a);else if(n.extend)try{uk(e,n,t,r,o,a)}catch(n){uv(e,o,a,t,r)}else uv(e,o,a,t,r)})}}),u_=(e,t,r,o,a)=>{uw(e,up(t,r,o,a))},ux=(e,t,r)=>{uw(e,ug(t,r))},uC=e=>{if(!(e.rangeCount>0))return A.none();{let t=e.getRangeAt(0),r=e.getRangeAt(e.rangeCount-1);return A.some(dK.create(eZ.fromDom(t.startContainer),t.startOffset,eZ.fromDom(r.endContainer),r.endOffset))}},uS=e=>{if(null===e.anchorNode||null===e.focusNode)return uC(e);{let t=eZ.fromDom(e.anchorNode),r=eZ.fromDom(e.focusNode);return uf(t,e.anchorOffset,r,e.focusOffset)?A.some(dK.create(t,e.anchorOffset,r,e.focusOffset)):uC(e)}},uz=(e,t,r=!0)=>{let o=(r?dB:dR)(e,t);ub(e,o)},uE=e=>uy(e).filter(e=>e.rangeCount>0).bind(uS),uT=e=>uE(e).map(e=>uc.exact(e.start,e.soffset,e.finish,e.foffset)),uA=(e,t)=>dV(dG(e,t)),uO=(e,t,r)=>um(e,t,r),uD=e=>{uy(e).each(e=>e.removeAllRanges())},uN=e=>({elementFromPoint:(t,r)=>eZ.fromPoint(eZ.fromDom(e.document),t,r),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,r,o,a)=>uA(e,uc.exact(t,r,o,a)),getSelection:()=>uT(e).map(t=>dX(e,t)),fromSitus:t=>dX(e,uc.relative(t.start,t.finish)),situsFromPoint:(t,r)=>uO(e,t,r).map(e=>dY(e.start,e.soffset,e.finish,e.foffset)),clearSelection:()=>{uD(e)},collapseSelection:(t=!1)=>{uT(e).each(r=>r.fold(e=>e.collapse(t),(r,o)=>{let a=t?r:o;ux(e,a,a)},(r,o,a,n)=>{let l=t?r:a,i=t?o:n;u_(e,l,i,l,i)}))},setSelection:t=>{u_(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,r)=>{ux(e,t,r)},selectNode:t=>{uz(e,t,!1)},selectContents:t=>{uz(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>ua(eZ.fromDom(e.document)).top,scrollBy:(t,r)=>{un(t,r,eZ.fromDom(e.document))}}),uM=(e,t)=>({rows:e,cols:t}),uR=(e,t,r,o)=>{let a=m5(uN(e),t,r,o);return{clearstate:a.clearstate,mousedown:a.mousedown,mouseover:a.mouseover,mouseup:a.mouseup}},uB=e=>tG(e,eA).exists(nR),uF=(e,t)=>uB(e)||uB(t),uL=(e,t,r,o)=>{let a=uN(e),n=()=>(o.clear(t),A.none());return{keydown:(e,l,i,s,c,d)=>{let m=e.raw,u=m.which,g=!0===m.shiftKey;return lc(t,o.selectedSelector).fold(()=>{if(ut(u)&&!g&&o.clearBeforeUpdate(t),ut(u)&&g&&!uF(l,s))return A.none;if(ue(u)&&g)return x(mQ,a,t,r,m6,s,l,o.selectRange);if(m9(u)&&g)return x(mQ,a,t,r,m8,s,l,o.selectRange);if(ue(u))return x(mY,a,r,m6,s,l,mJ);if(m9(u))return x(mY,a,r,m8,s,l,mX);else return A.none},e=>{let r=r=>()=>er(r,r=>d1(r.rows,r.cols,t,e,o)).fold(()=>lm(t,o.firstSelectedSelector,o.lastSelectedSelector).map(e=>{let r=ue(u)||d.isForward(u)?dN.after:dN.before;return a.setRelativeSelection(dN.on(e.first,0),r(e.table)),o.clear(t),dM.create(A.none(),!0)}),e=>A.some(dM.create(A.none(),!0)));if(ut(u)&&g&&!uF(l,s))return A.none;if(ue(u)&&g)return r([uM(1,0)]);if(m9(u)&&g)return r([uM(-1,0)]);if(d.isBackward(u)&&g)return r([uM(0,-1),uM(-1,0)]);if(d.isForward(u)&&g)return r([uM(0,1),uM(1,0)]);else if(ut(u)&&!g)return n;else return A.none})()},keyup:(e,a,n,l,i)=>lc(t,o.selectedSelector).fold(()=>{let s=e.raw,c=s.which;return!0!==s.shiftKey?A.none():ut(c)&&uF(a,l)?dJ(t,r,a,n,l,i,o.selectRange):A.none()},A.none)}},uI=(e,t,r,o)=>{let a=uN(e);return(e,n)=>{o.clearBeforeUpdate(t),ls(e,n,r).each(e=>{let r=e.boxes.getOr([]);o.selectRange(t,r,e.start,e.finish),a.selectContents(n),a.collapseSelection()})}},uP=(e,t)=>{let r=eP(e,t);return void 0===r||""===r?[]:r.split(" ")},uH=(e,t,r)=>{let o=uP(e,t).concat([r]);return eF(e,t,o.join(" ")),!0},uj=(e,t,r)=>{let o=j(uP(e,t),e=>e!==r);return o.length>0?eF(e,t,o.join(" ")):ej(e,t),!1},uV=e=>void 0!==e.dom.classList,uU=e=>uP(e,"class"),uZ=(e,t)=>uH(e,"class",t),uq=(e,t)=>uj(e,"class",t),uW=(e,t)=>{uV(e)?e.dom.classList.add(t):uZ(e,t)},u$=e=>{0===(uV(e)?e.dom.classList:uU(e)).length&&ej(e,"class")},uG=(e,t)=>{uV(e)?e.dom.classList.remove(t):uq(e,t),u$(e)},uK=(e,t)=>uV(e)&&e.dom.classList.contains(t),uY=(e,t)=>{I(t,t=>{uG(e,t)})},uX=(e,t,r)=>{let o=t=>{ej(t,e.selected),ej(t,e.firstSelected),ej(t,e.lastSelected)},a=t=>{eF(t,e.selected,"1")},n=e=>{l(e),r()},l=t=>{I(tq(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`),o)};return{clearBeforeUpdate:l,clear:n,selectRange:(r,o,l,i)=>{n(r),I(o,a),eF(l,e.firstSelected,"1"),eF(i,e.lastSelected,"1"),t(o,l,i)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},uJ=(e,t,r,o)=>{switch(e.tag){case"none":return t();case"single":return o(e.element);case"multiple":return r(e.elements)}},uQ=()=>({tag:"none"}),u1=e=>({tag:"multiple",elements:e}),u0=e=>({tag:"single",element:e}),u2=(e,t,r)=>({get:()=>lp(e(),r).fold(()=>t().fold(uQ,u0),u1)}),u4=(e,t)=>G(ig(e.slice(0,t[t.length-1].row+1)),e=>L(e.cells.slice(0,t[t.length-1].column+1),e=>e.element)),u3=(e,t)=>G(ig(e.slice(t[0].row+t[0].rowspan-1,e.length)),e=>L(e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length),e=>e.element)),u5=(e,t,r)=>{let o=oD.fromTable(e);return iw(o,t).map(e=>{let{rows:t}=o_(im(o,r,!1));return{upOrLeftCells:u4(t,e),downOrRightCells:u3(t,e)}})},u6=(e,t,r,o,a,n,l)=>({target:e,x:t,y:r,stop:o,prevent:a,kill:n,raw:l}),u8=e=>{let t=eZ.fromDom(tB(e).getOr(e.target)),r=()=>e.stopPropagation(),o=()=>e.preventDefault(),a=b(o,r);return u6(t,e.clientX,e.clientY,r,o,a,e)},u7=(e,t)=>r=>{e(r)&&t(u8(r))},u9=(e,t,r,o,a)=>{let n=u7(r,o);return e.dom.addEventListener(t,n,a),{unbind:x(gt,e,t,n,a)}},ge=(e,t,r,o)=>u9(e,t,r,o,!1),gt=(e,t,r,o)=>{e.dom.removeEventListener(t,r,o)},gr=(e,t,r)=>ge(e,t,T,r),go=e=>!uK(eZ.fromDom(e.target),"ephox-snooker-resizer-bar"),ga=(e,t)=>{let r=u2(()=>eZ.fromDom(e.getBody()),()=>lA(nP(e),nL(e)),l_.selectedSelector),o=uX(l_,(t,r,o)=>{rS(r).each(a=>{let n=ny(e),l=ni(y,eZ.fromDom(e.getDoc()),n),i=u5(a,{selection:lO(e)},l);ck(e,t,r,o,i)})},()=>cw(e));return e.on("init",r=>{let a=e.getWin(),n=nF(e),l=nL(e),i=uR(a,n,l,o),s=uL(a,n,l,o),c=uI(a,n,l,o),d=e=>!0===e.raw.shiftKey;e.on("TableSelectorChange",e=>c(e.start,e.finish));let m=(t,r)=>{d(t)&&(r.kill&&t.kill(),r.selection.each(t=>{let r=dG(a,uc.relative(t.start,t.finish));e.selection.setRng(r)}))},u=e=>0===e.button,g=e=>void 0===e.buttons||(1&e.buttons)!=0,p=(()=>{let e=m1(eZ.fromDom(n)),t=m1(0);return{touchEnd:r=>{let o=eZ.fromDom(r.target);if(eR("td")(o)||eR("th")(o)){let a=e.get(),n=t.get();eK(a,o)&&r.timeStamp-n<300&&(r.preventDefault(),c(o,o))}e.set(o),t.set(r.timeStamp)}}})();e.on("dragstart",e=>{i.clearstate()}),e.on("mousedown",e=>{u(e)&&go(e)&&i.mousedown(u8(e))}),e.on("mouseover",e=>{g(e)&&go(e)&&i.mouseover(u8(e))}),e.on("mouseup",e=>{u(e)&&go(e)&&i.mouseup(u8(e))}),e.on("touchend",p.touchEnd),e.on("keyup",t=>{let r=u8(t);if(r.raw.shiftKey&&ut(r.raw.which)){let t=e.selection.getRng(),o=eZ.fromDom(t.startContainer),a=eZ.fromDom(t.endContainer);s.keyup(r,o,t.startOffset,a,t.endOffset).each(e=>{m(r,e)})}}),e.on("keydown",r=>{let o=u8(r);t.hide();let a=e.selection.getRng(),n=eZ.fromDom(a.startContainer),l=eZ.fromDom(a.endContainer),i=oF(ur,uo)(eZ.fromDom(e.selection.getStart()));s.keydown(o,n,a.startOffset,l,a.endOffset,i).each(e=>{m(o,e)}),t.show()}),e.on("NodeChange",()=>{let t=e.selection;ln(rS,[eZ.fromDom(t.getStart()),eZ.fromDom(t.getEnd())]).fold(()=>o.clear(n),y)})}),e.on("PreInit",()=>{e.serializer.addTempAttr(l_.firstSelected),e.serializer.addTempAttr(l_.lastSelected)}),{getSelectedCells:()=>uJ(r.get(),k([]),e=>L(e,e=>e.dom),e=>[e.dom]),clearSelectedCells:e=>o.clear(eZ.fromDom(e))}},gn=e=>{let t=[];return{bind:e=>{if(void 0===e)throw Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=j(t,t=>t!==e)},trigger:(...r)=>{let o={};I(e,(e,t)=>{o[e]=r[t]}),I(t,e=>{e(o)})}}},gl=e=>({registry:el(e,e=>({bind:e.bind,unbind:e.unbind})),trigger:el(e,e=>e.trigger)}),gi=(e,t)=>{let r=null,o=()=>{d(r)||(clearTimeout(r),r=null)};return{cancel:o,throttle:(...a)=>{o(),r=setTimeout(()=>{r=null,e.apply(null,a)},t)}}},gs=e=>e.slice(0).sort(),gc=(e,t)=>{throw Error("All required keys ("+gs(e).join(", ")+") were not specified. Specified keys were: "+gs(t).join(", ")+".")},gd=e=>{throw Error("Unsupported keys for object: "+gs(e).join(", "))},gm=(e,t)=>{if(!c(t))throw Error("The "+e+" fields must be an array. Was: "+t+".");I(t,t=>{if(!i(t))throw Error("The value "+t+" in the "+e+" fields was not a string.")})},gu=(e,t)=>{throw Error("All values need to be of type: "+t+". Keys ("+gs(e).join(", ")+") were not.")},gg=e=>{let t=gs(e);q(t,(e,r)=>r<t.length-1&&e===t[r+1]).each(e=>{throw Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},gp=(e,t)=>gh(e,t,{validate:h,label:"function"}),gh=(e,t,r)=>{if(0===t.length)throw Error("You must specify at least one required field.");return gm("required",t),gg(t),o=>{let a=eo(o);K(t,e=>R(a,e))||gc(t,a),e(t,a);let n=j(t,e=>!r.validate(o[e],e));return n.length>0&&gu(n,r.label),o}},gf=(e,t)=>{let r=j(t,t=>!R(e,t));r.length>0&&gd(r)},gy=e=>gp(gf,e),gb=gy(["compare","extract","mutate","sink"]),gv=gy(["element","start","stop","destroy"]),gk=gy(["forceDrop","drop","move","delayDrop"]),gw=()=>{let e=A.none(),t=(t,r)=>{let o=e.map(e=>t.compare(e,r));return e=A.some(r),o},r=gl({move:gn(["info"])});return{onEvent:(e,o)=>{o.extract(e).each(e=>{t(o,e).each(e=>{r.trigger.move(e)})})},reset:()=>{e=A.none()},events:r.registry}},g_=()=>({onEvent:y,reset:y,events:gl({move:gn(["info"])}).registry}),gx=()=>{let e=g_(),t=gw(),r=e;return{on:()=>{r.reset(),r=t},off:()=>{r.reset(),r=e},isOn:()=>r===t,onEvent:(e,t)=>{r.onEvent(e,t)},events:t.events}},gC=(e,t,r)=>{let o=!1,a=gl({start:gn([]),stop:gn([])}),n=gx(),l=()=>{c.stop(),n.isOn()&&(n.off(),a.trigger.stop())},i=gi(l,200);n.events.move.bind(r=>{t.mutate(e,r.info)});let s=e=>(...t)=>{o&&e.apply(null,t)},c=t.sink(gk({forceDrop:l,drop:s(l),move:s(e=>{i.cancel(),n.onEvent(e,t)}),delayDrop:s(i.throttle)}),r);return{element:c.element,go:e=>{c.start(e),n.on(),a.trigger.start()},on:()=>{o=!0},off:()=>{o=!1},isActive:()=>o,destroy:()=>{c.destroy()},events:a.registry}},gS=e=>{let t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},gz=gS("ephox-dragster").resolve,gE=e=>{let t={layerClass:gz("blocker"),...e},r=eZ.fromTag("div");return eF(r,"role","presentation"),rl(r,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),uW(r,gz("blocker")),uW(r,t.layerClass),{element:k(r),destroy:()=>{ti(r)}}};var gT=gb({compare:(e,t)=>oV(t.left-e.left,t.top-e.top),extract:e=>A.some(oV(e.x,e.y)),sink:(e,t)=>{let r=gE(t),o=gr(r.element(),"mousedown",e.forceDrop),a=gr(r.element(),"mouseup",e.drop),n=gr(r.element(),"mousemove",e.move),l=gr(r.element(),"mouseout",e.delayDrop);return gv({element:r.element,start:e=>{tt(e,r.element())},stop:()=>{ti(r.element())},destroy:()=>{r.destroy(),a.unbind(),n.unbind(),l.unbind(),o.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});let gA=(e,t={})=>{var r;return gC(e,null!=(r=t.mode)?r:gT,t)},gO=gS("ephox-snooker").resolve,gD=()=>{let e=gl({drag:gn(["xDelta","yDelta"])});return{mutate:(t,r)=>{e.trigger.drag(t,r)},events:e.registry}},gN=()=>{let e=gl({drag:gn(["xDelta","yDelta","target"])}),t=A.none(),r=gD();return r.events.drag.bind(r=>{t.each(t=>{e.trigger.drag(r.xDelta,r.yDelta,t)})}),{assign:e=>{t=A.some(e)},get:()=>t,mutate:r.mutate,events:e.registry}},gM=(e,t,r,o,a)=>{let n=eZ.fromTag("div");return rl(n,{position:"absolute",left:t-o/2+"px",top:r+"px",height:a+"px",width:o+"px"}),eL(n,{"data-column":e,role:"presentation"}),n},gR=(e,t,r,o,a)=>{let n=eZ.fromTag("div");return rl(n,{position:"absolute",left:t+"px",top:r-a/2+"px",height:a+"px",width:o+"px"}),eL(n,{"data-row":e,role:"presentation"}),n},gB=gO("resizer-bar"),gF=gO("resizer-rows"),gL=gO("resizer-cols"),gI=(e,t)=>G(e.all,(e,r)=>t(e.element)?[r]:[]),gP=(e,t)=>{let r=[];return F(e.grid.columns,o=>{oD.getColumnAt(e,o).map(e=>e.element).forall(t)&&r.push(o)}),j(r,r=>K(oD.filterItems(e,e=>e.column===r),e=>t(e.element)))},gH=e=>{I(tq(e.parent(),"."+gB),ti)},gj=(e,t,r)=>{let o=e.origin();I(t,t=>{t.each(t=>{let a=r(o,t);uW(a,gB),tt(e.parent(),a)})})},gV=(e,t,r,o)=>{gj(e,t,(e,t)=>{let a=gM(t.col,t.x-e.left,r.top-e.top,7,o);return uW(a,gL),a})},gU=(e,t,r,o)=>{gj(e,t,(e,t)=>{let a=gR(t.row,r.left-e.left,t.y-e.top,o,7);return uW(a,gF),a})},gZ=(e,t,r,o,a)=>{let n=oq(r),l=t.isResizable,i=o.length>0?o4.positions(o,r):[],s=i.length>0?gI(e,l):[];gU(t,j(i,(e,t)=>B(s,e=>t===e)),n,om(r));let c=a.length>0?o5.positions(a,r):[],d=c.length>0?gP(e,l):[];gV(t,j(c,(e,t)=>B(d,e=>t===e)),n,oH(r))},gq=(e,t)=>{if(gH(e),e.isResizable(t)){let r=oD.fromTable(t),o=oR(r),a=oN(r);gZ(r,e,t,o,a)}},gW=(e,t)=>{I(tq(e.parent(),"."+gB),t)},g$=e=>{gW(e,e=>{rn(e,"display","none")})},gG=e=>{gW(e,e=>{rn(e,"display","block")})},gK=e=>uK(e,gF),gY=e=>uK(e,gL),gX=gO("resizer-bar-dragging"),gJ=e=>{let t=gN(),r=gA(t,{}),o=A.none(),a=(e,t)=>A.from(eP(e,t));t.events.drag.bind(e=>{a(e.target,"data-row").each(t=>{let r=rf(e.target,"top");rn(e.target,"top",r+e.yDelta+"px")}),a(e.target,"data-column").each(t=>{let r=rf(e.target,"left");rn(e.target,"left",r+e.xDelta+"px")})});let n=(e,t)=>rf(e,t)-ru(e,"data-initial-"+t,0);r.events.stop.bind(()=>{t.get().each(t=>{o.each(r=>{a(t,"data-row").each(e=>{let o=n(t,"top");ej(t,"data-initial-top"),m.trigger.adjustHeight(r,o,parseInt(e,10))}),a(t,"data-column").each(e=>{let o=n(t,"left");ej(t,"data-initial-left"),m.trigger.adjustWidth(r,o,parseInt(e,10))}),gq(e,r)})})});let l=(o,a)=>{m.trigger.startAdjust(),t.assign(o),eF(o,"data-initial-"+a,rf(o,a)),uW(o,gX),rn(o,"opacity","0.2"),r.go(e.parent())},i=gr(e.parent(),"mousedown",e=>{gK(e.target)&&l(e.target,"top"),gY(e.target)&&l(e.target,"left")}),s=t=>eK(t,e.view()),c=e=>t1(e,"table",s).filter(nR),d=gr(e.view(),"mouseover",t=>{c(t.target).fold(()=>{tL(t.target)&&gH(e)},t=>{r.isActive()&&(o=A.some(t),gq(e,t))})}),m=gl({adjustHeight:gn(["table","delta","row"]),adjustWidth:gn(["table","delta","column"]),startAdjust:gn([])});return{destroy:()=>{i.unbind(),d.unbind(),r.destroy(),gH(e)},refresh:t=>{gq(e,t)},on:r.on,off:r.off,hideBars:x(g$,e),showBars:x(gG,e),events:m.registry}},gQ={create:(e,t,r)=>{let o=gJ(e),a=gl({beforeResize:gn(["table","type"]),afterResize:gn(["table","type"]),startDrag:gn([])});return o.events.adjustHeight.bind(e=>{let t=e.table;a.trigger.beforeResize(t,"row");let r=o4.delta(e.delta,t);sf(t,r,e.row,o4),a.trigger.afterResize(t,"row")}),o.events.startAdjust.bind(e=>{a.trigger.startDrag()}),o.events.adjustWidth.bind(e=>{let o=e.table;a.trigger.beforeResize(o,"col");let n=o5.delta(e.delta,o),l=r(o);sh(o,n,e.column,t,l),a.trigger.afterResize(o,"col")}),{on:o.on,off:o.off,refreshBars:o.refresh,hideBars:o.hideBars,showBars:o.showBars,destroy:o.destroy,events:a.registry}}},g1={only:(e,t)=>({parent:k(eN(e)?eQ(e):e),view:k(e),origin:k(oV(0,0)),isResizable:t}),body:(e,t,r)=>({parent:k(t),view:k(e),origin:k(oV(0,0)),isResizable:r})},g0=()=>{let e=eZ.fromTag("div");return rl(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),tt(tI(),e),e},g2=(e,t)=>e.inline?g1.body(eZ.fromDom(e.getBody()),g0(),t):g1.only(eZ.fromDom(e.getDoc()),t),g4=(e,t)=>{e.inline&&ti(t.parent())},g3=e=>p(e)&&"TABLE"===e.nodeName,g5="bar-",g6=e=>"false"!==eP(e,"data-mce-resize"),g8=e=>{let t=oD.fromTable(e);oD.hasColumns(t)||I(rx(e),e=>{let t=ri(e,"width");rn(e,"width",t),ej(e,"width")})},g7=e=>{let t,r,o=m2(),a=m2(),n=m2(),l=t=>cE(e,t),i=()=>nw(e)?lK():lG(),s=e=>lY(e).columns,c=(o,a,n)=>{let c=t7(a,"e");if(""===r&&c4(o),n!==t&&""!==r){rn(o,"width",r);let a=i(),d=l(o),m=nw(e)||c?s(o)-1:0;sh(o,n-t,m,a,d)}else nU(r)&&rn(o,"width",n*parseFloat(r.replace("%",""))/t+"%");nZ(r)&&g8(o)},d=()=>{a.on(e=>{e.destroy()}),n.on(t=>{g4(e,t)})};return e.on("init",()=>{let t=g2(e,g6);if(n.set(t),nb(e)&&nE(e)){let r=i(),n=gQ.create(t,r,l);n.on(),n.events.startDrag.bind(t=>{o.set(e.selection.getRng())}),n.events.beforeResize.bind(t=>{let r=t.table.dom;c_(e,r,nH(r),nj(r),g5+t.type)}),n.events.afterResize.bind(t=>{let r=t.table,a=r.dom;nI(r),o.on(t=>{e.selection.setRng(t),e.focus()}),cx(e,a,nH(a),nj(a),g5+t.type),e.undoManager.add()}),a.set(n)}}),e.on("ObjectResizeStart",o=>{let a=o.target;if(g3(a)){let n=eZ.fromDom(a);I(e.dom.select(".mce-clonedresizable"),t=>{e.dom.addClass(t,"mce-"+nk(e)+"-columns")}),!c1(n)&&nS(e)?c3(n):!cQ(n)&&nC(e)&&c4(n),c0(n)&&t8(o.origin,g5)&&c4(n),t=o.width,r=nz(e)?"":nV(e,a).getOr("")}}),e.on("ObjectResized",t=>{let r=t.target;if(g3(r)){let o=eZ.fromDom(r),a=t.origin;t8(a,"corner-")&&c(o,a,t.width),nI(o),cv(e,o.dom,cC)}}),e.on("SwitchMode",()=>{a.on(t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()})}),e.on("dragstart dragend",e=>{a.on(t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())})}),e.on("remove",()=>{d()}),{refresh:e=>{a.on(t=>t.refreshBars(eZ.fromDom(e)))},hide:()=>{a.on(e=>e.hideBars())},show:()=>{a.on(e=>e.showBars())}}},g9=e=>{nf(e);let t=g7(e),r=ga(e,t),o=cT(e,t,r);return dT(e,o),dA(e,o),lB(e,o),{getSelectedCells:r.getSelectedCells,clearSelectedCells:r.clearSelectedCells}};t.add("dom",e=>({table:g9(e)}))}()},51321:function(e,t,r){r(45998)},45998:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,r)=>{e.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===r?null:{"list-style-type":r})},r=e=>{e.addCommand("ApplyUnorderedListStyle",(r,o)=>{t(e,"UL",o["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",(r,o)=>{t(e,"OL",o["list-style-type"])})},o=e=>t=>t.options.get(e),a=e=>{let t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},n=o("advlist_number_styles"),l=o("advlist_bullet_styles"),i=e=>null==e,s=e=>!i(e);var c=tinymce.util.Tools.resolve("tinymce.util.Tools");class d{constructor(e,t){this.tag=e,this.value=t}static some(e){return new d(!0,e)}static none(){return d.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?d.some(e(this.value)):d.none()}bind(e){return this.tag?e(this.value):d.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:d.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return s(e)?d.some(e):d.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}d.singletonNone=new d(!1);let m=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return d.some(a);if(r(a,o))break}return d.none()},u=e=>/\btox\-/.test(e.className),g=(e,t)=>e.dom.isChildOf(t,e.getBody()),p=e=>t=>s(t)&&e.test(t.nodeName),h=p(/^(OL|UL|DL)$/),f=p(/^(TH|TD)$/),y=(e,t,r)=>m(t,e=>h(e)&&!u(e),f).exists(t=>t.nodeName===r&&g(e,t)),b=e=>{let t=e.dom.getParent(e.selection.getNode(),"ol,ul"),r=e.dom.getStyle(t,"listStyleType");return d.from(r)},v=(e,t)=>null!==t&&!e.dom.isEditable(t),k=(e,t)=>{let r=e.dom.getParent(t,"ol,ul,dl");return v(e,r)&&e.selection.isEditable()},w=(e,t)=>{let r=e.selection.getNode();return t({parents:e.dom.getParents(r),element:r}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},_=e=>e.replace(/\-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),x=e=>i(e)||"default"===e?"":e,C=(e,t)=>r=>{let o=(e,o)=>{let a=e.selection.getStart(!0);r.setActive(y(e,o,t)),r.setEnabled(!k(e,a)&&e.selection.isEditable())};return w(e,t=>o(e,t.parents))},S=(e,r,o,a,n,l)=>{e.ui.registry.addSplitButton(r,{tooltip:o,icon:"OL"===n?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{e(c.map(l,e=>{let t="OL"===n?"num":"bull",r="disc"===e||"decimal"===e?"default":e;return{type:"choiceitem",value:x(e),icon:"list-"+t+"-"+r,text:_(e)}}))},onAction:()=>e.execCommand(a),onItemAction:(r,o)=>{t(e,n,o)},select:t=>b(e).map(e=>t===e).getOr(!1),onSetup:C(e,n)})},z=(e,r,o,a,n,l)=>{e.ui.registry.addToggleButton(r,{active:!1,tooltip:o,icon:"OL"===n?"ordered-list":"unordered-list",onSetup:C(e,n),onAction:()=>e.queryCommandState(a)||""===l?e.execCommand(a):t(e,n,l)})},E=(e,t,r,o,a,n)=>{n.length>1?S(e,t,r,o,a,n):z(e,t,r,o,a,x(n[0]))},T=e=>{E(e,"numlist","Numbered list","InsertOrderedList","OL",n(e)),E(e,"bullist","Bullet list","InsertUnorderedList","UL",l(e))};e.add("advlist",e=>{e.hasPlugin("lists")?(a(e),T(e),r(e)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}()},73875:function(e,t,r){r(30730)},30730:function(){!function(){"use strict";let e;var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),o=tinymce.util.Tools.resolve("tinymce.util.Tools");let a=e=>{(0,e.options.register)("allow_html_in_named_anchor",{processor:"boolean",default:!1})},n=(e="allow_html_in_named_anchor",t=>t.options.get(e)),l="a:not([href])",i=e=>!e,s=e=>e.getAttribute("id")||e.getAttribute("name")||"",c=e=>"a"===e.nodeName.toLowerCase(),d=e=>c(e)&&!e.getAttribute("href")&&""!==s(e),m=e=>d(e)&&!e.firstChild,u=e=>{let t=e.dom;r(t).walk(e.selection.getRng(),e=>{o.each(e,e=>{m(e)&&t.remove(e,!1)})})},g=e=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e),p=e=>e.dom.getParent(e.selection.getStart(),l),h=e=>{let t=p(e);return t?s(t):""},f=(e,t)=>{e.undoManager.transact(()=>{n(e)||e.selection.collapse(!0),e.selection.isCollapsed()?e.insertContent(e.dom.createHTML("a",{id:t})):(u(e),e.formatter.remove("namedAnchor",void 0,void 0,!0),e.formatter.apply("namedAnchor",{value:t}),e.addVisual())})},y=(e,t,r)=>{r.removeAttribute("name"),r.id=t,e.addVisual(),e.undoManager.add()},b=(e,t)=>{let r=p(e);r?y(e,t,r):f(e,t),e.focus()},v=(e,t)=>g(t)?(b(e,t),!0):(e.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),k=e=>{let t=h(e);e.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:t},onSubmit:t=>{v(e,t.getData().id)&&t.close()}})},w=e=>{e.addCommand("mceAnchor",()=>{k(e)})},_=e=>i(e.attr("href"))&&!i(e.attr("id")||e.attr("name")),x=e=>_(e)&&!e.firstChild,C=e=>t=>{for(let r=0;r<t.length;r++){let o=t[r];x(o)&&o.attr("contenteditable",e)}},S=e=>{e.on("PreInit",()=>{e.parser.addNodeFilter("a",C("false")),e.serializer.addNodeFilter("a",C(null))})},z=e=>{e.formatter.register("namedAnchor",{inline:"a",selector:l,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(e,t,r)=>d(e)})},E=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},T=e=>{let t=()=>e.execCommand("mceAnchor");e.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:t,onSetup:t=>{let r=e.selection.selectorChangedWithUnbind("a:not([href])",t.setActive).unbind,o=E(e)(t);return()=>{r(),o()}}}),e.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:t,onSetup:E(e)})};t.add("anchor",e=>{a(e),S(e),w(e),T(e),e.on("PreInit",()=>{z(e)})})}()},76444:function(e,t,r){r(41335)},41335:function(){!function(){"use strict";let e;var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let r=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,o=e=>t=>t.options.get(e),a=e=>{let t=e.options.register;t("autolink_pattern",{processor:"regexp",default:RegExp("^"+r().source+"$","i")}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"})},n=o("autolink_pattern"),l=o("link_default_target"),i=o("link_default_protocol"),s=o("allow_unsafe_link_target"),c=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},d=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&c(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},m=e=>"string"===d(e),u=(e=void 0,t=>e===t),g=e=>null==e,p=e=>!g(e),h=e=>t=>!e(t),f=Object.hasOwnProperty,y=(e,t)=>f.call(e,t),b=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,v=(e,t,r=0,o)=>{let a=e.indexOf(t,r);return -1!==a&&(!!u(o)||a+t.length<=o)},k=(e,t)=>b(e,t,0),w=e=>"\uFEFF"===e,_=e=>e.replace(/\uFEFF/g,"");var x=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");let C=e=>3===e.nodeType,S=e=>1===e.nodeType,z=e=>/^[(\[{ \u00a0]$/.test(e),E=e=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e),T=e=>/[?!,.;:]/.test(e),A=(e,t,r)=>{for(let o=t-1;o>=0;o--){let t=e.charAt(o);if(!w(t)&&r(t))return o}return -1},O=(e,t)=>{let r=e,o=t;for(;S(r)&&r.childNodes[o];)o=C(r=r.childNodes[o])?r.data.length:r.childNodes.length;return{container:r,offset:o}},D=(e,t)=>{var r;let o=e.schema.getVoidElements(),a=n(e),{dom:l,selection:s}=e;if(null!==l.getParent(s.getNode(),"a[href]"))return null;let c=s.getRng(),d=x(l,e=>l.isBlock(e)||y(o,e.nodeName.toLowerCase())||"false"===l.getContentEditable(e)),{container:m,offset:u}=O(c.endContainer,c.endOffset),g=null!=(r=l.getParent(m,l.isBlock))?r:l.getRoot(),p=d.backwards(m,u+t,(e,t)=>{let r=e.data,o=A(r,t,h(z));return -1===o||T(r[o])?o:o+1},g);if(!p)return null;let f=p.container,b=d.backwards(p.container,p.offset,(e,t)=>{f=e;let r=A(e.data,t,z);return -1===r?r:r+1},g),w=l.createRng();b?w.setStart(b.container,b.offset):w.setStart(f,0),w.setEnd(p.container,p.offset);let C=_(w.toString()).match(a);if(!C)return null;{let t=C[0];return k(t,"www.")?t=i(e)+"://"+t:v(t,"@")&&!E(t)&&(t="mailto:"+t),{rng:w,url:t}}},N=(e,t)=>{let{dom:r,selection:o}=e,{rng:a,url:n}=t,i=o.getBookmark();o.setRng(a);let c="createlink",d={command:c,ui:!1,value:n};if(!e.dispatch("BeforeExecCommand",d).isDefaultPrevented()){e.getDoc().execCommand(c,!1,n),e.dispatch("ExecCommand",d);let t=l(e);if(m(t)){let a=o.getNode();r.setAttrib(a,"target",t),"_blank"!==t||s(e)||r.setAttrib(a,"rel","noopener")}}o.moveToBookmark(i),e.nodeChanged()},M=e=>{let t=D(e,-1);p(t)&&N(e,t)},R=e=>{let t=D(e,0);p(t)&&N(e,t)},B=e=>{e.on("keydown",t=>{13!==t.keyCode||t.isDefaultPrevented()||R(e)}),e.on("keyup",t=>{32===t.keyCode?M(e):(48===t.keyCode&&t.shiftKey||221===t.keyCode)&&M(e)})};t.add("autolink",e=>{a(e),B(e)})}()},20194:function(e,t,r){r(96378)},96378:function(){!function(){"use strict";let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let r=e=>()=>e;var o=tinymce.util.Tools.resolve("tinymce.Env");let a=e=>e.dispatch("ResizeEditor"),n=e=>t=>t.options.get(e),l=e=>{let t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1}),t("autoresize_bottom_margin",{processor:"number",default:50})},i=n("min_height"),s=n("max_height"),c=n("autoresize_overflow_padding"),d=n("autoresize_bottom_margin"),m=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),u=(e,t)=>{let r=e.getBody();r&&(r.style.overflowY=t?"":"hidden",t||(r.scrollTop=0))},g=(e,t,r,o)=>{var a;let n=parseInt(null!=(a=e.getStyle(t,r,o))?a:"",10);return isNaN(n)?0:n},p=e=>(null==e?void 0:e.type.toLowerCase())==="setcontent"&&(!0===e.selection||!0===e.paste),h=(e,t,r,n)=>{var l;let d=e.dom,f=e.getDoc();if(!f)return;if(m(e))return void u(e,!0);let y=f.documentElement,b=n?n():c(e),v=null!=(l=i(e))?l:e.getElement().offsetHeight,k=v,w=g(d,y,"margin-top",!0),_=g(d,y,"margin-bottom",!0),x=y.offsetHeight+w+_+b;x<0&&(x=0);let C=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;x+C>v&&(k=x+C);let S=s(e);if(S&&k>S?(k=S,u(e,!0)):u(e,!1),k!==t.get()){let l=k-t.get();if(d.setStyle(e.getContainer(),"height",k+"px"),t.set(k),a(e),o.browser.isSafari()&&(o.os.isMacOS()||o.os.isiOS())){let t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}e.hasFocus()&&p(r)&&e.selection.scrollIntoView(),(o.browser.isSafari()||o.browser.isChromium())&&l<0&&h(e,t,r,n)}},f=(e,t)=>{let a,n,l=()=>d(e);e.on("init",r=>{a=0;let n=c(e),i=e.dom;i.setStyles(e.getDoc().documentElement,{height:"auto"}),o.browser.isEdge()||o.browser.isIE()?i.setStyles(e.getBody(),{paddingLeft:n,paddingRight:n,"min-height":0}):i.setStyles(e.getBody(),{paddingLeft:n,paddingRight:n}),h(e,t,r,l),a+=1}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",o=>{if(1===a)n=e.getContainer().offsetHeight,h(e,t,o,l),a+=1;else if(2===a){let t=n<e.getContainer().offsetHeight;if(t){let t=e.dom,r=e.getDoc();t.setStyles(r.documentElement,{"min-height":0}),t.setStyles(e.getBody(),{"min-height":"inherit"})}l=t?r(0):l,a+=1}else h(e,t,o,l)})},y=(e,t)=>{e.addCommand("mceAutoResize",()=>{h(e,t)})};t.add("autoresize",t=>{if(l(t),t.options.isSet("resize")||t.options.set("resize",!1),!t.inline){let r=e(0);y(t,r),f(t,r)}})}()},98100:function(e,t,r){r(20040)},20040:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t)=>e.dispatch("insertCustomChar",{chr:t}),r=(e,r)=>{let o=t(e,r).chr;e.execCommand("mceInsertContent",!1,o)},o=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},a=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&o(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},n=e=>t=>e===t,l=e=>"array"===a(e),i=n(null),s=n(void 0),c=e=>null==e,d=e=>!c(e),m=e=>"function"==typeof e,u=()=>!1;class g{constructor(e,t){this.tag=e,this.value=t}static some(e){return new g(!0,e)}static none(){return g.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?g.some(e(this.value)):g.none()}bind(e){return this.tag?e(this.value):g.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:g.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?g.some(e):g.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}g.singletonNone=new g(!1);let p=Array.prototype.push,h=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},f=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},y=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return g.some(a);if(r(a,o))break}return g.none()},b=(e,t)=>y(e,t,u),v=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!l(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);p.apply(t,e[r])}return t},k=(e,t)=>v(h(e,t));var w=tinymce.util.Tools.resolve("tinymce.util.Tools");let _=e=>t=>t.options.get(e),x=e=>{let t=e.options.register,r=e=>m(e)||l(e);t("charmap",{processor:r}),t("charmap_append",{processor:r})},C=_("charmap"),S=_("charmap_append"),z=w.isArray,E="User Defined",T=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],A=e=>w.grep(e,e=>z(e)&&2===e.length),O=e=>z(e)?A(e):"function"==typeof e?e():[],D=(e,t)=>{let r=C(e);r&&(t=[{name:E,characters:O(r)}]);let o=S(e);if(o){let e=w.grep(t,e=>e.name===E);return e.length?(e[0].characters=[...e[0].characters,...O(o)],t):t.concat({name:E,characters:O(o)})}return t},N=e=>{let t=D(e,T());return t.length>1?[{name:"All",characters:k(t,e=>e.characters)}].concat(t):t},M=e=>({getCharMap:()=>N(e),insertChar:t=>{r(e,t)}}),R=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},B=(e,t)=>{let r=null,o=()=>{i(r)||(clearTimeout(r),r=null)};return{cancel:o,throttle:(...a)=>{o(),r=setTimeout(()=>{r=null,e.apply(null,a)},t)}}},F=(e,t,r=0,o)=>{let a=e.indexOf(t,r);return -1!==a&&(!!s(o)||a+t.length<=o)},L=String.fromCodePoint,I=(e,t,r)=>!!F(L(e).toLowerCase(),r)||F(t.toLowerCase(),r)||F(t.toLowerCase().replace(/\s+/g,""),r),P=(e,t)=>{let r=[],o=t.toLowerCase();return f(e.characters,e=>{I(e[0],e[1],o)&&r.push(e)}),h(r,e=>({text:e[1],value:L(e[0]),icon:L(e[0])}))},H="pattern",j=(e,t)=>{let o=()=>[{label:"Search",type:"input",name:H},{type:"collection",name:"results"}],a=1===t.length?R(E):R("All"),n=(e,r)=>{b(t,e=>e.name===a.get()).each(t=>{let o=P(t,r);e.setData({results:o})})},l=B(e=>{let t=e.getData().pattern;n(e,t)},40),i=1===t.length?{type:"panel",items:o()}:{type:"tabpanel",tabs:h(t,e=>({title:e.name,name:e.name,items:o()}))},s={pattern:"",results:P(t[0],"")};e.windowManager.open({title:"Special Character",size:"normal",body:i,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:s,onAction:(t,o)=>{"results"===o.name&&(r(e,o.value),t.close())},onTabChange:(e,t)=>{a.set(t.newTabName),l.throttle(e)},onChange:(e,t)=>{t.name===H&&l.throttle(e)}}).focus(H)},V=(e,t)=>{e.addCommand("mceShowCharmap",()=>{j(e,t)})},U=(e,t)=>{e.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(e,r)=>new Promise((r,o)=>{r(P(t,e))}),onAction:(t,r,o)=>{e.selection.setRng(r),e.insertContent(o),t.hide()}})},Z=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},q=e=>{let t=()=>e.execCommand("mceShowCharmap");e.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:t,onSetup:Z(e)}),e.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:t,onSetup:Z(e)})};e.add("charmap",e=>{x(e);let t=N(e);return V(e,t),q(e),U(e,t[0]),M(e)})}()},51954:function(e,t,r){r(43663)},43663:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t)=>{e.focus(),e.undoManager.transact(()=>{e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},r=e=>e.getContent({source_view:!0}),o=e=>{let o=r(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:o},onSubmit:r=>{t(e,r.getData().code),r.close()}})},a=e=>{e.addCommand("mceCodeEditor",()=>{o(e)})},n=e=>{let t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})};e.add("code",e=>(a(e),n(e),{}))}()},17644:function(e,t,r){r(89692)},60263:function(){window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"\uD83D\uDE00",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"\uD83D\uDE2C",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"\uD83D\uDE01",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"\uD83D\uDE02",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"\uD83E\uDD23",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"\uD83E\uDD73",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"\uD83D\uDE03",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"\uD83D\uDE04",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"\uD83D\uDE05",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"\uD83D\uDE06",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"\uD83D\uDE07",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"\uD83D\uDE09",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"\uD83D\uDE0A",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"\uD83D\uDE42",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"\uD83D\uDE43",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"\uD83D\uDE0B",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"\uD83D\uDE0C",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"\uD83D\uDE0D",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"\uD83E\uDD70",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\uD83D\uDE18",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"\uD83D\uDE17",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"\uD83D\uDE19",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\uD83D\uDE1A",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"\uD83D\uDE1C",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"\uD83E\uDD2A",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"\uD83E\uDD28",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"\uD83E\uDDD0",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"\uD83D\uDE1D",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"\uD83D\uDE1B",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"\uD83E\uDD11",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"\uD83E\uDD13",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"\uD83D\uDE0E",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"\uD83E\uDD29",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"\uD83E\uDD21",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"\uD83E\uDD20",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"\uD83E\uDD17",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"\uD83D\uDE0F",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"\uD83D\uDE36",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"\uD83D\uDE10",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"\uD83D\uDE11",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"\uD83D\uDE12",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"\uD83D\uDE44",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"\uD83E\uDD14",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"\uD83E\uDD25",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"\uD83E\uDD2D",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"\uD83E\uDD2B",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"\uD83E\uDD2C",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"\uD83E\uDD2F",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"\uD83D\uDE33",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"\uD83D\uDE1E",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"\uD83D\uDE1F",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"\uD83D\uDE20",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"\uD83D\uDE21",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"\uD83D\uDE14",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"\uD83D\uDE15",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"\uD83D\uDE41",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"\uD83D\uDE23",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"\uD83D\uDE16",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"\uD83D\uDE2B",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"\uD83D\uDE29",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"\uD83E\uDD7A",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"\uD83D\uDE24",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"\uD83D\uDE2E",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"\uD83D\uDE31",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"\uD83D\uDE28",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"\uD83D\uDE30",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"\uD83D\uDE2F",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"\uD83D\uDE26",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"\uD83D\uDE27",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"\uD83D\uDE22",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"\uD83D\uDE25",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"\uD83E\uDD24",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"\uD83D\uDE2A",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"\uD83D\uDE13",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"\uD83E\uDD75",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"\uD83E\uDD76",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"\uD83D\uDE2D",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"\uD83D\uDE35",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"\uD83D\uDE32",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"\uD83E\uDD10",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"\uD83E\uDD22",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"\uD83E\uDD27",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"\uD83E\uDD2E",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"\uD83D\uDE37",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"\uD83E\uDD12",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"\uD83E\uDD15",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"\uD83E\uDD74",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"\uD83D\uDE34",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"\uD83D\uDCA4",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"\uD83D\uDCA9",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"\uD83D\uDE08",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"\uD83D\uDC7F",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"\uD83D\uDC79",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"\uD83D\uDC7A",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"\uD83D\uDC80",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"\uD83D\uDC7B",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"\uD83D\uDC7D",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"\uD83E\uDD16",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"\uD83D\uDE3A",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"\uD83D\uDE38",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"\uD83D\uDE39",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"\uD83D\uDE3B",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"\uD83D\uDE3C",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"\uD83D\uDE3D",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"\uD83D\uDE40",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"\uD83D\uDE3F",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"\uD83D\uDE3E",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"\uD83E\uDD32",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"\uD83D\uDE4C",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"\uD83D\uDC4F",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"\uD83D\uDC4B",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"\uD83E\uDD19",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"\uD83D\uDC4D",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"\uD83D\uDC4E",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"\uD83D\uDC4A",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"\uD83E\uDD1B",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"\uD83E\uDD1C",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"\uD83D\uDC4C",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"\uD83E\uDD1A",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"\uD83D\uDC50",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"\uD83D\uDCAA",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"\uD83D\uDE4F",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"\uD83E\uDDB6",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"\uD83E\uDDB5",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"\uD83E\uDD1D",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"\uD83D\uDC46",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"\uD83D\uDC47",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"\uD83D\uDC48",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"\uD83D\uDC49",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"\uD83D\uDD95",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"\uD83D\uDD90",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"\uD83E\uDD1F",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"\uD83E\uDD18",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"\uD83E\uDD1E",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"\uD83D\uDD96",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"\uD83E\uDD33",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"\uD83D\uDC85",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"\uD83D\uDC44",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"\uD83E\uDDB7",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"\uD83D\uDC45",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"\uD83D\uDC42",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"\uD83D\uDC43",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"\uD83D\uDC41",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"\uD83D\uDC40",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"\uD83E\uDDE0",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"\uD83D\uDC64",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"\uD83D\uDC65",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"\uD83D\uDDE3",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"\uD83D\uDC76",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"\uD83E\uDDD2",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"\uD83D\uDC66",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"\uD83D\uDC67",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"\uD83E\uDDD1",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"\uD83D\uDC68",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"\uD83D\uDC69",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"\uD83D\uDC71‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"\uD83D\uDC71",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"\uD83E\uDDD4",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"\uD83E\uDDD3",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"\uD83D\uDC74",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"\uD83D\uDC75",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"\uD83D\uDC72",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"\uD83E\uDDD5",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"\uD83D\uDC73‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"\uD83D\uDC73",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"\uD83D\uDC6E‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"\uD83D\uDC6E",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"\uD83D\uDC77‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"\uD83D\uDC77",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"\uD83D\uDC82‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"\uD83D\uDC82",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"\uD83D\uDD75️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"\uD83D\uDD75",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"\uD83D\uDC69‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"\uD83D\uDC68‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"\uD83D\uDC69‍\uD83C\uDF3E",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"\uD83D\uDC68‍\uD83C\uDF3E",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"\uD83D\uDC69‍\uD83C\uDF73",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"\uD83D\uDC68‍\uD83C\uDF73",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"\uD83D\uDC69‍\uD83C\uDF93",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"\uD83D\uDC68‍\uD83C\uDF93",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"\uD83D\uDC69‍\uD83C\uDFA4",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"\uD83D\uDC68‍\uD83C\uDFA4",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"\uD83D\uDC69‍\uD83C\uDFEB",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"\uD83D\uDC68‍\uD83C\uDFEB",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"\uD83D\uDC69‍\uD83C\uDFED",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"\uD83D\uDC68‍\uD83C\uDFED",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"\uD83D\uDC69‍\uD83D\uDCBB",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"\uD83D\uDC68‍\uD83D\uDCBB",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"\uD83D\uDC69‍\uD83D\uDCBC",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"\uD83D\uDC68‍\uD83D\uDCBC",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"\uD83D\uDC69‍\uD83D\uDD27",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"\uD83D\uDC68‍\uD83D\uDD27",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"\uD83D\uDC69‍\uD83D\uDD2C",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"\uD83D\uDC68‍\uD83D\uDD2C",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"\uD83D\uDC69‍\uD83C\uDFA8",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"\uD83D\uDC68‍\uD83C\uDFA8",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"\uD83D\uDC69‍\uD83D\uDE92",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"\uD83D\uDC68‍\uD83D\uDE92",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"\uD83D\uDC69‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"\uD83D\uDC68‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"\uD83D\uDC69‍\uD83D\uDE80",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"\uD83D\uDC68‍\uD83D\uDE80",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"\uD83D\uDC69‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"\uD83D\uDC68‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"\uD83E\uDDB8‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"\uD83E\uDDB8‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"\uD83E\uDDB9‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"\uD83E\uDDB9‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"\uD83E\uDD36",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"\uD83C\uDF85",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"\uD83E\uDDD9‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"\uD83E\uDDD9‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"\uD83E\uDDDD‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"\uD83E\uDDDD‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"\uD83E\uDDDB‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"\uD83E\uDDDB‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"\uD83E\uDDDF‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"\uD83E\uDDDF‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"\uD83E\uDDDE‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"\uD83E\uDDDE‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"\uD83E\uDDDC‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"\uD83E\uDDDC‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"\uD83E\uDDDA‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"\uD83E\uDDDA‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"\uD83D\uDC7C",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"\uD83E\uDD30",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"\uD83E\uDD31",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"\uD83D\uDC78",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"\uD83E\uDD34",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"\uD83D\uDC70",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"\uD83E\uDD35",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"\uD83C\uDFC3‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"\uD83C\uDFC3",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"\uD83D\uDEB6‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"\uD83D\uDEB6",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"\uD83D\uDC83",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"\uD83D\uDD7A",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"\uD83D\uDC6F",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"\uD83D\uDC6F‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"\uD83D\uDC6B",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"\uD83D\uDC6C",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"\uD83D\uDC6D",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"\uD83D\uDE47‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"\uD83D\uDE47",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"\uD83E\uDD26‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"\uD83E\uDD26‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"\uD83E\uDD37",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"\uD83E\uDD37‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"\uD83D\uDC81",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"\uD83D\uDC81‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"\uD83D\uDE45",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"\uD83D\uDE45‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"\uD83D\uDE46",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"\uD83D\uDE46‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"\uD83D\uDE4B",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"\uD83D\uDE4B‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"\uD83D\uDE4E",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"\uD83D\uDE4E‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"\uD83D\uDE4D",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"\uD83D\uDE4D‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"\uD83D\uDC87",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"\uD83D\uDC87‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"\uD83D\uDC86",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"\uD83D\uDC86‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"\uD83E\uDDD6‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"\uD83E\uDDD6‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\uD83D\uDC91",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\uD83D\uDC69‍❤️‍\uD83D\uDC69",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\uD83D\uDC68‍❤️‍\uD83D\uDC68",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\uD83D\uDC8F",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\uD83D\uDC69‍❤️‍\uD83D\uDC8B‍\uD83D\uDC69",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\uD83D\uDC68‍❤️‍\uD83D\uDC8B‍\uD83D\uDC68",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"\uD83D\uDC6A",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC66‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC69‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC69‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC69‍\uD83D\uDC66‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC68‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC68‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC68‍\uD83D\uDC67‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC68‍\uD83D\uDC66‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC68‍\uD83D\uDC67‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"\uD83D\uDC69‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"\uD83D\uDC69‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC66‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"\uD83D\uDC68‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"\uD83D\uDC68‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC67‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC66‍\uD83D\uDC66",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"\uD83D\uDC68‍\uD83D\uDC67‍\uD83D\uDC67",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"\uD83E\uDDF6",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"\uD83E\uDDF5",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"\uD83E\uDDE5",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"\uD83E\uDD7C",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"\uD83D\uDC5A",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"\uD83D\uDC55",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"\uD83D\uDC56",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"\uD83D\uDC54",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"\uD83D\uDC57",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"\uD83D\uDC59",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"\uD83D\uDC58",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"\uD83D\uDC84",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"\uD83D\uDC8B",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"\uD83D\uDC63",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"\uD83E\uDD7F",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"\uD83D\uDC60",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"\uD83D\uDC61",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"\uD83D\uDC62",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"\uD83D\uDC5E",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"\uD83D\uDC5F",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"\uD83E\uDD7E",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"\uD83E\uDDE6",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"\uD83E\uDDE4",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"\uD83E\uDDE3",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"\uD83D\uDC52",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"\uD83C\uDFA9",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"\uD83E\uDDE2",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"\uD83C\uDF93",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"\uD83D\uDC51",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"\uD83C\uDF92",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"\uD83E\uDDF3",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"\uD83D\uDC5D",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"\uD83D\uDC5B",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"\uD83D\uDC5C",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"\uD83D\uDCBC",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"\uD83D\uDC53",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"\uD83D\uDD76",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"\uD83E\uDD7D",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"\uD83D\uDC8D",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"\uD83C\uDF02",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"\uD83D\uDC36",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"\uD83D\uDC31",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"\uD83D\uDC2D",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"\uD83D\uDC39",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"\uD83D\uDC30",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"\uD83E\uDD8A",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"\uD83D\uDC3B",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"\uD83D\uDC3C",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"\uD83D\uDC28",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"\uD83D\uDC2F",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"\uD83E\uDD81",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\uD83D\uDC2E",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"\uD83D\uDC37",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"\uD83D\uDC3D",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"\uD83D\uDC38",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"\uD83E\uDD91",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"\uD83D\uDC19",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"\uD83E\uDD90",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"\uD83D\uDC35",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"\uD83E\uDD8D",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"\uD83D\uDE48",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"\uD83D\uDE49",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"\uD83D\uDE4A",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"\uD83D\uDC12",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"\uD83D\uDC14",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"\uD83D\uDC27",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"\uD83D\uDC26",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"\uD83D\uDC24",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"\uD83D\uDC23",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"\uD83D\uDC25",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"\uD83E\uDD86",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"\uD83E\uDD85",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"\uD83E\uDD89",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"\uD83E\uDD87",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"\uD83D\uDC3A",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"\uD83D\uDC17",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"\uD83D\uDC34",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"\uD83E\uDD84",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"\uD83D\uDC1D",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"\uD83D\uDC1B",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"\uD83E\uDD8B",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"\uD83D\uDC0C",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"\uD83D\uDC1E",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"\uD83D\uDC1C",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"\uD83E\uDD97",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"\uD83D\uDD77",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"\uD83E\uDD82",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"\uD83E\uDD80",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"\uD83D\uDC0D",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"\uD83E\uDD8E",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"\uD83E\uDD96",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"\uD83E\uDD95",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"\uD83D\uDC22",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"\uD83D\uDC20",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"\uD83D\uDC1F",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"\uD83D\uDC21",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"\uD83D\uDC2C",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"\uD83E\uDD88",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"\uD83D\uDC33",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"\uD83D\uDC0B",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"\uD83D\uDC0A",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"\uD83D\uDC06",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"\uD83E\uDD93",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"\uD83D\uDC05",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"\uD83D\uDC03",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"\uD83D\uDC02",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\uD83D\uDC04",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"\uD83E\uDD8C",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"\uD83D\uDC2A",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"\uD83D\uDC2B",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"\uD83E\uDD92",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"\uD83D\uDC18",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"\uD83E\uDD8F",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"\uD83D\uDC10",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"\uD83D\uDC0F",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"\uD83D\uDC11",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"\uD83D\uDC0E",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"\uD83D\uDC16",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"\uD83D\uDC00",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"\uD83D\uDC01",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"\uD83D\uDC13",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"\uD83E\uDD83",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"\uD83D\uDD4A",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"\uD83D\uDC15",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"\uD83D\uDC29",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"\uD83D\uDC08",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"\uD83D\uDC07",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"\uD83D\uDC3F",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"\uD83E\uDD94",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"\uD83E\uDD9D",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"\uD83E\uDD99",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"\uD83E\uDD9B",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"\uD83E\uDD98",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"\uD83E\uDDA1",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"\uD83E\uDDA2",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"\uD83E\uDD9A",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"\uD83E\uDD9C",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"\uD83E\uDD9E",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"\uD83E\uDD9F",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"\uD83D\uDC3E",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"\uD83D\uDC09",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"\uD83D\uDC32",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"\uD83C\uDF35",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"\uD83C\uDF84",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"\uD83C\uDF32",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"\uD83C\uDF33",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"\uD83C\uDF34",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"\uD83C\uDF31",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"\uD83C\uDF3F",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"\uD83C\uDF40",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"\uD83C\uDF8D",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"\uD83C\uDF8B",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"\uD83C\uDF43",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"\uD83C\uDF42",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"\uD83C\uDF41",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"\uD83C\uDF3E",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"\uD83C\uDF3A",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"\uD83C\uDF3B",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"\uD83C\uDF39",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"\uD83E\uDD40",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"\uD83C\uDF37",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"\uD83C\uDF3C",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"\uD83C\uDF38",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"\uD83D\uDC90",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"\uD83C\uDF44",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"\uD83C\uDF30",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"\uD83C\uDF83",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"\uD83D\uDC1A",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"\uD83D\uDD78",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"\uD83C\uDF0E",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"\uD83C\uDF0D",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"\uD83C\uDF0F",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF15",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"\uD83C\uDF16",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF17",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF18",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF11",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF12",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF13",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"\uD83C\uDF14",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF1A",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF1D",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF1B",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\uD83C\uDF1C",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"\uD83C\uDF1E",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"\uD83C\uDF19",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"\uD83C\uDF1F",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"\uD83D\uDCAB",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"\uD83C\uDF24",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"\uD83C\uDF25",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"\uD83C\uDF26",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"\uD83C\uDF27",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"\uD83C\uDF29",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"\uD83D\uDD25",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"\uD83D\uDCA5",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"\uD83C\uDF28",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"\uD83C\uDF2C",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"\uD83D\uDCA8",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"\uD83C\uDF2A",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"\uD83C\uDF2B",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"\uD83D\uDCA7",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"\uD83D\uDCA6",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"\uD83C\uDF0A",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"\uD83C\uDF4F",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"\uD83C\uDF4E",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"\uD83C\uDF50",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"\uD83C\uDF4A",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"\uD83C\uDF4B",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"\uD83C\uDF4C",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"\uD83C\uDF49",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"\uD83C\uDF47",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"\uD83C\uDF53",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"\uD83C\uDF48",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"\uD83C\uDF52",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"\uD83C\uDF51",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"\uD83C\uDF4D",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"\uD83E\uDD65",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"\uD83E\uDD5D",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"\uD83E\uDD6D",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"\uD83E\uDD51",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"\uD83E\uDD66",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"\uD83C\uDF45",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"\uD83C\uDF46",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"\uD83E\uDD52",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"\uD83E\uDD55",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"\uD83C\uDF36",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"\uD83E\uDD54",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"\uD83C\uDF3D",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"\uD83E\uDD6C",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"\uD83C\uDF60",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"\uD83E\uDD5C",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"\uD83C\uDF6F",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"\uD83E\uDD50",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"\uD83C\uDF5E",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"\uD83E\uDD56",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"\uD83E\uDD6F",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"\uD83E\uDD68",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"\uD83E\uDDC0",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"\uD83E\uDD5A",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"\uD83E\uDD53",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"\uD83E\uDD69",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"\uD83E\uDD5E",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"\uD83C\uDF57",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"\uD83C\uDF56",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"\uD83E\uDDB4",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"\uD83C\uDF64",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"\uD83C\uDF73",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"\uD83C\uDF54",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"\uD83C\uDF5F",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"\uD83E\uDD59",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"\uD83C\uDF2D",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"\uD83C\uDF55",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"\uD83E\uDD6A",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"\uD83E\uDD6B",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"\uD83C\uDF5D",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"\uD83C\uDF2E",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"\uD83C\uDF2F",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"\uD83E\uDD57",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"\uD83E\uDD58",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"\uD83C\uDF5C",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"\uD83C\uDF72",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"\uD83C\uDF65",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"\uD83E\uDD60",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"\uD83C\uDF63",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"\uD83C\uDF71",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"\uD83C\uDF5B",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"\uD83C\uDF59",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"\uD83C\uDF5A",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"\uD83C\uDF58",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"\uD83C\uDF62",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"\uD83C\uDF61",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"\uD83C\uDF67",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"\uD83C\uDF68",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"\uD83C\uDF66",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"\uD83E\uDD67",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"\uD83C\uDF70",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"\uD83E\uDDC1",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"\uD83E\uDD6E",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"\uD83C\uDF82",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"\uD83C\uDF6E",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"\uD83C\uDF6C",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"\uD83C\uDF6D",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"\uD83C\uDF6B",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"\uD83C\uDF7F",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"\uD83E\uDD5F",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"\uD83C\uDF69",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"\uD83C\uDF6A",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"\uD83E\uDD5B",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\uD83C\uDF7A",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\uD83C\uDF7B",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"\uD83E\uDD42",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"\uD83C\uDF77",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"\uD83E\uDD43",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"\uD83C\uDF78",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"\uD83C\uDF79",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"\uD83C\uDF7E",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"\uD83C\uDF76",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"\uD83C\uDF75",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"\uD83E\uDD64",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"\uD83C\uDF7C",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"\uD83E\uDDC2",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"\uD83E\uDD44",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"\uD83C\uDF74",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"\uD83C\uDF7D",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"\uD83E\uDD63",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"\uD83E\uDD61",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"\uD83E\uDD62",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"\uD83C\uDFC0",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"\uD83C\uDFC8",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"\uD83E\uDD4E",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"\uD83C\uDFBE",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"\uD83C\uDFD0",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"\uD83C\uDFC9",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"\uD83E\uDD4F",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"\uD83C\uDFB1",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"\uD83C\uDFCC️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"\uD83C\uDFCC",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"\uD83C\uDFD3",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"\uD83C\uDFF8",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"\uD83E\uDD45",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"\uD83C\uDFD2",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"\uD83C\uDFD1",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"\uD83E\uDD4D",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"\uD83C\uDFCF",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"\uD83C\uDFBF",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"\uD83C\uDFC2",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"\uD83E\uDD3A",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"\uD83E\uDD3C‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"\uD83E\uDD3C‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"\uD83E\uDD38‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"\uD83E\uDD38‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"\uD83E\uDD3E‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"\uD83E\uDD3E‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"\uD83E\uDD4C",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"\uD83D\uDEF9",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"\uD83D\uDEF7",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"\uD83C\uDFF9",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"\uD83C\uDFA3",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"\uD83E\uDD4A",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"\uD83E\uDD4B",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"\uD83D\uDEA3‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"\uD83D\uDEA3",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"\uD83E\uDDD7‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"\uD83E\uDDD7‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"\uD83C\uDFCA‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"\uD83C\uDFCA",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"\uD83E\uDD3D‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"\uD83E\uDD3D‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"\uD83E\uDDD8‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"\uD83E\uDDD8‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"\uD83C\uDFC4‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"\uD83C\uDFC4",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"\uD83D\uDEC0",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"\uD83C\uDFCB️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"\uD83C\uDFCB",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"\uD83D\uDEB4‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"\uD83D\uDEB4",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"\uD83D\uDEB5‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"\uD83D\uDEB5",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"\uD83C\uDFC7",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"\uD83D\uDD74",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"\uD83C\uDFC6",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"\uD83C\uDFBD",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"\uD83C\uDFC5",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"\uD83C\uDF96",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"\uD83E\uDD47",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"\uD83E\uDD48",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"\uD83E\uDD49",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"\uD83C\uDF97",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"\uD83C\uDFF5",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"\uD83C\uDFAB",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"\uD83C\uDF9F",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"\uD83C\uDFAD",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"\uD83C\uDFA8",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"\uD83C\uDFAA",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\uD83E\uDD39‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\uD83E\uDD39‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"\uD83C\uDFA4",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"\uD83C\uDFA7",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"\uD83C\uDFBC",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"\uD83C\uDFB9",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"\uD83E\uDD41",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"\uD83C\uDFB7",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"\uD83C\uDFBA",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"\uD83C\uDFB8",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"\uD83C\uDFBB",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"\uD83C\uDFAC",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"\uD83C\uDFAE",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"\uD83D\uDC7E",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"\uD83C\uDFAF",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"\uD83C\uDFB2",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"\uD83C\uDFB0",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"\uD83E\uDDE9",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"\uD83C\uDFB3",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"\uD83D\uDE97",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"\uD83D\uDE95",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"\uD83D\uDE99",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"\uD83D\uDE8C",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"\uD83D\uDE8E",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"\uD83C\uDFCE",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"\uD83D\uDE93",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"\uD83D\uDE91",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"\uD83D\uDE92",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"\uD83D\uDE90",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"\uD83D\uDE9A",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"\uD83D\uDE9B",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"\uD83D\uDE9C",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"\uD83D\uDEF4",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"\uD83C\uDFCD",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"\uD83D\uDEB2",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"\uD83D\uDEF5",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"\uD83D\uDEA8",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"\uD83D\uDE94",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"\uD83D\uDE8D",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"\uD83D\uDE98",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"\uD83D\uDE96",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"\uD83D\uDEA1",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"\uD83D\uDEA0",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"\uD83D\uDE9F",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"\uD83D\uDE83",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"\uD83D\uDE8B",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"\uD83D\uDE9D",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"\uD83D\uDE84",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"\uD83D\uDE85",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"\uD83D\uDE88",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"\uD83D\uDE9E",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"\uD83D\uDE82",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"\uD83D\uDE86",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"\uD83D\uDE87",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"\uD83D\uDE8A",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"\uD83D\uDE89",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"\uD83D\uDEF8",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"\uD83D\uDE81",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"\uD83D\uDEE9",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"\uD83D\uDEEB",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"\uD83D\uDEEC",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"\uD83D\uDEE5",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"\uD83D\uDEA4",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"\uD83D\uDEF3",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"\uD83D\uDE80",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"\uD83D\uDEF0",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"\uD83D\uDCBA",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"\uD83D\uDEF6",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"\uD83D\uDEA7",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"\uD83D\uDE8F",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"\uD83D\uDEA6",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"\uD83D\uDEA5",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"\uD83C\uDFC1",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"\uD83D\uDEA2",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"\uD83C\uDFA1",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"\uD83C\uDFA2",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"\uD83C\uDFA0",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"\uD83C\uDFD7",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"\uD83C\uDF01",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"\uD83D\uDDFC",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"\uD83C\uDFED",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"\uD83C\uDF91",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"\uD83C\uDFD4",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"\uD83D\uDDFB",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"\uD83C\uDF0B",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"\uD83D\uDDFE",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"\uD83C\uDFD5",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"\uD83C\uDFDE",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"\uD83D\uDEE3",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"\uD83D\uDEE4",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"\uD83C\uDF05",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"\uD83C\uDF04",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"\uD83C\uDFDC",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"\uD83C\uDFD6",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"\uD83C\uDFDD",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"\uD83C\uDF07",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"\uD83C\uDF06",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"\uD83C\uDFD9",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"\uD83C\uDF03",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"\uD83C\uDF09",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"\uD83C\uDF0C",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"\uD83C\uDF20",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"\uD83C\uDF87",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"\uD83C\uDF86",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"\uD83C\uDF08",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"\uD83C\uDFD8",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"\uD83C\uDFF0",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"\uD83C\uDFEF",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"\uD83C\uDFDF",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"\uD83D\uDDFD",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"\uD83C\uDFE0",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"\uD83C\uDFE1",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"\uD83C\uDFDA",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"\uD83C\uDFE2",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"\uD83C\uDFEC",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"\uD83C\uDFE3",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"\uD83C\uDFE4",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"\uD83C\uDFE5",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"\uD83C\uDFE6",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"\uD83C\uDFE8",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"\uD83C\uDFEA",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"\uD83C\uDFEB",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"\uD83C\uDFE9",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"\uD83D\uDC92",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"\uD83C\uDFDB",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"\uD83D\uDD4C",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"\uD83D\uDD4D",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"\uD83D\uDD4B",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"\uD83D\uDCF1",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"\uD83D\uDCF2",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"\uD83D\uDCBB",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"\uD83D\uDDA5",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"\uD83D\uDDA8",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"\uD83D\uDDB1",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"\uD83D\uDDB2",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"\uD83D\uDD79",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"\uD83D\uDDDC",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"\uD83D\uDCBD",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"\uD83D\uDCBE",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"\uD83D\uDCBF",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"\uD83D\uDCC0",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"\uD83D\uDCFC",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"\uD83D\uDCF7",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"\uD83D\uDCF8",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"\uD83D\uDCF9",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"\uD83C\uDFA5",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"\uD83D\uDCFD",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"\uD83C\uDF9E",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"\uD83D\uDCDE",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"\uD83D\uDCDF",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"\uD83D\uDCE0",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"\uD83D\uDCFA",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"\uD83D\uDCFB",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"\uD83C\uDF99",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"\uD83C\uDF9A",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"\uD83C\uDF9B",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"\uD83E\uDDED",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"\uD83D\uDD70",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"\uD83D\uDCE1",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"\uD83D\uDD0B",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"\uD83D\uDD0C",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"\uD83D\uDCA1",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"\uD83D\uDD26",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"\uD83D\uDD6F",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"\uD83E\uDDEF",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"\uD83D\uDDD1",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"\uD83D\uDEE2",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"\uD83D\uDCB8",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"\uD83D\uDCB5",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"\uD83D\uDCB4",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"\uD83D\uDCB6",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"\uD83D\uDCB7",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"\uD83D\uDCB0",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"\uD83D\uDCB3",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"\uD83D\uDC8E",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"\uD83E\uDDF0",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"\uD83D\uDD27",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"\uD83D\uDD28",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"\uD83D\uDEE0",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"\uD83D\uDD29",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"\uD83E\uDDF1",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"\uD83E\uDDF2",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"\uD83D\uDD2B",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"\uD83D\uDCA3",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"\uD83E\uDDE8",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"\uD83D\uDD2A",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"\uD83D\uDDE1",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"\uD83D\uDEE1",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"\uD83D\uDEAC",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"\uD83C\uDFFA",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"\uD83D\uDD2E",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"\uD83D\uDCFF",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"\uD83E\uDDFF",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"\uD83D\uDC88",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"\uD83D\uDD2D",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"\uD83D\uDD2C",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"\uD83D\uDD73",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"\uD83D\uDC8A",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"\uD83D\uDC89",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"\uD83E\uDDEC",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"\uD83E\uDDA0",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"\uD83E\uDDEB",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"\uD83E\uDDEA",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"\uD83C\uDF21",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"\uD83E\uDDF9",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"\uD83E\uDDFA",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"\uD83E\uDDFB",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"\uD83C\uDFF7",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"\uD83D\uDD16",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"\uD83D\uDEBD",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"\uD83D\uDEBF",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"\uD83D\uDEC1",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"\uD83E\uDDFC",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"\uD83E\uDDFD",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"\uD83E\uDDF4",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"\uD83D\uDD11",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"\uD83D\uDDDD",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"\uD83D\uDECB",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"\uD83D\uDECC",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"\uD83D\uDECF",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"\uD83D\uDEAA",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"\uD83D\uDECE",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"\uD83E\uDDF8",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"\uD83D\uDDBC",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"\uD83D\uDDFA",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"\uD83D\uDDFF",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"\uD83D\uDECD",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"\uD83D\uDED2",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"\uD83C\uDF88",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"\uD83C\uDF8F",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"\uD83C\uDF80",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"\uD83C\uDF81",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"\uD83C\uDF8A",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"\uD83C\uDF89",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"\uD83C\uDF8E",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"\uD83C\uDF90",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"\uD83C\uDF8C",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"\uD83C\uDFEE",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"\uD83E\uDDE7",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"\uD83D\uDCE9",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"\uD83D\uDCE8",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"\uD83D\uDCE7",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"\uD83D\uDC8C",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"\uD83D\uDCEE",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"\uD83D\uDCEA",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"\uD83D\uDCEB",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"\uD83D\uDCEC",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"\uD83D\uDCED",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"\uD83D\uDCE6",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"\uD83D\uDCEF",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"\uD83D\uDCE5",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"\uD83D\uDCE4",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"\uD83D\uDCDC",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"\uD83D\uDCC3",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"\uD83D\uDCD1",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"\uD83E\uDDFE",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"\uD83D\uDCCA",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"\uD83D\uDCC8",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"\uD83D\uDCC9",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"\uD83D\uDCC4",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"\uD83D\uDCC5",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"\uD83D\uDCC6",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"\uD83D\uDDD3",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"\uD83D\uDCC7",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"\uD83D\uDDC3",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"\uD83D\uDDF3",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"\uD83D\uDDC4",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"\uD83D\uDCCB",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"\uD83D\uDDD2",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"\uD83D\uDCC1",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"\uD83D\uDCC2",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"\uD83D\uDDC2",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"\uD83D\uDDDE",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"\uD83D\uDCF0",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"\uD83D\uDCD3",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"\uD83D\uDCD5",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"\uD83D\uDCD7",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"\uD83D\uDCD8",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"\uD83D\uDCD9",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"\uD83D\uDCD4",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"\uD83D\uDCD2",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"\uD83D\uDCDA",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"\uD83D\uDCD6",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"\uD83E\uDDF7",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"\uD83D\uDD17",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"\uD83D\uDCCE",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"\uD83D\uDD87",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"\uD83D\uDCD0",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"\uD83D\uDCCF",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"\uD83E\uDDEE",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"\uD83D\uDCCC",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"\uD83D\uDCCD",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"\uD83D\uDEA9",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"\uD83C\uDFF3",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"\uD83C\uDFF4",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"\uD83C\uDFF3️‍\uD83C\uDF08",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"\uD83D\uDD10",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"\uD83D\uDD12",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"\uD83D\uDD13",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"\uD83D\uDD0F",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"\uD83D\uDD8A",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"\uD83D\uDD8B",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"\uD83D\uDCDD",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"\uD83D\uDD8D",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"\uD83D\uDD8C",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"\uD83D\uDD0D",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"\uD83D\uDD0E",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"\uD83E\uDDE1",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"\uD83D\uDC9B",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"\uD83D\uDC9A",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"\uD83D\uDC99",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"\uD83D\uDC9C",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"\uD83D\uDDA4",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"\uD83D\uDC94",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"\uD83D\uDC95",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"\uD83D\uDC9E",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"\uD83D\uDC93",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"\uD83D\uDC97",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"\uD83D\uDC96",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"\uD83D\uDC98",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"\uD83D\uDC9D",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"\uD83D\uDC9F",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\uD83D\uDD49",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"\uD83D\uDD2F",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"\uD83D\uDD4E",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"\uD83D\uDED0",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"\uD83C\uDD94",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"\uD83C\uDE33",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"\uD83C\uDE39",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"\uD83D\uDCF4",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"\uD83D\uDCF3",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"\uD83C\uDE36",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"\uD83C\uDE1A",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"\uD83C\uDE38",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"\uD83C\uDE3A",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"\uD83C\uDE37️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"\uD83C\uDD9A",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"\uD83C\uDE51",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"\uD83D\uDCAE",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"\uD83C\uDE50",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"\uD83C\uDE34",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"\uD83C\uDE35",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"\uD83C\uDE32",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"\uD83C\uDD70️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"\uD83C\uDD71️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"\uD83C\uDD8E",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"\uD83C\uDD91",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"\uD83C\uDD7E️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"\uD83C\uDD98",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"\uD83D\uDCDB",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"\uD83D\uDEAB",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"\uD83D\uDED1",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"\uD83D\uDCA2",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"\uD83D\uDEB7",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"\uD83D\uDEAF",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"\uD83D\uDEB3",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"\uD83D\uDEB1",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"\uD83D\uDD1E",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"\uD83D\uDCF5",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"\uD83D\uDCAF",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"\uD83D\uDD05",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"\uD83D\uDD06",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"\uD83D\uDD31",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"\uD83D\uDEB8",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"\uD83D\uDD30",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"\uD83C\uDE2F",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"\uD83D\uDCB9",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"\uD83D\uDCA0",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"\uD83C\uDF00",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"\uD83C\uDF10",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"\uD83C\uDFE7",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"\uD83C\uDE02️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"\uD83D\uDEC2",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"\uD83D\uDEC3",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"\uD83D\uDEC4",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"\uD83D\uDEC5",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"\uD83D\uDEAD",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"\uD83D\uDEBE",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"\uD83C\uDD7F️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"\uD83D\uDEB0",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"\uD83D\uDEB9",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"\uD83D\uDEBA",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"\uD83D\uDEBC",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"\uD83D\uDEBB",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"\uD83D\uDEAE",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"\uD83C\uDFA6",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"\uD83D\uDCF6",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"\uD83C\uDE01",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"\uD83C\uDD96",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"\uD83C\uDD97",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"\uD83C\uDD99",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"\uD83C\uDD92",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"\uD83C\uDD95",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"\uD83C\uDD93",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"\uD83D\uDD1F",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"\uD83D\uDD22",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"\uD83D\uDD00",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"\uD83D\uDD01",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"\uD83D\uDD02",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"\uD83D\uDD3C",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"\uD83D\uDD3D",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"\uD83D\uDD04",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"\uD83D\uDD24",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"\uD83D\uDD21",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"\uD83D\uDD20",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"\uD83D\uDD23",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"\uD83C\uDFB5",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"\uD83C\uDFB6",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"\uD83D\uDD03",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"\uD83D\uDCB2",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"\uD83D\uDCB1",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"\xa9️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"\xae️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"\uD83D\uDD1A",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"\uD83D\uDD19",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"\uD83D\uDD1B",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"\uD83D\uDD1D",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"\uD83D\uDD1C",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"\uD83D\uDD18",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"\uD83D\uDD34",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"\uD83D\uDD35",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"\uD83D\uDD38",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"\uD83D\uDD39",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"\uD83D\uDD36",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"\uD83D\uDD37",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"\uD83D\uDD3A",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"\uD83D\uDD3B",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"\uD83D\uDD32",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"\uD83D\uDD33",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"\uD83D\uDD08",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"\uD83D\uDD09",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"\uD83D\uDD0A",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"\uD83D\uDD07",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"\uD83D\uDCE3",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"\uD83D\uDCE2",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"\uD83D\uDD14",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"\uD83D\uDD15",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"\uD83C\uDCCF",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"\uD83C\uDC04",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"\uD83C\uDFB4",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"\uD83D\uDCAD",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"\uD83D\uDDEF",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"\uD83D\uDCAC",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"\uD83D\uDDE8",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD50",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD51",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD52",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD53",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD54",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"\uD83D\uDD55",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD56",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD57",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD58",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD59",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD5A",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"\uD83D\uDD5B",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD5C",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD5D",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD5E",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD5F",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD60",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD61",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD62",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD63",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD64",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD65",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD66",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"\uD83D\uDD67",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["\xc5land","islands","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDFD",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"\uD83C\uDDE9\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDF6",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDE7",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDEF",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF6",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"\uD83C\uDDFB\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDFB",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"\uD83C\uDDE8\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDFD",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"\uD83C\uDDED\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["cura\xe7ao","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"\uD83C\uDDE9\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"\uD83C\uDDE9\uD83C\uDDEF",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"\uD83C\uDDE9\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"\uD83C\uDDE9\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"\uD83C\uDDEA\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"\uD83C\uDDEA\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDFB",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF6",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"\uD83C\uDDEA\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"\uD83C\uDDEA\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"\uD83C\uDDEA\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"\uD83C\uDDEA\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"\uD83C\uDDEB\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"\uD83C\uDDEB\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"\uD83C\uDDEB\uD83C\uDDEF",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"\uD83C\uDDEB\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"\uD83C\uDDEB\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"\uD83C\uDDE9\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF5",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"\uD83C\uDDED\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"\uD83C\uDDED\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"\uD83C\uDDED\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"\uD83C\uDDED\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF6",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"\uD83C\uDDEE\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"\uD83C\uDDEF\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"\uD83C\uDDEF\uD83C\uDDF5",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"\uD83C\uDDEF\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"\uD83C\uDDEF\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"\uD83C\uDDFD\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDFB",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDE7",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDFB",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF6",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"\uD83C\uDDFE\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDFD",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"\uD83C\uDDEB\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDF5",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"\uD83C\uDDF2\uD83C\uDDF5",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDF5",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"\uD83C\uDDF3\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"\uD83C\uDDF4\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"\uD83C\uDDF6\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["r\xe9union","flag","nation","country","banner"],char:"\uD83C\uDDF7\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"\uD83C\uDDF7\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"\uD83C\uDDF7\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"\uD83C\uDDF7\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barth\xe9lemy","flag","nation","country","banner"],char:"\uD83C\uDDE7\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"\uD83C\uDDF5\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"\uD83C\uDDFB\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"\uD83C\uDDFC\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"\uD83C\uDDF7\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDFD",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDE7",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"\uD83C\uDDFF\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"\uD83C\uDDEC\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"\uD83C\uDDF0\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"\uD83C\uDDEA\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"\uD83C\uDDF1\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDE9",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"\uD83C\uDDE8\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"\uD83C\uDDF8\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDEF",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDF1",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDF0",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDF4",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDF9",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDF7",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDE8",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"\uD83C\uDDF9\uD83C\uDDFB",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"\uD83C\uDDFA\uD83C\uDDEC",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"\uD83C\uDDFA\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"\uD83C\uDDE6\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"\uD83C\uDDEC\uD83C\uDDE7",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67\uDB40\uDC7F",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74\uDB40\uDC7F",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73\uDB40\uDC7F",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"\uD83C\uDDFA\uD83C\uDDF8",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"\uD83C\uDDFB\uD83C\uDDEE",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"\uD83C\uDDFA\uD83C\uDDFE",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"\uD83C\uDDFA\uD83C\uDDFF",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"\uD83C\uDDFB\uD83C\uDDFA",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"\uD83C\uDDFB\uD83C\uDDE6",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"\uD83C\uDDFB\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"\uD83C\uDDFB\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"\uD83C\uDDFC\uD83C\uDDEB",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"\uD83C\uDDEA\uD83C\uDDED",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"\uD83C\uDDFE\uD83C\uDDEA",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"\uD83C\uDDFF\uD83C\uDDF2",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"\uD83C\uDDFF\uD83C\uDDFC",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"\uD83C\uDDFA\uD83C\uDDF3",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"\uD83C\uDFF4‍☠️",fitzpatrick_scale:!1,category:"flags"}})},89692:function(){!function(){"use strict";let e;var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let r=e=>t=>e===t,o=r(null),a=r(void 0),n=e=>null==e,l=e=>!n(e),i=()=>{},s=()=>!1;class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?c.some(e):c.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);let d=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},m=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},u=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},g=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},p=(e,t)=>{let r=null,a=()=>{o(r)||(clearTimeout(r),r=null)};return{cancel:a,throttle:(...o)=>{a(),r=setTimeout(()=>{r=null,e.apply(null,o)},t)}}},h=(e,t)=>{e.insertContent(t)},f=Object.keys,y=Object.hasOwnProperty,b=(e,t)=>{let r=f(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},v=(e,t)=>k(e,(e,r)=>({k:r,v:t(e,r)})),k=(e,t)=>{let r={};return b(e,(e,o)=>{let a=t(e,o);r[a.k]=a.v}),r},w=(e,t)=>y.call(e,t),_=(e=(e,t)=>t,(...t)=>{if(0===t.length)throw Error("Can't merge zero objects");let r={};for(let o=0;o<t.length;o++){let a=t[o];for(let t in a)w(a,t)&&(r[t]=e(r[t],a[t]))}return r}),x=e=>{let t=g(c.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(c.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(c.some(e))}}},C=()=>{let e=x(i);return{...e,on:t=>e.get().each(t)}},S=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,z=(e,t,r=0,o)=>{let n=e.indexOf(t,r);return -1!==n&&(!!a(o)||n+t.length<=o)},E=(e,t)=>S(e,t,0);var T=tinymce.util.Tools.resolve("tinymce.Resource");let A=e=>t=>t.options.get(e),O=(e,t)=>{let r=e.options.register;r("emoticons_database",{processor:"string",default:"emojis"}),r("emoticons_database_url",{processor:"string",default:`${t}/js/${D(e)}${e.suffix}.js`}),r("emoticons_database_id",{processor:"string",default:"tinymce.plugins.emoticons"}),r("emoticons_append",{processor:"object",default:{}}),r("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},D=A("emoticons_database"),N=A("emoticons_database_url"),M=A("emoticons_database_id"),R=A("emoticons_append"),B=A("emoticons_images_url"),F={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},L=(e,t)=>w(e,t)?e[t]:t,I=e=>v(R(e),e=>({keywords:[],category:"user",...e})),P=(e,t,r)=>{let o=C(),a=C(),n=B(e),l=e=>E(e.char,"<img")?e.char.replace(/src="([^"]+)"/,(e,t)=>`src="${n}${t}"`):e.char,i=e=>{let t={},r=[];b(e,(e,o)=>{let a={title:o,keywords:e.keywords,char:l(e),category:L(F,e.category)},n=void 0!==t[a.category]?t[a.category]:[];t[a.category]=n.concat([a]),r.push(a)}),o.set(t),a.set(r)};e.on("init",()=>{T.load(r,t).then(t=>{i(_(t,I(e)))},e=>{console.log(`Failed to load emojis: ${e}`),o.set({}),a.set([])})});let s=()=>a.get().getOr([]),d=()=>o.isSet()&&a.isSet();return{listCategories:()=>["All"].concat(f(o.get().getOr({}))),hasLoaded:d,waitForLoad:()=>d()?Promise.resolve(!0):new Promise((e,r)=>{let o=15,a=setInterval(()=>{d()?(clearInterval(a),e(!0)):--o<0&&(console.log("Could not load emojis from url: "+t),clearInterval(a),r(!1))},100)}),listAll:s,listCategory:e=>"All"===e?s():o.get().bind(t=>c.from(t[e])).getOr([])}},H=(e,t)=>z(e.title.toLowerCase(),t)||d(e.keywords,e=>z(e.toLowerCase(),t)),j=(e,t,r)=>{let o=[],a=t.toLowerCase(),n=r.fold(()=>s,e=>t=>t>=e);for(let r=0;r<e.length&&!((0===t.length||H(e[r],a))&&(o.push({value:e[r].char,text:e[r].title,icon:e[r].char}),n(o.length)));r++);return o},V="pattern",U=(e,t)=>{let r={pattern:"",results:j(t.listAll(),"",c.some(300))},o=g("All"),a=e=>{let r=e.getData(),a=o.get(),n=j(t.listCategory(a),r[V],"All"===a?c.some(300):c.none());e.setData({results:n})},n=p(e=>{a(e)},200),l={label:"Search",type:"input",name:V},i={type:"collection",name:"results"},s=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:m(t.listCategories(),e=>({title:e,name:e,items:[l,i]}))},initialData:r,onTabChange:(e,t)=>{o.set(t.newTabName),n.throttle(e)},onChange:n.throttle,onAction:(t,r)=>{"results"===r.name&&(h(e,r.value),t.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),d=e.windowManager.open(s());d.focus(V),t.hasLoaded()||(d.block("Loading emojis..."),t.waitForLoad().then(()=>{d.redial(s()),n.throttle(d),d.focus(V),d.unblock()}).catch(e=>{d.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),d.focus(V),d.unblock()}))},Z=(e,t)=>{e.addCommand("mceEmoticons",()=>U(e,t))},q=e=>{e.on("PreInit",()=>{e.parser.addAttributeFilter("data-emoticon",e=>{u(e,e=>{e.attr("data-mce-resize","false"),e.attr("data-mce-placeholder","1")})})})},W=(e,t)=>{e.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(e,r)=>t.waitForLoad().then(()=>j(t.listAll(),e,c.some(r))),onAction:(t,r,o)=>{e.selection.setRng(r),e.insertContent(o),t.hide()}})},$=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},G=e=>{let t=()=>e.execCommand("mceEmoticons");e.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:t,onSetup:$(e)}),e.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:t,onSetup:$(e)})};t.add("emoticons",(e,t)=>{O(e,t);let r=N(e),o=M(e),a=P(e,r,o);Z(e,a),G(e),W(e,a),q(e)})}()},23759:function(e,t,r){r(95542)},95542:function(){!function(){"use strict";let e,t,r,o=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var a,n=tinymce.util.Tools.resolve("tinymce.PluginManager");let l=e=>({isFullscreen:()=>null!==e.get()}),i=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},s=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&i(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},c=e=>t=>s(t)===e,d=e=>t=>typeof t===e,m=e=>t=>e===t,u=c("string"),g=c("object"),p=c("array"),h=m(null),f=d("boolean"),y=m(void 0),b=e=>null==e,v=e=>!b(e),k=d("function"),w=d("number"),_=()=>{},x=(e,t)=>(...r)=>e(t.apply(null,r)),C=(e,t)=>r=>e(t(r)),S=e=>()=>e,z=S(!1),E=S(!0);class T{constructor(e,t){this.tag=e,this.value=t}static some(e){return new T(!0,e)}static none(){return T.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?T.some(e(this.value)):T.none()}bind(e){return this.tag?e(this.value):T.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:T.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return v(e)?T.some(e):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);let A=Array.prototype.push,O=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},D=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},N=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},M=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return T.some(a);if(r(a,o))break}return T.none()},R=(e,t)=>M(e,t,z),B=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!p(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);A.apply(t,e[r])}return t},F=(e,t)=>B(O(e,t)),L=(e,t)=>t>=0&&t<e.length?T.some(e[t]):T.none(),I=e=>L(e,0),P=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return T.none()},H=(e,t,r)=>e.isSome()&&t.isSome()?T.some(r(e.getOrDie(),t.getOrDie())):T.none(),j=e=>{let t=o(T.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(T.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(T.some(e))}}},V=()=>j(e=>e.unbind()),U=()=>{let e=j(_);return{...e,on:t=>e.get().each(t)}},Z=(e,t)=>{let r=null;return{cancel:()=>{h(r)||(clearTimeout(r),r=null)},throttle:(...o)=>{h(r)&&(r=setTimeout(()=>{r=null,e.apply(null,o)},t))}}},q=Object.keys,W=(e,t)=>{let r=q(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},$="undefined"!=typeof window?window:Function("return this;")(),G=(e,t)=>{let r=null!=t?t:$;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},K=(e,t)=>G(e.split("."),t),Y=(e,t)=>K(e,t),X=(e,t)=>{let r=Y(e,t);if(null==r)throw Error(e+" not available on this browser");return r},J=Object.getPrototypeOf,Q=e=>X("HTMLElement",e),ee=e=>{let t=K("ownerDocument.defaultView",e);return g(e)&&(Q(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(J(e).constructor.name))},et=e=>e.dom.nodeType,er=e=>t=>et(t)===e,eo=e=>ea(e)&&ee(e.dom),ea=er(1),en=er(3),el=er(9),ei=er(11),es=(e,t,r)=>{if(u(r)||f(r)||w(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},ec=(e,t,r)=>{es(e.dom,t,r)},ed=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},em=(e,t)=>{e.dom.removeAttribute(t)},eu=e=>void 0!==e.dom.classList,eg=(e,t)=>eu(e)&&e.dom.classList.contains(t),ep=(e,t,r=0,o)=>{let a=e.indexOf(t,r);return -1!==a&&(!!y(o)||a+t.length<=o)},eh=e=>void 0!==e.style&&k(e.style.getPropertyValue),ef={fromDom:e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}}},ey=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);else throw Error("Browser lacks native selectors")},eb=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,ev=(e,t)=>{let r=void 0===t?document:t.dom;return eb(r)?[]:O(r.querySelectorAll(e),ef.fromDom)},ek=(e,t)=>e.dom===t.dom,ew=e=>ef.fromDom(e.dom.ownerDocument),e_=e=>T.from(e.dom.parentNode).map(ef.fromDom),ex=(e,t)=>{let r=k(t)?t:z,o=e.dom,a=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){let e=o.parentNode,t=ef.fromDom(e);if(a.push(t),!0===r(t))break;o=e}return a},eC=e=>e_(e).map(ez).map(t=>N(t,t=>!ek(e,t))).getOr([]),eS=e=>T.from(e.dom.nextSibling).map(ef.fromDom),ez=e=>O(e.dom.childNodes,ef.fromDom),eE=e=>ei(e)&&v(e.dom.host),eT=k(Element.prototype.attachShadow)&&k(Node.prototype.getRootNode),eA=S(eT),eO=eT?e=>ef.fromDom(e.dom.getRootNode()):e=>el(e)?e:ew(e),eD=e=>{let t=eO(e);return eE(t)?T.some(t):T.none()},eN=e=>ef.fromDom(e.dom.host),eM=e=>{if(eA()&&v(e.target)){let t=ef.fromDom(e.target);if(ea(t)&&eR(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return I(t)}}return T.from(e.target)},eR=e=>v(e.dom.shadowRoot),eB=e=>{let t=en(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return eD(ef.fromDom(t)).fold(()=>r.body.contains(t),C(eB,eN))},eF=e=>{let t=e.dom.body;if(null==t)throw Error("Body is not available yet");return ef.fromDom(t)},eL=(e,t,r)=>{if(!u(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);eh(e)&&e.style.setProperty(t,r)},eI=(e,t,r)=>{eL(e.dom,t,r)},eP=(e,t)=>{let r=e.dom;W(t,(e,t)=>{eL(r,t,e)})},eH=(e,t)=>{let r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||eB(e)?o:ej(r,t)},ej=(e,t)=>eh(e)?e.style.getPropertyValue(t):"",eV=(e,t,r,o,a,n,l)=>({target:e,x:t,y:r,stop:o,prevent:a,kill:n,raw:l}),eU=e=>{let t=ef.fromDom(eM(e).getOr(e.target)),r=()=>e.stopPropagation(),o=()=>e.preventDefault(),a=x(o,r);return eV(t,e.clientX,e.clientY,r,o,a,e)},eZ=(e,t)=>r=>{e(r)&&t(eU(r))},eq=(e,t,r,o,a)=>{let n=eZ(r,o);return e.dom.addEventListener(t,n,a),{unbind:function(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}(e$,e,t,n,a)}},eW=(e,t,r,o)=>eq(e,t,r,o,!1),e$=(e,t,r,o)=>{e.dom.removeEventListener(t,r,o)},eG=(e,t,r)=>eW(e,t,E,r),eK=(e,t,r,o)=>{let a=e.isiOS()&&!0===/ipad/i.test(r),n=e.isiOS()&&!a,l=e.isiOS()||e.isAndroid(),i=l||o("(pointer:coarse)"),s=a||!n&&l&&o("(min-device-width:768px)"),c=n||l&&!s,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r);return{isiPad:S(a),isiPhone:S(n),isTablet:S(s),isPhone:S(c),isTouch:S(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:S(d),isDesktop:S(!c&&!s&&!d)}},eY=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r];if(o.test(t))return o}},eX=(e,t)=>{let r=eY(e,t);if(!r)return{major:0,minor:0};let o=e=>Number(t.replace(r,"$"+e));return eQ(o(1),o(2))},eJ=()=>eQ(0,0),eQ=(e,t)=>({major:e,minor:t}),e1=(e,t)=>{let r=String(t).toLowerCase();return 0===e.length?eJ():eX(e,r)},e0=(e,t)=>P(t.brands,t=>{let r=t.brand.toLowerCase();return R(e,e=>{var t;return r===(null==(t=e.brand)?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:eQ(parseInt(t.version,10),0)}))}),e2=(e,t)=>{let r=String(t).toLowerCase();return R(e,e=>e.search(r))},e4=(e,t)=>e2(e,t).map(e=>{let r=e1(e.versionRegexes,t);return{current:e.name,version:r}}),e3=(e,t)=>e2(e,t).map(e=>{let r=e1(e.versionRegexes,t);return{current:e.name,version:r}}),e5=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,e6=e=>t=>ep(t,e),e8=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ep(e,"edge/")&&ep(e,"chrome")&&ep(e,"safari")&&ep(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,e5],search:e=>ep(e,"chrome")&&!ep(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ep(e,"msie")||ep(e,"trident")},{name:"Opera",versionRegexes:[e5,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:e6("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:e6("firefox")},{name:"Safari",versionRegexes:[e5,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ep(e,"safari")||ep(e,"mobile/"))&&ep(e,"applewebkit")}],e7=[{name:"Windows",search:e6("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ep(e,"iphone")||ep(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:e6("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:e6("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:e6("linux"),versionRegexes:[]},{name:"Solaris",search:e6("sunos"),versionRegexes:[]},{name:"FreeBSD",search:e6("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:e6("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],e9={browsers:S(e8),oses:S(e7)},te="Edge",tt="Chromium",tr="Opera",to="Firefox",ta="Safari",tn=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isEdge:o(te),isChromium:o(tt),isIE:o("IE"),isOpera:o(tr),isFirefox:o(to),isSafari:o(ta)}},tl={unknown:()=>tn({current:void 0,version:eJ()}),nu:tn,edge:S(te),chromium:S(tt),ie:S("IE"),opera:S(tr),firefox:S(to),safari:S(ta)},ti="Windows",ts="Android",tc="Linux",td="macOS",tm="Solaris",tu="FreeBSD",tg="ChromeOS",tp=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isWindows:o(ti),isiOS:o("iOS"),isAndroid:o(ts),isMacOS:o(td),isLinux:o(tc),isSolaris:o(tm),isFreeBSD:o(tu),isChromeOS:o(tg)}},th={unknown:()=>tp({current:void 0,version:eJ()}),nu:tp,windows:S(ti),ios:S("iOS"),android:S(ts),linux:S(tc),macos:S(td),solaris:S(tm),freebsd:S(tu),chromeos:S(tg)},tf=(e,t,r)=>{let o=e9.browsers(),a=e9.oses(),n=t.bind(e=>e0(o,e)).orThunk(()=>e4(o,e)).fold(tl.unknown,tl.nu),l=e3(a,e).fold(th.unknown,th.nu),i=eK(l,n,e,r);return{browser:n,os:l,deviceType:i}},ty=e=>window.matchMedia(e).matches,tb=(a=()=>tf(navigator.userAgent,T.from(navigator.userAgentData),ty),t=!1,(...r)=>(t||(t=!0,e=a.apply(null,r)),e)),tv=()=>tb(),tk=(e,t)=>({left:e,top:t,translate:(r,o)=>tk(e+r,t+o)}),tw=e=>{let t=void 0!==e?e.dom:document;return tk(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},t_=e=>{let t=void 0===e?window:e;return tv().browser.isFirefox()?T.none():T.from(t.visualViewport)},tx=(e,t,r,o)=>({x:e,y:t,width:r,height:o,right:e+r,bottom:t+o}),tC=e=>{let t=void 0===e?window:e,r=t.document,o=tw(ef.fromDom(r));return t_(t).fold(()=>{let e=t.document.documentElement,r=e.clientWidth,a=e.clientHeight;return tx(o.left,o.top,r,a)},e=>tx(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},tS=(e,t,r)=>t_(r).map(r=>{let o=e=>t(eU(e));return r.addEventListener(e,o),{unbind:()=>r.removeEventListener(e,o)}}).getOrThunk(()=>({unbind:_}));var tz=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tE=tinymce.util.Tools.resolve("tinymce.Env");let tT=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},tA=e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})},tO=(r="fullscreen_native",e=>e.options.get(r)),tD=e=>{let t=ef.fromDom(e.getElement());return eD(t).map(eN).getOrThunk(()=>eF(ew(t)))},tN=e=>void 0!==e.fullscreenElement?e.fullscreenElement:void 0!==e.msFullscreenElement?e.msFullscreenElement:void 0!==e.webkitFullscreenElement?e.webkitFullscreenElement:null,tM=()=>void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",tR=e=>{let t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},tB=e=>{let t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()},tF=e=>e.dom===tN(ew(e).dom),tL=(e,t,r)=>N(ex(e,r),t),tI=(e,t)=>N(eC(e),t),tP=e=>ev(e),tH=(e,t,r)=>tL(e,e=>ey(e,t),r),tj=(e,t)=>tI(e,e=>ey(e,t)),tV="data-ephox-mobile-fullscreen-style",tU="position:absolute!important;",tZ="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",tq=tE.os.isAndroid(),tW=e=>{let t=eH(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"},t$=(e,t,r)=>{let o=t=>r=>{let o=ed(r,"style"),a=void 0===o?"no-styles":o.trim();a!==t&&(ec(r,tV,a),eP(r,e.parseStyle(t)))},a=tH(t,"*"),n=F(a,e=>tj(e,"*:not(.tox-silver-sink)")),l=tW(r);D(n,o("display:none!important;")),D(a,o(tU+tZ+l)),o((!0===tq?"":tU)+tZ+l)(t)},tG=e=>{D(tP("["+tV+"]"),t=>{let r=ed(t,tV);r&&"no-styles"!==r?eP(t,e.parseStyle(r)):em(t,"style"),em(t,tV)})},tK=tz.DOM,tY=()=>tC(window),tX=e=>window.scrollTo(e.x,e.y),tJ=t_().fold(()=>({bind:_,unbind:_}),e=>{let t=U(),r=V(),o=V(),a=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},n=()=>{window.requestAnimationFrame(()=>{t.on(t=>eP(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"}))})},l=Z(()=>{a(),n()},50);return{bind:e=>{t.set(e),l.throttle(),r.set(tS("resize",l.throttle)),o.set(tS("scroll",l.throttle))},unbind:()=>{t.on(()=>{r.clear(),o.clear()}),t.clear()}}}),tQ=(e,t)=>{let r=document.body,o=document.documentElement,a=e.getContainer(),n=ef.fromDom(a),l=eS(n).filter(e=>eo(e)&&eg(e,"tox-silver-sink")),i=tD(e),s=t.get(),c=ef.fromDom(e.getBody()),d=tE.deviceType.isTouch(),m=a.style,u=e.iframeElement,g=null==u?void 0:u.style,p=e=>{e(r,"tox-fullscreen"),e(o,"tox-fullscreen"),e(a,"tox-fullscreen"),eD(n).map(e=>eN(e).dom).each(t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")})},h=()=>{d&&tG(e.dom),p(tK.removeClass),tJ.unbind(),T.from(t.get()).each(e=>e.fullscreenChangeHandler.unbind())};if(s)s.fullscreenChangeHandler.unbind(),tO(e)&&tF(i)&&tB(ew(i)),g.width=s.iframeWidth,g.height=s.iframeHeight,m.width=s.containerWidth,m.height=s.containerHeight,m.top=s.containerTop,m.left=s.containerLeft,H(l,s.sinkCssPosition,(e,t)=>{eI(e,"position",t)}),h(),tX(s.scrollPos),t.set(null),tT(e,!1),e.off("remove",h);else{let r=eG(ew(i),tM(),r=>{tO(e)&&!tF(i)&&null!==t.get()&&tQ(e,t)}),o={scrollPos:tY(),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:r,sinkCssPosition:l.map(e=>eH(e,"position"))};d&&t$(e.dom,n,c),g.width=g.height="100%",m.width=m.height="",p(tK.addClass),l.each(e=>{eI(e,"position","fixed")}),tJ.bind(n),e.on("remove",h),t.set(o),tO(e)&&tR(i),tT(e,!0)}},t1=(e,t)=>{e.addCommand("mceFullScreen",()=>{tQ(e,t)})},t0=(e,t)=>r=>{r.setActive(null!==t.get());let o=e=>r.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)},t2=(e,t)=>{let r=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:r,onSetup:t0(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:r,onSetup:t0(e,t)})};n.add("fullscreen",e=>{let t=o(null);return e.inline||(tA(e),t1(e,t),t2(e,t),e.addShortcut("Meta+Shift+F","","mceFullScreen")),l(t)})}()},44773:function(e,t,r){r(21347)},49044:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.de","<h1>Grundlagen der Tastaturnavigation</h1>\n\n<dl>\n  <dt>Fokus auf Men\xfcleiste</dt>\n  <dd>Windows oder Linux: ALT+F9</dd>\n  <dd>macOS: &#x2325;F9</dd>\n  <dt>Fokus auf Symbolleiste</dt>\n  <dd>Windows oder Linux: ALT+F10</dd>\n  <dd>macOS: &#x2325;F10</dd>\n  <dt>Fokus auf Fu\xdfzeile</dt>\n  <dd>Windows oder Linux: ALT+F11</dd>\n  <dd>macOS: &#x2325;F11</dd>\n  <dt>Fokus auf kontextbezogene Symbolleiste</dt>\n  <dd>Windows, Linux oder macOS: STRG+F9\n</dl>\n\n<p>Die Navigation beginnt beim ersten Benutzeroberfl\xe4chenelement, welches hervorgehoben ist. Falls sich das erste Element im Pfad der Fu\xdfzeile befindet,\n  ist es unterstrichen.</p>\n\n<h1>Zwischen Abschnitten der Benutzeroberfl\xe4che navigieren</h1>\n\n<p>Um von einem Abschnitt der Benutzeroberfl\xe4che zum n\xe4chsten zu wechseln, dr\xfccken Sie <strong>TAB</strong>.</p>\n\n<p>Um von einem Abschnitt der Benutzeroberfl\xe4che zum vorherigen zu wechseln, dr\xfccken Sie <strong>UMSCHALT+TAB</strong>.</p>\n\n<p>Die Abschnitte der Benutzeroberfl\xe4che haben folgende <strong>TAB</strong>-Reihenfolge:</p>\n\n<ol>\n  <li>Men\xfcleiste</li>\n  <li>Einzelne Gruppen der Symbolleiste</li>\n  <li>Randleiste</li>\n  <li>Elementpfad in der Fu\xdfzeile</li>\n  <li>Umschaltfl\xe4che „W\xf6rter z\xe4hlen“ in der Fu\xdfzeile</li>\n  <li>Branding-Link in der Fu\xdfzeile</li>\n  <li>Editor-Ziehpunkt zur Gr\xf6\xdfen\xe4nderung in der Fu\xdfzeile</li>\n</ol>\n\n<p>Falls ein Abschnitt der Benutzeroberfl\xe4chen nicht vorhanden ist, wird er \xfcbersprungen.</p>\n\n<p>Wenn in der Fu\xdfzeile die Tastaturnavigation fokussiert ist und keine Randleiste angezeigt wird, wechselt der Fokus durch Dr\xfccken von <strong>UMSCHALT+TAB</strong>\n  zur ersten Gruppe der Symbolleiste, nicht zur letzten.</p>\n\n<h1>Innerhalb von Abschnitten der Benutzeroberfl\xe4che navigieren</h1>\n\n<p>Um von einem Element der Benutzeroberfl\xe4che zum n\xe4chsten zu wechseln, dr\xfccken Sie die entsprechende <strong>Pfeiltaste</strong>.</p>\n\n<p>Die Pfeiltasten <strong>Links</strong> und <strong>Rechts</strong></p>\n\n<ul>\n  <li>wechseln zwischen Men\xfcs in der Men\xfcleiste.</li>\n  <li>\xf6ffnen das Untermen\xfc eines Men\xfcs.</li>\n  <li>wechseln zwischen Schaltfl\xe4chen in einer Gruppe der Symbolleiste.</li>\n  <li>wechseln zwischen Elementen im Elementpfad der Fu\xdfzeile.</li>\n</ul>\n\n<p>Die Pfeiltasten <strong>Abw\xe4rts</strong> und <strong>Aufw\xe4rts</strong></p>\n\n<ul>\n  <li>wechseln zwischen Men\xfcelementen in einem Men\xfc.</li>\n  <li>wechseln zwischen Elementen in einem Popupmen\xfc der Symbolleiste.</li>\n</ul>\n\n<p>Die <strong>Pfeiltasten</strong> rotieren innerhalb des fokussierten Abschnitts der Benutzeroberfl\xe4che.</p>\n\n<p>Um ein ge\xf6ffnetes Men\xfc, ein ge\xf6ffnetes Untermen\xfc oder ein ge\xf6ffnetes Popupmen\xfc zu schlie\xdfen, dr\xfccken Sie die <strong>ESC</strong>-Taste.</p>\n\n<p>Wenn sich der aktuelle Fokus ganz oben in einem bestimmten Abschnitt der Benutzeroberfl\xe4che befindet, wird durch Dr\xfccken der <strong>ESC</strong>-Taste auch\n  die Tastaturnavigation beendet.</p>\n\n<h1>Ein Men\xfcelement oder eine Symbolleistenschaltfl\xe4che ausf\xfchren</h1>\n\n<p>Wenn das gew\xfcnschte Men\xfcelement oder die gew\xfcnschte Symbolleistenschaltfl\xe4che hervorgehoben ist, dr\xfccken Sie <strong>Zur\xfcck</strong>, <strong>Eingabe</strong>\n  oder die <strong>Leertaste</strong>, um das Element auszuf\xfchren.</p>\n\n<h1>In Dialogfeldern ohne Registerkarten navigieren</h1>\n\n<p>In Dialogfeldern ohne Registerkarten ist beim \xd6ffnen eines Dialogfelds die erste interaktive Komponente fokussiert.</p>\n\n<p>Navigieren Sie zwischen den interaktiven Komponenten eines Dialogfelds, indem Sie <strong>TAB</strong> oder <strong>UMSCHALT+TAB</strong> dr\xfccken.</p>\n\n<h1>In Dialogfeldern mit Registerkarten navigieren</h1>\n\n<p>In Dialogfeldern mit Registerkarten ist beim \xd6ffnen eines Dialogfelds die erste Schaltfl\xe4che eines Registerkartenmen\xfcs fokussiert.</p>\n\n<p>Navigieren Sie zwischen den interaktiven Komponenten auf dieser Registerkarte des Dialogfelds, indem Sie <strong>TAB</strong> oder\n  <strong>UMSCHALT+TAB</strong> dr\xfccken.</p>\n\n<p>Wechseln Sie zu einer anderen Registerkarte des Dialogfelds, indem Sie den Fokus auf das Registerkartenmen\xfc legen und dann die entsprechende <strong>Pfeiltaste</strong>\n  dr\xfccken, um durch die verf\xfcgbaren Registerkarten zu rotieren.</p>\n")},58785:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.en","<h1>Begin keyboard navigation</h1>\n\n<dl>\n  <dt>Focus the Menu bar</dt>\n  <dd>Windows or Linux: Alt+F9</dd>\n  <dd>macOS: &#x2325;F9</dd>\n  <dt>Focus the Toolbar</dt>\n  <dd>Windows or Linux: Alt+F10</dd>\n  <dd>macOS: &#x2325;F10</dd>\n  <dt>Focus the footer</dt>\n  <dd>Windows or Linux: Alt+F11</dd>\n  <dd>macOS: &#x2325;F11</dd>\n  <dt>Focus a contextual toolbar</dt>\n  <dd>Windows, Linux or macOS: Ctrl+F9\n</dl>\n\n<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in\n  the Footer element path.</p>\n\n<h1>Navigate between UI sections</h1>\n\n<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>\n\n<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>\n\n<p>The <strong>Tab</strong> order of these UI sections is:</p>\n\n<ol>\n  <li>Menu bar</li>\n  <li>Each toolbar group</li>\n  <li>Sidebar</li>\n  <li>Element path in the footer</li>\n  <li>Word count toggle button in the footer</li>\n  <li>Branding link in the footer</li>\n  <li>Editor resize handle in the footer</li>\n</ol>\n\n<p>If a UI section is not present, it is skipped.</p>\n\n<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>\n  moves focus to the first toolbar group, not the last.</p>\n\n<h1>Navigate within UI sections</h1>\n\n<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>\n\n<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>\n\n<ul>\n  <li>move between menus in the menu bar.</li>\n  <li>open a sub-menu in a menu.</li>\n  <li>move between buttons in a toolbar group.</li>\n  <li>move between items in the footer’s element path.</li>\n</ul>\n\n<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>\n\n<ul>\n  <li>move between menu items in a menu.</li>\n  <li>move between items in a toolbar pop-up menu.</li>\n</ul>\n\n<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>\n\n<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>\n\n<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits\n  keyboard navigation entirely.</p>\n\n<h1>Execute a menu item or toolbar button</h1>\n\n<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,\n  or the <strong>Space bar</strong> to execute the item.</p>\n\n<h1>Navigate non-tabbed dialogs</h1>\n\n<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>\n\n<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>\n\n<h1>Navigate tabbed dialogs</h1>\n\n<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>\n\n<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or\n  <strong>Shift+Tab</strong>.</p>\n\n<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>\n  key to cycle through the available tabs.</p>\n")},31613:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_CN","<h1>开始键盘导航</h1>\n\n<dl>\n  <dt>聚焦于菜单栏</dt>\n  <dd>Windows 或 Linux：Alt+F9</dd>\n  <dd>macOS：&#x2325;F9</dd>\n  <dt>聚焦于工具栏</dt>\n  <dd>Windows 或 Linux：Alt+F10</dd>\n  <dd>macOS：&#x2325;F10</dd>\n  <dt>聚焦于页脚</dt>\n  <dd>Windows 或 Linux：Alt+F11</dd>\n  <dd>macOS：&#x2325;F11</dd>\n  <dt>聚焦于上下文工具栏</dt>\n  <dd>Windows、Linux 或 macOS：Ctrl+F9\n</dl>\n\n<p>导航将在第一个 UI 项上开始，其中突出显示该项，或者对于页脚元素路径中的第一项，将为其添加下划线。</p>\n\n<h1>在 UI 部分之间导航</h1>\n\n<p>要从一个 UI 部分移至下一个，请按 <strong>Tab</strong>。</p>\n\n<p>要从一个 UI 部分移至上一个，请按 <strong>Shift+Tab</strong>。</p>\n\n<p>这些 UI 部分的 <strong>Tab</strong> 顺序为：</p>\n\n<ol>\n  <li>菜单栏</li>\n  <li>每个工具栏组</li>\n  <li>边栏</li>\n  <li>页脚中的元素路径</li>\n  <li>页脚中的字数切换按钮</li>\n  <li>页脚中的品牌链接</li>\n  <li>页脚中的编辑器调整大小图柄</li>\n</ol>\n\n<p>如果不存在某个 UI 部分，则跳过它。</p>\n\n<p>如果键盘导航焦点在页脚，并且没有可见的边栏，则按 <strong>Shift+Tab</strong> 将焦点移至第一个工具栏组而非最后一个。</p>\n\n<h1>在 UI 部分内导航</h1>\n\n<p>要从一个 UI 元素移至下一个，请按相应的<strong>箭头</strong>键。</p>\n\n<p><strong>左</strong>和<strong>右</strong>箭头键</p>\n\n<ul>\n  <li>在菜单栏中的菜单之间移动。</li>\n  <li>打开菜单中的子菜单。</li>\n  <li>在工具栏组中的按钮之间移动。</li>\n  <li>在页脚的元素路径中的各项之间移动。</li>\n</ul>\n\n<p><strong>下</strong>和<strong>上</strong>箭头键</p>\n\n<ul>\n  <li>在菜单中的菜单项之间移动。</li>\n  <li>在工具栏弹出菜单中的各项之间移动。</li>\n</ul>\n\n<p><strong>箭头</strong>键在具有焦点的 UI 部分内循环。</p>\n\n<p>要关闭打开的菜单、打开的子菜单或打开的弹出菜单，请按 <strong>Esc</strong> 键。</p>\n\n<p>如果当前的焦点在特定 UI 部分的“顶部”，则按 <strong>Esc</strong> 键还将完全退出键盘导航。</p>\n\n<h1>执行菜单项或工具栏按钮</h1>\n\n<p>当突出显示所需的菜单项或工具栏按钮时，按 <strong>Return</strong>、<strong>Enter</strong> 或<strong>空格</strong>以执行该项。</p>\n\n<h1>在非标签页式对话框中导航</h1>\n\n<p>在非标签页式对话框中，当对话框打开时，第一个交互组件获得焦点。</p>\n\n<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在交互对话框组件之间导航。</p>\n\n<h1>在标签页式对话框中导航</h1>\n\n<p>在标签页式对话框中，当对话框打开时，标签页菜单中的第一个按钮获得焦点。</p>\n\n<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在此对话框的交互组件之间导航。</p>\n\n<p>通过将焦点移至另一对话框标签页的菜单，然后按相应的<strong>箭头</strong>键以在可用的标签页间循环，从而切换到该对话框标签页。</p>\n")},21347:function(){!function(){"use strict";let e,t=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var r=tinymce.util.Tools.resolve("tinymce.PluginManager");let o=0,a=e=>{let t=new Date().getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++o+String(t)},n=e=>({addTab:t=>{var r;let o=null!=(r=t.name)?r:a("tab-name"),n=e.get();n[o]=t,e.set(n)}}),l=(e,t)=>{e.addCommand("mceHelp",t)},i=e=>t=>t.options.get(e),s=e=>{(0,e.options.register)("help_tabs",{processor:"array"})},c=i("help_tabs"),d=i("forced_plugins"),m=(e,t)=>{e.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:t}),e.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:t})},u=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},g=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&u(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},p=e=>"string"===g(e),h=(e=void 0,t=>e===t),f=e=>null==e,y=e=>!f(e),b=e=>"function"==typeof e,v=()=>!1;class k{constructor(e,t){this.tag=e,this.value=t}static some(e){return new k(!0,e)}static none(){return k.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?k.some(e(this.value)):k.none()}bind(e){return this.tag?e(this.value):k.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:k.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return y(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(!1);let w=Array.prototype.slice,_=Array.prototype.indexOf,x=(e,t)=>_.call(e,t),C=(e,t)=>x(e,t)>-1,S=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},z=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},E=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return k.some(a);if(r(a,o))break}return k.none()},T=(e,t)=>E(e,t,v),A=(e,t)=>{let r=w.call(e,0);return r.sort(t),r},O=Object.keys,D=Object.hasOwnProperty,N=(e,t)=>M(e,t)?k.from(e[t]):k.none(),M=(e,t)=>D.call(e,t),R=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t};var B=tinymce.util.Tools.resolve("tinymce.Resource"),F=tinymce.util.Tools.resolve("tinymce.util.I18n");let L=(e,t)=>B.load(`tinymce.html-i18n.help-keynav.${t}`,`${e}/js/i18n/keynav/${t}.js`),I=e=>L(e,F.getCode()).catch(()=>L(e,"en")),P=(e,t)=>{e.on("init",()=>{I(t)})},H=async e=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await I(e)}]});var j=tinymce.util.Tools.resolve("tinymce.Env");let V=e=>{let t=j.os.isMacOS()||j.os.isiOS(),r=t?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},o=S(e.split("+"),e=>{let t=e.toLowerCase().trim();return M(r,t)?r[t]:e});return t?o.join("").replace(/\s/,""):o.join("+")},U=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Z=()=>({name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:S(U,e=>{let t=S(e.shortcuts,V).join(" or ");return[e.action,t]})}]}),q=S([{key:"accordion",name:"Accordion"},{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"advtemplate",name:"Advanced Templates",type:"premium",slug:"advanced-templates"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],e=>({...e,type:e.type||"opensource",slug:e.slug||e.key})),W=e=>{let t=e=>`<a data-alloy-tabstop="true" tabindex="-1" href="${e.url}" target="_blank" rel="noopener">${e.name}</a>`,r=(e,r)=>{let o=e.plugins[r].getMetadata;if(!b(o))return{name:r,html:r};{let e=o();return{name:e.name,html:t(e)}}},o=(e,o)=>T(q,e=>e.key===o).fold(()=>r(e,o),e=>{let r="premium"===e.type?`${e.name}*`:e.name,o=t({name:r,url:`https://www.tiny.cloud/docs/tinymce/6/${e.slug}/`});return{name:r,html:o}}),a=e=>{let t=O(e.plugins),r=d(e);return h(r)?t:z(t,e=>!C(r,e))};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[null==e?"":"<div>"+(e=>{let t=A(S(a(e),t=>o(e,t)),(e,t)=>e.name.localeCompare(t.name)),r=S(t,e=>"<li>"+e.html+"</li>"),n=r.length,l=r.join("");return"<p><b>"+F.translate(["Plugins installed ({0}):",n])+"</b></p><ul>"+l+"</ul>"})(e)+"</div>",(()=>{let e=A(S(z(q,({type:e})=>"premium"===e),e=>e.name),(e,t)=>e.localeCompare(t)),t=S(e,e=>`<li>${e}</li>`).join("");return"<div><p><b>"+F.translate("Premium plugins:")+"</b></p><ul>"+t+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+F.translate("Learn more...")+"</a></li></ul></div>"})()].join("")}]}};var $=tinymce.util.Tools.resolve("tinymce.EditorManager");let G=()=>{let e,t,r=(e=$.majorVersion,t=$.minorVersion,0===e.indexOf("@")?"X.X.X":e+"."+t);return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+F.translate(["You are using {0}",'<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+r+"</a>"])+"</p>",presets:"document"}]}},K=(e,t)=>{let r={},o=S(e,e=>{var o;if(p(e))return M(t,e)&&(r[e]=t[e]),e;{let t=null!=(o=e.name)?o:a("tab-name");return r[t]=e,t}});return{tabs:r,names:o}},Y=e=>{let t=O(e),r=t.indexOf("versions");return -1!==r&&(t.splice(r,1),t.push("versions")),{tabs:e,names:t}},X=async(e,t,r)=>{let o=Z(),a=await H(r),n=W(e),l=G(),i={[o.name]:o,[a.name]:a,[n.name]:n,[l.name]:l,...t.get()};return k.from(c(e)).fold(()=>Y(i),e=>K(e,i))},J=(e,t,r)=>()=>{X(e,t,r).then(({tabs:t,names:r})=>{let o=R(S(r,e=>N(t,e)));e.windowManager.open({title:"Help",size:"medium",body:{type:"tabpanel",tabs:o},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};r.add("help",(e,r)=>{let o=t({}),a=n(o);s(e);let i=J(e,o,r);return m(e,i),l(e,i),e.shortcuts.add("Alt+0","Open help dialog","mceHelp"),P(e,r),a})}()},11593:function(e,t,r){r(42782)},42782:function(){!function(){"use strict";let e;var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let r=Object.getPrototypeOf,o=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},a=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&o(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},n=e=>t=>a(t)===e,l=e=>t=>typeof t===e,i=(e,t)=>c(e)&&o(e,t,(e,t)=>r(e)===t),s=n("string"),c=n("object"),d=e=>i(e,Object),m=n("array"),u=e=>null===e,g=l("boolean"),p=e=>null==e,h=e=>!p(e),f=l("function"),y=l("number"),b=(e,t)=>{if(m(e)){for(let r=0,o=e.length;r<o;++r)if(!t(e[r]))return!1;return!0}return!1},v=()=>{};class k{constructor(e,t){this.tag=e,this.value=t}static some(e){return new k(!0,e)}static none(){return k.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?k.some(e(this.value)):k.none()}bind(e){return this.tag?e(this.value):k.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:k.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return h(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(!1);let w=Object.keys,_=Object.hasOwnProperty,x=(e,t)=>{let r=w(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},C=e=>(t,r)=>{e[r]=t},S=(e,t,r,o)=>{x(e,(e,a)=>{(t(e,a)?r:o)(e,a)})},z=(e,t)=>{let r={};return S(e,t,C(r),v),r},E=(e,t)=>_.call(e,t),T=(e,t)=>E(e,t)&&void 0!==e[t]&&null!==e[t],A=Array.prototype.push,O=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!m(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);A.apply(t,e[r])}return t},D=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none(),N=e=>D(e,0),M=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return k.none()};"undefined"!=typeof window?window:Function("return this;")();let R=(e,t,r)=>{if(s(r)||g(r)||y(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},B=(e,t,r)=>{R(e.dom,t,r)},F=(e,t)=>{e.dom.removeAttribute(t)},L={fromDom:e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}}};var I=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),P=tinymce.util.Tools.resolve("tinymce.util.URI");let H=e=>e.length>0,j=e=>t=>t.options.get(e),V=e=>{let t=e.options.register;t("image_dimensions",{processor:"boolean",default:!0}),t("image_advtab",{processor:"boolean",default:!1}),t("image_uploadtab",{processor:"boolean",default:!0}),t("image_prepend_url",{processor:"string",default:""}),t("image_class_list",{processor:"object[]"}),t("image_description",{processor:"boolean",default:!0}),t("image_title",{processor:"boolean",default:!1}),t("image_caption",{processor:"boolean",default:!1}),t("image_list",{processor:e=>{let t=!1===e||s(e)||b(e,c)||f(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},U=j("image_dimensions"),Z=j("image_advtab"),q=j("image_uploadtab"),W=j("image_prepend_url"),$=j("image_class_list"),G=j("image_description"),K=j("image_title"),Y=j("image_caption"),X=j("image_list"),J=j("a11y_advanced_options"),Q=j("automatic_uploads"),ee=e=>H(e.options.get("images_upload_url")),et=e=>h(e.options.get("images_upload_handler")),er=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10)),eo=e=>new Promise(t=>{let r=document.createElement("img"),o=e=>{r.onload=r.onerror=null,r.parentNode&&r.parentNode.removeChild(r),t(e)};r.onload=()=>{let e=er(r.width,r.clientWidth);o(Promise.resolve({width:e,height:er(r.height,r.clientHeight)}))},r.onerror=()=>{o(Promise.reject(`Failed to get image dimensions for: ${e}`))};let a=r.style;a.visibility="hidden",a.position="fixed",a.bottom=a.left="0px",a.width=a.height="auto",document.body.appendChild(r),r.src=e}),ea=e=>(e&&(e=e.replace(/px$/,"")),e),en=e=>(e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e),el=e=>{if(e.margin){let t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},ei=(e,t)=>{let r=X(e);s(r)?fetch(r).then(e=>{e.ok&&e.json().then(t)}):f(r)?r(t):t(r)},es=(e,t,r)=>{let o=()=>{r.onload=r.onerror=null,e.selection&&(e.selection.select(r),e.nodeChanged())};r.onload=()=>{!t.width&&!t.height&&U(e)&&e.dom.setAttribs(r,{width:String(r.clientWidth),height:String(r.clientHeight)}),o()},r.onerror=o},ec=e=>new Promise((t,r)=>{let o=new FileReader;o.onload=()=>{t(o.result)},o.onerror=()=>{var e;r(null==(e=o.error)?void 0:e.message)},o.readAsDataURL(e)}),ed=e=>"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder")),em=(e,t)=>{let r=e.options.get;return P.isDomSafe(t,"img",{allow_html_data_urls:r("allow_html_data_urls"),allow_script_urls:r("allow_script_urls"),allow_svg_data_urls:r("allow_svg_data_urls")})},eu=I.DOM,eg=e=>e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?ea(e.style.marginLeft):"",ep=e=>e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?ea(e.style.marginTop):"",eh=e=>e.style.borderWidth?ea(e.style.borderWidth):"",ef=(e,t)=>{var r;return e.hasAttribute(t)&&null!=(r=e.getAttribute(t))?r:""},ey=e=>null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName,eb=(e,t,r)=>{""===r||null===r?e.removeAttribute(t):e.setAttribute(t,r)},ev=e=>{let t=eu.create("figure",{class:"image"});eu.insertAfter(t,e),t.appendChild(e),t.appendChild(eu.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},ek=e=>{let t=e.parentNode;h(t)&&(eu.insertAfter(e,t),eu.remove(t))},ew=e=>{ey(e)?ek(e):ev(e)},e_=(e,t)=>{let r=e.getAttribute("style"),o=t(null!==r?r:"");o.length>0?(e.setAttribute("style",o),e.setAttribute("data-mce-style",o)):e.removeAttribute("style")},ex=(e,t)=>(e,r,o)=>{let a=e.style;a[r]?(a[r]=en(o),e_(e,t)):eb(e,r,o)},eC=(e,t)=>e.style[t]?ea(e.style[t]):ef(e,t),eS=(e,t)=>{let r=en(t);e.style.marginLeft=r,e.style.marginRight=r},ez=(e,t)=>{let r=en(t);e.style.marginTop=r,e.style.marginBottom=r},eE=(e,t)=>{let r=en(t);e.style.borderWidth=r},eT=(e,t)=>{e.style.borderStyle=t},eA=e=>{var t;return null!=(t=e.style.borderStyle)?t:""},eO=e=>h(e)&&"FIGURE"===e.nodeName,eD=e=>"IMG"===e.nodeName,eN=e=>0===eu.getAttrib(e,"alt").length&&"presentation"===eu.getAttrib(e,"role"),eM=e=>eN(e)?"":ef(e,"alt"),eR=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),eB=(e,t)=>{var r;let o=document.createElement("img");return eb(o,"style",t.style),(eg(o)||""!==t.hspace)&&eS(o,t.hspace),(ep(o)||""!==t.vspace)&&ez(o,t.vspace),(eh(o)||""!==t.border)&&eE(o,t.border),(eA(o)||""!==t.borderStyle)&&eT(o,t.borderStyle),e(null!=(r=o.getAttribute("style"))?r:"")},eF=(e,t)=>{let r=document.createElement("img");if(eV(e,{...t,caption:!1},r),eP(r,t.alt,t.isDecorative),!t.caption)return r;{let e=eu.create("figure",{class:"image"});return e.appendChild(r),e.appendChild(eu.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false",e}},eL=(e,t)=>({src:ef(t,"src"),alt:eM(t),title:ef(t,"title"),width:eC(t,"width"),height:eC(t,"height"),class:ef(t,"class"),style:e(ef(t,"style")),caption:ey(t),hspace:eg(t),vspace:ep(t),border:eh(t),borderStyle:eA(t),isDecorative:eN(t)}),eI=(e,t,r,o,a)=>{r[o]!==t[o]&&a(e,o,String(r[o]))},eP=(e,t,r)=>{r?(eu.setAttrib(e,"role","presentation"),B(L.fromDom(e),"alt","")):(u(t)?F(L.fromDom(e),"alt"):B(L.fromDom(e),"alt",t),"presentation"===eu.getAttrib(e,"role")&&eu.setAttrib(e,"role",""))},eH=(e,t,r)=>{(r.alt!==t.alt||r.isDecorative!==t.isDecorative)&&eP(e,r.alt,r.isDecorative)},ej=(e,t)=>(r,o,a)=>{e(r,a),e_(r,t)},eV=(e,t,r)=>{let o=eL(e,r);eI(r,o,t,"caption",(e,t,r)=>ew(e)),eI(r,o,t,"src",eb),eI(r,o,t,"title",eb),eI(r,o,t,"width",ex("width",e)),eI(r,o,t,"height",ex("height",e)),eI(r,o,t,"class",eb),eI(r,o,t,"style",ej((e,t)=>eb(e,"style",t),e)),eI(r,o,t,"hspace",ej(eS,e)),eI(r,o,t,"vspace",ej(ez,e)),eI(r,o,t,"border",ej(eE,e)),eI(r,o,t,"borderStyle",ej(eT,e)),eH(r,o,t)},eU=(e,t)=>{let r=el(e.dom.styles.parse(t)),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},eZ=e=>{let t=e.selection.getNode(),r=e.dom.getParent(t,"figure.image");return r?e.dom.select("img",r)[0]:t&&("IMG"!==t.nodeName||ed(t))?null:t},eq=(e,t)=>{var r;let o=e.dom,a=z(e.schema.getTextBlockElements(),(t,r)=>!e.schema.isValidChild(r,"figure")),n=o.getParent(t.parentNode,e=>T(a,e.nodeName),e.getBody());return n&&null!=(r=o.split(n,t))?r:t},eW=e=>{let t=eZ(e);return t?eL(t=>eU(e,t),t):eR()},e$=(e,t)=>{let r=eF(t=>eU(e,t),t);e.dom.setAttrib(r,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(r.outerHTML);let o=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(o,"data-mce-id",null),eO(o)){let t=eq(e,o);e.selection.select(t)}else e.selection.select(o)},eG=(e,t)=>{e.dom.setAttrib(t,"src",t.getAttribute("src"))},eK=(e,t)=>{if(t){let r=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(r),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},eY=(e,t)=>{let r=eZ(e);r&&(eV(t=>eU(e,t),t,r),eG(e,r),eO(r.parentNode)?(eq(e,r.parentNode),e.selection.select(r.parentNode)):(e.selection.select(r),es(e,t,r)))},eX=(e,t)=>{let r=t.src;return{...t,src:em(e,r)?r:""}},eJ=(e,t)=>{let r=eZ(e);if(r){let o={...eL(t=>eU(e,t),r),...t},a=eX(e,o);o.src?eY(e,a):eK(e,r)}else t.src&&e$(e,{...eR(),...t})},eQ=(e=(e,t)=>d(e)&&d(t)?eQ(e,t):t,(...t)=>{if(0===t.length)throw Error("Can't merge zero objects");let r={};for(let o=0;o<t.length;o++){let a=t[o];for(let t in a)E(a,t)&&(r[t]=e(r[t],a[t]))}return r});var e1=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),e0=tinymce.util.Tools.resolve("tinymce.util.Tools");let e2=e=>s(e.value)?e.value:"",e4=e=>s(e.text)?e.text:s(e.title)?e.title:"",e3=(e,t)=>{let r=[];return e0.each(e,e=>{let o=e4(e);if(void 0!==e.menu){let a=e3(e.menu,t);r.push({text:o,items:a})}else{let a=t(e);r.push({text:o,value:a})}}),r},e5=(e=e2)=>t=>t?k.from(t).map(t=>e3(t,e)):k.none(),e6=e=>E(e,"items"),e8=(e,t)=>M(e,e=>e6(e)?e8(e.items,t):e.value===t?k.some(e):k.none()),e7={sanitizer:e5,sanitize:e=>e5(e2)(e),findEntry:(e,t)=>e.bind(e=>e8(e,t))},e9={makeTab:e=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},te=e=>{let t=e7.sanitizer(t=>e.convertURL(t.value||t.url||"","src")),r=new Promise(r=>{ei(e,e=>{r(t(e).map(e=>O([[{text:"None",value:""}],e])))})}),o=e7.sanitize($(e)),a=Z(e),n=q(e),l=ee(e),i=et(e),c=eW(e),d=G(e),m=K(e),u=U(e),g=Y(e),p=J(e),h=Q(e),f=k.some(W(e)).filter(e=>s(e)&&e.length>0);return r.then(e=>({image:c,imageList:e,classList:o,hasAdvTab:a,hasUploadTab:n,hasUploadUrl:l,hasUploadHandler:i,hasDescription:d,hasImageTitle:m,hasDimensions:u,hasImageCaption:g,prependURL:f,hasAccessibilityOptions:p,automaticUploads:h}))},tt=e=>{let t=e.imageList.map(e=>({name:"images",type:"listbox",label:"Image list",items:e})),r={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},o=e.classList.map(e=>({name:"classes",type:"listbox",label:"Class",items:e}));return O([[{name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],e.hasDescription?[r]:[],e.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],e.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{...e.classList.isSome()&&e.hasImageCaption?{type:"grid",columns:2}:{type:"panel"},items:O([o.toArray(),e.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]])},tr={makeTab:e=>({title:"General",name:"general",items:tt(e)}),makeItems:tt},to={makeTab:e=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ta=e=>({prevImage:e7.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}),tn=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}),tl=(e,t)=>({src:e.src.value,alt:(null===e.alt||0===e.alt.length)&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}),ti=(e,t)=>/^(?:[a-zA-Z]+:)?\/\//.test(t)?k.none():e.prependURL.bind(e=>t.substring(0,e.length)!==e?k.some(e+t):k.none()),ts=(e,t)=>{let r=t.getData();ti(e,r.src.value).each(e=>{t.setData({src:{value:e,meta:r.src.meta}})})},tc=(e,t,r)=>{e.hasDescription&&s(r.alt)&&(t.alt=r.alt),e.hasAccessibilityOptions&&(t.isDecorative=r.isDecorative||t.isDecorative||!1),e.hasImageTitle&&s(r.title)&&(t.title=r.title),e.hasDimensions&&(s(r.width)&&(t.dimensions.width=r.width),s(r.height)&&(t.dimensions.height=r.height)),s(r.class)&&e7.findEntry(e.classList,r.class).each(e=>{t.classes=e.value}),e.hasImageCaption&&g(r.caption)&&(t.caption=r.caption),e.hasAdvTab&&(s(r.style)&&(t.style=r.style),s(r.vspace)&&(t.vspace=r.vspace),s(r.border)&&(t.border=r.border),s(r.hspace)&&(t.hspace=r.hspace),s(r.borderstyle)&&(t.borderstyle=r.borderstyle))},td=(e,t)=>{let r=t.getData(),o=r.src.meta;if(void 0!==o){let a=eQ({},r);tc(e,a,o),t.setData(a)}},tm=(e,t,r,o)=>{let a=o.getData(),n=a.src.value,l=a.src.meta||{};l.width||l.height||!t.hasDimensions||(H(n)?e.imageSize(n).then(e=>{r.open&&o.setData({dimensions:e})}).catch(e=>console.error(e)):o.setData({dimensions:{width:"",height:""}}))},tu=(e,t,r)=>{let o=r.getData(),a=e7.findEntry(e.imageList,o.src.value);t.prevImage=a,r.setData({images:a.map(e=>e.value).getOr("")})},tg=(e,t,r,o)=>{ts(t,o),td(t,o),tm(e,t,r,o),tu(t,r,o)},tp=(e,t,r,o)=>{let a=o.getData(),n=e7.findEntry(t.imageList,a.images);n.each(e=>{""===a.alt||r.prevImage.map(e=>e.text===a.alt).getOr(!1)?""===e.value?o.setData({src:e,alt:r.prevAlt}):o.setData({src:e,alt:e.text}):o.setData({src:e})}),r.prevImage=n,tg(e,t,r,o)},th=(e,t,r,o)=>{let a=o.getData();o.block("Uploading image"),N(a.fileinput).fold(()=>{o.unblock()},a=>{let n=URL.createObjectURL(a),l=()=>{o.unblock(),URL.revokeObjectURL(n)},i=a=>{o.setData({src:{value:a,meta:{}}}),o.showTab("general"),tg(e,t,r,o)};ec(a).then(r=>{let s=e.createBlobCache(a,n,r);t.automaticUploads?e.uploadImage(s).then(e=>{i(e.url),l()}).catch(t=>{l(),e.alertErr(t)}):(e.addToBlobCache(s),i(s.blobUri()),o.unblock())})})},tf=(e,t,r)=>(o,a)=>{"src"===a.name?tg(e,t,r,o):"images"===a.name?tp(e,t,r,o):"alt"===a.name?r.prevAlt=o.getData().alt:"fileinput"===a.name?th(e,t,r,o):"isDecorative"===a.name&&o.setEnabled("alt",!o.getData().isDecorative)},ty=e=>()=>{e.open=!1},tb=e=>e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler?{type:"tabpanel",tabs:O([[tr.makeTab(e)],e.hasAdvTab?[e9.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[to.makeTab(e)]:[]])}:{type:"panel",items:tr.makeItems(e)},tv=(e,t,r)=>o=>{let a=eQ(tn(t.image),o.getData()),n={...a,style:eB(r.normalizeCss,tl(a,!1))};e.execCommand("mceUpdateImage",!1,tl(n,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),o.close()},tk=e=>t=>em(e,t)?eo(e.documentBaseURI.toAbsolute(t)).then(e=>({width:String(e.width),height:String(e.height)})):Promise.resolve({width:"",height:""}),tw=e=>(t,r,o)=>{var a;return e.editorUpload.blobCache.create({blob:t,blobUri:r,name:null==(a=t.name)?void 0:a.replace(/\.[^\.]+$/,""),filename:t.name,base64:o.split(",")[1]})},t_=e=>t=>{e.editorUpload.blobCache.add(t)},tx=e=>t=>{e.windowManager.alert(t)},tC=e=>t=>eU(e,t),tS=e=>t=>e.dom.parseStyle(t),tz=e=>(t,r)=>e.dom.serializeStyle(t,r),tE=e=>t=>e1(e).upload([t],!1).then(e=>{var t;return 0===e.length?Promise.reject("Failed to upload image"):!1===e[0].status?Promise.reject(null==(t=e[0].error)?void 0:t.message):e[0]}),tT=e=>{let t={imageSize:tk(e),addToBlobCache:t_(e),createBlobCache:tw(e),alertErr:tx(e),normalizeCss:tC(e),parseStyle:tS(e),serializeStyle:tz(e),uploadImage:tE(e)};return{open:()=>{te(e).then(r=>{let o=ta(r);return{title:"Insert/Edit Image",size:"normal",body:tb(r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:tn(r.image),onSubmit:tv(e,r,t),onChange:tf(t,r,o),onClose:ty(o)}}).then(e.windowManager.open)}}},tA=e=>{e.addCommand("mceImage",tT(e).open),e.addCommand("mceUpdateImage",(t,r)=>{e.undoManager.transact(()=>eJ(e,r))})},tO=e=>{let t=e.attr("class");return h(t)&&/\bimage\b/.test(t)},tD=e=>t=>{let r=t.length,o=t=>{t.attr("contenteditable",e?"true":null)};for(;r--;){let a=t[r];tO(a)&&(a.attr("contenteditable",e?"false":null),e0.each(a.getAll("figcaption"),o))}},tN=e=>{e.on("PreInit",()=>{e.parser.addNodeFilter("figure",tD(!0)),e.serializer.addNodeFilter("figure",tD(!1))})},tM=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},tR=e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:tT(e).open,onSetup:t=>{t.setActive(h(eZ(e)));let r=e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind,o=tM(e)(t);return()=>{r(),o()}}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:tT(e).open,onSetup:tM(e)}),e.ui.registry.addContextMenu("image",{update:t=>e.selection.isEditable()&&(eO(t)||eD(t)&&!ed(t))?["image"]:[]})};t.add("image",e=>{V(e),tN(e),tR(e),tA(e)})}()},92310:function(e,t,r){r(36173)},36173:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=e=>t=>t.options.get(e),r=e=>{let t=e.options.register;t("insertdatetime_dateformat",{processor:"string",default:e.translate("%Y-%m-%d")}),t("insertdatetime_timeformat",{processor:"string",default:e.translate("%H:%M:%S")}),t("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),t("insertdatetime_element",{processor:"boolean",default:!1})},o=t("insertdatetime_dateformat"),a=t("insertdatetime_timeformat"),n=t("insertdatetime_formats"),l=t("insertdatetime_element"),i=e=>{let t=n(e);return t.length>0?t[0]:a(e)},s="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),m="January February March April May June July August September October November December".split(" "),u=(e,t)=>{if((e=""+e).length<t)for(let r=0;r<t-e.length;r++)e="0"+e;return e},g=(e,t,r=new Date)=>t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+r.getFullYear())).replace("%y",""+r.getYear())).replace("%m",u(r.getMonth()+1,2))).replace("%d",u(r.getDate(),2))).replace("%H",""+u(r.getHours(),2))).replace("%M",""+u(r.getMinutes(),2))).replace("%S",""+u(r.getSeconds(),2))).replace("%I",""+((r.getHours()+11)%12+1))).replace("%p",12>r.getHours()?"AM":"PM")).replace("%B",""+e.translate(m[r.getMonth()]))).replace("%b",""+e.translate(d[r.getMonth()]))).replace("%A",""+e.translate(c[r.getDay()]))).replace("%a",""+e.translate(s[r.getDay()]))).replace("%%","%"),p=(e,t,r,o)=>{let a=e.dom.create("time",{datetime:r},o);e.dom.replace(a,t),e.selection.select(a,!0),e.selection.collapse(!1)},h=(e,t)=>{if(l(e)){let r,o=g(e,t);r=/%[HMSIp]/.test(t)?g(e,"%Y-%m-%dT%H:%M"):g(e,"%Y-%m-%d");let a=e.dom.getParent(e.selection.getStart(),"time");a?p(e,a,r,o):e.insertContent('<time datetime="'+r+'">'+o+"</time>")}else e.insertContent(g(e,t))},f=e=>{e.addCommand("mceInsertDate",(t,r)=>{h(e,null!=r?r:o(e))}),e.addCommand("mceInsertTime",(t,r)=>{h(e,null!=r?r:a(e))})},y=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var b=tinymce.util.Tools.resolve("tinymce.util.Tools");let v=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},k=e=>{let t=n(e),r=y(i(e)),o=t=>e.execCommand("mceInsertDate",!1,t);e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:e=>e===r.get(),fetch:r=>{r(b.map(t,t=>({type:"choiceitem",text:g(e,t),value:t})))},onAction:e=>{o(r.get())},onItemAction:(e,t)=>{r.set(t),o(t)},onSetup:v(e)});let a=e=>()=>{r.set(e),o(e)};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>b.map(t,t=>({type:"menuitem",text:g(e,t),onAction:a(t)})),onSetup:v(e)})};e.add("insertdatetime",e=>{r(e),f(e),k(e)})}()},81237:function(e,t,r){r(80044)},80044:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},r=e=>{let r=typeof e;return null===e?"null":"object"===r&&Array.isArray(e)?"array":"object"===r&&t(e,String,(e,t)=>t.isPrototypeOf(e))?"string":r},o=e=>t=>r(t)===e,a=e=>t=>typeof t===e,n=o("string"),l=o("object"),i=o("array"),s=e=>null===e,c=a("boolean"),d=e=>null==e,m=e=>!d(e),u=a("function"),g=(e,t)=>{if(i(e)){for(let r=0,o=e.length;r<o;++r)if(!t(e[r]))return!1;return!0}return!1},p=()=>{},h=e=>()=>e,f=(e,t)=>e===t;class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);let b=Array.prototype.indexOf,v=Array.prototype.push,k=(e,t)=>b.call(e,t),w=(e,t)=>k(e,t)>-1,_=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},x=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},C=(e,t,r)=>(x(e,(e,o)=>{r=t(r,e,o)}),r),S=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!i(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);v.apply(t,e[r])}return t},z=(e,t)=>S(_(e,t)),E=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return y.none()},T=(e,t,r=f)=>e.exists(e=>r(e,t)),A=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},O=(e,t)=>e?y.some(t):y.none(),D=e=>t=>t.options.get(e),N=e=>{let t=e.options.register;t("link_assume_external_targets",{processor:e=>{let t=n(e)||c(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>n(e)||u(e)||g(e,l)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>c(e)||g(e,l),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1})},M=D("link_assume_external_targets"),R=D("link_context_toolbar"),B=D("link_list"),F=D("link_default_target"),L=D("link_default_protocol"),I=D("link_target_list"),P=D("link_rel_list"),H=D("link_class_list"),j=D("link_title"),V=D("allow_unsafe_link_target"),U=D("link_quicklink");var Z=tinymce.util.Tools.resolve("tinymce.util.Tools");let q=e=>n(e.value)?e.value:"",W=e=>n(e.text)?e.text:n(e.title)?e.title:"",$=(e,t)=>{let r=[];return Z.each(e,e=>{let o=W(e);if(void 0!==e.menu){let a=$(e.menu,t);r.push({text:o,items:a})}else{let a=t(e);r.push({text:o,value:a})}}),r},G=(e=q)=>t=>y.from(t).map(t=>$(t,e)),K={sanitize:e=>G(q)(e),sanitizeWith:G,createUi:(e,t)=>r=>({name:e,type:"listbox",label:t,items:r}),getValue:q},Y=Object.keys,X=Object.hasOwnProperty,J=(e,t)=>{let r=Y(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},Q=e=>(t,r)=>{e[r]=t},ee=(e,t,r,o)=>{J(e,(e,a)=>{(t(e,a)?r:o)(e,a)})},et=(e,t)=>{let r={};return ee(e,t,Q(r),p),r},er=(e,t)=>X.call(e,t),eo=(e,t)=>er(e,t)&&void 0!==e[t]&&null!==e[t];var ea=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),en=tinymce.util.Tools.resolve("tinymce.util.URI");let el=e=>m(e)&&"a"===e.nodeName.toLowerCase(),ei=e=>el(e)&&!!ed(e),es=(e,t)=>{if(e.collapsed)return[];{let r=e.cloneContents(),o=r.firstChild,a=new ea(o,r),n=[],l=o;do t(l)&&n.push(l);while(l=a.next());return n}},ec=e=>/^\w+:/i.test(e),ed=e=>{var t,r;return null!=(r=null!=(t=e.getAttribute("data-mce-href"))?t:e.getAttribute("href"))?r:""},em=(e,t)=>{var r;let o=["noopener"],a=e?e.split(/\s+/):[],n=e=>e.filter(e=>-1===Z.inArray(o,e)),l=t?(r=n(r=a)).length>0?r.concat(o):o:n(a);return l.length>0?Z.trim(l.sort().join(" ")):""},eu=e=>e.replace(/\uFEFF/g,""),eg=(e,t)=>ew(t=t||ef(e.selection.getRng())[0]||e.selection.getNode())?y.from(e.dom.select("a[href]",t)[0]):y.from(e.dom.getParent(t,"a[href]")),ep=(e,t)=>eg(e,t).isSome(),eh=(e,t)=>eu(t.fold(()=>e.getContent({format:"text"}),e=>e.innerText||e.textContent||"")),ef=e=>es(e,ei),ey=e=>Z.grep(e,ei),eb=e=>ey(e).length>0,ev=e=>ef(e).length>0,ek=e=>{let t=e.schema.getTextInlineElements();if(eg(e).exists(e=>e.hasAttribute("data-mce-block")))return!1;let r=e.selection.getRng();return!!r.collapsed||0===es(r,e=>1===e.nodeType&&!el(e)&&!er(t,e.nodeName.toLowerCase())).length},ew=e=>m(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),e_=e=>C(["title","rel","class","target"],(t,r)=>(e[r].each(e=>{t[r]=e.length>0?e:null}),t),{href:e.href}),ex=(e,t)=>"http"!==t&&"https"!==t||ec(e)?e:t+"://"+e,eC=(e,t)=>{let r={...t};if(0===P(e).length&&!V(e)){let e=em(r.rel,"_blank"===r.target);r.rel=e||null}return y.from(r.target).isNone()&&!1===I(e)&&(r.target=F(e)),r.href=ex(r.href,M(e)),r},eS=(e,t,r,o)=>{r.each(e=>{er(t,"innerText")?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,o),e.selection.select(t)},ez=(e,t,r,o)=>{let a=e.dom;ew(t)?eB(a,t,o):r.fold(()=>{e.execCommand("mceInsertLink",!1,o)},t=>{e.insertContent(a.createHTML("a",o,a.encode(t)))})},eE=(e,t,r)=>{let o=e.selection.getNode(),a=eg(e,o),n=eC(e,e_(r));e.undoManager.transact(()=>{r.href===t.href&&t.attach(),a.fold(()=>{ez(e,o,r.text,n)},t=>{e.focus(),eS(e,t,r.text,n)})})},eT=e=>{let t=e.dom,r=e.selection,o=r.getBookmark(),a=r.getRng().cloneRange(),n=t.getParent(a.startContainer,"a[href]",e.getBody()),l=t.getParent(a.endContainer,"a[href]",e.getBody());n&&a.setStartBefore(n),l&&a.setEndAfter(l),r.setRng(a),e.execCommand("unlink"),r.moveToBookmark(o)},eA=e=>{e.undoManager.transact(()=>{let t=e.selection.getNode();ew(t)?eR(e,t):eT(e),e.focus()})},eO=e=>{let{class:t,href:r,rel:o,target:a,text:n,title:l}=e;return et({class:t.getOrNull(),href:r,rel:o.getOrNull(),target:a.getOrNull(),text:n.getOrNull(),title:l.getOrNull()},(e,t)=>!1===s(e))},eD=(e,t)=>{let r=e.options.get,o={allow_html_data_urls:r("allow_html_data_urls"),allow_script_urls:r("allow_script_urls"),allow_svg_data_urls:r("allow_svg_data_urls")},a=t.href;return{...t,href:en.isDomSafe(a,"a",o)?a:""}},eN=(e,t,r)=>{let o=eD(e,r);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,eO(o)):eE(e,t,o)},eM=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):eA(e)},eR=(e,t)=>{var r;let o=e.dom.select("img",t)[0];if(o){let a=e.dom.getParents(o,"a[href]",t)[0];a&&(null==(r=a.parentNode)||r.insertBefore(o,a),e.dom.remove(a))}},eB=(e,t,r)=>{var o;let a=e.select("img",t)[0];if(a){let t=e.create("a",r);null==(o=a.parentNode)||o.insertBefore(t,a),t.appendChild(a)}},eF=e=>eo(e,"items"),eL=(e,t)=>E(t,t=>eF(t)?eL(e,t.items):O(t.value===e,t)),eI=(e,t,r,o)=>{let a=o[t],n=e.length>0;return void 0!==a?eL(a,r).map(t=>({url:{value:t.value,meta:{text:n?e:t.text,attach:p}},text:n?e:t.text})):y.none()},eP=(e,t)=>"link"===t?e.link:"anchor"===t?e.anchor:y.none(),eH=(e,t)=>{let r={text:e.text,title:e.title},o=e=>{var t;return O(r.title.length<=0,y.from(null==(t=e.meta)?void 0:t.title).getOr(""))},a=e=>{var t;return O(r.text.length<=0,y.from(null==(t=e.meta)?void 0:t.text).getOr(e.value))},n=e=>{let t=a(e.url),r=o(e.url);return t.isSome()||r.isSome()?y.some({...t.map(e=>({text:e})).getOr({}),...r.map(e=>({title:e})).getOr({})}):y.none()},l=(e,o)=>{let a=eP(t,o).getOr([]);return eI(r.text,o,a,e)};return{onChange:(e,t)=>{let o=t.name;return"url"===o?n(e()):w(["anchor","link"],o)?l(e(),o):"text"===o||"title"===o?(r[o]=e()[o],y.none()):y.none()}}};var ej=tinymce.util.Tools.resolve("tinymce.util.Delay");let eV=(e,t,r)=>{let o=e.selection.getRng();ej.setEditorTimeout(e,()=>{e.windowManager.confirm(t,t=>{e.selection.setRng(o),r(t)})})},eU=e=>{let t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?y.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):y.none()},eZ=(e,t)=>r=>{let o=r.href;return 1===e&&!ec(o)||0===e&&/^\s*www(\.|\d\.)/i.test(o)?y.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+o})}):y.none()},eq={preprocess:(e,t)=>E([eU,eZ(M(e),L(e))],e=>e(t)).fold(()=>Promise.resolve(t),r=>new Promise(o=>{eV(e,r.message,e=>{o(e?r.preprocess(t):t)})}))},eW=e=>{let t=z(e.dom.select("a:not([href])"),e=>{let t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]});return t.length>0?y.some([{text:"None",value:""}].concat(t)):y.none()},e$=e=>{let t=H(e);return t.length>0?K.sanitize(t):y.none()},eG=e=>{try{return y.some(JSON.parse(e))}catch(e){return y.none()}},eK=e=>{let t=t=>e.convertURL(t.value||t.url||"","href"),r=B(e);return new Promise(e=>{n(r)?fetch(r).then(e=>e.ok?e.text().then(eG):Promise.reject()).then(e,()=>e(y.none())):u(r)?r(t=>e(y.some(t))):e(y.from(r))}).then(e=>e.bind(K.sanitizeWith(t)).map(e=>e.length>0?[{text:"None",value:""}].concat(e):e))},eY=(e,t)=>{let r=P(e);if(r.length>0){let o=T(t,"_blank");return(!1===V(e)?K.sanitizeWith(e=>em(K.getValue(e),o)):K.sanitize)(r)}return y.none()},eX=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],eJ=e=>{let t=I(e);return i(t)?K.sanitize(t).orThunk(()=>y.some(eX)):!1===t?y.none():y.some(eX)},eQ=(e,t,r)=>{let o=e.getAttrib(t,r);return null!==o&&o.length>0?y.some(o):y.none()},e1=(e,t)=>{let r=e.dom,o=ek(e)?y.some(eh(e.selection,t)):y.none(),a=t.bind(e=>y.from(r.getAttrib(e,"href"))),n=t.bind(e=>y.from(r.getAttrib(e,"target"))),l=t.bind(e=>eQ(r,e,"rel")),i=t.bind(e=>eQ(r,e,"class"));return{url:a,text:o,title:t.bind(e=>eQ(r,e,"title")),target:n,rel:l,linkClass:i}},e0=(e,t)=>eK(e).then(r=>{let o=e1(e,t);return{anchor:o,catalogs:{targets:eJ(e),rels:eY(e,o.target),classes:e$(e),anchor:eW(e),link:r},optNode:t,flags:{titleEnabled:j(e)}}}),e2=(e,t)=>r=>{let o=r.getData();if(!o.url.value){eM(e),r.close();return}let a=e=>y.from(o[e]).filter(r=>!T(t.anchor[e],r)),n={href:o.url.value,text:a("text"),target:a("target"),rel:a("rel"),class:a("linkClass"),title:a("title")},l={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:p};eq.preprocess(e,n).then(t=>{eN(e,l,t)}),r.close()},e4=e=>{let t=eg(e);return e0(e,t)},e3=(e,t)=>{let r=e.anchor,o=r.url.getOr("");return{url:{value:o,meta:{original:{value:o}}},text:r.text.getOr(""),title:r.title.getOr(""),anchor:o,link:o,rel:r.rel.getOr(""),target:r.target.or(t).getOr(""),linkClass:r.linkClass.getOr("")}},e5=(e,t,r)=>{let o=e.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),a=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],n=e3(e,y.from(F(r))),l=e.catalogs,i=eH(n,l);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:S([[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],o,a,A([l.anchor.map(K.createUi("anchor","Anchors")),l.rels.map(K.createUi("rel","Rel")),l.targets.map(K.createUi("target","Open link in...")),l.link.map(K.createUi("link","Link list")),l.classes.map(K.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onChange:(e,{name:t})=>{i.onChange(e.getData,{name:t}).each(t=>{e.setData(t)})},onSubmit:t}},e6=e=>{e4(e).then(t=>{let r=e2(e,t);return e5(t,r,e)}).then(t=>{e.windowManager.open(t)})},e8=e=>{e.addCommand("mceLink",(t,r)=>{(null==r?void 0:r.dialog)!==!0&&U(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):e6(e)})};var e7=tinymce.util.Tools.resolve("tinymce.util.VK");let e9=(e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},te=e=>{let t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";let r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e9(t,r)},tt=(e,t)=>e.dom.getParent(t,"a[href]"),tr=e=>tt(e,e.selection.getStart()),to=e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey,ta=(e,t)=>{if(t){let r=ed(t);if(/^#/.test(r)){let t=e.dom.select(r);t.length&&e.selection.scrollIntoView(t[0],!0)}else te(t.href)}},tn=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},tl=e=>()=>{ta(e,tr(e))},ti=e=>{e.on("click",t=>{let r=tt(e,t.target);r&&e7.metaKeyPressed(t)&&(t.preventDefault(),ta(e,r))}),e.on("keydown",t=>{if(!t.isDefaultPrevented()&&13===t.keyCode&&to(t)){let r=tr(e);r&&(t.preventDefault(),ta(e,r))}})},ts=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),tc=e=>t=>{let r=()=>{t.setActive(!e.mode.isReadOnly()&&ep(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return r(),ts(e,r)},td=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return r(),ts(e,r)},tm=e=>1===(e.selection.isCollapsed()?ey(e.dom.getParents(e.selection.getStart())):ef(e.selection.getRng())).length,tu=e=>t=>{let r=()=>t.setEnabled(tm(e));return r(),ts(e,r)},tg=e=>t=>{let r=t=>eb(t)||ev(e.selection.getRng()),o=e.dom.getParents(e.selection.getStart()),a=o=>{t.setEnabled(r(o)&&e.selection.isEditable())};return a(o),ts(e,e=>a(e.parents))},tp=e=>{e.addShortcut("Meta+K","",()=>{e.execCommand("mceLink")})},th=e=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:tn(e),onSetup:tc(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:tl(e),onSetup:tu(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>eM(e),onSetup:tg(e)})},tf=e=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:tl(e),onSetup:tu(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:td(e),onAction:tn(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>eM(e),onSetup:tg(e)})},ty=e=>{e.ui.registry.addContextMenu("link",{update:t=>e.dom.isEditable(t)?eb(e.dom.getParents(t,"a"))?"link unlink openlink":"link":""})},tb=e=>{let t=e=>{e.selection.collapse(!1)},r=t=>{let r=e.selection.getNode();return t.setEnabled(ep(e,r)),p},o=t=>{let r=eg(e),o=ek(e);return r.isNone()&&o?O(0===eh(e.selection,r).length,t):y.none()};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:tc(e)},label:"Link",predicate:t=>R(e)&&ep(e,t),initValue:()=>eg(e).fold(h(""),ed),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{let r=e.selection.getNode();return t.setActive(ep(e,r)),tc(e)(t)},onAction:r=>{let a=r.getValue(),n=o(a);eN(e,{href:a,attach:p},{href:a,text:n,title:y.none(),rel:y.none(),target:y.none(),class:y.none()}),t(e),r.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:r,onAction:t=>{eM(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:r,onAction:t=>{tl(e)(),t.hide()}}]})};e.add("link",e=>{N(e),th(e),tf(e),ty(e),tb(e),ti(e),e8(e),tp(e)})}()},57638:function(e,t,r){r(56411)},56411:function(){!function(){"use strict";let e;var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let r=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},o=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&r(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},a=e=>t=>o(t)===e,n=e=>t=>typeof t===e,l=a("string"),i=a("object"),s=a("array"),c=n("boolean"),d=e=>null==e,m=e=>!d(e),u=n("function"),g=n("number"),p=()=>{},h=(e,t)=>r=>e(t(r)),f=e=>()=>e,y=(e,t)=>e===t,b=e=>t=>!e(t),v=f(!1);class k{constructor(e,t){this.tag=e,this.value=t}static some(e){return new k(!0,e)}static none(){return k.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?k.some(e(this.value)):k.none()}bind(e){return this.tag?e(this.value):k.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:k.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(!1);let w=Array.prototype.slice,_=Array.prototype.indexOf,x=Array.prototype.push,C=(e,t)=>_.call(e,t),S=(e,t)=>C(e,t)>-1,z=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},E=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},T=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},A=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},O=(e,t)=>{if(0===e.length)return[];{let r=t(e[0]),o=[],a=[];for(let n=0,l=e.length;n<l;n++){let l=e[n],i=t(l);i!==r&&(o.push(a),a=[]),r=i,a.push(l)}return 0!==a.length&&o.push(a),o}},D=(e,t,r)=>(T(e,(e,o)=>{r=t(r,e,o)}),r),N=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return k.some(a);if(r(a,o))break}return k.none()},M=(e,t)=>N(e,t,v),R=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!s(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);x.apply(t,e[r])}return t},B=(e,t)=>R(E(e,t)),F=e=>{let t=w.call(e,0);return t.reverse(),t},L=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none(),I=e=>L(e,0),P=e=>L(e,e.length-1),H=(e,t)=>{let r=[],o=u(t)?e=>z(r,r=>t(r,e)):e=>S(r,e);for(let t=0,a=e.length;t<a;t++){let a=e[t];o(a)||r.push(a)}return r},j=(e,t,r=y)=>e.exists(e=>r(e,t)),V=(e,t,r=y)=>U(e,t,r).getOr(e.isNone()&&t.isNone()),U=(e,t,r)=>e.isSome()&&t.isSome()?k.some(r(e.getOrDie(),t.getOrDie())):k.none(),Z=e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}},q={fromHtml:(e,t)=>{let r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){let t="HTML does not have a single root node";throw console.error(t,e),Error(t)}return Z(r.childNodes[0])},fromTag:(e,t)=>Z((t||document).createElement(e)),fromDom:Z},W=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);else throw Error("Browser lacks native selectors")},$=(e,t)=>e.dom===t.dom,G=(e,t)=>{let r=e.dom,o=t.dom;return r!==o&&r.contains(o)},K="undefined"!=typeof window?window:Function("return this;")(),Y=(e,t)=>{let r=null!=t?t:K;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},X=(e,t)=>Y(e.split("."),t),J=(e,t)=>X(e,t),Q=(e,t)=>{let r=J(e,t);if(null==r)throw Error(e+" not available on this browser");return r},ee=Object.getPrototypeOf,et=e=>Q("HTMLElement",e),er=e=>{let t=X("ownerDocument.defaultView",e);return i(e)&&(et(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ee(e).constructor.name))},eo=e=>e.dom.nodeName.toLowerCase(),ea=e=>e.dom.nodeType,en=e=>t=>ea(t)===e,el=e=>8===ea(e)||"#comment"===eo(e),ei=e=>es(e)&&er(e.dom),es=en(1),ec=en(3),ed=en(9),em=en(11),eu=e=>t=>es(t)&&eo(t)===e,eg=e=>q.fromDom(e.dom.ownerDocument),ep=e=>k.from(e.dom.parentNode).map(q.fromDom),eh=e=>k.from(e.dom.parentElement).map(q.fromDom),ef=e=>k.from(e.dom.nextSibling).map(q.fromDom),ey=e=>E(e.dom.childNodes,q.fromDom),eb=(e,t)=>{let r=e.dom.childNodes;return k.from(r[t]).map(q.fromDom)},ev=e=>eb(e,0),ek=e=>eb(e,e.dom.childNodes.length-1),ew=e=>em(e)&&m(e.dom.host),e_=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode)?e=>q.fromDom(e.dom.getRootNode()):e=>ed(e)?e:eg(e),ex=e=>{let t=e_(e);return ew(t)?k.some(t):k.none()},eC=e=>q.fromDom(e.dom.host),eS=e=>{let t=ec(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return ex(q.fromDom(t)).fold(()=>r.body.contains(t),h(eS,eC))};var ez=(e,t,r,o,a)=>e(r,o)?k.some(r):u(a)&&a(r)?k.none():t(r,o,a);let eE=(e,t,r)=>{let o=e.dom,a=u(r)?r:v;for(;o.parentNode;){o=o.parentNode;let e=q.fromDom(o);if(t(e))return k.some(e);if(a(e))break}return k.none()},eT=(e,t,r)=>ez((e,t)=>t(e),eE,e,t,r),eA=(e,t,r)=>eE(e,e=>W(e,t),r),eO=(e,t,r)=>ez((e,t)=>W(e,t),eA,e,t,r),eD=e=>eO(e,"[contenteditable]"),eN=(e,t=!1)=>eS(e)?e.dom.isContentEditable:eD(e).fold(f(t),e=>"true"===eM(e)),eM=e=>e.dom.contentEditable,eR=(e,t)=>{ep(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},eB=(e,t)=>{ef(e).fold(()=>{ep(e).each(e=>{eL(e,t)})},e=>{eR(e,t)})},eF=(e,t)=>{ev(e).fold(()=>{eL(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},eL=(e,t)=>{e.dom.appendChild(t.dom)},eI=(e,t)=>{T(t,t=>{eR(e,t)})},eP=(e,t)=>{T(t,t=>{eL(e,t)})},eH=e=>{e.dom.textContent="",T(ey(e),e=>{ej(e)})},ej=e=>{let t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var eV=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),eU=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),eZ=tinymce.util.Tools.resolve("tinymce.util.VK");let eq=e=>E(e,q.fromDom),eW=Object.keys,e$=(e,t)=>{let r=eW(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},eG=e=>(t,r)=>{e[r]=t},eK=(e,t,r,o)=>{e$(e,(e,a)=>{(t(e,a)?r:o)(e,a)})},eY=(e,t)=>{let r={};return eK(e,t,eG(r),p),r},eX=(e,t,r)=>{if(l(r)||c(r)||g(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},eJ=(e,t)=>{let r=e.dom;e$(t,(e,t)=>{eX(r,t,e)})},eQ=e=>D(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),e1=(e,t)=>q.fromDom(e.dom.cloneNode(t)),e0=e=>e1(e,!0),e2=(e,t)=>{let r=q.fromTag(t);return eJ(r,eQ(e)),r},e4=(e,t)=>{let r=e2(e,t);return eB(e,r),eP(r,ey(e)),ej(e),r};var e3=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),e5=tinymce.util.Tools.resolve("tinymce.util.Tools");let e6=e=>t=>m(t)&&t.nodeName.toLowerCase()===e,e8=e=>t=>m(t)&&e.test(t.nodeName),e7=e=>m(e)&&3===e.nodeType,e9=e=>m(e)&&1===e.nodeType,te=e8(/^(OL|UL|DL)$/),tt=e8(/^(OL|UL)$/),tr=e6("ol"),to=e8(/^(LI|DT|DD)$/),ta=e8(/^(DT|DD)$/),tn=e8(/^(TH|TD)$/),tl=e6("br"),ti=e=>{var t;return(null==(t=e.parentNode)?void 0:t.firstChild)===e},ts=(e,t)=>m(t)&&t.nodeName in e.schema.getTextBlockElements(),tc=(e,t)=>m(e)&&e.nodeName in t,td=(e,t)=>m(t)&&t.nodeName in e.schema.getVoidElements(),tm=(e,t)=>!!tl(t)&&e.isBlock(t.nextSibling)&&!tl(t.previousSibling),tu=(e,t,r)=>{let o=e.isEmpty(t);return(!r||!(e.select("span[data-mce-type=bookmark]",t).length>0))&&o},tg=(e,t)=>e.isChildOf(t,e.getRoot()),tp=e=>t=>t.options.get(e),th=e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})},tf=tp("lists_indent_on_tab"),ty=tp("forced_root_block"),tb=tp("forced_root_block_attrs"),tv=(e,t)=>{let r,o,a=e.dom,n=e.schema.getBlockElements(),l=a.createFragment(),i=ty(e),s=tb(e),c=!1;for(o=a.create(i,s),tc(t.firstChild,n)||l.appendChild(o);r=t.firstChild;){let e=r.nodeName;c||"SPAN"===e&&"bookmark"===r.getAttribute("data-mce-type")||(c=!0),tc(r,n)?(l.appendChild(r),o=null):(o||(o=a.create(i,s),l.appendChild(o)),o.appendChild(r))}return!c&&o&&o.appendChild(a.create("br",{"data-mce-bogus":"1"})),l},tk=e3.DOM,tw=(e,t,r)=>{let o=tk.select('span[data-mce-type="bookmark"]',t),a=tv(e,r),n=tk.createRng();n.setStartAfter(r),n.setEndAfter(t);let l=n.extractContents();for(let t=l.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){tk.remove(t);break}e.dom.isEmpty(l)||tk.insertAfter(l,t),tk.insertAfter(a,t);let i=r.parentElement;i&&tu(e.dom,i)&&(e=>{let t=e.parentNode;t&&e5.each(o,e=>{t.insertBefore(e,r.parentNode)}),tk.remove(e)})(i),tk.remove(r),tu(e.dom,t)&&tk.remove(t)},t_=eu("dd"),tx=eu("dt"),tC=(e,t)=>{t_(t)?e4(t,"dt"):tx(t)&&eh(t).each(r=>tw(e,r.dom,t.dom))},tS=e=>{tx(e)&&e4(e,"dd")},tz=(e,t,r)=>{"Indent"===t?T(r,tS):T(r,t=>tC(e,t))},tE=(e,t)=>{if(e7(e))return{container:e,offset:t};let r=eV.getNode(e,t);return e7(r)?{container:r,offset:t>=e.childNodes.length?r.data.length:0}:r.previousSibling&&e7(r.previousSibling)?{container:r.previousSibling,offset:r.previousSibling.data.length}:r.nextSibling&&e7(r.nextSibling)?{container:r.nextSibling,offset:0}:{container:e,offset:t}},tT=e=>{let t=e.cloneRange(),r=tE(e.startContainer,e.startOffset);t.setStart(r.container,r.offset);let o=tE(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},tA=["OL","UL","DL"],tO=tA.join(","),tD=(e,t)=>{let r=t||e.selection.getStart(!0);return e.dom.getParent(r,tO,tH(e,r))},tN=(e,t)=>m(e)&&1===t.length&&t[0]===e,tM=e=>A(e.querySelectorAll(tO),te),tR=e=>{let t=tD(e),r=e.selection.getSelectedBlocks();return tN(t,r)?tM(t):A(r,e=>te(e)&&t!==e)},tB=(e,t)=>H(e5.map(t,t=>e.dom.getParent(t,"li,dd,dt",tH(e,t))||t)),tF=e=>{let t=e.selection.getSelectedBlocks();return A(tB(e,t),to)},tL=e=>A(tF(e),ta),tI=(e,t)=>{let r=e.dom.getParents(t,"TD,TH");return r.length>0?r[0]:e.getBody()},tP=(e,t)=>!te(t)&&!to(t)&&z(tA,r=>e.isValidChild(t.nodeName,r)),tH=(e,t)=>M(e.dom.getParents(t,e.dom.isBlock),t=>tP(e.schema,t)).getOr(e.getBody()),tj=e=>ep(e).exists(e=>to(e.dom)&&ev(e).exists(e=>!te(e.dom))&&ek(e).exists(e=>!te(e.dom))),tV=(e,t)=>P(e.dom.getParents(t,"ol,ul",tH(e,t))),tU=e=>{let t=tV(e,e.selection.getStart()),r=A(e.selection.getSelectedBlocks(),tt);return t.toArray().concat(r)},tZ=e=>{let t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",tH(e,t))},tq=e=>{let t=tU(e);return M(tZ(e),e=>tj(q.fromDom(e))).fold(()=>tW(e,t),e=>[e])},tW=(e,t)=>H(E(t,t=>tV(e,t).getOr(t))),t$=e=>/\btox\-/.test(e.className),tG=(e,t)=>N(e,te,tn).exists(e=>e.nodeName===t&&!t$(e)),tK=(e,t)=>null!==t&&!e.dom.isEditable(t),tY=e=>{let t=tD(e);return tK(e,t)},tX=(e,t)=>{let r=e.dom.getParent(t,"ol,ul,dl");return tK(e,r)},tJ=(e,t)=>{let r=e.selection.getNode();return t({parents:e.dom.getParents(r),element:r}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},tQ=(e,t)=>{let r=(t||document).createDocumentFragment();return T(e,e=>{r.appendChild(e.dom)}),q.fromDom(r)},t1=(e,t,r)=>e.dispatch("ListMutation",{action:t,element:r}),t0=(e=/^\s+|\s+$/g,t=>t.replace(e,"")),t2=e=>e.length>0,t4=e=>!t2(e),t3=e=>void 0!==e.style&&u(e.style.getPropertyValue),t5=(e,t,r)=>{if(!l(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);t3(e)&&e.style.setProperty(t,r)},t6=(e,t,r)=>{t5(e.dom,t,r)},t8=e=>W(e,"OL,UL"),t7=e=>W(e,"LI"),t9=e=>ev(e).exists(t8),re=e=>ek(e).exists(t8),rt=e=>"listAttributes"in e,rr=e=>"isComment"in e,ro=e=>"isFragment"in e,ra=e=>e.depth>0,rn=e=>e.isSelected,rl=e=>{let t=ey(e);return E(re(e)?t.slice(0,-1):t,e0)},ri=(e,t,r)=>ep(e).filter(es).map(o=>({depth:t,dirty:!1,isSelected:r,content:rl(e),itemAttributes:eQ(e),listAttributes:eQ(o),listType:eo(o),isInPreviousLi:!1})),rs=(e,t)=>{eL(e.item,t.list)},rc=e=>{for(let t=1;t<e.length;t++)rs(e[t-1],e[t])},rd=(e,t)=>{U(P(e),I(t),rs)},rm=(e,t)=>{let r={list:q.fromTag(t,e),item:q.fromTag("li",e)};return eL(r.list,r.item),r},ru=(e,t,r)=>{let o=[];for(let a=0;a<r;a++)o.push(rm(e,rt(t)?t.listType:t.parentListType));return o},rg=(e,t)=>{for(let t=0;t<e.length-1;t++)t6(e[t].item,"list-style-type","none");P(e).each(e=>{rt(t)&&(eJ(e.list,t.listAttributes),eJ(e.item,t.itemAttributes)),eP(e.item,t.content)})},rp=(e,t)=>{eo(e.list)!==t.listType&&(e.list=e4(e.list,t.listType)),eJ(e.list,t.listAttributes)},rh=(e,t,r)=>{let o=q.fromTag("li",e);return eJ(o,t),eP(o,r),o},rf=(e,t)=>{eL(e.list,t),e.item=t},ry=(e,t,r)=>{let o=t.slice(0,r.depth);return P(o).each(t=>{if(rt(r))rf(t,rh(e,r.itemAttributes,r.content)),rp(t,r);else if(ro(r))eP(t.item,r.content);else{let e=q.fromHtml(`<!--${r.content}-->`);eL(t.list,e)}}),o},rb=(e,t,r)=>{let o=ru(e,r,r.depth-t.length);return rc(o),rg(o,r),rd(t,o),t.concat(o)},rv=(e,t)=>{let r=k.none(),o=D(t,(t,o,a)=>rr(o)?0===a?(r=k.some(o),t):ry(e,t,o):o.depth>t.length?rb(e,t,o):ry(e,t,o),[]);return r.each(e=>{let t=q.fromHtml(`<!--${e.content}-->`);I(o).each(e=>{eF(e.list,t)})}),I(o).map(e=>e.list)},rk=(e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},rw=(e,t)=>{rt(e)&&rt(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},r_=e=>{e.listAttributes=eY(e.listAttributes,(e,t)=>"start"!==t)},rx=(e,t)=>{let r=e[t].depth,o=e=>e.depth===r&&!e.dirty,a=e=>e.depth<r;return N(F(e.slice(0,t)),o,a).orThunk(()=>N(e.slice(t+1),o,a))},rC=e=>(T(e,(t,r)=>{rx(e,r).fold(()=>{t.dirty&&rt(t)&&r_(t)},e=>rw(t,e))}),e),rS=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},rz=(e,t,r,o)=>{var a;if(el(o))return[{depth:e+1,content:null!=(a=o.dom.nodeValue)?a:"",dirty:!1,isSelected:!1,isComment:!0}];t.each(e=>{$(e.start,o)&&r.set(!0)});let n=ri(o,e,r.get());t.each(e=>{$(e.end,o)&&r.set(!1)});let l=ek(o).filter(t8).map(o=>rT(e,t,r,o)).getOr([]);return n.toArray().concat(l)},rE=(e,t,r,o)=>ev(o).filter(t8).fold(()=>rz(e,t,r,o),a=>{let n=D(ey(o),(o,n,l)=>{if(0===l)return o;{if(t7(n))return o.concat(rz(e,t,r,n));let l={isFragment:!0,depth:e,content:[n],isSelected:!1,dirty:!1,parentListType:eo(a)};return o.concat(l)}},[]);return rT(e,t,r,a).concat(n)}),rT=(e,t,r,o)=>B(ey(o),o=>(t8(o)?rT:rE)(e+1,t,r,o)),rA=(e,t)=>{let r=rS(!1);return E(e,e=>({sourceList:e,entries:rT(0,t,r,e)}))},rO=(e,t)=>E(rC(t),t=>{let r=rr(t)?tQ([q.fromHtml(`<!--${t.content}-->`)]):tQ(t.content);return q.fromDom(tv(e,r.dom))}),rD=(e,t)=>{let r=rC(t);return rv(e.contentDocument,r).toArray()},rN=(e,t)=>B(O(t,ra),t=>I(t).exists(ra)?rD(e,t):rO(e,t)),rM=(e,t)=>{T(A(e,rn),e=>rk(t,e))},rR=e=>{let t=E(tF(e),q.fromDom);return U(M(t,b(t9)),M(F(t),b(t9)),(e,t)=>({start:e,end:t}))},rB=(e,t,r)=>{T(rA(t,rR(e)),t=>{rM(t.entries,r);let o=rN(e,t.entries);T(o,t=>{t1(e,"Indent"===r?"IndentList":"OutdentList",t.dom)}),eI(t.sourceList,o),ej(t.sourceList)})},rF=(e,t)=>{let r=eq(tq(e)),o=eq(tL(e)),a=!1;if(r.length||o.length){let n=e.selection.getBookmark();rB(e,r,t),tz(e,t,o),e.selection.moveToBookmark(n),e.selection.setRng(tT(e.selection.getRng())),e.nodeChanged(),a=!0}return a},rL=(e,t)=>!tY(e)&&rF(e,t),rI=e=>rL(e,"Indent"),rP=e=>rL(e,"Outdent"),rH=e=>rL(e,"Flatten"),rj=e=>"\uFEFF"===e,rV=(e,t,r)=>eE(e,t,r).isSome(),rU=(e,t)=>rV(e,function(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}($,t));var rZ=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");let rq=e3.DOM,rW=e=>{let t={},r=r=>{let o=e[r?"startContainer":"endContainer"],a=e[r?"startOffset":"endOffset"];if(e9(o)){let e=rq.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(a=Math.min(a,o.childNodes.length-1),r?o.insertBefore(e,o.childNodes[a]):rq.insertAfter(e,o.childNodes[a])):o.appendChild(e),o=e,a=0}t[r?"startContainer":"endContainer"]=o,t[r?"startOffset":"endOffset"]=a};return r(!0),e.collapsed||r(),t},r$=e=>{let t=t=>{let r=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(r){if(e9(r)&&r.parentNode){let e=r;o=(e=>{var t;let r=null==(t=e.parentNode)?void 0:t.firstChild,o=0;for(;r;){if(r===e)return o;(!e9(r)||"bookmark"!==r.getAttribute("data-mce-type"))&&o++,r=r.nextSibling}return -1})(r),r=r.parentNode,rq.remove(e),!r.hasChildNodes()&&rq.isBlock(r)&&r.appendChild(rq.create("br"))}e[t?"startContainer":"endContainer"]=r,e[t?"startOffset":"endOffset"]=o}};t(!0),t();let r=rq.createRng();return r.setStart(e.startContainer,e.startOffset),e.endContainer&&r.setEnd(e.endContainer,e.endOffset),tT(r)},rG=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},rK=(e,t,r)=>{let o=r["list-style-type"]?r["list-style-type"]:null;e.setStyle(t,"list-style-type",o)},rY=(e,t)=>{e5.each(t,(t,r)=>{e.setAttribute(r,t)})},rX=(e,t,r)=>{rY(t,r["list-attributes"]),e5.each(e.select("li",t),e=>{rY(e,r["list-item-attributes"])})},rJ=(e,t,r)=>{rK(e,t,r),rX(e,t,r)},rQ=(e,t,r)=>{e5.each(r,r=>e.setStyle(t,r,""))},r1=(e,t)=>m(t)&&!tc(t,e.schema.getBlockElements()),r0=(e,t,r,o)=>{let a=t[r?"startContainer":"endContainer"],n=t[r?"startOffset":"endOffset"];e9(a)&&(a=a.childNodes[Math.min(n,a.childNodes.length-1)]||a),!r&&tl(a.nextSibling)&&(a=a.nextSibling);let l=t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t},i=(t,r)=>{var o;let a,n=new eU(t,l(t)),i=r?"next":"prev";for(;a=n[i]();)if(!(td(e,a)||rj(a.textContent)||(null==(o=a.textContent)?void 0:o.length)===0))return k.some(a);return k.none()};if(r&&e7(a))if(rj(a.textContent))a=i(a,!1).getOr(a);else for(null!==a.parentNode&&r1(e,a.parentNode)&&(a=a.parentNode);null!==a.previousSibling&&(r1(e,a.previousSibling)||e7(a.previousSibling));)a=a.previousSibling;if(!r&&e7(a))if(rj(a.textContent))a=i(a,!0).getOr(a);else for(null!==a.parentNode&&r1(e,a.parentNode)&&(a=a.parentNode);null!==a.nextSibling&&(r1(e,a.nextSibling)||e7(a.nextSibling));)a=a.nextSibling;for(;a.parentNode!==o;){let t=a.parentNode;if(ts(e,a)||/^(TD|TH)$/.test(t.nodeName))break;a=t}return a},r2=(e,t,r)=>{let o,a=[],n=e.dom,l=r0(e,t,!0,r),i=r0(e,t,!1,r),s=[];for(let e=l;e&&(s.push(e),e!==i);e=e.nextSibling);return e5.each(s,t=>{var l;if(ts(e,t)){a.push(t),o=null;return}if(n.isBlock(t)||tl(t)){tl(t)&&n.remove(t),o=null;return}let i=t.nextSibling;if(rZ.isBookmarkNode(t)&&(te(i)||ts(e,i)||!i&&t.parentNode===r)){o=null;return}o||(o=n.create("p"),null==(l=t.parentNode)||l.insertBefore(o,t),a.push(o)),o.appendChild(t)}),a},r4=(e,t,r)=>{let o=e.getStyle(t,"list-style-type"),a=r?r["list-style-type"]:"";return o===(a=null===a?"":a)},r3=(e,t)=>{let r=e.selection.getStart(!0),o=r0(e,t,!0,e.getBody());return rU(q.fromDom(o),q.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:r},r5=(e,t,r)=>{let o=e.selection.getRng(),a="LI",n=tH(e,r3(e,o)),l=e.dom;if("false"===l.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(a="DT");let i=rW(o),s=A(r2(e,o,n),e.dom.isEditable);e5.each(s,o=>{let n,i=o.previousSibling,s=o.parentNode;to(s)||(i&&te(i)&&i.nodeName===t&&r4(l,i,r)?(n=i,o=l.rename(o,a),i.appendChild(o)):(n=l.create(t),s.insertBefore(n,o),n.appendChild(o),o=l.rename(o,a)),rQ(l,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),rJ(l,n,r),oe(e.dom,n))}),e.selection.setRng(r$(i))},r6=(e,t)=>te(e)&&e.nodeName===(null==t?void 0:t.nodeName),r8=(e,t,r)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(r,"list-style-type",!0),r7=(e,t)=>e.className===t.className,r9=(e,t,r)=>r6(t,r)&&r8(e,t,r)&&r7(t,r),oe=(e,t)=>{let r,o=t.nextSibling;if(r9(e,t,o)){let a=o;for(;r=a.firstChild;)t.appendChild(r);e.remove(a)}if(o=t.previousSibling,r9(e,t,o)){let a=o;for(;r=a.lastChild;)t.insertBefore(r,t.firstChild);e.remove(a)}},ot=(e,t,r,o)=>{if(t.nodeName!==r){let a=e.dom.rename(t,r);rJ(e.dom,a,o),t1(e,rG(r),a)}else rJ(e.dom,t,o),t1(e,rG(r),t)},or=(e,t,r,o)=>{if(t.classList.forEach((e,r,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))}),t.nodeName!==r){let a=e.dom.rename(t,r);rJ(e.dom,a,o),t1(e,rG(r),a)}else rJ(e.dom,t,o),t1(e,rG(r),t)},oo=(e,t,r,o,a)=>{let n=te(t);if(!n||t.nodeName!==o||oa(a)||t$(t)){r5(e,o,a);let l=rW(e.selection.getRng()),i=n?[t,...r]:r,s=n&&t$(t)?or:ot;e5.each(i,t=>{s(e,t,o,a)}),e.selection.setRng(r$(l))}else rH(e)},oa=e=>"list-style-type"in e,on=(e,t,r,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==r||oa(o)||t$(t)){let a=rW(e.selection.getRng());t$(t)&&t.classList.forEach((e,r,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))}),rJ(e.dom,t,o);let n=e.dom.rename(t,r);oe(e.dom,n),e.selection.setRng(r$(a)),r5(e,r,o),t1(e,rG(r),n)}else rH(e);else r5(e,r,o),t1(e,rG(r),t)},ol=(e,t,r)=>{let o=tD(e);if(tX(e,o))return;let a=tR(e),n=i(r)?r:{};a.length>0?oo(e,o,a,t,n):on(e,o,t,n)},oi=e3.DOM,os=(e,t)=>{let r=t.parentElement;if(r&&"LI"===r.nodeName&&r.firstChild===t){let o=r.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),tu(e,r)&&oi.remove(r)):oi.setStyle(r,"listStyleType","none")}if(te(r)){let e=r.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}},oc=(e,t)=>{let r=e5.grep(e.select("ol,ul",t));e5.each(r,t=>{os(e,t)})},od=(e,t,r,o)=>{let a=t.startContainer,n=t.startOffset;if(e7(a)&&(r?n<a.data.length:n>0))return a;let l=e.schema.getNonEmptyElements();e9(a)&&(a=eV.getNode(a,n));let i=new eU(a,o);r&&tm(e.dom,a)&&i.next();let s=r?i.next.bind(i):i.prev2.bind(i);for(;a=s();)if("LI"===a.nodeName&&!a.hasChildNodes()||l[a.nodeName]||e7(a)&&a.data.length>0)return a;return null},om=(e,t)=>{let r=t.childNodes;return 1===r.length&&!te(r[0])&&e.isBlock(r[0])},ou=e=>k.from(e).map(q.fromDom).filter(ei).exists(e=>eN(e)&&!S(["details"],eo(e))),og=(e,t)=>{om(e,t)&&ou(t.firstChild)&&e.remove(t.firstChild,!0)},op=(e,t,r)=>{let o,a=om(e,r)?r.firstChild:r;if(og(e,t),!tu(e,t,!0))for(;o=t.firstChild;)a.appendChild(o)},oh=(e,t,r)=>{let o,a=t.parentNode;if(!tg(e,t)||!tg(e,r))return;te(r.lastChild)&&(o=r.lastChild),a===r.lastChild&&tl(a.previousSibling)&&e.remove(a.previousSibling);let n=r.lastChild;n&&tl(n)&&t.hasChildNodes()&&e.remove(n),tu(e,r,!0)&&eH(q.fromDom(r)),op(e,t,r),o&&r.appendChild(o);let l=G(q.fromDom(r),q.fromDom(t))?e.getParents(t,te,r):[];e.remove(t),T(l,t=>{tu(e,t)&&t!==e.getRoot()&&e.remove(t)})},of=(e,t,r)=>{eH(q.fromDom(r)),oh(e.dom,t,r),e.selection.setCursorLocation(r,0)},oy=(e,t,r,o)=>{let a=e.dom;if(a.isEmpty(o))of(e,r,o);else{let n=rW(t);oh(a,r,o),e.selection.setRng(r$(n))}},ob=(e,t,r,o)=>{let a=rW(t);oh(e.dom,r,o);let n=r$(a);e.selection.setRng(n)},ov=(e,t)=>{let r=e.dom,o=e.selection,a=tI(e,o.getStart()),n=r.getParent(o.getStart(),"LI",a);if(n){let l=n.parentElement;if(l===e.getBody()&&tu(r,l))return!0;let i=tT(o.getRng()),s=r.getParent(od(e,i,t,a),"LI",a),c=s&&(t?r.isChildOf(n,s):r.isChildOf(s,n));if(s&&s!==n&&!c)return e.undoManager.transact(()=>{t?oy(e,i,s,n):ti(n)?rP(e):ob(e,i,n,s)}),!0;if(c&&!t&&s!==n)return e.undoManager.transact(()=>{if(i.commonAncestorContainer.parentElement){let t=rW(i),o=i.commonAncestorContainer.parentElement;op(r,i.commonAncestorContainer.parentElement,s),o.remove();let a=r$(t);e.selection.setRng(a)}}),!0;if(!s&&!t&&0===i.startOffset&&0===i.endOffset)return e.undoManager.transact(()=>{rH(e)}),!0}return!1},ok=(e,t,r)=>{let o=e.getParent(t.parentNode,e.isBlock,r);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)},ow=(e,t)=>{let r=e.dom,o=e.selection.getStart(),a=tI(e,o),n=r.getParent(o,r.isBlock,a);if(n&&r.isEmpty(n)){let o=tT(e.selection.getRng()),l=r.getParent(od(e,o,t,a),"LI",a);if(l){let i=e=>S(["td","th","caption"],eo(e)),s=e=>e.dom===a;return!!V(eT(q.fromDom(l),i,s),eT(q.fromDom(o.startContainer),i,s),$)&&(e.undoManager.transact(()=>{let o=l.parentNode;ok(r,n,a),oe(r,o),e.selection.select(l,!0),e.selection.collapse(t)}),!0)}}return!1},o_=(e,t)=>ov(e,t)||ow(e,t),ox=e=>{let t=e.selection.getStart(),r=tI(e,t);return e.dom.getParent(t,"LI,DT,DD",r)||tF(e).length>0},oC=e=>!!ox(e)&&(e.undoManager.transact(()=>{e.execCommand("Delete"),oc(e.dom,e.getBody())}),!0),oS=(e,t)=>{let r=e.selection;return!tX(e,r.getNode())&&(r.isCollapsed()?o_(e,t):oC(e))},oz=e=>{e.on("ExecCommand",t=>{let r=t.command.toLowerCase();("delete"===r||"forwarddelete"===r)&&ox(e)&&oc(e.dom,e.getBody())}),e.on("keydown",t=>{t.keyCode===eZ.BACKSPACE?oS(e,!1)&&t.preventDefault():t.keyCode===eZ.DELETE&&oS(e,!0)&&t.preventDefault()})},oE=e=>({backspaceDelete:t=>{oS(e,t)}}),oT=(e,t)=>{let r=tD(e);null===r||tX(e,r)||e.undoManager.transact(()=>{i(t.styles)&&e.dom.setStyles(r,t.styles),i(t.attrs)&&e$(t.attrs,(t,o)=>e.dom.setAttrib(r,o,t))})},oA=e=>D(E(F(t0(e).split("")),(e,t)=>Math.pow(26,t)*(e.toUpperCase().charCodeAt(0)-65+1)),(e,t)=>e+t,0),oO=e=>{if(--e<0)return"";{let t=e%26;return oO(Math.floor(e/26))+String.fromCharCode(65+t)}},oD=e=>/^[A-Z]+$/.test(e),oN=e=>/^[a-z]+$/.test(e),oM=e=>/^[0-9]+$/.test(e),oR=e=>oM(e)?2:oD(e)?0:oN(e)?1:t4(e)?3:4,oB=e=>{switch(oR(e)){case 2:return k.some({listStyleType:k.none(),start:e});case 0:return k.some({listStyleType:k.some("upper-alpha"),start:oA(e).toString()});case 1:return k.some({listStyleType:k.some("lower-alpha"),start:oA(e).toString()});case 3:return k.some({listStyleType:k.none(),start:""});case 4:return k.none()}},oF=e=>{let t=parseInt(e.start,10);return j(e.listStyleType,"upper-alpha")?oO(t):j(e.listStyleType,"lower-alpha")?oO(t).toLowerCase():e.start},oL=e=>{let t=tD(e);!tr(t)||tX(e,t)||e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:oF({start:e.dom.getAttrib(t,"start","1"),listStyleType:k.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{oB(t.getData().start).each(t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}),t.close()}})},oI=(e,t)=>()=>{let r=tD(e);return m(r)&&r.nodeName===t},oP=e=>{e.addCommand("mceListProps",()=>{oL(e)})},oH=e=>{e.on("BeforeExecCommand",t=>{let r=t.command.toLowerCase();"indent"===r?rI(e):"outdent"===r&&rP(e)}),e.addCommand("InsertUnorderedList",(t,r)=>{ol(e,"UL",r)}),e.addCommand("InsertOrderedList",(t,r)=>{ol(e,"OL",r)}),e.addCommand("InsertDefinitionList",(t,r)=>{ol(e,"DL",r)}),e.addCommand("RemoveList",()=>{rH(e)}),oP(e),e.addCommand("mceListUpdate",(t,r)=>{i(r)&&oT(e,r)}),e.addQueryStateHandler("InsertUnorderedList",oI(e,"UL")),e.addQueryStateHandler("InsertOrderedList",oI(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",oI(e,"DL"))};var oj=tinymce.util.Tools.resolve("tinymce.html.Node");let oV=e=>3===e.type,oU=e=>0===e.length,oZ=e=>{let t=(t,r)=>{let o=oj.create("li");T(t,e=>o.append(e)),r?e.insert(o,r,!0):e.append(o)},r=D(e.children(),(e,r)=>oV(r)?[...e,r]:oU(e)||oV(r)?e:(t(e,r),[]),[]);oU(r)||t(r)},oq=e=>{e.on("PreInit",()=>{let{parser:t}=e;t.addNodeFilter("ul,ol",e=>T(e,oZ))})},oW=e=>{e.on("keydown",t=>{t.keyCode!==eZ.TAB||eZ.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?rP(e):rI(e))&&t.preventDefault()})})},o$=e=>{tf(e)&&oW(e),oz(e)},oG=(e,t)=>r=>(r.setEnabled(e.selection.isEditable()),tJ(e,o=>{r.setActive(tG(o.parents,t)),r.setEnabled(!tX(e,o.element)&&e.selection.isEditable())})),oK=e=>{let t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:oG(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:oG(e,"UL")}))},oY=(e,t)=>r=>tJ(e,o=>r.setEnabled(tG(o.parents,t)&&!tX(e,o.element))),oX=e=>{let t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:oY(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>tr(tD(e,t))?["listprops"]:[]})};t.add("lists",e=>(th(e),oq(e),e.hasPlugin("rtc",!0)?oP(e):(o$(e),oH(e)),oK(e),oX(e),oE(e)))}()},99150:function(e,t,r){r(99806)},99806:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},r=e=>{let r=typeof e;return null===e?"null":"object"===r&&Array.isArray(e)?"array":"object"===r&&t(e,String,(e,t)=>t.isPrototypeOf(e))?"string":r},o=e=>t=>r(t)===e,a=o("string"),n=o("object"),l=o("array"),i=e=>null==e,s=e=>!i(e);class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return s(e)?c.some(e):c.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);let d=Array.prototype.push,m=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},u=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!l(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);d.apply(t,e[r])}return t},g=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},p=Object.keys,h=Object.hasOwnProperty,f=(e,t)=>{let r=p(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},y=(e,t)=>b(e,t)?c.from(e[t]):c.none(),b=(e,t)=>h.call(e,t),v=e=>t=>t.options.get(e),k=e=>{let t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})},w=v("audio_template_callback"),_=v("video_template_callback"),x=v("iframe_template_callback"),C=v("media_live_embeds"),S=v("media_filter_html"),z=v("media_url_resolver"),E=v("media_alt_source"),T=v("media_poster"),A=v("media_dimensions");var O=tinymce.util.Tools.resolve("tinymce.util.Tools"),D=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),N=tinymce.util.Tools.resolve("tinymce.html.DomParser");let M=D.DOM,R=e=>e.replace(/px$/,""),B=e=>{let t=e.attr("style"),r=t?M.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:y(r,"max-width").map(R).getOr(""),height:y(r,"max-height").map(R).getOr("")}},F=(e,t)=>{let r={},o=N({validate:!1,forced_root_block:!1},t).parse(e);for(let e=o;e;e=e.walk())if(1===e.type){let t=e.name;if(e.attr("data-ephox-embed-iri")){r=B(e);break}r.source||"param"!==t||(r.source=e.attr("movie")),("iframe"===t||"object"===t||"embed"===t||"video"===t||"audio"===t)&&(r.type||(r.type=t),r=O.extend(e.attributes.map,r)),"source"===t&&(r.source?r.altsource||(r.altsource=e.attr("src")):r.source=e.attr("src")),"img"!==t||r.poster||(r.poster=e.attr("src"))}return r.source=r.source||r.src||"",r.altsource=r.altsource||"",r.poster=r.poster||"",r},L=e=>{var t;return y({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},null!=(t=e.toLowerCase().split(".").pop())?t:"").getOr("")};var I=tinymce.util.Tools.resolve("tinymce.html.Node"),P=tinymce.util.Tools.resolve("tinymce.html.Serializer");let H=(e,t={})=>N({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),j=D.DOM,V=e=>/^[0-9.]+$/.test(e)?e+"px":e,U=(e,t)=>{let r=t.attr("style"),o=r?j.parseStyle(r):{};s(e.width)&&(o["max-width"]=V(e.width)),s(e.height)&&(o["max-height"]=V(e.height)),t.attr("style",j.serializeStyle(o))},Z=["source","altsource"],q=(e,t,r,o)=>{let a=0,n=0,l=H(o);l.addNodeFilter("source",e=>a=e.length);let i=l.parse(e);for(let e=i;e;e=e.walk())if(1===e.type){let o=e.name;if(e.attr("data-ephox-embed-iri")){U(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(r)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let r=a;r<2;r++)if(t[Z[r]]){let o=new I("source",1);o.attr("src",t[Z[r]]),o.attr("type",t[Z[r]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":let l=e.getAll("img").length>0;if(t.poster&&!l){e.attr("src",t.poster);let r=new I("img",1);r.attr("src",t.poster),r.attr("width",t.width),r.attr("height",t.height),e.append(r)}break;case"source":if(n<2&&(e.attr("src",t[Z[n]]),e.attr("type",t[Z[n]+"mime"]||null),!t[Z[n]])){e.remove();continue}n++;break;case"img":t.poster||e.remove()}}return P({},o).serialize(i)},W=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],$=e=>{let t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"},G=(e,t)=>{let r=$(t),o=e.regex.exec(t),a=r+e.url;if(s(o))for(let e=0;e<o.length;e++)a=a.replace("$"+e,()=>o[e]?o[e]:"");return a.replace(/\?$/,"")},K=e=>{let t=W.filter(t=>t.regex.test(e));return t.length>0?O.extend({},t[0],{url:G(t[0],e)}):null},Y=(e,t)=>{if(t)return t(e);{let t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}},X=e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>"},J=(e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>",Q=(e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>",ee=(e,t)=>{var r;let o=O.extend({},t);if(!o.source&&(O.extend(o,F(null!=(r=o.embed)?r:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=L(o.source),o.altsourcemime=L(o.altsource),o.poster=e.convertURL(o.poster,"poster");let a=K(o.source);if(a&&(o.source=a.url,o.type=a.type,o.allowfullscreen=a.allowFullscreen,o.width=o.width||String(a.w),o.height=o.height||String(a.h)),o.embed)return q(o.embed,o,!0,e.schema);{let t=w(e),r=_(e),a=x(e);return(o.width=o.width||"300",o.height=o.height||"150",O.each(o,(t,r)=>{o[r]=e.dom.encode(""+t)}),"iframe"===o.type)?Y(o,a):"application/x-shockwave-flash"===o.sourcemime?X(o):-1!==o.sourcemime.indexOf("audio")?J(o,t):Q(o,r)}},et=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),er=e=>{e.on("click keyup touchend",()=>{let t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectResized",t=>{let r=t.target;if(r.getAttribute("data-mce-object")){let o=r.getAttribute("data-mce-html");o&&(o=unescape(o),r.setAttribute("data-mce-html",escape(q(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}})},eo={},ea=(e,t,r)=>new Promise((o,a)=>{let n=r=>(r.html&&(eo[e.source]=r),o({url:e.source,html:r.html?r.html:t(e)}));eo[e.source]?n(eo[e.source]):r({url:e.source},n,a)}),en=(e,t)=>Promise.resolve({html:t(e),url:e.source}),el=e=>t=>ee(e,t),ei=(e,t)=>{let r=z(e);return r?ea(t,el(e),r):en(t,el(e))},es=e=>b(eo,e),ec=(e,t)=>y(t,e).bind(e=>y(e,"meta")),ed=(e,t,r)=>o=>{let a=()=>y(e,o),l=()=>y(t,o),i=e=>y(e,"value").bind(e=>e.length>0?c.some(e):c.none());return{[o]:(o===r?a().bind(e=>n(e)?i(e).orThunk(l):l().orThunk(()=>c.from(e))):l().orThunk(()=>a().bind(e=>n(e)?i(e):c.from(e)))).getOr("")}},em=(e,t)=>{let r={};return y(e,"dimensions").each(e=>{m(["width","height"],o=>{y(t,o).orThunk(()=>y(e,o)).each(e=>r[o]=e)})}),r},eu=(e,t)=>{let r=t&&"dimensions"!==t?ec(t,e).getOr({}):{},o=ed(e,r,t);return{...o("source"),...o("altsource"),...o("poster"),...o("embed"),...em(e,r)}},eg=e=>{let t={...e,source:{value:y(e,"source").getOr("")},altsource:{value:y(e,"altsource").getOr("")},poster:{value:y(e,"poster").getOr("")}};return m(["width","height"],r=>{y(e,r).each(e=>{let o=t.dimensions||{};o[r]=e,t.dimensions=o})}),t},ep=e=>t=>{let r=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:r})},eh=e=>{let t=e.selection.getNode(),r=et(t)?e.serializer.serialize(t,{selection:!0}):"",o=F(r,e.schema),a=(()=>{if(!ev(o.source,o.type))return{};{let r=e.dom.getRect(t);return{width:r.w.toString().replace(/px$/,""),height:r.h.toString().replace(/px$/,"")}}})();return{embed:r,...o,...a}},ef=(e,t)=>r=>{if(a(r.url)&&r.url.trim().length>0){let o=r.html,a={...F(o,t.schema),source:r.url,embed:o};e.setData(eg(a))}},ey=(e,t)=>{let r=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=r.length-1;o>=0;o--)t[e]===r[o]&&r.splice(o,1);e.selection.select(r[0])},eb=(e,t)=>{let r=e.dom.select("*[data-mce-object]");e.insertContent(t),ey(e,r),e.nodeChanged()},ev=(e,t)=>s(t)&&"ephox-embed-iri"===t&&s(K(e)),ek=(e,t)=>(e.width!==t.width||e.height!==t.height)&&ev(t.source,e.type),ew=(e,t,r)=>{var o;t.embed=ek(e,t)&&A(r)?ee(r,{...t,embed:""}):q(null!=(o=t.embed)?o:"",t,!1,r.schema),t.embed&&(e.source===t.source||es(t.source))?eb(r,t.embed):ei(r,t).then(e=>{eb(r,e.html)}).catch(ep(r))},e_=e=>{let t=eh(e),r=g(t),o=eg(t),a=(t,r)=>{let o=eu(r.getData(),"source");t.source!==o.source&&(ef(d,e)({url:o.source,html:""}),ei(e,o).then(ef(d,e)).catch(ep(e)))},n=t=>{var r;let o=F(null!=(r=eu(t.getData()).embed)?r:"",e.schema);t.setData(eg(o))},l=(t,r,o)=>{let a=eu(t.getData(),r),n=ek(o,a)&&A(e)?{...a,embed:""}:a,l=ee(e,n);t.setData(eg({...n,embed:l}))},i={title:"General",name:"general",items:u([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],A(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[]])},s=[];E(e)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),T(e)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});let c=[i,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];s.length>0&&c.push({title:"Advanced",name:"advanced",items:s});let d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:{type:"tabpanel",tabs:c},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{let o=eu(t.getData());ew(r.get(),o,e),t.close()},onChange:(e,t)=>{switch(t.name){case"source":a(r.get(),e);break;case"embed":n(e);break;case"dimensions":case"altsource":case"poster":l(e,t.name,r.get())}r.set(eu(e.getData()))},initialData:o})},ex=e=>({showDialog:()=>{e_(e)}}),eC=e=>{e.addCommand("mceMedia",()=>{e_(e)})},eS=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,ez=(e,t)=>eS(e,t,0);var eE=tinymce.util.Tools.resolve("tinymce.Env");let eT=e=>{let t=e.name;return"iframe"===t||"video"===t||"audio"===t},eA=(e,t,r,o=null)=>{let a=e.attr(r);return s(a)?a:b(t,r)?null:o},eO=(e,t,r)=>{let o="img"===t.name||"video"===e.name,a="audio"===e.name?"30":"150";t.attr({width:eA(e,r,"width",o?"300":null),height:eA(e,r,"height",o?a:null)})},eD=(e,t,r,o)=>{let a=H(e.schema).parse(o,{context:t});for(;a.firstChild;)r.append(a.firstChild)},eN=(e,t)=>{let r=t.name,o=new I("img",1);return eR(e,t,o),eO(t,o,{}),o.attr({style:t.attr("style"),src:eE.transparentSrc,"data-mce-object":r,class:"mce-object mce-object-"+r}),o},eM=(e,t)=>{var r;let o=t.name,a=new I("span",1);a.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),eR(e,t,a);let n=e.dom.parseStyle(null!=(r=t.attr("style"))?r:""),l=new I(o,1);if(eO(t,l,n),l.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)l.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox")});else{m(["controls","crossorigin","currentTime","loop","muted","poster","preload"],e=>{l.attr(e,t.attr(e))});let r=a.attr("data-mce-html");s(r)&&eD(e,o,l,unescape(r))}let i=new I("span",1);return i.attr("class","mce-shim"),a.append(l),a.append(i),a},eR=(e,t,r)=>{var o;let a=null!=(o=t.attributes)?o:[],n=a.length;for(;n--;){let t=a[n].name,o=a[n].value;"width"===t||"height"===t||"style"===t||ez(t,"data-mce-")||(("data"===t||"src"===t)&&(o=e.convertURL(o,t)),r.attr("data-mce-p-"+t,o))}let l=P({inner:!0},e.schema),i=new I("div",1);m(t.children(),e=>i.append(e));let s=l.serialize(i);s&&(r.attr("data-mce-html",escape(s)),r.empty())},eB=e=>{let t=e.attr("class");return a(t)&&/\btiny-pageembed\b/.test(t)},eF=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||eB(t))return!0;return!1},eL=e=>t=>{let r,o=t.length;for(;o--;)!(!(r=t[o]).parent||r.parent.attr("data-mce-object"))&&(eT(r)&&C(e)?eF(r)||r.replace(eM(e,r)):eF(r)||r.replace(eN(e,r)))},eI=(e,t,r)=>{let o=(0,e.options.get)("xss_sanitization"),a=S(e);return H(e.schema,{sanitize:o,validate:a}).parse(r,{context:t})},eP=e=>{e.on("PreInit",()=>{let{schema:t,serializer:r,parser:o}=e,a=t.getBoolAttrs();m("webkitallowfullscreen mozallowfullscreen".split(" "),e=>{a[e]={}}),f({embed:["wmode"]},(e,r)=>{let o=t.getElementRule(r);o&&m(e,e=>{o.attributes[e]={},o.attributesOrder.push(e)})}),o.addNodeFilter("iframe,video,audio,object,embed",eL(e)),r.addAttributeFilter("data-mce-object",(t,r)=>{var o;let a=t.length;for(;a--;){let n=t[a];if(!n.parent)continue;let l=n.attr(r),i=new I(l,1);if("audio"!==l){let e=n.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&n.firstChild?i.attr({width:n.firstChild.attr("width"),height:n.firstChild.attr("height")}):i.attr({width:n.attr("width"),height:n.attr("height")})}i.attr({style:n.attr("style")});let s=null!=(o=n.attributes)?o:[],c=s.length;for(;c--;){let e=s[c].name;0===e.indexOf("data-mce-p-")&&i.attr(e.substr(11),s[c].value)}let d=n.attr("data-mce-html");d&&m(eI(e,l,unescape(d)).children(),e=>i.append(e)),n.replace(i)}})}),e.on("SetContent",()=>{let t=e.dom;m(t.select("span.mce-preview-object"),e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})})})},eH=e=>{e.on("ResolveName",e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})},ej=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},eV=e=>{let t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{let r=e.selection;t.setActive(et(r.getNode()));let o=r.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,a=ej(e)(t);return()=>{o(),a()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:ej(e)})};e.add("media",e=>(k(e),eC(e),eV(e),eH(e),eP(e),er(e),ex(e)))}()},21098:function(e,t,r){r(4275)},4275:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=e=>t=>typeof t===e,r=t("boolean"),o=t("number"),a=e=>t=>t.options.get(e),n=e=>{let t=e.options.register;t("nonbreaking_force_tab",{processor:e=>r(e)?{value:3*!!e,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})},l=a("nonbreaking_force_tab"),i=a("nonbreaking_wrap"),s=(e,t)=>{let r="";for(let o=0;o<t;o++)r+=e;return r},c=e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled(),d=(e,t)=>{let r=i(e)||e.plugins.visualchars?`<span class="${c(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${s("&nbsp;",t)}</span>`:s("&nbsp;",t);e.undoManager.transact(()=>e.insertContent(r))},m=e=>{e.addCommand("mceNonBreaking",()=>{d(e,1)})};var u=tinymce.util.Tools.resolve("tinymce.util.VK");let g=e=>{let t=l(e);t>0&&e.on("keydown",r=>{r.keyCode===u.TAB&&!r.isDefaultPrevented()&&(r.shiftKey||(r.preventDefault(),r.stopImmediatePropagation(),d(e,t)))})},p=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},h=e=>{let t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:p(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:p(e)})};e.add("nonbreaking",e=>{n(e),m(e),h(e),g(e)})}()},40714:function(e,t,r){r(44194)},44194:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");let r=e=>t=>t.options.get(e),o=e=>{let t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})},a=r("pagebreak_separator"),n=r("pagebreak_split_block"),l="mce-pagebreak",i=e=>{let r=`<img src="${t.transparentSrc}" class="${l}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${r}</p>`:r},s=e=>{let t=a(e),r=()=>n(e),o=RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,e=>"\\"+e),"gi");e.on("BeforeSetContent",e=>{e.content=e.content.replace(o,i(r()))}),e.on("PreInit",()=>{e.serializer.addNodeFilter("img",o=>{let a=o.length,n,i;for(;a--;)if((i=(n=o[a]).attr("class"))&&-1!==i.indexOf(l)){let o=n.parent;if(o&&e.schema.getBlockElements()[o.name]&&r()){o.type=3,o.value=t,o.raw=!0,n.remove();continue}n.type=3,n.value=t,n.raw=!0}})})},c=e=>{e.addCommand("mcePageBreak",()=>{e.insertContent(i(n(e)))})},d=e=>{e.on("ResolveName",t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,l)&&(t.name="pagebreak")})},m=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},u=e=>{let t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:m(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:m(e)})};e.add("pagebreak",e=>{o(e),c(e),u(e),s(e),d(e)})}()},19562:function(e,t,r){r(27478)},27478:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Tools");let o=e=>t=>t.options.get(e),a=o("content_style"),n=o("content_css_cors"),l=o("body_class"),i=o("body_id"),s=e=>{var o;let s="",c=e.dom.encode,d=null!=(o=a(e))?o:"";s+='<base href="'+c(e.documentBaseURI.getURI())+'">';let m=n(e)?' crossorigin="anonymous"':"";r.each(e.contentCSS,t=>{s+='<link type="text/css" rel="stylesheet" href="'+c(e.documentBaseURI.toAbsolute(t))+'"'+m+">"}),d&&(s+='<style type="text/css">'+d+"</style>");let u=i(e),g=l(e),p=t.os.isMacOS()||t.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",h=e.getBody().dir,f=h?' dir="'+c(h)+'"':"";return"<!DOCTYPE html><html><head>"+s+'</head><body id="'+c(u)+'" class="mce-content-body '+c(g)+'"'+f+">"+e.getContent()+'<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+p+")) {e.preventDefault();}}}, false);<\/script> </body></html>"},c=e=>{let t=s(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")},d=e=>{e.addCommand("mcePreview",()=>{c(e)})},m=e=>{let t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})};e.add("preview",e=>{d(e),m(e)})}()},18021:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},r=e=>{let r=typeof e;return null===e?"null":"object"===r&&Array.isArray(e)?"array":"object"===r&&t(e,String,(e,t)=>t.isPrototypeOf(e))?"string":r},o=e=>t=>typeof t===e,a=e=>"string"===r(e),n=o("boolean"),l=e=>null==e,i=e=>!l(e),s=o("function"),c=e=>t=>t.options.get(e),d=e=>{let t=e.options.register,r=e=>t=>{let r=n(t)||a(t);return r?n(t)?{value:t?e:"",valid:r}:{value:t.trim(),valid:r}:{valid:!1,message:"Must be a boolean or string."}},o="bold italic | quicklink h2 h3 blockquote";t("quickbars_selection_toolbar",{processor:r(o),default:o});let l="quickimage quicktable";t("quickbars_insert_toolbar",{processor:r(l),default:l});let i="alignleft aligncenter alignright";t("quickbars_image_toolbar",{processor:r(i),default:i})},m=c("quickbars_selection_toolbar"),u=c("quickbars_insert_toolbar"),g=c("quickbars_image_toolbar"),p=0,h=e=>{let t=new Date().getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++p+String(t)},f=(e,t,r)=>{e.execCommand("mceInsertTable",!1,{rows:r,columns:t})},y=(e,t,r)=>{let o=e.editorUpload.blobCache,a=o.create(h("mceu"),r,t);o.add(a),e.insertContent(e.dom.createHTML("img",{src:a.blobUri()}))},b=e=>new Promise(t=>{let r=new FileReader;r.onloadend=()=>{t(r.result.split(",")[1])},r.readAsDataURL(e)});var v=tinymce.util.Tools.resolve("tinymce.util.Delay");let k=e=>new Promise(t=>{let r=!1,o=document.createElement("input");o.type="file",o.accept="image/*",o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0.001",document.body.appendChild(o);let a=e=>{var a;r||(null==(a=o.parentNode)||a.removeChild(o),r=!0,t(e))},n=e=>{a(Array.prototype.slice.call(e.target.files))};o.addEventListener("input",n),o.addEventListener("change",n);let l=t=>{let o=()=>{a([])};r||("focusin"===t.type?v.setEditorTimeout(e,o,1e3):o()),e.off("focusin remove",l)};e.on("focusin remove",l),o.click()}),w=e=>{e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{k(e).then(t=>{if(t.length>0){let r=t[0];b(r).then(t=>{y(e,t,r)})}})}}),e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{f(e,2,2)}})},_=()=>!1;class x{constructor(e,t){this.tag=e,this.value=t}static some(e){return new x(!0,e)}static none(){return x.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?x.some(e(this.value)):x.none()}bind(e){return this.tag?e(this.value):x.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:x.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?x.some(e):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(!1),"undefined"!=typeof window?window:Function("return this;")();let C=e=>e.dom.nodeName.toLowerCase(),S=(e,t)=>{let r=e.dom;return!!r&&!!r.hasAttribute&&r.hasAttribute(t)};var z=(e,t,r,o,a)=>e(r,o)?x.some(r):s(a)&&a(r)?x.none():t(r,o,a);let E={fromDom:e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}}},T=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);else throw Error("Browser lacks native selectors")},A=(e,t,r)=>{let o=e.dom,a=s(r)?r:_;for(;o.parentNode;){o=o.parentNode;let e=E.fromDom(o);if(t(e))return x.some(e);if(a(e))break}return x.none()},O=(e,t,r)=>z((e,t)=>t(e),A,e,t,r),D=(e,t,r)=>O(e,t,r).isSome(),N=(e,t,r)=>A(e,e=>T(e,t),r),M=(e,t,r)=>z((e,t)=>T(e,t),N,e,t,r),R=e=>{let t=u(e);t.length>0&&e.ui.registry.addContextToolbar("quickblock",{predicate:t=>{let r=E.fromDom(t),o=e.schema.getTextBlockElements(),a=t=>t.dom===e.getBody();return!S(r,"data-mce-bogus")&&M(r,'table,[data-mce-bogus="all"]',a).fold(()=>D(r,t=>C(t)in o&&e.dom.isEmpty(t.dom),a),_)},items:t,position:"line",scope:"editor"})},B=e=>void 0!==e.dom.classList,F=(e,t)=>B(e)&&e.dom.classList.contains(t),L=e=>{let t=t=>e.dom.isEditable(t),r=e=>t(e.parentElement),o=e=>{let t="FIGURE"===e.nodeName&&/image/i.test(e.className),o="IMG"===e.nodeName||t,a=F(E.fromDom(e),"mce-pagebreak");return o&&r(e)&&!a},a=g(e);a.length>0&&e.ui.registry.addContextToolbar("imageselection",{predicate:o,items:a,position:"node"});let n=m(e);n.length>0&&e.ui.registry.addContextToolbar("textselection",{predicate:r=>!o(r)&&!e.selection.isCollapsed()&&t(r),items:n,position:"selection",scope:"editor"})};e.add("quickbars",e=>{d(e),w(e),R(e),L(e)})}()},56544:function(e,t,r){r(74697)},74697:function(){!function(){"use strict";let e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");let r=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},o=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&r(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},a=e=>t=>o(t)===e,n=e=>t=>typeof t===e,l=a("string"),i=a("array"),s=n("boolean"),c=e=>null==e,d=e=>!c(e),m=n("number"),u=()=>{},g=e=>()=>e,p=g(!0),h=g(`[~\u2116|!-*+-\\/:;?@\\[-\`{}\u00A1\u00AB\u00B7\u00BB\u00BF;\u00B7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]`);class f{constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1);var y=tinymce.util.Tools.resolve("tinymce.Env"),b=tinymce.util.Tools.resolve("tinymce.util.Tools");let v=Array.prototype.slice,k=Array.prototype.push,w=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},_=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},x=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},C=(e,t)=>{if(0===e.length)return[];{let r=t(e[0]),o=[],a=[];for(let n=0,l=e.length;n<l;n++){let l=e[n],i=t(l);i!==r&&(o.push(a),a=[]),r=i,a.push(l)}return 0!==a.length&&o.push(a),o}},S=(e,t,r)=>(_(e,(e,o)=>{r=t(r,e,o)}),r),z=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!i(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);k.apply(t,e[r])}return t},E=(e,t)=>z(w(e,t)),T=(e,t)=>{let r=v.call(e,0);return r.sort(t),r},A=Object.hasOwnProperty,O=(e,t)=>A.call(e,t);"undefined"!=typeof window?window:Function("return this;")();let D=e=>e.dom.nodeType,N=(e,t,r)=>{if(l(r)||s(r)||m(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},M=(e,t,r)=>{N(e.dom,t,r)},R={fromDom:e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}}},B=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,F=(e,t)=>{let r=void 0===t?document:t.dom;return B(r)?[]:w(r.querySelectorAll(e),R.fromDom)},L=e=>f.from(e.dom.parentNode).map(R.fromDom),I=e=>w(e.dom.childNodes,R.fromDom),P=(e,t)=>({element:e,offset:t}),H=(e,t)=>{let r=I(e);return r.length>0&&t<r.length?P(r[t],0):P(e,t)},j=(e,t)=>{L(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},V=(e,t)=>{e.dom.appendChild(t.dom)},U=(e,t)=>{j(e,t),V(t,e)},Z=((e,t)=>{let r=t=>e(t)?f.from(t.dom.nodeValue):f.none();return{get:o=>{if(!e(o))throw Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},getOption:r,set:(r,o)=>{if(!e(r))throw Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=o}}})(e=>3===D(e),"text"),q=e=>Z.get(e),W=(e,t,r)=>(e.compareDocumentPosition(t)&r)!=0,$=(e,t)=>W(e,t,Node.DOCUMENT_POSITION_PRECEDING),G=(e,t)=>F(t,e);var K=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");let Y=(e,t)=>e.isBlock(t)||O(e.schema.getVoidElements(),t.nodeName),X=(e,t)=>!e.isEditable(t),J=(e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode),Q=(e,t)=>!e.isBlock(t)&&O(e.schema.getWhitespaceElements(),t.nodeName),ee=(e,t)=>Y(e,t)||X(e,t)||Q(e,t)||J(e,t),et=e=>3===e.nodeType,er=()=>({sOffset:0,fOffset:0,elements:[]}),eo=(e,t)=>H(R.fromDom(e),t),ea=(e,t,r,o,a,n=!0)=>{let l=n?t(!1):r;for(;l;){let r=X(e,l);if(r||Q(e,l)){if(r?o.cef(l):o.boundary(l))break;l=t(!0);continue}if(Y(e,l)){if(o.boundary(l))break}else et(l)&&o.text(l);if(l===a)break;l=t(!1)}},en=(e,t,r,o,a)=>{var n;if(ee(e,r))return;let l=new K(r,null!=(n=e.getParent(o,e.isBlock))?n:e.getRoot());ea(e,a?l.next.bind(l):l.prev.bind(l),r,{boundary:p,cef:p,text:e=>{a?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(R.fromDom(e))}})},el=(e,t,r,o,a,n=!0)=>{let l=new K(r,t),i=[],s=er();en(e,s,r,t,!1);let c=()=>(s.elements.length>0&&(i.push(s),s=er()),!1);return ea(e,l.next.bind(l),r,{boundary:c,cef:e=>(c(),a&&i.push(...a.cef(e)),!1),text:e=>{s.elements.push(R.fromDom(e)),a&&a.text(e,s)}},o,n),o&&en(e,s,o,t,!0),c(),i},ei=(e,t)=>{let r=eo(t.startContainer,t.startOffset),o=r.element.dom,a=eo(t.endContainer,t.endOffset),n=a.element.dom;return el(e,t.commonAncestorContainer,o,n,{text:(e,t)=>{e===n?t.fOffset+=e.length-a.offset:e===o&&(t.sOffset+=r.offset)},cef:t=>T(E(G(R.fromDom(t),"*[contenteditable=true]"),t=>{let r=t.dom;return el(e,r,r)}),(e,t)=>$(e.elements[0].dom,t.elements[0].dom)?1:-1)},!1)},es=(e,t)=>t.collapsed?[]:ei(e,t),ec=(e,t)=>{let r=e.createRng();return r.selectNode(t),es(e,r)},ed=(e,t)=>E(t,t=>ec(e,t)),em=(e,t,r=0,o=e.length)=>{let a,n=t.regex;n.lastIndex=r;let l=[];for(;a=n.exec(e);){let e=a[t.matchIndex],r=a.index+a[0].indexOf(e),i=r+e.length;if(i>o)break;l.push({start:r,finish:i}),n.lastIndex=i}return l},eu=(e,t)=>C(S(e,(e,r)=>{let o=q(r),a=e.last,n=a+o.length,l=E(t,(e,t)=>e.start<n&&e.finish>a?[{element:r,start:Math.max(a,e.start)-a,finish:Math.min(n,e.finish)-a,matchId:t}]:[]);return{results:e.results.concat(l),last:n}},{results:[],last:0}).results,e=>e.matchId),eg=(e,t)=>E(t,t=>{let r=t.elements,o=w(r,q).join("");return eu(r,em(o,e,t.sOffset,o.length-t.fOffset))}),ep=(e,t)=>{x(e,(e,r)=>{x(e,e=>{let o=R.fromDom(t.cloneNode(!1));M(o,"data-mce-index",r);let a=e.element.dom;if(a.length===e.finish&&0===e.start)U(e.element,o);else{a.length!==e.finish&&a.splitText(e.finish);let t=a.splitText(e.start);U(R.fromDom(t),o)}})})},eh=(e,t,r,o)=>{let a=eg(t,ec(e,r));return ep(a,o),a.length},ef=(e,t,r,o)=>{let a=r.getBookmark(),n=e.select("td[data-mce-selected],th[data-mce-selected]"),l=eg(t,n.length>0?ed(e,n):es(e,r.getRng()));return ep(l,o),r.moveToBookmark(a),l.length},ey=e=>e.getAttribute("data-mce-index"),eb=(e,t,r,o)=>{let a=e.dom.create("span",{"data-mce-bogus":1});a.className="mce-match-marker";let n=e.getBody();return(eA(e,t,!1),o)?ef(e.dom,r,e.selection,a):eh(e.dom,r,n,a)},ev=e=>{var t;let r=e.parentNode;e.firstChild&&r.insertBefore(e.firstChild,e),null==(t=e.parentNode)||t.removeChild(e)},ek=(e,t)=>{let r=[],o=b.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){let a=ey(o[e]);null!==a&&a.length&&a===t.toString()&&r.push(o[e])}return r},ew=(e,t,r)=>{let o=t.get(),a=o.index,n=e.dom;r?a+1===o.count?a=0:a++:a-1==-1?a=o.count-1:a--,n.removeClass(ek(e,o.index),"mce-match-marker-selected");let l=ek(e,a);return l.length?(n.addClass(ek(e,a),"mce-match-marker-selected"),e.selection.scrollIntoView(l[0]),a):-1},e_=(e,t)=>{let r=t.parentNode;e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},ex=(e,t)=>{let r="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${h()})`+r+`(?=$|\\s|${h()})`:r},eC=(e,t,r,o,a,n)=>{let l=e.selection,i=ex(r,a),s=l.isForward(),c=eb(e,t,{regex:new RegExp(i,o?"g":"gi"),matchIndex:1},n);if(y.browser.isSafari()&&l.setRng(l.getRng(),s),c){let l=ew(e,t,!0);t.set({index:l,count:c,text:r,matchCase:o,wholeWord:a,inSelection:n})}return c},eS=(e,t)=>{let r=ew(e,t,!0);t.set({...t.get(),index:r})},ez=(e,t)=>{let r=ew(e,t,!1);t.set({...t.get(),index:r})},eE=e=>{let t=ey(e);return null!==t&&t.length>0},eT=(e,t,r,o,a)=>{let n=t.get(),l=n.index,i,s=l;o=!1!==o;let c=e.getBody(),d=b.grep(b.toArray(c.getElementsByTagName("span")),eE);for(let t=0;t<d.length;t++){let c=i=parseInt(ey(d[t]),10);if(a||c===n.index){for(r.length?(d[t].innerText=r,ev(d[t])):e_(e.dom,d[t]);d[++t];)if((c=parseInt(ey(d[t]),10))===i)e_(e.dom,d[t]);else{t--;break}o&&s--}else i>l&&d[t].setAttribute("data-mce-index",String(i-1))}return t.set({...n,count:a?0:n.count-1,index:s}),o?eS(e,t):ez(e,t),!a&&t.get().count>0},eA=(e,t,r)=>{let o,a,n=t.get(),l=b.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<l.length;e++){let t=ey(l[e]);null!==t&&t.length&&(t===n.index.toString()&&(o||(o=l[e].firstChild),a=l[e].firstChild),ev(l[e]))}if(t.set({...n,index:-1,count:0,text:""}),o&&a){let t=e.dom.createRng();return t.setStart(o,0),t.setEnd(a,a.data.length),!1!==r&&e.selection.setRng(t),t}},eO=(e,t)=>t.get().count>1,eD=(e,t)=>t.get().count>1,eN=(e,t)=>({done:r=>eA(e,t,r),find:(r,o,a,n=!1)=>eC(e,t,r,o,a,n),next:()=>eS(e,t),prev:()=>ez(e,t),replace:(r,o,a)=>eT(e,t,r,o,a)}),eM=t=>{let r=e(f.none()),o=()=>r.get().each(t);return{clear:()=>{o(),r.set(f.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:e=>{o(),r.set(f.some(e))}}},eR=()=>{let e=eM(u);return{...e,on:t=>e.get().each(t)}},eB=(e,t)=>{let r=eR();e.undoManager.add();let o=b.trim(e.selection.getContent({format:"text"})),a=r=>{r.setEnabled("next",eO(e,t)),r.setEnabled("prev",eD(e,t))},n=e=>{let r=e.getData(),o=t.get();t.set({...o,matchCase:r.matchcase,wholeWord:r.wholewords,inSelection:r.inselection})},l=(e,t)=>{_(["replace","replaceall","prev","next"],r=>e.setEnabled(r,!t))},i=(e,t)=>{t.redial(p(e,t.getData()))},s=(e,t)=>{y.browser.isSafari()&&y.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},c=r=>{eA(e,t,!1),l(r,!0),a(r)},d=r=>{let o=r.getData(),n=t.get();if(!o.findtext.length)return void c(r);if(n.text===o.findtext&&n.matchCase===o.matchcase&&n.wholeWord===o.wholewords)eS(e,t);else{let a=eC(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);a<=0&&i(!0,r),l(r,0===a)}a(r)},m=t.get(),u={findtext:o,replacetext:"",wholewords:m.wholeWord,matchcase:m.matchCase,inselection:m.inSelection},g=e=>{let t=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},p=(r,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:g(r)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{r&&i(!1,e),"findtext"===o.name&&t.get().count>0&&c(e)},onAction:(r,o)=>{let l=r.getData();switch(o.name){case"find":d(r);break;case"replace":eT(e,t,l.replacetext)?a(r):c(r);break;case"replaceall":eT(e,t,l.replacetext,!0,!0),c(r);break;case"prev":ez(e,t),a(r);break;case"next":eS(e,t),a(r);break;case"matchcase":case"wholewords":case"inselection":i(!1,r),n(r),c(r)}s(r,o.name)},onSubmit:e=>{d(e),s(e,"find")},onClose:()=>{e.focus(),eA(e,t),e.undoManager.add()}});r.set(e.windowManager.open(p(!1,u),{inline:"toolbar"}))},eF=(e,t)=>{e.addCommand("SearchReplace",()=>{eB(e,t)})},eL=(e,t)=>()=>{eB(e,t)},eI=(e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:eL(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:eL(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",eL(e,t))};t.add("searchreplace",t=>{let r=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return eF(t,r),eI(t,r),eN(t,r)})}()},35652:function(e,t,r){r(12e3)},12e3:function(){!function(){"use strict";let e,t;var r=tinymce.util.Tools.resolve("tinymce.PluginManager");let o=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},a=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&o(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},n=e=>t=>a(t)===e,l=e=>t=>typeof t===e,i=n("string"),s=n("array"),c=l("boolean"),d=(e=void 0,t=>e===t),m=e=>null==e,u=e=>!m(e),g=l("function"),p=l("number"),h=()=>{},f=(e,t)=>r=>e(t(r)),y=e=>()=>e,b=e=>e,v=(e,t)=>e===t;function k(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}let w=e=>{e()},_=y(!1),x=y(!0);class C{constructor(e,t){this.tag=e,this.value=t}static some(e){return new C(!0,e)}static none(){return C.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?C.some(e(this.value)):C.none()}bind(e){return this.tag?e(this.value):C.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:C.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return u(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(!1);let S=Object.keys,z=Object.hasOwnProperty,E=(e,t)=>{let r=S(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},T=e=>(t,r)=>{e[r]=t},A=(e,t,r,o)=>{E(e,(e,a)=>{(t(e,a)?r:o)(e,a)})},O=(e,t)=>{let r={};return A(e,t,T(r),h),r},D=(e,t)=>{let r=[];return E(e,(e,o)=>{r.push(t(e,o))}),r},N=e=>D(e,b),M=e=>S(e).length,R=(e,t)=>B(e,t)?C.from(e[t]):C.none(),B=(e,t)=>z.call(e,t),F=(e,t)=>B(e,t)&&void 0!==e[t]&&null!==e[t],L=e=>{for(let t in e)if(z.call(e,t))return!1;return!0},I=Array.prototype.indexOf,P=Array.prototype.push,H=(e,t)=>I.call(e,t),j=(e,t)=>H(e,t)>-1,V=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},U=(e,t)=>{let r=[];for(let o=0;o<e;o++)r.push(t(o));return r},Z=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},q=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},W=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},$=(e,t)=>{let r=[],o=[];for(let a=0,n=e.length;a<n;a++){let n=e[a];(t(n,a)?r:o).push(n)}return{pass:r,fail:o}},G=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},K=(e,t,r)=>(W(e,(e,o)=>{r=t(r,e,o)}),r),Y=(e,t,r)=>(q(e,(e,o)=>{r=t(r,e,o)}),r),X=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return C.some(a);if(r(a,o))break}return C.none()},J=(e,t)=>X(e,t,_),Q=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!s(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);P.apply(t,e[r])}return t},ee=(e,t)=>Q(Z(e,t)),et=(e,t)=>{for(let r=0,o=e.length;r<o;++r)if(!0!==t(e[r],r))return!1;return!0},er=(e,t)=>{let r={};for(let o=0,a=e.length;o<a;o++){let a=e[o];r[String(a)]=t(a,o)}return r},eo=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none(),ea=e=>eo(e,0),en=e=>eo(e,e.length-1),el=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return C.none()},ei=e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}},es={fromTag:(e,t)=>ei((t||document).createElement(e)),fromText:(e,t)=>ei((t||document).createTextNode(e)),fromDom:ei},ec=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);else throw Error("Browser lacks native selectors")},ed=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,em=(e,t)=>{let r=void 0===t?document:t.dom;return ed(r)?[]:Z(r.querySelectorAll(e),es.fromDom)},eu=(e,t)=>{let r=void 0===t?document:t.dom;return ed(r)?C.none():C.from(r.querySelector(e)).map(es.fromDom)},eg=(e,t)=>e.dom===t.dom;"undefined"!=typeof window?window:Function("return this;")();let ep=e=>e.dom.nodeName.toLowerCase(),eh=e=>e.dom.nodeType,ef=e=>t=>eh(t)===e,ey=ef(1),eb=ef(3),ev=ef(9),ek=ef(11),ew=e=>t=>ey(t)&&ep(t)===e,e_=e=>es.fromDom(e.dom.ownerDocument),ex=e=>ev(e)?e:e_(e),eC=e=>C.from(e.dom.parentNode).map(es.fromDom),eS=e=>C.from(e.dom.nextSibling).map(es.fromDom),ez=e=>Z(e.dom.childNodes,es.fromDom),eE=(e,t)=>{let r=e.dom.childNodes;return C.from(r[t]).map(es.fromDom)},eT=e=>eE(e,0),eA=e=>ek(e)&&u(e.dom.host),eO=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode)?e=>es.fromDom(e.dom.getRootNode()):ex,eD=e=>{let t=eO(e);return eA(t)?C.some(t):C.none()},eN=e=>es.fromDom(e.dom.host),eM=e=>{let t=eb(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return eD(es.fromDom(t)).fold(()=>r.body.contains(t),f(eM,eN))};var eR=(e,t,r,o,a)=>e(r,o)?C.some(r):g(a)&&a(r)?C.none():t(r,o,a);let eB=(e,t,r)=>{let o=e.dom,a=g(r)?r:_;for(;o.parentNode;){o=o.parentNode;let e=es.fromDom(o);if(t(e))return C.some(e);if(a(e))break}return C.none()},eF=(e,t,r)=>eR((e,t)=>t(e),eB,e,t,r),eL=(e,t)=>J(e.dom.childNodes,e=>t(es.fromDom(e))).map(es.fromDom),eI=(e,t,r)=>eB(e,e=>ec(e,t),r),eP=(e,t)=>eL(e,e=>ec(e,t)),eH=(e,t)=>eu(t,e),ej=(e,t,r)=>eR((e,t)=>ec(e,t),eI,e,t,r),eV=e=>ej(e,"[contenteditable]"),eU=(e,t=!1)=>eM(e)?e.dom.isContentEditable:eV(e).fold(y(t),e=>"true"===eZ(e)),eZ=e=>e.dom.contentEditable,eq=e=>e.nodeName.toLowerCase(),eW=e=>es.fromDom(e.getBody()),e$=e=>t=>eg(t,eW(e)),eG=e=>e?e.replace(/px$/,""):"",eK=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,eY=e=>es.fromDom(e.selection.getStart()),eX=e=>es.fromDom(e.selection.getEnd()),eJ=e=>eF(e,ew("table")).forall(eU),eQ=(e,t)=>G(ez(e),t),e1=(e,t)=>{let r=[];return q(ez(e),e=>{t(e)&&(r=r.concat([e])),r=r.concat(e1(e,t))}),r},e0=(e,t)=>eQ(e,e=>ec(e,t)),e2=(e,t)=>em(t,e),e4=(e,t,r)=>{if(i(r)||c(r)||p(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},e3=(e,t)=>{let r=e.dom;E(t,(e,t)=>{e4(r,t,e)})},e5=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},e6=(e,t)=>C.from(e5(e,t)),e8=(e,t)=>{e.dom.removeAttribute(t)},e7=e=>Y(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),e9=(e,t,r=v)=>e.exists(e=>r(e,t)),te=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},tt=(e,t,r)=>e.isSome()&&t.isSome()?C.some(r(e.getOrDie(),t.getOrDie())):C.none(),tr=e=>e.bind(b),to=(e,t)=>e?C.some(t):C.none(),ta=(e,t)=>e.substring(t),tn=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,tl=(e,t)=>ti(e,t)?ta(e,t.length):e,ti=(e,t)=>tn(e,t,0),ts=(t=/^\s+|\s+$/g,e=>e.replace(t,"")),tc=e=>e.length>0,td=e=>!tc(e),tm=(e,t=10)=>{let r=parseInt(e,t);return isNaN(r)?C.none():C.some(r)},tu=e=>{let t=parseFloat(e);return isNaN(t)?C.none():C.some(t)},tg=e=>void 0!==e.style&&g(e.style.getPropertyValue),tp=(e,t,r)=>{if(!i(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);tg(e)&&e.style.setProperty(t,r)},th=(e,t)=>{tg(e)&&e.style.removeProperty(t)},tf=(e,t)=>{let r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||eM(e)?o:ty(r,t)},ty=(e,t)=>tg(e)?e.style.getPropertyValue(t):"",tb=(e,t)=>{let r=ty(e.dom,t);return C.from(r).filter(e=>e.length>0)},tv=(e,t,r=0)=>e6(e,t).map(e=>parseInt(e,10)).getOr(r),tk=(e,t)=>tw(e,t,x),tw=(e,t,r)=>ee(ez(e),e=>ec(e,t)?r(e)?[e]:[]:tw(e,t,r)),t_=["tfoot","thead","tbody","colgroup"],tx=e=>j(t_,e),tC=(e,t)=>({rows:e,columns:t}),tS=(e,t,r)=>({element:e,rowspan:t,colspan:r}),tz=(e,t,r,o,a,n)=>({element:e,rowspan:t,colspan:r,row:o,column:a,isLocked:n}),tE=(e,t,r)=>({element:e,cells:t,section:r}),tT=(e,t,r,o)=>({startRow:e,startCol:t,finishRow:r,finishCol:o}),tA=(e,t,r)=>({element:e,colspan:t,column:r}),tO=(e,t)=>({element:e,columns:t}),tD=(e,t,r=_)=>r(t)?C.none():j(e,ep(t))?C.some(t):eI(t,e.join(","),e=>ec(e,"table")||r(e)),tN=(e,t)=>tD(["td","th"],e,t),tM=e=>tk(e,"th,td"),tR=e=>ec(e,"colgroup")?e0(e,"col"):ee(tL(e),e=>e0(e,"col")),tB=(e,t)=>ej(e,"table",t),tF=e=>tk(e,"tr"),tL=e=>tB(e).fold(y([]),e=>e0(e,"colgroup")),tI=(e,t)=>Z(e,e=>{if("colgroup"===ep(e)){let t=Z(tR(e),e=>{let t=tv(e,"span",1);return tS(e,1,t)});return tE(e,t,"colgroup")}{let r=Z(tM(e),e=>{let t=tv(e,"rowspan",1),r=tv(e,"colspan",1);return tS(e,t,r)});return tE(e,r,t(e))}}),tP=e=>eC(e).map(e=>{let t=ep(e);return tx(t)?t:"tbody"}).getOr("tbody"),tH=e=>{let t=tF(e);return tI([...tL(e),...t],tP)},tj=e=>e6(e,"data-snooker-locked-cols").bind(e=>C.from(e.match(/\d+/g))).map(e=>er(e,x)),tV=(e,t)=>e+","+t,tU=(e,t)=>G(ee(e.all,e=>e.cells),t),tZ=e=>{let t={},r=0;return q(e.cells,e=>{let o=e.colspan;U(o,a=>{let n=r+a;t[n]=tA(e.element,o,n)}),r+=o}),t},tq=e=>{let t={},r=[],o=ea(e).map(e=>e.element).bind(tB).bind(tj).getOr({}),a=0,n=0,l=0,{pass:i,fail:s}=$(e,e=>"colgroup"===e.section);q(s,e=>{let i=[];q(e.cells,e=>{let r=0;for(;void 0!==t[tV(l,r)];)r++;let a=F(o,r.toString()),s=tz(e.element,e.rowspan,e.colspan,l,r,a);for(let o=0;o<e.colspan;o++)for(let a=0;a<e.rowspan;a++){let e=r+o;t[tV(l+a,e)]=s,n=Math.max(n,e+1)}i.push(s)}),a++,r.push(tE(e.element,i,e.section)),l++});let{columns:c,colgroups:d}=en(i).map(e=>{let t=tZ(e);return{colgroups:[tO(e.element,N(t))],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:tC(a,n),access:t,all:r,columns:c,colgroups:d}},tW={fromTable:e=>tq(tH(e)),getAt:(e,t,r)=>C.from(e.access[tV(t,r)]),findItem:(e,t,r)=>{let o=tU(e,e=>r(t,e.element));return o.length>0?C.some(o[0]):C.none()},justCells:e=>ee(e.all,e=>e.cells),getColumnAt:(e,t)=>C.from(e.columns[t])};var t$=tinymce.util.Tools.resolve("tinymce.util.Tools");let tG=(e,t,r)=>{let o,a=e.select("td,th",t);for(let t=0;t<a.length;t++){let n=e.getStyle(a[t],r);if(d(o)&&(o=n),o!==n)return""}return o},tK=(e,t,r)=>{t$.each("left center right".split(" "),o=>{o!==r&&e.formatter.remove("align"+o,{},t)}),r&&e.formatter.apply("align"+r,{},t)},tY=(e,t,r)=>{t$.each("top middle bottom".split(" "),o=>{o!==r&&e.formatter.remove("valign"+o,{},t)}),r&&e.formatter.apply("valign"+r,{},t)},tX=(e,t,r)=>{e.dispatch("TableModified",{...r,table:t})},tJ=(e,t)=>tu(e).getOr(t),tQ=(e,t,r)=>tJ(tf(e,t),r),t1=(e,t,r,o)=>{let a=tQ(e,`padding-${r}`,0),n=tQ(e,`padding-${o}`,0);return t-a-n-tQ(e,`border-${r}-width`,0)-tQ(e,`border-${o}-width`,0)},t0=(e,t)=>{let r=e.dom,o=r.getBoundingClientRect().width||r.offsetWidth;return"border-box"===t?o:t1(e,o,"left","right")},t2=e=>t0(e,"content-box");var t4=tinymce.util.Tools.resolve("tinymce.Env");let t3=U(5,e=>{let t=`${e+1}px`;return{title:t,value:t}}),t5=Z(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],e=>({title:e,value:e.toLowerCase()})),t6="100%",t8=e=>{var t;let r=e.dom,o=null!=(t=r.getParent(e.selection.getStart(),r.isBlock))?t:e.getBody();return t2(es.fromDom(o))+"px"},t7=(e,t)=>rb(e)||!rd(e)?t:ry(e)?{...t,width:t8(e)}:{...t,width:t6},t9=(e,t)=>rb(e)||rd(e)?t:ry(e)?{...t,width:t8(e)}:{...t,width:t6},re=e=>t=>t.options.get(e),rt=e=>{let t=e.options.register;t("table_border_widths",{processor:"object[]",default:t3}),t("table_border_styles",{processor:"object[]",default:t5}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!t4.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})},rr=re("table_sizing_mode"),ro=re("table_border_widths"),ra=re("table_border_styles"),rn=re("table_cell_advtab"),rl=re("table_row_advtab"),ri=re("table_advtab"),rs=re("table_appearance_options"),rc=re("table_grid"),rd=re("table_style_by_css"),rm=re("table_cell_class_list"),ru=re("table_row_class_list"),rg=re("table_class_list"),rp=re("table_toolbar"),rh=re("table_background_color_map"),rf=re("table_border_color_map"),ry=e=>"fixed"===rr(e),rb=e=>"responsive"===rr(e),rv=e=>{let t=e.options,r=t.get("table_default_styles");return t.isSet("table_default_styles")?r:t7(e,r)},rk=e=>{let t=e.options,r=t.get("table_default_attributes");return t.isSet("table_default_attributes")?r:t9(e,r)},rw=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,r_=(e,t)=>{let r=!0,o=k(rw,t);for(let a=t.startRow;a<=t.finishRow;a++)for(let n=t.startCol;n<=t.finishCol;n++)r=r&&tW.getAt(e,a,n).exists(o);return r?C.some(t):C.none()},rx=(e,t)=>tT(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),rC=(e,t,r)=>{let o=tW.findItem(e,t,eg),a=tW.findItem(e,r,eg);return o.bind(e=>a.map(t=>rx(e,t)))},rS=(e,t,r)=>rC(e,t,r).bind(t=>r_(e,t)),rz=(e,t,r)=>rS(rE(e),t,r),rE=tW.fromTable,rT=(e,t)=>{eC(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},rA=(e,t)=>{eS(e).fold(()=>{eC(e).each(e=>{rO(e,t)})},e=>{rT(e,t)})},rO=(e,t)=>{e.dom.appendChild(t.dom)},rD=(e,t)=>{q(t,(r,o)=>{rA(0===o?e:t[o-1],r)})},rN=e=>{let t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},rM=((e,t)=>{let r=t=>e(t)?C.from(t.dom.nodeValue):C.none();return{get:o=>{if(!e(o))throw Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},getOption:r,set:(r,o)=>{if(!e(r))throw Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=o}}})(eb,"text");var rR=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];let rB=(e,t,r,o)=>o(e,t,r[0],r.slice(1)),rF=(e,t,r,o)=>K(o,(r,o)=>{let a=t(e,o);return rL(e,r,a)},t(e,r)),rL=(e,t,r)=>t.bind(t=>r.filter(k(e.eq,t))),rI=(e,t,r)=>r.length>0?rB(e,t,r,rF):C.none(),rP={up:y({selector:eI,closest:ej,predicate:eB,all:(e,t)=>{let r=g(t)?t:_,o=e.dom,a=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){let e=o.parentNode,t=es.fromDom(e);if(a.push(t),!0===r(t))break;o=e}return a}}),down:y({selector:e2,predicate:e1}),styles:y({get:tf,getRaw:tb,set:(e,t,r)=>{tp(e.dom,t,r)},remove:(e,t)=>{th(e.dom,t),e9(e6(e,"style").map(ts),"")&&e8(e,"style")}}),attrs:y({get:e5,set:(e,t,r)=>{e4(e.dom,t,r)},remove:e8,copyTo:(e,t)=>{e3(t,e7(e))}}),insert:y({before:rT,after:rA,afterAll:rD,append:rO,appendAll:(e,t)=>{q(t,t=>{rO(e,t)})},prepend:(e,t)=>{eT(e).fold(()=>{rO(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},wrap:(e,t)=>{rT(e,t),rO(t,e)}}),remove:y({unwrap:e=>{let t=ez(e);t.length>0&&rD(e,t),rN(e)},remove:rN}),create:y({nu:es.fromTag,clone:e=>es.fromDom(e.dom.cloneNode(!1)),text:es.fromText}),query:y({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e=>C.from(e.dom.previousSibling).map(es.fromDom),nextSibling:eS}),property:y({children:ez,name:ep,parent:eC,document:e=>ex(e).dom,isText:eb,isComment:e=>8===eh(e)||"#comment"===ep(e),isElement:ey,isSpecial:e=>j(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ep(e)),getLanguage:e=>ey(e)?e6(e,"lang"):C.none(),getText:e=>rM.get(e),setText:(e,t)=>rM.set(e,t),isBoundary:e=>!!ey(e)&&("body"===ep(e)||j(rR,ep(e))),isEmptyTag:e=>!!ey(e)&&j(["br","img","hr","input"],ep(e)),isNonEditable:e=>ey(e)&&"false"===e5(e,"contenteditable")}),eq:eg,is:ec},rH=(e,t)=>rI(rP,(t,r)=>e(r),t),rj=e=>eI(e,"table"),rV=(e,t)=>{let r=e2(e,t);return r.length>0?C.some(r):C.none()},rU=(e,t,r)=>eH(e,t).bind(t=>eH(e,r).bind(e=>rH(rj,[t,e]).map(r=>({first:t,last:e,table:r})))),rZ=(e,t)=>rV(e,t),rq=(e,t,r)=>rU(e,t,r).bind(t=>{let r=t=>eg(e,t),o="thead,tfoot,tbody,table",a=eI(t.first,o,r),n=eI(t.last,o,r);return a.bind(e=>n.bind(r=>eg(e,r)?rz(t.table,t.first,t.last):C.none()))}),rW=e=>Z(e,es.fromDom),r$="data-mce-selected",rG="data-mce-first-selected",rK="data-mce-last-selected",rY={selected:r$,selectedSelector:"td["+r$+"],th["+r$+"]",firstSelected:rG,firstSelectedSelector:"td["+rG+"],th["+rG+"]",lastSelected:rK,lastSelectedSelector:"td["+rK+"],th["+rK+"]"},rX=e=>tB(e).bind(e=>rZ(e,rY.firstSelectedSelector)).fold(y(e),e=>e[0]),rJ=e=>(t,r)=>{let o=ep(t);return ej("col"===o||"colgroup"===o?rX(t):t,e,r)},rQ=rJ("th,td,caption"),r1=rJ("th,td"),r0=e=>rW(e.model.table.getSelectedCells()),r2=(e,t)=>{let r=r1(e),o=r.bind(e=>tB(e)).map(e=>tF(e));return tt(r,o,(e,r)=>G(r,r=>V(rW(r.dom.cells),r=>"1"===e5(r,t)||eg(r,e)))).getOr([])},r4=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],r3=e=>({value:r7(e)}),r5=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r6=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,r8=e=>r5.test(e)||r6.test(e),r7=e=>tl(e,"#").toUpperCase(),r9=e=>r8(e)?C.some({value:r7(e)}):C.none(),oe=e=>{let t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},ot=e=>r3(oe(e.red)+oe(e.green)+oe(e.blue)),or=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,oo=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,oa=(e,t,r,o)=>({red:e,green:t,blue:r,alpha:o}),on=(e,t,r,o)=>{let a=parseInt(e,10),n=parseInt(t,10);return oa(a,n,parseInt(r,10),parseFloat(o))},ol=e=>{if("transparent"===e)return C.some(oa(0,0,0,0));let t=or.exec(e);if(null!==t)return C.some(on(t[1],t[2],t[3],"1"));let r=oo.exec(e);return null!==r?C.some(on(r[1],r[2],r[3],r[4])):C.none()},oi=e=>r9(e).orThunk(()=>ol(e).map(ot)).getOrThunk(()=>{let t=document.createElement("canvas");t.height=1,t.width=1;let r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);let o=r.getImageData(0,0,1,1).data,a=o[0],n=o[1];return ot(oa(a,n,o[2],o[3]))}),os=e=>ol(e).map(ot).map(e=>"#"+e.value).getOr(e),oc=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},od=e=>{let t=oc(C.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(C.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(C.some(e))}}},om=()=>od(e=>e.unbind()),ou=(e,t,r)=>o=>{let a=om(),n=td(r),l=()=>{let l=r0(e),i=o=>e.formatter.match(t,{value:r},o.dom,n);n?(o.setActive(!V(l,i)),a.set(e.formatter.formatChanged(t,e=>o.setActive(!e),!0))):(o.setActive(et(l,i)),a.set(e.formatter.formatChanged(t,o.setActive,!1,{value:r})))};return e.initialized?l():e.on("init",l),a.clear},og=e=>F(e,"menu"),op=e=>Z(e,e=>{let t=e.text||e.title||"";return og(e)?{text:t,items:op(e.menu)}:{text:t,value:e.value}}),oh=(e,t,r,o)=>Z(t,t=>{let a=t.text||t.title;return og(t)?{type:"nestedmenuitem",text:a,getSubmenuItems:()=>oh(e,t.menu,r,o)}:{text:a,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:ou(e,r,t.value)}}),of=(e,t)=>r=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:r})},oy=e=>ee(e,e=>og(e)?[{...e,menu:oy(e.menu)}]:tc(e.value)?[e]:[]),ob=(e,t,r,o)=>a=>a(oh(e,t,r,o)),ov=(e,t,r)=>{let o=Z(t,e=>({text:e.title,value:"#"+oi(e.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{let o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[r]:o})}}]},ok=e=>()=>{let t=e.queryCommandValue("mceTableRowType");e.execCommand("mceTableRowType",!1,{type:"header"===t?"body":"header"})},ow=e=>()=>{let t=e.queryCommandValue("mceTableColType");e.execCommand("mceTableColType",!1,{type:"th"===t?"td":"th"})},o_=e=>{let t=op(rm(e));return t.length>0?C.some({name:"class",type:"listbox",label:"Class",items:t}):C.none()},ox=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:r4}],oC=e=>ox.concat(o_(e).toArray()),oS=(e,t)=>{let r=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(op(ra(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(r):r}},oz=(e,t)=>{let r=e.dom;return{setAttrib:(e,o)=>{r.setAttrib(t,e,o)},setStyle:(e,o)=>{r.setStyle(t,e,o)},setFormat:(r,o)=>{""===o?e.formatter.remove(r,{value:null},t,!0):e.formatter.apply(r,{value:o},t)}}},oE=ew("th"),oT=(e,t)=>e&&t?"sectionCells":e?"section":"cells",oA=e=>{let t="thead"===e.section,r=e9(oO(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||r?{type:"header",subType:oT(t,r)}:{type:"body"}},oO=e=>{let t=G(e,e=>oE(e.element));return 0===t.length?C.some("td"):t.length===e.length?C.some("th"):C.none()},oD=e=>{let t=Z(e,e=>oA(e).type),r=j(t,"header"),o=j(t,"footer");if(!r&&!o)return C.some("body");{let e=j(t,"body");return!r||e||o?r||e||!o?C.none():C.some("footer"):C.some("header")}},oN=e=>{let t,r=!1;return(...o)=>(r||(r=!0,t=e.apply(null,o)),t)},oM=(e,t)=>el(e.all,e=>J(e.cells,e=>eg(t,e.element))),oR=(e,t,r)=>{let o=te(Z(t.selection,t=>tN(t).bind(t=>oM(e,t)).filter(r)));return to(o.length>0,o)},oB=(e,t)=>t.mergable,oF=(e,t)=>t.unmergable,oL=(e,t)=>oR(e,t,x),oI=(e,t)=>oM(e,t).exists(e=>!e.isLocked),oP=(e,t)=>et(t,t=>oI(e,t)),oH=(e,t)=>oB(e,t).filter(t=>oP(e,t.cells)),oj=(e,t)=>oF(e,t).filter(t=>oP(e,t));({...({generate:e=>{if(!s(e))throw Error("cases must be an array");if(0===e.length)throw Error("there must be at least one case");let t=[],r={};return q(e,(o,a)=>{let n=S(o);if(1!==n.length)throw Error("one and only one name per case");let l=n[0],i=o[l];if(void 0!==r[l])throw Error("duplicate key detected:"+l);if("cata"===l)throw Error("cannot have a case named cata (sorry)");if(!s(i))throw Error("case arguments must be an array");t.push(l),r[l]=(...r)=>{let o=r.length;if(o!==i.length)throw Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,r)},match:e=>{let o=S(e);if(t.length!==o.length)throw Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!et(t,e=>j(o,e)))throw Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:l,params:r})}}}}),r}}).generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});let oV=(e,t)=>{let r=tW.fromTable(e);return oL(r,t).bind(e=>{let t=e[e.length-1],o=e[0].row,a=t.row+t.rowspan;return oD(r.all.slice(o,a))}).getOr("")},oU=e=>ti(e,"rgb")?os(e):e,oZ=e=>{let t=es.fromDom(e);return{borderwidth:tb(t,"border-width").getOr(""),borderstyle:tb(t,"border-style").getOr(""),bordercolor:tb(t,"border-color").map(oU).getOr(""),backgroundcolor:tb(t,"background-color").map(oU).getOr("")}},oq=e=>{let t=e[0];return q(e.slice(1),e=>{q(S(t),r=>{E(e,(e,o)=>{let a=t[r];""!==a&&r===o&&a!==e&&(t[r]="")})})}),t},oW=(e,t,r,o)=>J(e,e=>!d(r.formatter.matchNode(o,t+e))).getOr(""),o$=k(oW,["left","center","right"],"align"),oG=k(oW,["top","middle","bottom"],"valign"),oK=(e,t)=>{let r=rv(e),o=rk(e),a=t?{borderstyle:R(r,"border-style").getOr(""),bordercolor:oU(R(r,"border-color").getOr("")),backgroundcolor:oU(R(r,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...r,...o,...a,...(()=>{let t=r["border-width"];return rd(e)&&t?{border:t}:R(o,"border").fold(()=>({}),e=>({border:e}))})(),...(()=>{let e=R(r,"border-spacing").or(R(o,"cellspacing")).fold(()=>({}),e=>({cellspacing:e})),t=R(r,"border-padding").or(R(o,"cellpadding")).fold(()=>({}),e=>({cellpadding:e}));return{...e,...t}})()}},oY=e=>tB(es.fromDom(e)).map(t=>oV(t,{selection:rW(e.cells)})).getOr(""),oX=(e,t,r)=>{let o=e.dom,a=rd(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),n=rd(e)?tG(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||tG(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=a?a:"",cellpadding:null!=n?n:"",border:((t,r)=>{let o=tb(es.fromDom(r),"border-width");return rd(e)&&o.isSome()?o.getOr(""):t.getAttrib(r,"border")||tG(e.dom,r,"border-width")||tG(e.dom,r,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:o$(e,t),...r?oZ(t):{}}},oJ=(e,t,r)=>{let o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:oY(t),align:o$(e,t),...r?oZ(t):{}}},oQ=(e,t,r,o)=>{let a=e.dom,n=o.getOr(t),l=(e,t)=>a.getStyle(e,t)||a.getAttrib(e,t);return{width:l(n,"width"),height:l(t,"height"),scope:a.getAttrib(t,"scope"),celltype:eq(t),class:a.getAttrib(t,"class",""),halign:o$(e,t),valign:oG(e,t),...r?oZ(t):{}}},o1=(e,t)=>{let r=tW.fromTable(e);return Z(G(tW.justCells(r),e=>V(t,t=>eg(e.element,t))),e=>({element:e.element.dom,column:tW.getColumnAt(r,e.column).map(e=>e.element.dom)}))},o0=(e,t,r,o)=>{o("scope")&&e.setAttrib("scope",r.scope),o("class")&&e.setAttrib("class",r.class),o("height")&&e.setStyle("height",eK(r.height)),o("width")&&t.setStyle("width",eK(r.width))},o2=(e,t,r)=>{r("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),r("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),r("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),r("borderwidth")&&e.setFormat("tablecellborderwidth",eK(t.borderwidth))},o4=(e,t,r,o)=>{let a=1===t.length;q(t,t=>{let n=t.element,l=a?x:o,i=oz(e,n),s=t.column.map(t=>oz(e,t)).getOr(i);o0(i,s,r,l),rn(e)&&o2(i,r,l),o("halign")&&tK(e,n,r.halign),o("valign")&&tY(e,n,r.valign)})},o3=(e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})},o5=(e,t,r,o)=>{let a=O(o,(e,t)=>r[t]!==e);M(a)>0&&t.length>=1&&tB(t[0]).each(r=>{let n=o1(r,t),l=M(O(a,(e,t)=>"scope"!==t&&"celltype"!==t))>0,i=B(a,"celltype");(l||B(a,"scope"))&&o4(e,n,o,k(B,a)),i&&o3(e,o),tX(e,r.dom,{structure:i,style:l})})},o6=(e,t,r,o)=>{let a=o.getData();o.close(),e.undoManager.transact(()=>{o5(e,t,r,a),e.focus()})},o8=(e,t)=>oq(tB(t[0]).map(r=>Z(o1(r,t),t=>oQ(e,t.element,rn(e),t.column))).getOrDie()),o7=e=>{let t=r0(e);if(0===t.length)return;let r=o8(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:oC(e)},oS(e,"cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:oC(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:rn(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:k(o6,e,t,r)})},o9=e=>{let t=op(ru(e));return t.length>0?C.some({name:"class",type:"listbox",label:"Class",items:t}):C.none()},ae=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],at=e=>ae.concat(o9(e).toArray()),ar=(e,t,r)=>{r("class")&&e.setAttrib("class",t.class),r("height")&&e.setStyle("height",eK(t.height))},ao=(e,t,r)=>{r("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),r("bordercolor")&&e.setStyle("border-color",t.bordercolor),r("borderstyle")&&e.setStyle("border-style",t.borderstyle)},aa=(e,t,r,o)=>{let a=1===t.length?x:o;q(t,t=>{let n=oz(e,t);ar(n,r,a),rl(e)&&ao(n,r,a),o("align")&&tK(e,t,r.align)})},an=(e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})},al=(e,t,r,o)=>{let a=O(o,(e,t)=>r[t]!==e);if(M(a)>0){let r=B(a,"type"),n=!r||M(a)>1;n&&aa(e,t,o,k(B,a)),r&&an(e,o),tB(es.fromDom(t[0])).each(t=>tX(e,t.dom,{structure:r,style:n}))}},ai=(e,t,r,o)=>{let a=o.getData();o.close(),e.undoManager.transact(()=>{al(e,t,r,a),e.focus()})},as=e=>{let t=r2(eY(e),rY.selected);if(0===t.length)return;let r=oq(Z(t,t=>oJ(e,t.dom,rl(e)))),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:at(e)},oS(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:at(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:rl(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:k(ai,e,Z(t,e=>e.dom),r)})},ac=(e,t,r)=>{let o=rs(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return(r?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[]).concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(o).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},ad=(e,t,r,o)=>{if("TD"===t.tagName||"TH"===t.tagName)i(r)&&u(o)?e.setStyle(t,r,o):e.setStyles(t,r);else if(t.children)for(let a=0;a<t.children.length;a++)ad(e,t.children[a],r,o)},am=(e,t,r,o)=>{let a=e.dom,n={},l={},i=rd(e),s=ri(e);if(d(r.class)||(n.class=r.class),l.height=eK(r.height),i?l.width=eK(r.width):a.getAttrib(t,"width")&&(n.width=eG(r.width)),i?(l["border-width"]=eK(r.border),l["border-spacing"]=eK(r.cellspacing)):(n.border=r.border,n.cellpadding=r.cellpadding,n.cellspacing=r.cellspacing),i&&t.children){let e={};if(o.border&&(e["border-width"]=eK(r.border)),o.cellpadding&&(e.padding=eK(r.cellpadding)),s&&o.bordercolor&&(e["border-color"]=r.bordercolor),!L(e))for(let r=0;r<t.children.length;r++)ad(a,t.children[r],e)}s&&(l["background-color"]=r.backgroundcolor,l["border-color"]=r.bordercolor,l["border-style"]=r.borderstyle),a.setStyles(t,{...rv(e),...l}),a.setAttribs(t,{...rk(e),...n})},au=(e,t,r,o)=>{let a=e.dom,n=o.getData(),l=O(n,(e,t)=>r[t]!==e);o.close(),""===n.class&&delete n.class,e.undoManager.transact(()=>{if(!t){let r=tm(n.cols).getOr(1),o=tm(n.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:r}),t=r1(eY(e),e$(e)).bind(t=>tB(t,e$(e))).map(e=>e.dom).getOrDie()}if(M(l)>0){let r={border:B(l,"border"),bordercolor:B(l,"bordercolor"),cellpadding:B(l,"cellpadding")};am(e,t,n,r);let o=a.select("caption",t)[0];(o&&!n.caption||!o&&n.caption)&&e.execCommand("mceTableToggleCaption"),tK(e,t,n.align)}if(e.focus(),e.addVisual(),M(l)>0){let r=B(l,"caption"),o=!r||M(l)>1;tX(e,t,{structure:r,style:o})}})},ag=(e,t)=>{let r,o=e.dom,a=oK(e,ri(e));t?(a.cols="1",a.rows="1",ri(e)&&(a.borderstyle="",a.bordercolor="",a.backgroundcolor="")):(r=o.getParent(e.selection.getStart(),"table",e.getBody()))?a=oX(e,r,ri(e)):ri(e)&&(a.borderstyle="",a.bordercolor="",a.backgroundcolor="");let n=op(rg(e));n.length>0&&a.class&&(a.class=a.class.replace(/\s*mce\-item\-table\s*/g,""));let l={type:"grid",columns:2,items:ac(e,n,t)},i=ri(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[l]},oS(e,"table")]}:{type:"panel",items:[l]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:k(au,e,r,a),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a})},ap=e=>{let t=t=>{eJ(eY(e))&&t()};E({mceTableProps:k(ag,e,!1),mceTableRowProps:k(as,e),mceTableCellProps:k(o7,e),mceInsertTableDialog:k(ag,e,!0)},(r,o)=>e.addCommand(o,()=>t(r)))},ah=(e,t)=>eP(e,t).isSome(),af=e=>{let t=(e,t)=>e6(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&et(e,e=>t(e,"rowspan")||t(e,"colspan"))?C.some(e):C.none()},ay=(e,t,r)=>t.length<=1?C.none():rq(e,r.firstSelectedSelector,r.lastSelectedSelector).map(e=>({bounds:e,cells:t})),ab=e=>({element:e,mergable:C.none(),unmergable:C.none(),selection:[e]}),av=(e,t,r)=>({element:r,mergable:ay(t,e,rY),unmergable:af(e),selection:b(e)}),ak=e=>{let t=oc(C.none()),r=oc([]),o=C.none(),a=ew("caption"),n=e=>o.forall(t=>!t[e]),l=()=>rQ(eY(e),e$(e)),i=()=>rQ(eX(e),e$(e)),s=()=>l().bind(t=>tr(tt(tB(t),i().bind(tB),(r,o)=>{if(eg(r,o))if(a(t))return C.some(ab(t));else return C.some(av(r0(e),r,t));return C.none()}))),c=e=>tB(e.element).map(t=>{let r=tW.fromTable(t),o=Y(oL(r,e).getOr([]),(e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=r.grid.columns&&(e.onLast=!0)),e),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:oH(r,e).isSome(),unmergeable:oj(r,e).isSome(),locked:o}}),d=()=>{t.set(oN(s)()),o=t.get().bind(c),q(r.get(),w)},m=e=>(e(),r.set(r.get().concat([e])),()=>{r.set(G(r.get(),t=>t!==e))}),u=(r,o)=>m(()=>t.get().fold(()=>{r.setEnabled(!1)},t=>{r.setEnabled(!o(t)&&e.selection.isEditable())})),g=(r,o,a)=>m(()=>t.get().fold(()=>{r.setEnabled(!1),r.setActive(!1)},t=>{r.setEnabled(!o(t)&&e.selection.isEditable()),r.setActive(a(t))})),p=e=>o.exists(t=>t.locked[e]),h=(t,r)=>o=>g(o,e=>a(e.element),()=>e.queryCommandValue(t)===r),f=h("mceTableRowType","header"),y=h("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",d),{onSetupTable:e=>u(e,e=>!1),onSetupCellOrRow:e=>u(e,e=>a(e.element)),onSetupColumn:e=>t=>u(t,t=>a(t.element)||p(e)),onSetupPasteable:e=>t=>u(t,t=>a(t.element)||e().isNone()),onSetupPasteableColumn:(e,t)=>r=>u(r,r=>a(r.element)||e().isNone()||p(t)),onSetupMergeable:e=>u(e,e=>n("mergeable")),onSetupUnmergeable:e=>u(e,e=>n("unmergeable")),resetTargets:d,onSetupTableWithCaption:t=>g(t,_,t=>tB(t.element,e$(e)).exists(e=>ah(e,"caption"))),onSetupTableRowHeaders:f,onSetupTableColumnHeaders:y,targets:t.get}};var aw=tinymce.util.Tools.resolve("tinymce.FakeClipboard");let a_="x-tinymce/dom-table-",ax=a_+"rows",aC=a_+"columns",aS=e=>{var t;return el(null!=(t=aw.read())?t:[],t=>C.from(t.getType(e)))},az=()=>aS(ax),aE=()=>aS(aC),aT=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},aA=(e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:aT(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});let r=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:g(o.onAction)?o.onAction:r(o.command)})},a=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:g(o.onAction)?o.onAction:r(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(az)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(az)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(aE,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(aE,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:aT(e)});let n=oy(rg(e));0!==n.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:ob(e,n,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});let l=oy(rm(e));0!==l.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:ob(e,l,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:ob(e,r4,"tablecellverticalalign",of(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:ob(e,ro(e),"tablecellborderwidth",of(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:ob(e,ra(e),"tablecellborderstyle",of(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(ov(e,rh(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(ov(e,rf(e),"border-color")),onSetup:t.onSetupCellOrRow})),a("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),a("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ok(e),onSetup:t.onSetupTableRowHeaders}),a("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ow(e),onSetup:t.onSetupTableColumnHeaders})},aO=e=>{let t=rp(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),items:t,scope:"node",position:"node"})},aD=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},aN=(e,t)=>{let r=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:g(o.onAction)?o.onAction:r(o.command)}),!0),a=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:g(o.onAction)?o.onAction:r(o.command)})},n=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},l=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(az)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(az)})],i=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(aE,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(aE,"onLast")})],s=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];rc(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:n}],onSetup:aD(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTableDialog"),onSetup:aD(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTableDialog"),onSetup:aD(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),j(l,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:y("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),j(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:y("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),j(s,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:y("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(y(""),e=>"caption"===ep(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});let c=oy(rg(e));0!==c.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>oh(e,c,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});let d=oy(rm(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>oh(e,d,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>oh(e,r4,"tablecellverticalalign",of(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>oh(e,ro(e),"tablecellborderwidth",of(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>oh(e,ra(e),"tablecellborderstyle",of(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>ov(e,rh(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>ov(e,rf(e),"border-color"),onSetup:t.onSetupCellOrRow})),a("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),a("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ok(e),onSetup:t.onSetupTableRowHeaders}),a("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:ow(e),onSetup:t.onSetupTableRowHeaders})};r.add("table",e=>{let t=ak(e);rt(e),ap(e),aN(e,t),aA(e,t),aO(e)})}()},13086:function(e,t,r){r(70024)},70024:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},r=e=>{let r=typeof e;return null===e?"null":"object"===r&&Array.isArray(e)?"array":"object"===r&&t(e,String,(e,t)=>t.isPrototypeOf(e))?"string":r},o=e=>t=>r(t)===e,a=o("string"),n=o("object"),l=o("array"),i=e=>null==e,s=e=>!i(e),c=e=>"function"==typeof e,d=(e,t)=>{if(l(e)){for(let r=0,o=e.length;r<o;++r)if(!t(e[r]))return!1;return!0}return!1},m=()=>!1,u=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var g=tinymce.util.Tools.resolve("tinymce.util.Tools");let p=e=>t=>t.options.get(e),h=e=>{let t=e.options.register;t("template_cdate_classes",{processor:"string",default:"cdate"}),t("template_mdate_classes",{processor:"string",default:"mdate"}),t("template_selected_content_classes",{processor:"string",default:"selcontent"}),t("template_preview_replace_values",{processor:"object"}),t("template_replace_values",{processor:"object"}),t("templates",{processor:e=>a(e)||d(e,n)||c(e),default:[]}),t("template_cdate_format",{processor:"string",default:e.translate("%Y-%m-%d")}),t("template_mdate_format",{processor:"string",default:e.translate("%Y-%m-%d")})},f=p("template_cdate_classes"),y=p("template_mdate_classes"),b=p("template_selected_content_classes"),v=p("template_preview_replace_values"),k=p("template_replace_values"),w=p("templates"),_=p("template_cdate_format"),x=p("template_mdate_format"),C=p("content_style"),S=p("content_css_cors"),z=p("body_class"),E=(e,t)=>{if((e=""+e).length<t)for(let r=0;r<t-e.length;r++)e="0"+e;return e},T=(e,t,r=new Date)=>t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+r.getFullYear())).replace("%y",""+r.getYear())).replace("%m",E(r.getMonth()+1,2))).replace("%d",E(r.getDate(),2))).replace("%H",""+E(r.getHours(),2))).replace("%M",""+E(r.getMinutes(),2))).replace("%S",""+E(r.getSeconds(),2))).replace("%I",""+((r.getHours()+11)%12+1))).replace("%p",12>r.getHours()?"AM":"PM")).replace("%B",""+e.translate("January February March April May June July August September October November December".split(" ")[r.getMonth()]))).replace("%b",""+e.translate("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[r.getMonth()]))).replace("%A",""+e.translate("Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" ")[r.getDay()]))).replace("%a",""+e.translate("Sun Mon Tue Wed Thu Fri Sat Sun".split(" ")[r.getDay()]))).replace("%%","%");class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return s(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);let O=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},D=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},N=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return A.some(a);if(r(a,o))break}return A.none()},M=(e,t)=>N(e,t,m),R=Object.hasOwnProperty,B=(e,t)=>F(e,t)?A.from(e[t]):A.none(),F=(e,t)=>R.call(e,t);var L=tinymce.util.Tools.resolve("tinymce.html.Serializer");let I={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},P=e=>e.replace(/["'<>&]/g,e=>B(I,e).getOr(e)),H=(e,t,r)=>O(r.split(/\s+/),r=>e.hasClass(t,r)),j=(e,t)=>L({validate:!0},e.schema).serialize(e.parser.parse(t,{insert:!0})),V=(e,t)=>()=>{let r=w(e);c(r)?r(t):a(r)?fetch(r).then(e=>{e.ok&&e.json().then(t)}):t(r)},U=(e,t)=>(g.each(t,(t,r)=>{c(t)&&(t=t(r)),e=e.replace(RegExp("\\{\\$"+u(r)+"\\}","g"),t)}),e),Z=(e,t)=>{let r=e.dom,o=k(e);g.each(r.select("*",t),e=>{g.each(o,(t,o)=>{r.hasClass(e,o)&&c(t)&&t(e)})})},q=(e,t,r)=>{let o=e.dom,a=e.selection.getContent();r=U(r,k(e));let n=o.create("div",{},j(e,r)),l=o.select(".mceTmpl",n);l&&l.length>0&&(n=o.create("div")).appendChild(l[0].cloneNode(!0)),g.each(o.select("*",n),t=>{H(o,t,f(e))&&(t.innerHTML=T(e,_(e))),H(o,t,y(e))&&(t.innerHTML=T(e,x(e))),H(o,t,b(e))&&(t.innerHTML=a)}),Z(e,n),e.execCommand("mceInsertContent",!1,n.innerHTML),e.addVisual()};var W=tinymce.util.Tools.resolve("tinymce.Env");let $=(e,t)=>{var r;let o=j(e,t);if(-1===t.indexOf("<html>")){let t="",a=null!=(r=C(e))?r:"",n=S(e)?' crossorigin="anonymous"':"";g.each(e.contentCSS,r=>{t+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(r)+'"'+n+">"}),a&&(t+='<style type="text/css">'+a+"</style>");let l=z(e),i=e.dom.encode,s=W.os.isMacOS()||W.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",c=e.getBody().dir,d=c?' dir="'+i(c)+'"':"";o='<!DOCTYPE html><html><head><base href="'+i(e.documentBaseURI.getURI())+'">'+t+'<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+s+')) {e.preventDefault();}}}, false);<\/script> </head><body class="'+i(l)+'"'+d+">"+o+"</body></html>"}return U(o,v(e))},G=(e,t)=>{let r=e=>D(e,e=>({text:e.text,value:e.text})),o=(e,t)=>M(e,e=>e.text===t),a=t=>{e.windowManager.alert("Could not load the specified template.",()=>t.focus("template"))},n=e=>e.value.url.fold(()=>Promise.resolve(e.value.content.getOr("")),e=>fetch(e).then(e=>e.ok?e.text():Promise.reject())),l=(e,t)=>(r,l)=>{"template"===l.name&&o(e,r.getData().template).each(e=>{r.block("Loading..."),n(e).then(o=>{t(r,e,o)}).catch(()=>{t(r,e,""),r.setEnabled("save",!1),a(r)})})},i=t=>r=>{o(t,r.getData().template).each(t=>{n(t).then(t=>{e.execCommand("mceInsertTemplate",!1,t),r.close()}).catch(()=>{r.setEnabled("save",!1),a(r)})})};(()=>{if(!t||0===t.length){let t=e.translate("No templates defined.");return e.notificationManager.open({text:t,type:"info"}),A.none()}return A.from(g.map(t,(e,t)=>({selected:0===t,text:e.title,value:{url:void 0!==e.url?A.from(e.url):A.none(),content:void 0!==e.url?A.none():A.from(e.content),description:e.description}})))})().each(t=>{let o=r(t),s=(e,r)=>({title:"Insert Template",size:"large",body:{type:"panel",items:e},initialData:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:i(t),onChange:l(t,c)}),c=(t,r,a)=>{let n=$(e,a),l=[{type:"listbox",name:"template",label:"Templates",items:o},{type:"htmlpanel",html:`<p aria-live="polite">${P(r.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],i={template:r.text,preview:n};t.unblock(),t.redial(s(l,i)),t.focus("template")},d=e.windowManager.open(s([],{template:"",preview:""}));d.block("Loading..."),n(t[0]).then(e=>{c(d,t[0],e)}).catch(()=>{c(d,t[0],""),d.setEnabled("save",!1),a(d)})})},K=e=>t=>{G(e,t)},Y=e=>{e.addCommand("mceInsertTemplate",function(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}(q,e)),e.addCommand("mceTemplate",V(e,K(e)))},X=e=>{e.on("PreProcess",t=>{let r=e.dom,o=x(e);g.each(r.select("div",t.node),t=>{r.hasClass(t,"mceTmpl")&&(g.each(r.select("*",t),t=>{H(r,t,y(e))&&(t.innerHTML=T(e,o))}),Z(e,t))})})},J=e=>t=>{let r=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",r),r(),()=>{e.off("NodeChange",r)}},Q=e=>{let t=()=>e.execCommand("mceTemplate");e.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:J(e),onAction:t}),e.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:J(e),onAction:t})};e.add("template",e=>{h(e),Q(e),Y(e),X(e)})}()},68928:function(e,t,r){r(8026)},8026:function(){!function(){"use strict";let e,t=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var r=tinymce.util.Tools.resolve("tinymce.PluginManager");let o=(e,t)=>{e.dispatch("VisualBlocks",{state:t})},a=(e,t,r)=>{e.dom.toggleClass(e.getBody(),"mce-visualblocks"),r.set(!r.get()),o(e,r.get())},n=(e,t,r)=>{e.addCommand("mceVisualBlocks",()=>{a(e,t,r)})},l=e=>{(0,e.options.register)("visualblocks_default_state",{processor:"boolean",default:!1})},i=(e="visualblocks_default_state",t=>t.options.get(e)),s=(e,t,r)=>{e.on("PreviewFormats AfterPreviewFormats",t=>{r.get()&&e.dom.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)}),e.on("init",()=>{i(e)&&a(e,t,r)})},c=(e,t)=>r=>{r.setActive(t.get());let o=e=>r.setActive(e.state);return e.on("VisualBlocks",o),()=>e.off("VisualBlocks",o)},d=(e,t)=>{let r=()=>e.execCommand("mceVisualBlocks");e.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:r,onSetup:c(e,t)}),e.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:r,onSetup:c(e,t)})};r.add("visualblocks",(e,r)=>{l(e);let o=t(!1);n(e,r,o),d(e,o),s(e,r,o)})}()},82358:function(e,t,r){r(34056)},34056:function(){!function(){"use strict";let e,t,r=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");let a=e=>({isEnabled:()=>e.get()}),n=(e,t)=>e.dispatch("VisualChars",{state:t}),l=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},i=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&l(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},s=e=>t=>i(t)===e,c=e=>t=>typeof t===e,d=s("string"),m=s("object"),u=e=>null===e,g=c("boolean"),p=e=>null==e,h=e=>!p(e),f=c("number");class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return h(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);let b=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},v=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},k=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},w=Object.keys,_=(e,t)=>{let r=w(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},x="undefined"!=typeof window?window:Function("return this;")(),C=(e,t)=>{let r=null!=t?t:x;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},S=(e,t)=>C(e.split("."),t),z=(e,t)=>S(e,t),E=(e,t)=>{let r=z(e,t);if(null==r)throw Error(e+" not available on this browser");return r},T=Object.getPrototypeOf,A=e=>E("HTMLElement",e),O=e=>{let t=S("ownerDocument.defaultView",e);return m(e)&&(A(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(T(e).constructor.name))},D=e=>e.dom.nodeType,N=e=>e.dom.nodeValue,M=e=>t=>D(t)===e,R=e=>B(e)&&O(e.dom),B=M(1),F=M(3),L=(e,t,r)=>{if(d(r)||g(r)||f(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},I=(e,t,r)=>{L(e.dom,t,r)},P=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},H=(e,t)=>{e.dom.removeAttribute(t)},j=(e,t)=>{let r=P(e,t);return void 0===r||""===r?[]:r.split(" ")},V=(e,t,r)=>{let o=j(e,t).concat([r]);return I(e,t,o.join(" ")),!0},U=(e,t,r)=>{let o=k(j(e,t),e=>e!==r);return o.length>0?I(e,t,o.join(" ")):H(e,t),!1},Z=e=>void 0!==e.dom.classList,q=e=>j(e,"class"),W=(e,t)=>V(e,"class",t),$=(e,t)=>U(e,"class",t),G=(e,t)=>{Z(e)?e.dom.classList.add(t):W(e,t)},K=e=>{0===(Z(e)?e.dom.classList:q(e)).length&&H(e,"class")},Y=(e,t)=>{Z(e)?e.dom.classList.remove(t):$(e,t),K(e)},X={fromDom:e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}}},J={"\xa0":"nbsp","\xad":"shy"},Q=(e,t)=>{let r="";return _(e,(e,t)=>{r+=t}),RegExp("["+r+"]",t?"g":"")},ee=Q(J),et=Q(J,!0),er=(e="",_(J,t=>{e&&(e+=","),e+="span.mce-"+t}),e),eo="mce-nbsp",ea=e=>e.dom.contentEditable,en=e=>'<span data-mce-bogus="1" class="mce-'+J[e]+'">'+e+"</span>",el=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),ei=e=>{let t=N(e);return F(e)&&d(t)&&ee.test(t)},es=e=>R(e)&&"false"===ea(e),ec=(e,t)=>{if(R(e)&&!el(e.dom)){let t=ea(e);if("true"===t)return!0;if("false"===t)return!1}return t},ed=(e,t,r)=>{let o=[],a=b(e.dom.childNodes,X.fromDom),n=e=>el(e.dom)||!es(e);return v(a,e=>{r&&n(e)&&t(e)&&(o=o.concat([e])),o=o.concat(ed(e,t,ec(e,r)))}),o},em=(e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}},eu=e=>e.replace(et,en),eg=(e,t)=>{let r=e.dom;v(ed(X.fromDom(t),ei,e.dom.isEditable(t)),t=>{var o;let a=t.dom.parentNode;if(el(a))G(X.fromDom(a),eo);else{let a,n=eu(r.encode(null!=(o=N(t))?o:"")),l=r.create("div",{},n);for(;a=l.lastChild;)r.insertAfter(a,t.dom);e.dom.remove(t.dom)}})},ep=(e,t)=>{v(e.dom.select(er,t),t=>{el(t)?Y(X.fromDom(t),eo):e.dom.remove(t,!0)})},eh=e=>{let t=e.getBody(),r=e.selection.getBookmark(),o=em(e.selection.getNode(),t);ep(e,o=void 0!==o?o:t),eg(e,o),e.selection.moveToBookmark(r)},ef=(e,t)=>{n(e,t.get());let r=e.getBody();!0===t.get()?eg(e,r):ep(e,r)},ey=(e,t)=>{t.set(!t.get());let r=e.selection.getBookmark();ef(e,t),e.selection.moveToBookmark(r)},eb=(e,t)=>{e.addCommand("mceVisualChars",()=>{ey(e,t)})},ev=e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})},ek=(t="visualchars_default_state",e=>e.options.get(t)),ew=(e,t)=>{e.on("init",()=>{ef(e,t)})},e_=(e,t)=>{let r=null;return{cancel:()=>{u(r)||(clearTimeout(r),r=null)},throttle:(...o)=>{u(r)&&(r=setTimeout(()=>{r=null,e.apply(null,o)},t))}}},ex=(e,t)=>{let r=e_(()=>{eh(e)},300);e.on("keydown",o=>{!0===t.get()&&(13===o.keyCode?eh(e):r.throttle())}),e.on("remove",r.cancel)},eC=(e,t)=>r=>{r.setActive(t.get());let o=e=>r.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)},eS=(e,t)=>{let r=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:r,onSetup:eC(e,t)}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:r,onSetup:eC(e,t)})};o.add("visualchars",e=>{ev(e);let t=r(ek(e));return eb(e,t),eS(e,t),ex(e,t),ew(e,t),a(t)})}()},15782:function(e,t,r){r(47863)},47863:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=e=>null===e,r=e=>e,o=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},a={aletter:"[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:`[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]`,midletter:"[:\xb7\xb7״‧︓﹕：]",midnum:"[\xb1+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[\xad؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:`[~\u2116|!-*+-\\/:;?@\\[-\`{}\u00A1\u00AB\u00B7\u00BB\u00BF;\u00B7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]`},n={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},l=[new RegExp(a.aletter),new RegExp(a.midnumlet),new RegExp(a.midletter),new RegExp(a.midnum),new RegExp(a.numeric),new RegExp(a.cr),new RegExp(a.lf),new RegExp(a.newline),new RegExp(a.extend),new RegExp(a.format),new RegExp(a.katakana),new RegExp(a.extendnumlet),RegExp("@")],i=RegExp("^"+a.punctuation+"$"),s=n.OTHER,c=e=>{let t=s,r=l.length;for(let o=0;o<r;++o){let r=l[o];if(r&&r.test(e)){t=o;break}}return t},d=e=>{let t={};return r=>{if(t[r])return t[r];{let o=e(r);return t[r]=o,o}}},m=e=>o(e,d(c)),u=(e,t)=>{let r=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t||r===n.ALETTER&&o===n.ALETTER)return!1;let a=e[t+2];if(r===n.ALETTER&&(o===n.MIDLETTER||o===n.MIDNUMLET||o===n.AT)&&a===n.ALETTER)return!1;let l=e[t-1];return(r!==n.MIDLETTER&&r!==n.MIDNUMLET&&o!==n.AT||o!==n.ALETTER||l!==n.ALETTER)&&(r!==n.NUMERIC&&r!==n.ALETTER||o!==n.NUMERIC&&o!==n.ALETTER)&&(r!==n.MIDNUM&&r!==n.MIDNUMLET||o!==n.NUMERIC||l!==n.NUMERIC)&&(r!==n.NUMERIC||o!==n.MIDNUM&&o!==n.MIDNUMLET||a!==n.NUMERIC)&&(r!==n.EXTEND&&r!==n.FORMAT||o!==n.ALETTER&&o!==n.NUMERIC&&o!==n.KATAKANA&&o!==n.EXTEND&&o!==n.FORMAT)&&(o!==n.EXTEND&&(o!==n.FORMAT||a!==n.ALETTER&&a!==n.NUMERIC&&a!==n.KATAKANA&&a!==n.EXTEND&&a!==n.FORMAT)||r!==n.ALETTER&&r!==n.NUMERIC&&r!==n.KATAKANA&&r!==n.EXTEND&&r!==n.FORMAT)&&(r!==n.CR||o!==n.LF)&&(r===n.NEWLINE||r===n.CR||r===n.LF||o===n.NEWLINE||o===n.CR||o===n.LF||(r!==n.KATAKANA||o!==n.KATAKANA)&&(o!==n.EXTENDNUMLET||r!==n.ALETTER&&r!==n.NUMERIC&&r!==n.KATAKANA&&r!==n.EXTENDNUMLET)&&(r!==n.EXTENDNUMLET||o!==n.ALETTER&&o!==n.NUMERIC&&o!==n.KATAKANA)&&r!==n.AT&&!0)},g=/^\s+$/,p=e=>"http"===e||"https"===e,h=(e,t)=>{let r;for(r=t;r<e.length&&!g.test(e[r]);r++);return r},f=(e,t)=>{let r=h(e,t+1);return"://"===e.slice(t+1,r).join("").substr(0,3)?r:t},y=(e,t,r,o)=>{let a=[],n=[],l=[];for(let s=0;s<r.length;++s)if(l.push(e[s]),u(r,s)){let r=t[s];if((o.includeWhitespace||!g.test(r))&&(o.includePunctuation||!i.test(r))){let r=s-l.length+1,o=s+1;if(p(t.slice(r,o).join(""))){let r=f(t,s),a=e.slice(o,r);Array.prototype.push.apply(l,a),s=r}a.push(l),n.push({start:r,end:o})}l=[]}return{words:a,indices:n}},b=()=>({includeWhitespace:!1,includePunctuation:!1}),v=(e,t,r)=>{r={...b(),...r};let a=o(e,t),n=m(a);return y(e,a,n,r)},k=(e,t,r)=>v(e,t,r).words,w=e=>e.replace(/\uFEFF/g,"");var _=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");let x=(e,t)=>{let r,o=t.getBlockElements(),a=t.getVoidElements(),n=e=>o[e.nodeName]||a[e.nodeName],l=[],i="",s=new _(e,e);for(;r=s.next();)3===r.nodeType?i+=w(r.data):n(r)&&i.length&&(l.push(i),i="");return i.length&&l.push(i),l},C=e=>e.replace(/\u200B/g,""),S=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,z=(e,t)=>k(C(x(e,t).join("\n")).split(""),r).length,E=(e,t)=>S(x(e,t).join("")),T=(e,t)=>S(x(e,t).join("").replace(/\s/g,"")),A=(e,t)=>()=>t(e.getBody(),e.schema),O=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),D=e=>A(e,z),N=e=>({body:{getWordCount:D(e),getCharacterCount:A(e,E),getCharacterCountWithoutSpaces:A(e,T)},selection:{getWordCount:O(e,z),getCharacterCount:O(e,E),getCharacterCountWithoutSpaces:O(e,T)},getCount:D(e)}),M=(e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},R=(e,t)=>{e.addCommand("mceWordCount",()=>M(e,t))},B=(e,r)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...a)=>{t(o)&&(o=setTimeout(()=>{o=null,e.apply(null,a)},r))}}};var F=tinymce.util.Tools.resolve("tinymce.util.Delay");let L=(e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},I=(e,t)=>{L(e,t)},P=(e,t,r)=>{let o=B(()=>I(e,t),r);e.on("init",()=>{I(e,t),F.setEditorTimeout(e,()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",o.throttle)},0),e.on("remove",o.cancel)})},H=e=>{let t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})};((t=300)=>{e.add("wordcount",e=>{let r=N(e);return R(e,r),H(e),P(e,r,t),r})})()}()},34761:function(e,t,r){r(1170)},1170:function(){!function(){"use strict";let e,t,r,o=Object.getPrototypeOf,a=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},n=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&a(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},l=e=>t=>n(t)===e,i=e=>t=>typeof t===e,s=e=>t=>e===t,c=(e,t)=>m(e)&&a(e,t,(e,t)=>o(e)===t),d=l("string"),m=l("object"),u=e=>c(e,Object),g=l("array"),p=s(null),h=i("boolean"),f=s(void 0),y=e=>null==e,b=e=>!y(e),v=i("function"),k=i("number"),w=(e,t)=>{if(g(e)){for(let r=0,o=e.length;r<o;++r)if(!t(e[r]))return!1;return!0}return!1},_=()=>{},x=e=>()=>e(),C=(e,t)=>(...r)=>e(t.apply(null,r)),S=(e,t)=>r=>e(t(r)),z=e=>()=>e,E=e=>e,T=(e,t)=>e===t;function A(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}let O=e=>t=>!e(t),D=e=>()=>{throw Error(e)},N=e=>e(),M=z(!1),R=z(!0);class B{constructor(e,t){this.tag=e,this.value=t}static some(e){return new B(!0,e)}static none(){return B.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?B.some(e(this.value)):B.none()}bind(e){return this.tag?e(this.value):B.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:B.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return b(e)?B.some(e):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}B.singletonNone=new B(!1);let F=Array.prototype.slice,L=Array.prototype.indexOf,I=Array.prototype.push,P=(e,t)=>L.call(e,t),H=(e,t)=>{let r=P(e,t);return -1===r?B.none():B.some(r)},j=(e,t)=>P(e,t)>-1,V=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},U=(e,t)=>{let r=[];for(let o=0;o<e;o++)r.push(t(o));return r},Z=(e,t)=>{let r=[];for(let o=0;o<e.length;o+=t){let a=F.call(e,o,o+t);r.push(a)}return r},q=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},W=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},$=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},G=(e,t)=>{let r=[],o=[];for(let a=0,n=e.length;a<n;a++){let n=e[a];(t(n,a)?r:o).push(n)}return{pass:r,fail:o}},K=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},Y=(e,t,r)=>($(e,(e,o)=>{r=t(r,e,o)}),r),X=(e,t,r)=>(W(e,(e,o)=>{r=t(r,e,o)}),r),J=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return B.some(a);if(r(a,o))break}return B.none()},Q=(e,t)=>J(e,t,M),ee=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return B.some(r);return B.none()},et=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!g(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);I.apply(t,e[r])}return t},er=(e,t)=>et(q(e,t)),eo=(e,t)=>{for(let r=0,o=e.length;r<o;++r)if(!0!==t(e[r],r))return!1;return!0},ea=e=>{let t=F.call(e,0);return t.reverse(),t},en=(e,t)=>K(e,e=>!j(t,e)),el=(e,t)=>{let r={};for(let o=0,a=e.length;o<a;o++){let a=e[o];r[String(a)]=t(a,o)}return r},ei=e=>[e],es=(e,t)=>{let r=F.call(e,0);return r.sort(t),r},ec=(e,t)=>t>=0&&t<e.length?B.some(e[t]):B.none(),ed=e=>ec(e,0),em=e=>ec(e,e.length-1),eu=v(Array.from)?Array.from:e=>F.call(e),eg=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return B.none()},ep=Object.keys,eh=Object.hasOwnProperty,ef=(e,t)=>{let r=ep(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},ey=(e,t)=>eb(e,(e,r)=>({k:r,v:t(e,r)})),eb=(e,t)=>{let r={};return ef(e,(e,o)=>{let a=t(e,o);r[a.k]=a.v}),r},ev=e=>(t,r)=>{e[r]=t},ek=(e,t,r,o)=>{ef(e,(e,a)=>{(t(e,a)?r:o)(e,a)})},ew=(e,t)=>{let r={},o={};return ek(e,t,ev(r),ev(o)),{t:r,f:o}},e_=(e,t)=>{let r={};return ek(e,t,ev(r),_),r},ex=(e,t)=>{let r=[];return ef(e,(e,o)=>{r.push(t(e,o))}),r},eC=(e,t)=>{let r=ep(e);for(let o=0,a=r.length;o<a;o++){let a=r[o],n=e[a];if(t(n,a,e))return B.some(n)}return B.none()},eS=e=>ex(e,E),ez=(e,t)=>eE(e,t)?B.from(e[t]):B.none(),eE=(e,t)=>eh.call(e,t),eT=(e,t)=>eE(e,t)&&void 0!==e[t]&&null!==e[t],eA=(e,t,r=T)=>e.exists(e=>r(e,t)),eO=(e,t,r=T)=>eM(e,t,r).getOr(e.isNone()&&t.isNone()),eD=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},eN=e=>{let t=[];for(let r=0;r<e.length;r++){let o=e[r];if(!o.isSome())return B.none();t.push(o.getOrDie())}return B.some(t)},eM=(e,t,r)=>e.isSome()&&t.isSome()?B.some(r(e.getOrDie(),t.getOrDie())):B.none(),eR=(e,t,r,o)=>e.isSome()&&t.isSome()&&r.isSome()?B.some(o(e.getOrDie(),t.getOrDie(),r.getOrDie())):B.none(),eB=(e,t)=>null!=e?B.some(t(e)):B.none(),eF=(e,t)=>e?B.some(t):B.none(),eL=(e,t)=>e+t,eI=(e,t)=>e.substring(t),eP=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,eH=(e,t)=>eU(e,t)?eI(e,t.length):e,ej=(e,t)=>eZ(e,t)?e:eL(e,t),eV=(e,t,r=0,o)=>{let a=e.indexOf(t,r);return -1!==a&&(!!f(o)||a+t.length<=o)},eU=(e,t)=>eP(e,t,0),eZ=(e,t)=>eP(e,t,e.length-t.length),eq=(e=/^\s+|\s+$/g,t=>t.replace(e,"")),eW=e=>e.length>0,e$=e=>!eW(e),eG=e=>void 0!==e.style&&v(e.style.getPropertyValue),eK=e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}},eY={fromHtml:(e,t)=>{let r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){let t="HTML does not have a single root node";throw console.error(t,e),Error(t)}return eK(r.childNodes[0])},fromTag:(e,t)=>eK((t||document).createElement(e)),fromText:(e,t)=>eK((t||document).createTextNode(e)),fromDom:eK},eX="undefined"!=typeof window?window:Function("return this;")(),eJ=(e,t)=>{let r=null!=t?t:eX;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},eQ=(e,t)=>eJ(e.split("."),t),e1=(e,t)=>eQ(e,t),e0=(e,t)=>{let r=e1(e,t);if(null==r)throw Error(e+" not available on this browser");return r},e2=Object.getPrototypeOf,e4=e=>e0("HTMLElement",e),e3=e=>{let t=eQ("ownerDocument.defaultView",e);return m(e)&&(e4(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(e2(e).constructor.name))},e5=e=>e.dom.nodeName.toLowerCase(),e6=e=>e.dom.nodeType,e8=e=>t=>e6(t)===e,e7=e=>e9(e)&&e3(e.dom),e9=e8(1),te=e8(3),tt=e8(9),tr=e8(11),to=e=>t=>e9(t)&&e5(t)===e,ta=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);else throw Error("Browser lacks native selectors")},tn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,tl=(e,t)=>{let r=void 0===t?document:t.dom;return tn(r)?[]:q(r.querySelectorAll(e),eY.fromDom)},ti=(e,t)=>{let r=void 0===t?document:t.dom;return tn(r)?B.none():B.from(r.querySelector(e)).map(eY.fromDom)},ts=(e,t)=>e.dom===t.dom,tc=(e,t)=>{let r=e.dom,o=t.dom;return r!==o&&r.contains(o)},td=e=>eY.fromDom(e.dom.ownerDocument),tm=e=>tt(e)?e:td(e),tu=e=>eY.fromDom(tm(e).dom.documentElement),tg=e=>eY.fromDom(tm(e).dom.defaultView),tp=e=>B.from(e.dom.parentNode).map(eY.fromDom),th=e=>tp(e),tf=e=>B.from(e.dom.parentElement).map(eY.fromDom),ty=(e,t)=>{let r=v(t)?t:M,o=e.dom,a=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){let e=o.parentNode,t=eY.fromDom(e);if(a.push(t),!0===r(t))break;o=e}return a},tb=e=>B.from(e.dom.offsetParent).map(eY.fromDom),tv=e=>B.from(e.dom.nextSibling).map(eY.fromDom),tk=e=>q(e.dom.childNodes,eY.fromDom),tw=(e,t)=>{let r=e.dom.childNodes;return B.from(r[t]).map(eY.fromDom)},t_=e=>tw(e,0),tx=(e,t)=>({element:e,offset:t}),tC=(e,t)=>{let r=tk(e);return r.length>0&&t<r.length?tx(r[t],0):tx(e,t)},tS=e=>tr(e)&&b(e.dom.host),tz=v(Element.prototype.attachShadow)&&v(Node.prototype.getRootNode),tE=z(tz),tT=tz?e=>eY.fromDom(e.dom.getRootNode()):tm,tA=e=>tS(e)?e:eY.fromDom(tm(e).dom.body),tO=e=>tD(e).isSome(),tD=e=>{let t=tT(e);return tS(t)?B.some(t):B.none()},tN=e=>eY.fromDom(e.dom.host),tM=e=>{if(tE()&&b(e.target)){let t=eY.fromDom(e.target);if(e9(t)&&tR(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return ed(t)}}return B.from(e.target)},tR=e=>b(e.dom.shadowRoot),tB=e=>{let t=te(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return tD(eY.fromDom(t)).fold(()=>r.body.contains(t),S(tB,tN))},tF=()=>tL(eY.fromDom(document)),tL=e=>{let t=e.dom.body;if(null==t)throw Error("Body is not available yet");return eY.fromDom(t)},tI=(e,t,r)=>{if(d(r)||h(r)||k(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},tP=(e,t,r)=>{tI(e.dom,t,r)},tH=(e,t)=>{let r=e.dom;ef(t,(e,t)=>{tI(r,t,e)})},tj=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},tV=(e,t)=>B.from(tj(e,t)),tU=(e,t)=>{let r=e.dom;return!!r&&!!r.hasAttribute&&r.hasAttribute(t)},tZ=(e,t)=>{e.dom.removeAttribute(t)},tq=e=>X(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),tW=(e,t,r)=>{if(!d(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);eG(e)&&e.style.setProperty(t,r)},t$=(e,t)=>{eG(e)&&e.style.removeProperty(t)},tG=(e,t,r)=>{tW(e.dom,t,r)},tK=(e,t)=>{let r=e.dom;ef(t,(e,t)=>{tW(r,t,e)})},tY=(e,t)=>{let r=e.dom;ef(t,(e,t)=>{e.fold(()=>{t$(r,t)},e=>{tW(r,t,e)})})},tX=(e,t)=>{let r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||tB(e)?o:tJ(r,t)},tJ=(e,t)=>eG(e)?e.style.getPropertyValue(t):"",tQ=(e,t)=>{let r=tJ(e.dom,t);return B.from(r).filter(e=>e.length>0)},t1=e=>{let t={},r=e.dom;if(eG(r))for(let e=0;e<r.style.length;e++){let o=r.style.item(e);t[o]=r.style[o]}return t},t0=(e,t,r)=>{let o=eY.fromTag(e);return tG(o,t,r),tQ(o,t).isSome()},t2=(e,t)=>{t$(e.dom,t),eA(tV(e,"style").map(eq),"")&&tZ(e,"style")},t4=e=>e.dom.offsetWidth,t3=(e,t)=>{let r=r=>{let o=t(r);return o<=0||null===o?parseFloat(tX(r,e))||0:o},o=(e,t)=>X(t,(t,r)=>{let o=tX(e,r),a=void 0===o?0:parseInt(o,10);return isNaN(a)?t:t+a},0);return{set:(t,r)=>{if(!k(r)&&!r.match(/^[0-9]+$/))throw Error(e+".set accepts only positive integer values. Value was "+r);let o=t.dom;eG(o)&&(o.style[e]=r+"px")},get:r,getOuter:r,aggregate:o,max:(e,t,r)=>{let a=o(e,r);return t>a?t-a:0}}},t5=t3("height",e=>{let t=e.dom;return tB(e)?t.getBoundingClientRect().height:t.offsetHeight}),t6=e=>t5.get(e),t8=e=>t5.getOuter(e),t7=(e,t)=>{let r=t5.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);tG(e,"max-height",r+"px")},t9=(e,t)=>({left:e,top:t,translate:(r,o)=>t9(e+r,t+o)}),re=e=>{let t=e.getBoundingClientRect();return t9(t.left,t.top)},rt=(e,t)=>void 0!==e?e:void 0!==t?t:0,rr=e=>{let t=e.dom.ownerDocument,r=t.body,o=t.defaultView,a=t.documentElement;if(r===e.dom)return t9(r.offsetLeft,r.offsetTop);let n=rt(null==o?void 0:o.pageYOffset,a.scrollTop),l=rt(null==o?void 0:o.pageXOffset,a.scrollLeft),i=rt(a.clientTop,r.clientTop),s=rt(a.clientLeft,r.clientLeft);return ro(e).translate(l-s,n-i)},ro=e=>{let t=e.dom,r=t.ownerDocument.body;return r===t?t9(r.offsetLeft,r.offsetTop):tB(e)?re(t):t9(0,0)},ra=t3("width",e=>e.dom.offsetWidth),rn=(e,t)=>ra.set(e,t),rl=e=>ra.get(e),ri=e=>ra.getOuter(e),rs=(e,t)=>{let r=ra.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);tG(e,"max-width",r+"px")},rc=e=>{let t,r=!1;return(...o)=>(r||(r=!0,t=e.apply(null,o)),t)},rd=(e,t,r,o)=>{let a=e.isiOS()&&!0===/ipad/i.test(r),n=e.isiOS()&&!a,l=e.isiOS()||e.isAndroid(),i=l||o("(pointer:coarse)"),s=a||!n&&l&&o("(min-device-width:768px)"),c=n||l&&!s,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r);return{isiPad:z(a),isiPhone:z(n),isTablet:z(s),isPhone:z(c),isTouch:z(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:z(d),isDesktop:z(!c&&!s&&!d)}},rm=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r];if(o.test(t))return o}},ru=(e,t)=>{let r=rm(e,t);if(!r)return{major:0,minor:0};let o=e=>Number(t.replace(r,"$"+e));return rp(o(1),o(2))},rg=()=>rp(0,0),rp=(e,t)=>({major:e,minor:t}),rh=(e,t)=>{let r=String(t).toLowerCase();return 0===e.length?rg():ru(e,r)},rf=(e,t)=>eg(t.brands,t=>{let r=t.brand.toLowerCase();return Q(e,e=>{var t;return r===(null==(t=e.brand)?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:rp(parseInt(t.version,10),0)}))}),ry=(e,t)=>{let r=String(t).toLowerCase();return Q(e,e=>e.search(r))},rb=(e,t)=>ry(e,t).map(e=>{let r=rh(e.versionRegexes,t);return{current:e.name,version:r}}),rv=(e,t)=>ry(e,t).map(e=>{let r=rh(e.versionRegexes,t);return{current:e.name,version:r}}),rk=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rw=e=>t=>eV(t,e),r_=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>eV(e,"edge/")&&eV(e,"chrome")&&eV(e,"safari")&&eV(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rk],search:e=>eV(e,"chrome")&&!eV(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>eV(e,"msie")||eV(e,"trident")},{name:"Opera",versionRegexes:[rk,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rw("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rw("firefox")},{name:"Safari",versionRegexes:[rk,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(eV(e,"safari")||eV(e,"mobile/"))&&eV(e,"applewebkit")}],rx=[{name:"Windows",search:rw("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>eV(e,"iphone")||eV(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rw("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rw("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rw("linux"),versionRegexes:[]},{name:"Solaris",search:rw("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rw("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rw("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rC={browsers:z(r_),oses:z(rx)},rS="Edge",rz="Chromium",rE="Opera",rT="Firefox",rA="Safari",rO=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isEdge:o(rS),isChromium:o(rz),isIE:o("IE"),isOpera:o(rE),isFirefox:o(rT),isSafari:o(rA)}},rD={unknown:()=>rO({current:void 0,version:rg()}),nu:rO,edge:z(rS),chromium:z(rz),ie:z("IE"),opera:z(rE),firefox:z(rT),safari:z(rA)},rN="Windows",rM="Android",rR="Linux",rB="macOS",rF="Solaris",rL="FreeBSD",rI="ChromeOS",rP=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isWindows:o(rN),isiOS:o("iOS"),isAndroid:o(rM),isMacOS:o(rB),isLinux:o(rR),isSolaris:o(rF),isFreeBSD:o(rL),isChromeOS:o(rI)}},rH={unknown:()=>rP({current:void 0,version:rg()}),nu:rP,windows:z(rN),ios:z("iOS"),android:z(rM),linux:z(rR),macos:z(rB),solaris:z(rF),freebsd:z(rL),chromeos:z(rI)},rj=(e,t,r)=>{let o=rC.browsers(),a=rC.oses(),n=t.bind(e=>rf(o,e)).orThunk(()=>rb(o,e)).fold(rD.unknown,rD.nu),l=rv(a,e).fold(rH.unknown,rH.nu),i=rd(l,n,e,r);return{browser:n,os:l,deviceType:i}},rV=e=>window.matchMedia(e).matches,rU=rc(()=>rj(navigator.userAgent,B.from(navigator.userAgentData),rV)),rZ=()=>rU(),rq=(e,t,r,o,a,n,l)=>({target:e,x:t,y:r,stop:o,prevent:a,kill:n,raw:l}),rW=e=>{let t=eY.fromDom(tM(e).getOr(e.target)),r=()=>e.stopPropagation(),o=()=>e.preventDefault(),a=C(o,r);return rq(t,e.clientX,e.clientY,r,o,a,e)},r$=(e,t)=>r=>{e(r)&&t(rW(r))},rG=(e,t,r,o,a)=>{let n=r$(r,o);return e.dom.addEventListener(t,n,a),{unbind:A(rX,e,t,n,a)}},rK=(e,t,r,o)=>rG(e,t,r,o,!1),rY=(e,t,r,o)=>rG(e,t,r,o,!0),rX=(e,t,r,o)=>{e.dom.removeEventListener(t,r,o)},rJ=(e,t)=>{tp(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},rQ=(e,t)=>{tv(e).fold(()=>{tp(e).each(e=>{r0(e,t)})},e=>{rJ(e,t)})},r1=(e,t)=>{t_(e).fold(()=>{r0(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},r0=(e,t)=>{e.dom.appendChild(t.dom)},r2=(e,t,r)=>{tw(e,r).fold(()=>{r0(e,t)},e=>{rJ(e,t)})},r4=(e,t)=>{W(t,t=>{r0(e,t)})},r3=e=>{e.dom.textContent="",W(tk(e),e=>{r5(e)})},r5=e=>{let t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},r6=e=>{let t=void 0!==e?e.dom:document;return t9(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},r8=(e,t,r)=>{let o=(void 0!==r?r.dom:document).defaultView;o&&o.scrollTo(e,t)},r7=e=>{let t=void 0===e?window:e;return rZ().browser.isFirefox()?B.none():B.from(t.visualViewport)},r9=(e,t,r,o)=>({x:e,y:t,width:r,height:o,right:e+r,bottom:t+o}),oe=e=>{let t=void 0===e?window:e,r=t.document,o=r6(eY.fromDom(r));return r7(t).fold(()=>{let e=t.document.documentElement,r=e.clientWidth,a=e.clientHeight;return r9(o.left,o.top,r,a)},e=>r9(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},ot=()=>eY.fromDom(document),or=(e,t)=>e.view(t).fold(z([]),t=>{let r=e.owner(t);return[t].concat(or(e,r))}),oo=(e,t)=>{let r=t.owner(e),o=or(t,r);return B.some(o)};var oa,on,ol,oi,os,oc,od,om,ou,og,op,oh,of,oy,ob,ov,ok,ow,o_,ox,oC,oS,oz,oE=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?B.none():B.from(null==(t=e.dom.defaultView)?void 0:t.frameElement)).map(eY.fromDom)},owner:e=>td(e)});let oT=e=>{let t=r6(ot());return oo(e,oE).fold(A(rr,e),r=>{let o=ro(e),a=Y(r,(e,t)=>{let r=ro(t);return{left:e.left+r.left,top:e.top+r.top}},{left:0,top:0});return t9(a.left+o.left+t.left,a.top+o.top+t.top)})},oA=(e,t,r)=>({point:e,width:t,height:r}),oO=(e,t,r,o)=>({x:e,y:t,width:r,height:o}),oD=(e,t,r,o)=>({x:e,y:t,width:r,height:o,right:e+r,bottom:t+o}),oN=e=>{let t=rr(e),r=ri(e),o=t8(e);return oD(t.left,t.top,r,o)},oM=e=>{let t=oT(e),r=ri(e),o=t8(e);return oD(t.left,t.top,r,o)},oR=(e,t)=>{let r=Math.max(e.x,t.x),o=Math.max(e.y,t.y),a=Math.min(e.right,t.right);return oD(r,o,a-r,Math.min(e.bottom,t.bottom)-o)},oB=(e,t)=>X(t,(e,t)=>oR(e,t),e),oF=()=>oe(window);var oL=tinymce.util.Tools.resolve("tinymce.ThemeManager");let oI=e=>{let t=t=>t(e),r=z(e),o=()=>a,a={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:R,isError:M,map:t=>oH.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:r,or:o,getOrThunk:r,orThunk:o,getOrDie:r,each:t=>{t(e)},toOptional:()=>B.some(e)};return a},oP=e=>{let t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:M,isError:R,map:t,mapError:t=>oH.error(t(e)),bind:t,exists:M,forall:R,getOr:E,or:E,getOrThunk:N,orThunk:N,getOrDie:D(String(e)),each:_,toOptional:B.none};return r},oH={value:oI,error:oP,fromOption:(e,t)=>e.fold(()=>oP(t),oI)};(on=of||(of={}))[on.Error=0]="Error",on[on.Value=1]="Value";let oj=(e,t,r)=>e.stype===of.Error?t(e.serror):r(e.svalue),oV=e=>({stype:of.Value,svalue:e}),oU=e=>({stype:of.Error,serror:e}),oZ={fromResult:e=>e.fold(oU,oV),toResult:e=>oj(e,oH.error,oH.value),svalue:oV,partition:e=>{let t=[],r=[];return W(e,e=>{oj(e,e=>r.push(e),e=>t.push(e))}),{values:t,errors:r}},serror:oU,bind:(e,t)=>e.stype===of.Value?t(e.svalue):e,bindError:(e,t)=>e.stype===of.Error?t(e.serror):e,map:(e,t)=>e.stype===of.Value?{stype:of.Value,svalue:t(e.svalue)}:e,mapError:(e,t)=>e.stype===of.Error?{stype:of.Error,serror:t(e.serror)}:e,fold:oj},oq=(e,t,r,o)=>({tag:"field",key:e,newKey:t,presence:r,prop:o}),oW=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},o$=e=>(...t)=>{if(0===t.length)throw Error("Can't merge zero objects");let r={};for(let o=0;o<t.length;o++){let a=t[o];for(let t in a)eE(a,t)&&(r[t]=e(r[t],a[t]))}return r},oG=o$((e,t)=>u(e)&&u(t)?oG(e,t):t),oK=o$((e,t)=>t),oY=()=>({tag:"required",process:{}}),oX=e=>({tag:"defaultedThunk",process:e}),oJ=e=>oX(z(e)),oQ=()=>({tag:"option",process:{}}),o1=e=>({tag:"mergeWithThunk",process:e}),o0=e=>C(oZ.serror,et)(e),o2={consolidateArr:e=>{let t=oZ.partition(e);return t.errors.length>0?o0(t.errors):oZ.svalue(t.values)}},o4=e=>m(e)&&ep(e).length>100?" removed due to size":JSON.stringify(e,null,2),o3=e=>q(e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:z("... (only showing first ten failures)")}]):e,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()),o5=(e,t)=>oZ.serror([{path:e,getErrorInfo:t}]),o6=(e,t,r)=>o5(e,()=>'Could not find valid *required* value for "'+t+'" in '+o4(r)),o8=(e,t)=>o5(e,()=>'Choice schema did not contain choice key: "'+t+'"'),o7=(e,t,r)=>o5(e,()=>'The chosen schema: "'+r+'" did not exist in branches: '+o4(t)),o9=(e,t)=>o5(e,()=>"There are unsupported fields: ["+t.join(", ")+"] specified"),ae=(e,t)=>o5(e,z(t)),at=e=>({extract:(t,r)=>oZ.bindError(e(r),e=>ae(t,e)),toString:z("val")}),ar=at(oZ.svalue),ao=(e,t,r,o)=>ez(t,r).fold(()=>o6(e,r,t),o),aa=(e,t,r,o)=>o(ez(e,t).getOrThunk(()=>r(e))),an=(e,t,r)=>r(ez(e,t)),al=(e,t,r,o)=>o(ez(e,t).map(t=>!0===t?r(e):t)),ai=(e,t,r,o,a)=>{let n=e=>a.extract(t.concat([o]),e),l=e=>e.fold(()=>oZ.svalue(B.none()),e=>{let r=a.extract(t.concat([o]),e);return oZ.map(r,B.some)});switch(e.tag){case"required":return ao(t,r,o,n);case"defaultedThunk":return aa(r,o,e.process,n);case"option":return an(r,o,l);case"defaultedOptionThunk":return al(r,o,e.process,l);case"mergeWithThunk":return aa(r,o,z({}),t=>n(oG(e.process(r),t)))}},as=(e,t,r)=>{let o={},a=[];for(let n of r)oW(n,(r,n,l,i)=>{let s=ai(l,e,t,r,i);oZ.fold(s,e=>{a.push(...e)},e=>{o[n]=e})},(e,r)=>{o[e]=r(t)});return a.length>0?oZ.serror(a):oZ.svalue(o)},ac=e=>({extract:(t,r)=>e().extract(t,r),toString:()=>e().toString()}),ad=e=>ep(e_(e,b)),am=e=>{let t=au(e),r=Y(e,(e,t)=>oW(t,t=>oG(e,{[t]:!0}),z(e)),{});return{extract:(e,o)=>{let a=K(h(o)?[]:ad(o),e=>!eT(r,e));return 0===a.length?t.extract(e,o):o9(e,a)},toString:t.toString}},au=e=>({extract:(t,r)=>as(t,r,e),toString:()=>"obj{\n"+q(e,e=>oW(e,(e,t,r,o)=>e+" -> "+o.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}),ag=e=>({extract:(t,r)=>{let o=q(r,(r,o)=>e.extract(t.concat(["["+o+"]"]),r));return o2.consolidateArr(o)},toString:()=>"array("+e.toString()+")"}),ap=(e,t)=>{let r=void 0!==t?t:E;return{extract:(t,o)=>{let a=[];for(let n of e){let e=n.extract(t,o);if(e.stype===of.Value)return{stype:of.Value,svalue:r(e.svalue)};a.push(e)}return o2.consolidateArr(a)},toString:()=>"oneOf("+q(e,e=>e.toString()).join(", ")+")"}},ah=(e,t)=>{let r=(t,r)=>ag(at(e)).extract(t,r);return{extract:(e,o)=>{let a=r(e,ep(o));return oZ.bind(a,r=>au(q(r,e=>oq(e,e,oY(),t))).extract(e,o))},toString:()=>"setOf("+t.toString()+")"}},af=(e,t)=>{let r=rc(t);return{extract:(e,t)=>r().extract(e,t),toString:()=>r().toString()}},ay=C(ag,au),ab=z(ar),av=(e,t)=>at(r=>{let o=typeof r;return e(r)?oZ.svalue(r):oZ.serror(`Expected type: ${t} but got: ${o}`)}),ak=av(k,"number"),aw=av(d,"string"),a_=av(h,"boolean"),ax=av(v,"function"),aC=e=>{if(Object(e)!==e)return!0;switch(({}).toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(t=>aC(e[t]));default:return!1}},aS=at(e=>aC(e)?oZ.svalue(e):oZ.serror("Expected value to be acceptable for sending via postMessage")),az=(e,t,r,o)=>ez(r,o).fold(()=>o7(e,r,o),r=>r.extract(e.concat(["branch: "+o]),t)),aE=(e,t)=>({extract:(r,o)=>ez(o,e).fold(()=>o8(r,e),e=>az(r,o,t,e)),toString:()=>"chooseOn("+e+"). Possible values: "+ep(t)}),aT=e=>at(t=>e(t).fold(oZ.serror,oZ.svalue)),aA=(e,t)=>ah(t=>oZ.fromResult(e(t)),t),aO=(e,t,r)=>{let o=t.extract([e],r);return oZ.mapError(o,e=>({input:r,errors:e}))},aD=(e,t,r)=>oZ.toResult(aO(e,t,r)),aN=e=>e.fold(e=>{throw Error(aR(e))},E),aM=(e,t,r)=>aN(aD(e,t,r)),aR=e=>"Errors: \n"+o3(e.errors).join("\n")+"\n\nInput object: "+o4(e.input),aB=(e,t)=>aE(e,ey(t,au)),aF=(e,t)=>af(e,t),aL=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),aI=e=>aT(t=>j(e,t)?oH.value(t):oH.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),aP=e=>oq(e,e,oY(),ab()),aH=(e,t)=>oq(e,e,oY(),t),aj=e=>aH(e,ak),aV=e=>aH(e,aw),aU=(e,t)=>oq(e,e,oY(),aI(t)),aZ=e=>aH(e,ax),aq=(e,t)=>oq(e,e,oQ(),at(r=>oZ.serror("The field: "+e+" is forbidden. "+t))),aW=(e,t)=>oq(e,e,oY(),au(t)),a$=(e,t)=>oq(e,e,oY(),ay(t)),aG=(e,t)=>oq(e,e,oY(),ag(t)),aK=e=>oq(e,e,oQ(),ab()),aY=(e,t)=>oq(e,e,oQ(),t),aX=e=>aY(e,ak),aJ=e=>aY(e,aw),aQ=(e,t)=>aY(e,aI(t)),a1=e=>aY(e,ax),a0=(e,t)=>aY(e,ag(t)),a2=(e,t)=>aY(e,au(t)),a4=(e,t)=>aY(e,am(t)),a3=(e,t)=>oq(e,e,oJ(t),ab()),a5=(e,t,r)=>oq(e,e,oJ(t),r),a6=(e,t)=>a5(e,t,ak),a8=(e,t)=>a5(e,t,aw),a7=(e,t,r)=>a5(e,t,aI(r)),a9=(e,t)=>a5(e,t,a_),ne=(e,t)=>a5(e,t,ax),nt=(e,t,r)=>a5(e,t,ag(r)),nr=(e,t,r)=>a5(e,t,au(r)),no=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},na=e=>{if(!g(e))throw Error("cases must be an array");if(0===e.length)throw Error("there must be at least one case");let t=[],r={};return W(e,(o,a)=>{let n=ep(o);if(1!==n.length)throw Error("one and only one name per case");let l=n[0],i=o[l];if(void 0!==r[l])throw Error("duplicate key detected:"+l);if("cata"===l)throw Error("cannot have a case named cata (sorry)");if(!g(i))throw Error("case arguments must be an array");t.push(l),r[l]=(...r)=>{let o=r.length;if(o!==i.length)throw Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,r)},match:e=>{let o=ep(e);if(t.length!==o.length)throw Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!eo(t,e=>j(o,e)))throw Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:l,params:r})}}}}),r};na([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);let nn=e=>{let t=[],r=[];return W(e,e=>{e.fold(e=>{t.push(e)},e=>{r.push(e)})}),{errors:t,values:r}},nl=(e,t)=>{let r={};return ef(e,(e,o)=>{j(t,o)||(r[o]=e)}),r},ni=(e,t)=>({[e]:t}),ns=e=>{let t={};return W(e,e=>{t[e.key]=e.value}),t},nc=(e,t)=>nl(e,t),nd=(e,t)=>ni(e,t),nm=e=>ns(e),nu=(e,t)=>0===e.length?oH.value(t):oH.value(oG(t,oK.apply(void 0,e))),ng=e=>oH.error(et(e)),np=(e,t)=>{let r=nn(e);return r.errors.length>0?ng(r.errors):nu(r.values,t)},nh=e=>v(e)?e:M,nf=(e,t,r)=>{let o=e.dom,a=nh(r);for(;o.parentNode;){o=o.parentNode;let e=eY.fromDom(o),r=t(e);if(r.isSome())return r;if(a(e))break}return B.none()},ny=(e,t,r)=>{let o=t(e),a=nh(r);return o.orThunk(()=>a(e)?B.none():nf(e,t,a))},nb=(e,t)=>ts(e.element,t.event.target),nv={can:R,abort:M,run:_},nk=e=>{if(!eT(e,"can")&&!eT(e,"abort")&&!eT(e,"run"))throw Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...nv,...e}},nw=(e,t)=>(...r)=>X(e,(e,o)=>e&&t(o).apply(void 0,r),!0),n_=(e,t)=>(...r)=>X(e,(e,o)=>e||t(o).apply(void 0,r),!1),nx=e=>v(e)?{can:R,abort:M,run:e}:e,nC=e=>{let t=nw(e,e=>e.can);return{can:t,abort:n_(e,e=>e.abort),run:(...t)=>{W(e,e=>{e.run.apply(void 0,t)})}}},nS=z("touchstart"),nz=z("touchmove"),nE=z("touchend"),nT=z("touchcancel"),nA=z("mousedown"),nO=z("mousemove"),nD=z("mouseout"),nN=z("mouseup"),nM=z("mouseover"),nR=z("focusin"),nB=z("focusout"),nF=z("keydown"),nL=z("keyup"),nI=z("input"),nP=z("change"),nH=z("click"),nj=z("transitioncancel"),nV=z("transitionend"),nU=z("transitionstart"),nZ=z("selectstart"),nq=e=>z("alloy."+e),nW={tap:nq("tap")},n$=nq("focus"),nG=nq("blur.post"),nK=nq("paste.post"),nY=nq("receive"),nX=nq("execute"),nJ=nq("focus.item"),nQ=nW.tap,n1=nq("longpress"),n0=nq("sandbox.close"),n2=nq("typeahead.cancel"),n4=nq("system.init"),n3=nq("system.touchmove"),n5=nq("system.touchend"),n6=nq("system.scroll"),n8=nq("system.resize"),n7=nq("system.attached"),n9=nq("system.detached"),le=nq("system.dismissRequested"),lt=nq("system.repositionRequested"),lr=nq("focusmanager.shifted"),lo=nq("slotcontainer.visibility"),la=nq("system.external.element.scroll"),ln=nq("change.tab"),ll=nq("dismiss.tab"),li=nq("highlight"),ls=nq("dehighlight"),lc=(e,t)=>{lg(e,e.element,t,{})},ld=(e,t,r)=>{lg(e,e.element,t,r)},lm=e=>{lc(e,nX())},lu=(e,t,r)=>{lg(e,t,r,{})},lg=(e,t,r,o)=>{let a={target:t,...o};e.getSystem().triggerEvent(r,t,a)},lp=(e,t,r,o)=>{let a={...o,target:t};e.getSystem().triggerEvent(r,t,a)},lh=(e,t,r,o)=>{e.getSystem().triggerEvent(r,t,o.event)},lf=e=>nm(e),ly=(e,t)=>({key:e,value:nk({abort:t})}),lb=e=>({key:e,value:nk({run:(e,t)=>{t.event.prevent()}})}),lv=(e,t)=>({key:e,value:nk({run:t})}),lk=(e,t,r)=>({key:e,value:nk({run:(e,o)=>{t.apply(void 0,[e,o].concat(r))}})}),lw=e=>t=>({key:e,value:nk({run:(e,r)=>{nb(e,r)&&t(e,r)}})}),l_=(e,t)=>lv(e,(r,o)=>{r.getSystem().getByUid(t).each(t=>{lh(t,t.element,e,o)})}),lx=(e,t,r)=>l_(e,t.partUids[r]),lC=(e,t)=>lv(e,(e,r)=>{let o=r.event,a=e.getSystem().getByDom(o.target).getOrThunk(()=>ny(o.target,t=>e.getSystem().getByDom(t).toOptional(),M).getOr(e));t(e,a,r)}),lS=e=>lv(e,(e,t)=>{t.cut()}),lz=e=>lv(e,(e,t)=>{t.stop()}),lE=(e,t)=>lw(e)(t),lT=lw(n7()),lA=lw(n9()),lO=lw(n4()),lD=(t=nX(),e=>lv(t,e)),lN=(e,t)=>{let r=(t||document).createElement("div");return r.innerHTML=e,tk(eY.fromDom(r))},lM=e=>e.dom.innerHTML,lR=(e,t)=>{let r=td(e).dom,o=eY.fromDom(r.createDocumentFragment());r4(o,lN(t,r)),r3(e),r0(e,o)},lB=e=>{let t=eY.fromTag("div");return r0(t,eY.fromDom(e.dom.cloneNode(!0))),lM(t)},lF=(e,t)=>eY.fromDom(e.dom.cloneNode(t)),lL=e=>lF(e,!1),lI=e=>lF(e,!0),lP=e=>tS(e)?"#shadow-root":lB(lL(e)),lH=e=>lP(e),lj=(e,t,r)=>ts(t,e.element)&&!ts(t,r);var lV=Object.freeze({__proto__:null,events:lf([{key:n$(),value:nk({can:(e,t)=>{let r=t.event,o=r.originator,a=r.target;return!lj(e,o,a)||(console.warn(n$()+" did not get interpreted by the desired target. \nOriginator: "+lH(o)+"\nTarget: "+lH(a)+"\nCheck the "+n$()+" event handlers"),!1)}})}])});let lU=0,lZ=e=>{let t=new Date().getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++lU+String(t)},lq=z("alloy-id-"),lW=z("data-alloy-id"),l$=lq(),lG=lW(),lK=(e,t)=>{let r=lZ(l$+e);return lY(t,r),r},lY=(e,t)=>{Object.defineProperty(e.dom,lG,{value:t,writable:!0})},lX=e=>{let t=e9(e)?e.dom[lG]:null;return B.from(t)},lJ=e=>lZ(e),lQ=e=>{let t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+lH(e().element)+" is not in context.":""),r=e=>()=>{throw Error(t(e))},o=e=>()=>{console.warn(t(e))};return{debugInfo:z("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:r("build"),buildOrPatch:r("buildOrPatch"),addToWorld:r("addToWorld"),removeFromWorld:r("removeFromWorld"),addToGui:r("addToGui"),removeFromGui:r("removeFromGui"),getByUid:r("getByUid"),getByDom:r("getByDom"),isConnected:M}},l1=lQ(),l0=(e,t,r)=>{let o=r.toString(),a=o.indexOf(")")+1,n=o.indexOf("("),l=o.substring(n+1,a-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:l2(l.slice(0,1).concat(l.slice(3)))}),e},l2=e=>q(e,e=>eZ(e,"/*")?e.substring(0,e.length-2):e),l4=(e,t)=>{let r=e.toString(),o=r.indexOf(")")+1,a=r.indexOf("("),n=r.substring(a+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:l2(n)}),e},l3=(e,t)=>{let r=t.toString(),o=r.indexOf(")")+1,a=r.indexOf("("),n=r.substring(a+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:l2(n.slice(1))}),e},l5=lZ("alloy-premade"),l6=e=>(Object.defineProperty(e.element.dom,l5,{value:e.uid,writable:!0}),nd(l5,e)),l8=e=>eE(e.dom,l5),l7=e=>ez(e,l5),l9=e=>l3((t,...r)=>e(t.getApis(),t,...r),e),ie={init:()=>it({readState:z("No State required")})},it=e=>e,ir=(e,t)=>{let r=aD("component.behaviours",au(q(t,e=>a2(e.name(),[aP("config"),a3("state",ie)]))),e.behaviours).fold(t=>{throw Error(aR(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))},E);return{list:t,data:ey(r,e=>z(e.map(e=>({config:e.config,state:e.state.init(e.config)}))))}},io=e=>e.list,ia=e=>e.data,il=(e,t)=>{let r={};return ef(e,(e,o)=>{ef(e,(e,a)=>{let n=ez(r,a).getOr([]);r[a]=n.concat([t(o,e)])})}),r},ii=e=>({classes:f(e.classes)?[]:e.classes,attributes:f(e.attributes)?{}:e.attributes,styles:f(e.styles)?{}:e.styles}),is=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)}),ic=(e,t,r,o)=>{let a={...t};W(r,t=>{a[t.name()]=t.exhibit(e,o)});let n=il(a,(e,t)=>({name:e,modification:t})),l=e=>Y(e,(e,t)=>({...t.modification,...e}),{}),i=Y(n.classes,(e,t)=>t.modification.concat(e),[]);return ii({classes:i,attributes:l(n.attributes),styles:l(n.styles)})},id=(e,t,r,o)=>{try{let a=es(r,(r,a)=>{let n=r[t],l=a[t],i=o.indexOf(n),s=o.indexOf(l);if(-1===i)throw Error("The ordering for "+e+" does not have an entry for "+n+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===s)throw Error("The ordering for "+e+" does not have an entry for "+l+".\nOrder specified: "+JSON.stringify(o,null,2));return i<s?-1:+(s<i)});return oH.value(a)}catch(e){return oH.error([e])}},im=(e,t)=>({handler:e,purpose:t}),iu=(e,t)=>({cHandler:e,purpose:t}),ig=(e,t)=>iu(A.apply(void 0,[e.handler].concat(t)),e.purpose),ip=e=>e.cHandler,ih=(e,t)=>({name:e,handler:t}),iy=(e,t)=>{let r={};return W(e,e=>{r[e.name()]=e.handlers(t)}),r},ib=(e,t,r)=>il({...r,...iy(t,e)},ih),iv=(e,t,r,o)=>ix(ib(e,r,o),t),ik=e=>{let t=nx(e);return(e,r,...o)=>{let a=[e,r].concat(o);t.abort.apply(void 0,a)?r.stop():t.can.apply(void 0,a)&&t.run.apply(void 0,a)}},iw=(e,t)=>oH.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(q(t,e=>e.name),null,2)]),i_=(e,t,r)=>{let o=t[r];return o?id("Event: "+r,"name",e,o).map(e=>nC(q(e,e=>e.handler))):iw(r,e)},ix=(e,t)=>np(ex(e,(e,r)=>(1===e.length?oH.value(e[0].handler):i_(e,t,r)).map(o=>{let a=ik(o),n=e.length>1?K(t[r],t=>V(e,e=>e.name===t)).join(" > "):e[0].name;return nd(r,im(a,n))})),{}),iC="alloy.base.behaviour",iS=au([oq("dom","dom",oY(),au([aP("tag"),a3("styles",{}),a3("classes",[]),a3("attributes",{}),aK("value"),aK("innerHtml")])),aP("components"),aP("uid"),a3("events",{}),a3("apis",{}),oq("eventOrder","eventOrder",o1(z({[nX()]:["disabling",iC,"toggling","typeaheadevents"],[n$()]:[iC,"focusing","keying"],[n4()]:[iC,"disabling","toggling","representing"],[nI()]:[iC,"representing","streaming","invalidating"],[n9()]:[iC,"representing","item-events","tooltipping"],[nA()]:["focusing",iC,"item-type-events"],[nS()]:["focusing",iC,"item-type-events"],[nM()]:["item-type-events","tooltipping"],[nY()]:["receiving","reflecting","tooltipping"]})),ab()),aK("domModification")]),iz=e=>aD("custom.definition",iS,e),iE=e=>({...e.dom,uid:e.uid,domChildren:q(e.components,e=>e.element)}),iT=e=>e.domModification.fold(()=>ii({}),ii),iA=e=>e.events,iO=(e,t)=>{let r=tj(e,t);return void 0===r||""===r?[]:r.split(" ")},iD=(e,t,r)=>{let o=iO(e,t).concat([r]);return tP(e,t,o.join(" ")),!0},iN=(e,t,r)=>{let o=K(iO(e,t),e=>e!==r);return o.length>0?tP(e,t,o.join(" ")):tZ(e,t),!1},iM=e=>void 0!==e.dom.classList,iR=e=>iO(e,"class"),iB=(e,t)=>iD(e,"class",t),iF=(e,t)=>iN(e,"class",t),iL=(e,t)=>j(iR(e),t)?iF(e,t):iB(e,t),iI=(e,t)=>{iM(e)?e.dom.classList.add(t):iB(e,t)},iP=e=>{0===(iM(e)?e.dom.classList:iR(e)).length&&tZ(e,"class")},iH=(e,t)=>{iM(e)?e.dom.classList.remove(t):iF(e,t),iP(e)},ij=(e,t)=>{let r=iM(e)?e.dom.classList.toggle(t):iL(e,t);return iP(e),r},iV=(e,t)=>iM(e)&&e.dom.classList.contains(t),iU=(e,t)=>{W(t,t=>{iI(e,t)})},iZ=(e,t)=>{W(t,t=>{iH(e,t)})},iq=(e,t)=>{W(t,t=>{ij(e,t)})},iW=(e,t)=>eo(t,t=>iV(e,t)),i$=e=>{let t=e.dom.classList,r=Array(t.length);for(let e=0;e<t.length;e++){let o=t.item(e);null!==o&&(r[e]=o)}return r},iG=e=>iM(e)?i$(e):iR(e),iK=e=>e.dom.value,iY=(e,t)=>{if(void 0===t)throw Error("Value.set was undefined");e.dom.value=t},iX=(e,t,r)=>tw(e,t).map(e=>{if(!r.exists(t=>!ts(t,e)))return e;{let t=r.map(e5).getOr("span"),o=eY.fromTag(t);return rJ(e,o),o}}),iJ=(e,t,r)=>{r.fold(()=>r0(e,t),e=>{ts(e,t)||(rJ(e,t),r5(e))})},iQ=(e,t,r)=>{let o=q(t,r);return W(tk(e).slice(o.length),r5),o},i1=(e,t,r,o)=>{let a=tw(e,t),n=o(r,a),l=iX(e,t,a);return iJ(e,n.element,l),n},i0=(e,t,r)=>iQ(e,t,(t,o)=>i1(e,o,t,r)),i2=(e,t)=>iQ(e,t,(t,r)=>{let o=tw(e,r);return iJ(e,t,o),t}),i4=(e,t)=>{let r=ep(e);return{toRemove:en(ep(t),r),toSet:ew(e,(e,r)=>!eE(t,r)||e!==t[r]).t}},i3=(e,t)=>{let{class:r,style:o,...a}=tq(t),{toSet:n,toRemove:l}=i4(e.attributes,a),i=t1(t),{toSet:s,toRemove:c}=i4(e.styles,i),d=iG(t),m=en(d,e.classes),u=en(e.classes,d);W(l,e=>tZ(t,e)),tH(t,n),iU(t,u),iZ(t,m),W(c,e=>t2(t,e)),tK(t,s),e.innerHtml.fold(()=>{i2(t,e.domChildren)},e=>{lR(t,e)});let g=e.value.getOrUndefined();return g!==iK(t)&&iY(t,null!=g?g:""),t},i5=e=>{let t=eY.fromTag(e.tag);return tH(t,e.attributes),iU(t,e.classes),tK(t,e.styles),e.innerHtml.each(e=>lR(t,e)),r4(t,e.domChildren),e.value.each(e=>{iY(t,e)}),t},i6=(e,t)=>{try{let r=i3(e,t);return B.some(r)}catch(e){return B.none()}},i8=e=>e.innerHtml.isSome()&&e.domChildren.length>0,i7=(e,t)=>{let r=t.filter(t=>e5(t)===e.tag&&!i8(e)&&!l8(t)).bind(t=>i6(e,t)).getOrThunk(()=>i5(e));return lY(r,e.uid),r},i9=e=>{let t=ez(e,"behaviours").getOr({});return er(ep(t),e=>{let r=t[e];return b(r)?[r.me]:[]})},se=(e,t)=>ir(e,t),st=e=>{let t=i9(e);return se(e,t)},sr=(e,t,r)=>{let o=iE(e),a=iT(e),n=t.length>0?ic(r,{"alloy.base.modification":a},t,o):a;return is(o,n)},so=(e,t,r)=>{let o={"alloy.base.behaviour":iA(e)};return iv(r,e.eventOrder,t,o).getOrDie()},sa=(e,t)=>{let r=()=>m,o=no(l1),a=aN(iz(e)),n=st(e),l=io(n),i=ia(n),s=i7(sr(a,l,i),t),c=so(a,l,i),d=no(a.components),m={uid:e.uid,getSystem:o.get,config:t=>(v(i[t.name()])?i[t.name()]:()=>{throw Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})(),hasConfigured:e=>v(i[e.name()]),spec:e,readState:e=>i[e]().map(e=>e.state.readState()).getOr("not enabled"),getApis:()=>a.apis,connect:e=>{o.set(e)},disconnect:()=>{o.set(lQ(r))},element:s,syncComponents:()=>{let e=er(tk(s),e=>o.get().getByDom(e).fold(()=>[],ei));d.set(e)},components:d.get,events:c};return m},sn=(e,t)=>{let r=ez(e,"components").getOr([]);return t.fold(()=>q(r,sm),e=>q(r,(t,r)=>sd(t,tw(e,r))))},sl=(e,t)=>{let{events:r,...o}=E(e),a=sn(o,t),n={...o,events:{...lV,...r},components:a};return oH.value(sa(n,t))},si=e=>ss({element:eY.fromText(e)}),ss=e=>{let t=aM("external.component",am([aP("element"),aK("uid")]),e),r=no(lQ()),o=t.uid.getOrThunk(()=>lJ("external"));lY(t.element,o);let a={uid:o,getSystem:r.get,config:B.none,hasConfigured:M,connect:e=>{r.set(e)},disconnect:()=>{r.set(lQ(()=>a))},getApis:()=>({}),element:t.element,spec:e,readState:z("No state"),syncComponents:_,components:z([]),events:{}};return l6(a)},sc=e=>eE(e,"uid"),sd=(e,t)=>l7(e).getOrThunk(()=>sl(sc(e)?e:{uid:lJ(""),...e},t).getOrDie()),sm=e=>sd(e,B.none());var su=(e,t,r,o,a)=>e(r,o)?B.some(r):v(a)&&a(r)?B.none():t(r,o,a);let sg=(e,t,r)=>{let o=e.dom,a=v(r)?r:M;for(;o.parentNode;){o=o.parentNode;let e=eY.fromDom(o);if(t(e))return B.some(e);if(a(e))break}return B.none()},sp=(e,t,r)=>su((e,t)=>t(e),sg,e,t,r),sh=(e,t)=>Q(e.dom.childNodes,e=>t(eY.fromDom(e))).map(eY.fromDom),sf=(e,t)=>{let r=e=>{for(let o=0;o<e.childNodes.length;o++){let a=eY.fromDom(e.childNodes[o]);if(t(a))return B.some(a);let n=r(e.childNodes[o]);if(n.isSome())return n}return B.none()};return r(e.dom)},sy=(e,t,r)=>sp(e,t,r).isSome(),sb=(e,t,r)=>sg(e,e=>ta(e,t),r),sv=(e,t)=>sh(e,e=>ta(e,t)),sk=(e,t)=>ti(t,e),sw=(e,t,r)=>su((e,t)=>ta(e,t),sb,e,t,r),s_="aria-controls",sx=e=>sp(e,e=>{if(!e9(e))return!1;let t=tj(e,"id");return void 0!==t&&t.indexOf(s_)>-1}).bind(e=>{let t=tj(e,"id");return sk(tT(e),`[${s_}="${t}"]`)}),sC=()=>{let e=lZ(s_);return{id:e,link:t=>{tP(t,s_,e)},unlink:e=>{tZ(e,s_)}}},sS=(e,t)=>sx(t).exists(t=>sz(e,t)),sz=(e,t)=>sy(t,t=>ts(t,e.element),M)||sS(e,t),sE="unknown";(ol=oy||(oy={}))[ol.STOP=0]="STOP",ol[ol.NORMAL=1]="NORMAL",ol[ol.LOGGING=2]="LOGGING";let sT=no({}),sA=(e,t)=>{let r=[],o=new Date().getTime();return{logEventCut:(e,t,o)=>{r.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{r.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{r.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{r.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{r.push({outcome:"response",purpose:o,target:t})},write:()=>{let a=new Date().getTime();j(["mousemove","mouseover","mouseout",n4()],e)||console.log(e,{event:e,time:a-o,target:t.dom,sequence:q(r,e=>j(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+lH(e.target)+")":e.outcome)})}}},sO=(e,t,r)=>{switch(ez(sT.get(),e).orThunk(()=>eg(ep(sT.get()),t=>e.indexOf(t)>-1?B.some(sT.get()[t]):B.none())).getOr(oy.NORMAL)){case oy.NORMAL:return r(sR());case oy.LOGGING:{let o=sA(e,t),a=r(o);return o.write(),a}case oy.STOP:return!0}},sD=["alloy/data/Fields","alloy/debugging/Debugging"],sN=()=>{let e=Error();return void 0!==e.stack?Q(e.stack.split("\n"),e=>e.indexOf("alloy")>0&&!V(sD,t=>e.indexOf(t)>-1)).getOr(sE):sE},sM=(e,t,r)=>sO(e,t,r),sR=z({logEventCut:_,logEventStopped:_,logNoParent:_,logEventNoHandlers:_,logEventResponse:_,write:_}),sB=z([aP("menu"),aP("selectedMenu")]),sF=z([aP("item"),aP("selectedItem")]);z(au(sF().concat(sB())));let sL=z(au(sF())),sI=aW("initSize",[aP("numColumns"),aP("numRows")]),sP=()=>aW("markers",[aP("backgroundMenu")].concat(sB()).concat(sF())),sH=e=>aW("markers",q(e,aP)),sj=(e,t,r)=>(sN(),oq(t,t,r,aT(e=>oH.value((...t)=>e.apply(void 0,t))))),sV=e=>sj("onHandler",e,oJ(_)),sU=e=>sj("onKeyboardHandler",e,oJ(B.none)),sZ=e=>sj("onHandler",e,oY()),sq=e=>sj("onKeyboardHandler",e,oY()),sW=(e,t)=>aL(e,z(t)),s$=e=>aL(e,E),sG=z(sI),sK=(e,t,r,o,a,n,l,i=!1)=>({x:e,y:t,bubble:r,direction:o,placement:a,restriction:n,label:`${l}-${a}`,alwaysFit:i}),sY=na([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),sX=(e,t,r,o,a,n,l,i,s)=>e.fold(t,r,o,a,n,l,i,s),sJ=(e,t,r,o)=>e.fold(t,t,o,o,t,o,r,r),sQ=(e,t,r,o)=>e.fold(t,o,t,o,r,r,t,o),s1=sY.southeast,s0=sY.southwest,s2=sY.northeast,s4=sY.northwest,s3=sY.south,s5=sY.north,s6=sY.east,s8=sY.west,s7=(e,t,r,o)=>{let a=e+t;return a>o?r:a<r?o:a},s9=(e,t,r)=>Math.min(Math.max(e,t),r),ce=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},ct=(e,t)=>el(["left","right","top","bottom"],r=>ez(t,r).map(t=>ce(e,t))),cr=(e,t,r)=>{let o=(o,a)=>t[o].map(t=>{let n="top"===o||"bottom"===o,l=n?r.top:r.left,i=("left"===o||"top"===o?Math.max:Math.min)(t,a)+l;return n?s9(i,e.y,e.bottom):s9(i,e.x,e.right)}).getOr(a),a=o("left",e.x),n=o("top",e.y);return oD(a,n,o("right",e.right)-a,o("bottom",e.bottom)-n)},co="layout",ca=e=>e.x,cn=(e,t)=>e.x+e.width/2-t.width/2,cl=(e,t)=>e.x+e.width-t.width,ci=(e,t)=>e.y-t.height,cs=e=>e.y+e.height,cc=(e,t)=>e.y+e.height/2-t.height/2,cd=e=>e.x+e.width,cm=(e,t)=>e.x-t.width,cu=(e,t,r)=>sK(ca(e),cs(e),r.southeast(),s1(),"southeast",ct(e,{left:1,top:3}),co),cg=(e,t,r)=>sK(cl(e,t),cs(e),r.southwest(),s0(),"southwest",ct(e,{right:0,top:3}),co),cp=(e,t,r)=>sK(ca(e),ci(e,t),r.northeast(),s2(),"northeast",ct(e,{left:1,bottom:2}),co),ch=(e,t,r)=>sK(cl(e,t),ci(e,t),r.northwest(),s4(),"northwest",ct(e,{right:0,bottom:2}),co),cf=(e,t,r)=>sK(cn(e,t),ci(e,t),r.north(),s5(),"north",ct(e,{bottom:2}),co),cy=(e,t,r)=>sK(cn(e,t),cs(e),r.south(),s3(),"south",ct(e,{top:3}),co),cb=(e,t,r)=>sK(cd(e),cc(e,t),r.east(),s6(),"east",ct(e,{left:0}),co),cv=(e,t,r)=>sK(cm(e,t),cc(e,t),r.west(),s8(),"west",ct(e,{right:1}),co),ck=()=>[cu,cg,cp,ch,cy,cf,cb,cv],cw=()=>[cg,cu,ch,cp,cy,cf,cb,cv],c_=()=>[cp,ch,cu,cg,cf,cy],cx=()=>[ch,cp,cg,cu,cf,cy],cC=()=>[cu,cg,cp,ch,cy,cf],cS=()=>[cg,cu,ch,cp,cy,cf],cz=(e,t)=>t.universal?e:K(e,e=>j(t.channels,e));var cE=Object.freeze({__proto__:null,events:e=>lf([lv(nY(),(t,r)=>{let o=e.channels;W(cz(ep(o),r),e=>{let a=o[e],n=a.schema,l=aM("channel["+e+"] data\nReceiver: "+lH(t.element),n,r.data);a.onReceive(t,l)})})])}),cT=[aH("channels",aA(oH.value,am([sZ("onReceive"),a3("schema",ab())])))];let cA=(e,t,r)=>lD(o=>{r(o,e,t)}),cO=(e,t,r)=>lO((o,a)=>{r(o,e,t)}),cD=(e,t,r,o,a,n)=>cB(am(e),a2(t,[a4("config",e)]),t,r,o,a,n),cN=(e,t,r,o,a,n)=>{let l=a2(t,[aY("config",e)]);return cB(e,l,t,r,o,a,n)},cM=(e,t,r)=>l0((o,...a)=>{let n=[o].concat(a);return o.config({name:z(e)}).fold(()=>{throw Error("We could not find any behaviour configuration for: "+e+". Using API: "+r)},e=>{let r=Array.prototype.slice.call(n,1);return t.apply(void 0,[o,e.config,e.state].concat(r))})},r,t),cR=e=>({key:e,value:void 0}),cB=(e,t,r,o,a,n,l)=>{let i=e=>eT(e,r)?e[r]():B.none(),s=ey(a,(e,t)=>cM(r,e,t)),c={...ey(n,(e,t)=>l4(e,t)),...s,revoke:A(cR,r),config:t=>{let o=aM(r+"-config",e,t);return{key:r,value:{config:o,me:c,configAsRaw:rc(()=>aM(r+"-config",e,t)),initialConfig:t,state:l}}},schema:z(t),exhibit:(e,t)=>eM(i(e),ez(o,"exhibit"),(e,r)=>r(t,e.config,e.state)).getOrThunk(()=>ii({})),name:z(r),handlers:e=>i(e).map(e=>ez(o,"events").getOr(()=>({}))(e.config,e.state)).getOr({})};return c},cF=e=>nm(e),cL=am([aP("fields"),aP("name"),a3("active",{}),a3("apis",{}),a3("state",ie),a3("extra",{})]),cI=e=>{let t=aM("Creating behaviour: "+e.name,cL,e);return cD(t.fields,t.name,t.active,t.apis,t.extra,t.state)},cP=am([aP("branchKey"),aP("branches"),aP("name"),a3("active",{}),a3("apis",{}),a3("state",ie),a3("extra",{})]),cH=e=>{let t=aM("Creating behaviour: "+e.name,cP,e);return cN(aB(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},cj=z(void 0),cV=cI({fields:cT,name:"receiving",active:cE});var cU=Object.freeze({__proto__:null,exhibit:(e,t)=>ii({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});let cZ=(e,t=!1)=>e.dom.focus({preventScroll:t}),cq=e=>e.dom.blur(),cW=e=>{let t=tT(e).dom;return e.dom===t.activeElement},c$=(e=ot())=>B.from(e.dom.activeElement).map(eY.fromDom),cG=e=>c$(tT(e)).filter(t=>e.dom.contains(t.dom)),cK=(e,t)=>{let r=tT(t),o=c$(r).bind(e=>{let r=t=>ts(e,t);return r(t)?B.some(t):sf(t,r)}),a=e(t);return o.each(e=>{c$(r).filter(t=>ts(t,e)).fold(()=>{cZ(e)},_)}),a},cY=(e,t,r,o,a)=>{let n=e=>e+"px";return{position:e,left:t.map(n),top:r.map(n),right:o.map(n),bottom:a.map(n)}},cX=e=>({...e,position:B.some(e.position)}),cJ=(e,t)=>{tY(e,cX(t))},cQ=na([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),c1=(e,t,r,o,a,n)=>{let l=t.rect,i=l.x-r,s=l.y-o,c=l.width,d=l.height,m=B.some(i),u=B.some(s),g=B.some(a-(i+c)),p=B.some(n-(s+d)),h=B.none();return sX(t.direction,()=>cY(e,m,u,h,h),()=>cY(e,h,u,g,h),()=>cY(e,m,h,h,p),()=>cY(e,h,h,g,p),()=>cY(e,m,u,h,h),()=>cY(e,m,h,h,p),()=>cY(e,m,u,h,h),()=>cY(e,h,u,g,h))},c0=(e,t)=>e.fold(()=>{let e=t.rect;return cY("absolute",B.some(e.x),B.some(e.y),B.none(),B.none())},(e,r,o,a)=>c1("absolute",t,e,r,o,a),(e,r,o,a)=>c1("fixed",t,e,r,o,a)),c2=(e,t)=>{let r=A(oT,t),o=e.fold(r,r,()=>{let e=r6();return oT(t).translate(-e.left,-e.top)}),a=ri(t),n=t8(t);return oD(o.left,o.top,a,n)},c4=(e,t)=>t.fold(()=>e.fold(oF,oF,oD),t=>e.fold(z(t),z(t),()=>{let r=c3(e,t.x,t.y);return oD(r.left,r.top,t.width,t.height)})),c3=(e,t,r)=>{let o=t9(t,r);return e.fold(z(o),z(o),()=>{let e=r6();return o.translate(-e.left,-e.top)})},c5=(e,t,r,o)=>e.fold(t,r,o);cQ.none;let c6=cQ.relative,c8=cQ.fixed,c7=(e,t)=>({anchorBox:e,origin:t}),c9=(e,t)=>c7(e,t),de="data-alloy-placement",dt=(e,t)=>{tP(e,de,t)},dr=e=>tV(e,de),da=e=>tZ(e,de),dn=na([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),dl=(e,t)=>{let{x:r,y:o,right:a,bottom:n}=t,{x:l,y:i,right:s,bottom:c,width:d,height:m}=e,u=Math.min(d,l>=r?a-l:s-r),g=Math.min(m,i>=o?n-i:c-o);return{originInBounds:l>=r&&l<=a&&i>=o&&i<=n,sizeInBounds:s<=a&&s>=r&&c<=n&&c>=o,visibleW:u,visibleH:g}},di=(e,t)=>{let{x:r,y:o,right:a,bottom:n}=t,{x:l,y:i,width:s,height:c}=e,d=Math.max(r,a-s),m=Math.max(o,n-c),u=s9(l,r,d),g=s9(i,o,m),p=Math.min(u+s,a)-u,h=Math.min(g+c,n)-g;return oD(u,g,p,h)},ds=(e,t,r)=>{let o=z(t.bottom-r.y),a=z(r.bottom-t.y),n=sJ(e,a,a,o),l=z(t.right-r.x),i=z(r.right-t.x);return{maxWidth:sQ(e,i,i,l),maxHeight:n}},dc=(e,t,r,o)=>{let a=e.bubble,n=a.offset,l=cr(o,e.restriction,n),i=e.x+n.left,s=e.y+n.top,c=oD(i,s,t,r),{originInBounds:d,sizeInBounds:m,visibleW:u,visibleH:g}=dl(c,l),p=d&&m,h=p?c:di(c,l),f=h.width>0&&h.height>0,{maxWidth:y,maxHeight:b}=ds(e.direction,h,o),v={rect:h,maxHeight:b,maxWidth:y,direction:e.direction,placement:e.placement,classes:{on:a.classesOn,off:a.classesOff},layout:e.label,testY:s};return p||e.alwaysFit?dn.fit(v):dn.nofit(v,u,g,f)},dd=(e,t,r,o,a,n)=>{let l=o.width,i=o.height,s=(t,s,c,d,m)=>{let u=dc(t(r,o,a,e,n),l,i,n);return u.fold(z(u),(e,t,r,o)=>(m===o?r>d||t>c:!m&&o)?u:dn.nofit(s,c,d,m))};return X(t,(e,t)=>{let r=A(s,t);return e.fold(z(e),r)},dn.nofit({rect:r,maxHeight:o.height,maxWidth:o.width,direction:s1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:r.y},-1,-1,!1)).fold(E,E)},dm=e=>{let t=no(B.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(B.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(B.some(e))}}},du=()=>dm(e=>e.destroy()),dg=()=>dm(e=>e.unbind()),dp=()=>{let e=dm(_);return{...e,on:t=>e.get().each(t)}},dh=(e,t,r)=>rK(e,t,R,r),df=(e,t,r)=>rY(e,t,R,r),dy=["top","bottom","right","left"],db="data-alloy-transition-timer",dv=(e,t)=>iW(e,t.classes),dk=(e,t,r)=>r.exists(r=>{let o=e.mode;return"all"===o||r[o]!==t[o]}),dw=(e,t)=>{let r=e=>parseFloat(e).toFixed(3);return eC(t,(t,o)=>!eO(e[o].map(r),t.map(r))).isSome()},d_=e=>{let t=t=>K(tX(e,t).split(/\s*,\s*/),eW),r=e=>{if(!(d(e)&&/^[\d.]+/.test(e)))return 0;{let t=parseFloat(e);return eZ(e,"ms")?t:1e3*t}},o=t("transition-delay");return X(t("transition-duration"),(e,t,a)=>Math.max(e,r(o[a])+r(t)),0)},dx=(e,t)=>{let r,o=dg(),a=dg(),n=t=>{var r;let o=null!=(r=t.raw.pseudoElement)?r:"";return ts(t.target,e)&&e$(o)&&j(dy,t.raw.propertyName)},l=l=>{if(y(l)||n(l)){o.clear(),a.clear();let n=null==l?void 0:l.raw.type;(y(n)||n===nV())&&(clearTimeout(r),tZ(e,db),iZ(e,t.classes))}},i=dh(e,nU(),t=>{n(t)&&(i.unbind(),o.set(dh(e,nV(),l)),a.set(dh(e,nj(),l)))}),s=d_(e);requestAnimationFrame(()=>{tP(e,db,r=setTimeout(l,s+17))})},dC=(e,t)=>{iU(e,t.classes),tV(e,db).each(t=>{clearTimeout(parseInt(t,10)),tZ(e,db)}),dx(e,t)},dS=(e,t,r,o,a,n)=>{let l=dk(o,a,n);if(l||dv(e,o)){tG(e,"position",r.position);let n=c2(t,e),i=c0(t,{...a,rect:n}),s=el(dy,e=>i[e]);dw(r,s)&&(tY(e,s),l&&dC(e,o),t4(e))}else iZ(e,o.classes)},dz=e=>({width:ri(e),height:t8(e)}),dE=(e,t,r,o)=>{t2(t,"max-height"),t2(t,"max-width");let a=dz(t);return dd(t,o.preference,e,a,r,o.bounds)},dT=(e,t)=>{let r=t.classes;iZ(e,r.off),iU(e,r.on)},dA=(e,t,r)=>{(0,r.maxHeightFunction)(e,t.maxHeight)},dO=(e,t,r)=>{(0,r.maxWidthFunction)(e,t.maxWidth)},dD=(e,t,r)=>{let o=c0(r.origin,t);r.transition.each(a=>{dS(e,r.origin,o,a,t,r.lastPlacement)}),cJ(e,o)},dN=(e,t)=>{dt(e,t.placement)},dM=(e,t)=>{t7(e,Math.floor(t))},dR=z((e,t)=>{dM(e,t),tK(e,{"overflow-x":"hidden","overflow-y":"auto"})}),dB=z((e,t)=>{dM(e,t)}),dF=(e,t,r)=>void 0===e[t]?r:e[t],dL=(e,t,r,o,a,n,l,i)=>{let s=dF(l,"maxHeightFunction",dR()),c=dF(l,"maxWidthFunction",_),d=e.anchorBox,m=e.origin;return dI(d,t,r,{bounds:c4(m,n),origin:m,preference:o,maxHeightFunction:s,maxWidthFunction:c,lastPlacement:a,transition:i})},dI=(e,t,r,o)=>{let a=dE(e,t,r,o);return dD(t,a,o),dN(t,a),dT(t,a),dA(t,a,o),dO(t,a,o),{layout:a.layout,placement:a.placement}},dP=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],dH=(e,t,r,o=1)=>{let a=e*o,n=t*o,l=e=>ez(r,e).getOr([]),i=(e,t,r)=>{let o=en(dP,r);return{offset:t9(e,t),classesOn:er(r,l),classesOff:er(o,l)}};return{southeast:()=>i(-e,t,["top","alignLeft"]),southwest:()=>i(e,t,["top","alignRight"]),south:()=>i(-e/2,t,["top","alignCentre"]),northeast:()=>i(-e,-t,["bottom","alignLeft"]),northwest:()=>i(e,-t,["bottom","alignRight"]),north:()=>i(-e/2,-t,["bottom","alignCentre"]),east:()=>i(e,-t/2,["valignCentre","left"]),west:()=>i(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>i(a,n,["top","alignLeft","inset"]),insetNorthwest:()=>i(-a,n,["top","alignRight","inset"]),insetNorth:()=>i(-a/2,n,["top","alignCentre","inset"]),insetSoutheast:()=>i(a,-n,["bottom","alignLeft","inset"]),insetSouthwest:()=>i(-a,-n,["bottom","alignRight","inset"]),insetSouth:()=>i(-a/2,-n,["bottom","alignCentre","inset"]),insetEast:()=>i(-a,-n/2,["valignCentre","right","inset"]),insetWest:()=>i(a,-n/2,["valignCentre","left","inset"])}},dj=()=>dH(0,0,{}),dV=(e,t)=>r=>"rtl"===dU(r)?t:e,dU=e=>"rtl"===tX(e,"direction")?"rtl":"ltr";(oi=ob||(ob={})).TopToBottom="toptobottom",oi.BottomToTop="bottomtotop";let dZ="data-alloy-vertical-dir",dq=e=>sy(e,e=>e9(e)&&tj(e,"data-alloy-vertical-dir")===ob.BottomToTop),dW=()=>a2("layouts",[aP("onLtr"),aP("onRtl"),aK("onBottomLtr"),aK("onBottomRtl")]),d$=(e,t,r,o,a,n,l)=>{let i=l.map(dq).getOr(!1),s=t.layouts.map(t=>t.onLtr(e)),c=t.layouts.map(t=>t.onRtl(e));return dV(i?t.layouts.bind(t=>t.onBottomLtr.map(t=>t(e))).or(s).getOr(a):s.getOr(r),i?t.layouts.bind(t=>t.onBottomRtl.map(t=>t(e))).or(c).getOr(n):c.getOr(o))(e)};var dG=[aP("hotspot"),aK("bubble"),a3("overrides",{}),dW(),sW("placement",(e,t,r)=>{let o=c2(r,t.hotspot.element),a=d$(e.element,t,cC(),cS(),c_(),cx(),B.some(t.hotspot.element));return B.some(E({anchorBox:o,bubble:t.bubble.getOr(dj()),overrides:t.overrides,layouts:a}))})],dK=[aP("x"),aP("y"),a3("height",0),a3("width",0),a3("bubble",dj()),a3("overrides",{}),dW(),sW("placement",(e,t,r)=>{let o=c3(r,t.x,t.y),a=oD(o.left,o.top,t.width,t.height),n=d$(e.element,t,ck(),cw(),ck(),cw(),B.none());return B.some(E({anchorBox:a,bubble:t.bubble,overrides:t.overrides,layouts:n}))})];let dY=na([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),dX=e=>e.fold(E,(e,t,r)=>e.translate(-t,-r)),dJ=e=>e.fold(E,E),dQ=e=>X(e,(e,t)=>e.translate(t.left,t.top),t9(0,0)),d1=e=>dQ(q(e,dX)),d0=e=>dQ(q(e,dJ)),d2=dY.screen,d4=dY.absolute,d3=(e,t,r)=>{let o=tg(r.root).dom;return B.from(o.frameElement).map(eY.fromDom).filter(t=>ts(td(t),td(e.element))).map(rr)},d5=(e,t,r)=>{let o=r6(td(e.element));return d4(d3(e,t,r).getOr(o),o.left,o.top)},d6=(e,t,r,o)=>{let a=d2(t9(e,t));return B.some(oA(a,r,o))},d8=(e,t,r,o,a)=>e.map(e=>{let n=[t,e.point],l=c5(o,()=>d0(n),()=>d0(n),()=>d1(n)),i=oO(l.left,l.top,e.width,e.height),s=r.showAbove?c_():cC(),c=r.showAbove?cx():cS(),d=d$(a,r,s,c,s,c,B.none());return E({anchorBox:i,bubble:r.bubble.getOr(dj()),overrides:r.overrides,layouts:d})});var d7=[aP("node"),aP("root"),aK("bubble"),dW(),a3("overrides",{}),a3("showAbove",!1),sW("placement",(e,t,r)=>{let o=d5(e,r,t);return t.node.filter(tB).bind(a=>{let n=a.dom.getBoundingClientRect(),l=d6(n.left,n.top,n.width,n.height),i=t.node.getOr(e.element);return d8(l,o,t,r,i)})})];let d9={create:(e,t,r,o)=>({start:e,soffset:t,finish:r,foffset:o})},me=na([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mt=(me.before,me.on,me.after,e=>e.fold(E,E,E)),mr=na([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),mo=mr.domRange,ma={domRange:mo,exact:(mr.relative,mr.exact),exactFromRange:e=>mr.exact(e.start,e.soffset,e.finish,e.foffset),range:d9.create},mn=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,r)=>{e.setStart(t.dom,r)},t=>{e.setStartAfter(t.dom)})},ml=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,r)=>{e.setEnd(t.dom,r)},t=>{e.setEndAfter(t.dom)})},mi=(e,t,r)=>{let o=e.document.createRange();return mn(o,t),ml(o,r),o},ms=(e,t,r,o,a)=>{let n=e.document.createRange();return n.setStart(t.dom,r),n.setEnd(o.dom,a),n},mc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),md=e=>{let t=e.getClientRects(),r=t.length>0?t[0]:e.getBoundingClientRect();return r.width>0||r.height>0?B.some(r).map(mc):B.none()},mm=e=>{let t=e.getBoundingClientRect();return t.width>0||t.height>0?B.some(t).map(mc):B.none()},mu=na([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),mg=(e,t,r)=>t(eY.fromDom(r.startContainer),r.startOffset,eY.fromDom(r.endContainer),r.endOffset),mp=(e,t)=>t.match({domRange:e=>({ltr:z(e),rtl:B.none}),relative:(t,r)=>({ltr:rc(()=>mi(e,t,r)),rtl:rc(()=>B.some(mi(e,r,t)))}),exact:(t,r,o,a)=>({ltr:rc(()=>ms(e,t,r,o,a)),rtl:rc(()=>B.some(ms(e,o,a,t,r)))})}),mh=(e,t)=>{let r=t.ltr();return r.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>mu.rtl(eY.fromDom(e.endContainer),e.endOffset,eY.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>mg(e,mu.ltr,r)):mg(e,mu.ltr,r)},mf=(e,t)=>{let r=mp(e,t);return mh(e,r)},my=(e,t)=>mf(e,t).match({ltr:(t,r,o,a)=>{let n=e.document.createRange();return n.setStart(t.dom,r),n.setEnd(o.dom,a),n},rtl:(t,r,o,a)=>{let n=e.document.createRange();return n.setStart(o.dom,a),n.setEnd(t.dom,r),n}});mu.ltr,mu.rtl;let mb=(e,t,r)=>K(ty(e,r),t),mv=(e,t)=>tl(t,e),mk=(e,t,r,o)=>{let a=td(e).dom.createRange();return a.setStart(e.dom,t),a.setEnd(r.dom,o),a},mw=(e,t,r,o)=>{let a=mk(e,t,r,o),n=ts(e,r)&&t===o;return a.collapsed&&!n},m_=e=>B.from(e.getSelection()),mx=e=>{if(!(e.rangeCount>0))return B.none();{let t=e.getRangeAt(0),r=e.getRangeAt(e.rangeCount-1);return B.some(d9.create(eY.fromDom(t.startContainer),t.startOffset,eY.fromDom(r.endContainer),r.endOffset))}},mC=e=>{if(null===e.anchorNode||null===e.focusNode)return mx(e);{let t=eY.fromDom(e.anchorNode),r=eY.fromDom(e.focusNode);return mw(t,e.anchorOffset,r,e.focusOffset)?B.some(d9.create(t,e.anchorOffset,r,e.focusOffset)):mx(e)}},mS=e=>m_(e).filter(e=>e.rangeCount>0).bind(mC),mz=(e,t)=>md(my(e,t)),mE=(e,t)=>mm(my(e,t)),mT=((e,t)=>{let r=t=>e(t)?B.from(t.dom.nodeValue):B.none();return{get:o=>{if(!e(o))throw Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},getOption:r,set:(r,o)=>{if(!e(r))throw Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=o}}})(te,"text"),mA=e=>mT.get(e),mO=(e,t)=>({element:e,offset:t}),mD=(e,t)=>{let r=tk(e);if(0===r.length)return mO(e,t);{if(t<r.length)return mO(r[t],0);let e=r[r.length-1],o=te(e)?mA(e).length:tk(e).length;return mO(e,o)}},mN=(e,t)=>te(e)?mO(e,t):mD(e,t),mM=e=>void 0!==e.foffset,mR=(e,t)=>t.getSelection.getOrThunk(()=>()=>mS(e))().map(e=>{if(!mM(e))return e;{let t=mN(e.start,e.soffset),r=mN(e.finish,e.foffset);return ma.range(t.element,t.offset,r.element,r.offset)}});var mB=[aK("getSelection"),aP("root"),aK("bubble"),dW(),a3("overrides",{}),a3("showAbove",!1),sW("placement",(e,t,r)=>{let o=tg(t.root).dom,a=d5(e,r,t),n=mR(o,t).bind(e=>{if(mM(e))return mE(o,ma.exactFromRange(e)).orThunk(()=>{let t=eY.fromText("\uFEFF");rJ(e.start,t);let r=mz(o,ma.exact(t,0,t,1));return r5(t),r}).bind(e=>d6(e.left,e.top,e.width,e.height));{let t=ey(e,e=>e.dom.getBoundingClientRect()),r={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return d6(r.left,r.top,r.right-r.left,r.bottom-r.top)}}),l=mR(o,t).bind(e=>mM(e)?e9(e.start)?B.some(e.start):tf(e.start):B.some(e.firstCell)).getOr(e.element);return d8(n,a,t,r,l)})];let mF="link-layout",mL=e=>e.x+e.width,mI=(e,t)=>e.x-t.width,mP=(e,t)=>e.y-t.height+e.height,mH=e=>e.y,mj=(e,t,r)=>sK(mL(e),mH(e),r.southeast(),s1(),"southeast",ct(e,{left:0,top:2}),mF),mV=(e,t,r)=>sK(mI(e,t),mH(e),r.southwest(),s0(),"southwest",ct(e,{right:1,top:2}),mF),mU=(e,t,r)=>sK(mL(e),mP(e,t),r.northeast(),s2(),"northeast",ct(e,{left:0,bottom:3}),mF),mZ=(e,t,r)=>sK(mI(e,t),mP(e,t),r.northwest(),s4(),"northwest",ct(e,{right:1,bottom:3}),mF),mq=()=>[mj,mV,mU,mZ],mW=()=>[mV,mj,mZ,mU];var m$=aB("type",{selection:mB,node:d7,hotspot:dG,submenu:[aP("item"),dW(),a3("overrides",{}),sW("placement",(e,t,r)=>{let o=c2(r,t.item.element),a=d$(e.element,t,mq(),mW(),mq(),mW(),B.none());return B.some(E({anchorBox:o,bubble:dj(),overrides:t.overrides,layouts:a}))})],makeshift:dK});let mG=[aG("classes",aw),a7("mode","all",["all","layout","placement"])],mK=[a3("useFixed",M),aK("getBounds")],mY=[aH("anchor",m$),a2("transition",mG)],mX=()=>{let e=document.documentElement;return c8(0,0,e.clientWidth,e.clientHeight)},mJ=e=>{let t=rr(e.element),r=e.element.dom.getBoundingClientRect();return c6(t.left,t.top,r.width,r.height)},mQ=(e,t,r,o,a,n)=>dL(c9(t.anchorBox,e),o.element,t.bubble,t.layouts,a,r,t.overrides,n),m1=(e,t,r,o,a,n)=>{let l=aM("placement.info",au(mY),a),i=l.anchor,s=o.element,c=r.get(o.uid);cK(()=>{tG(s,"position","fixed");let a=tQ(s,"visibility");tG(s,"visibility","hidden");let d=t.useFixed()?mX():mJ(e);i.placement(e,i,d).each(e=>{let a=mQ(d,e,n.orThunk(()=>t.getBounds.map(N)),o,c,l.transition);r.set(o.uid,a)}),a.fold(()=>{t2(s,"visibility")},e=>{tG(s,"visibility",e)}),tQ(s,"left").isNone()&&tQ(s,"top").isNone()&&tQ(s,"right").isNone()&&tQ(s,"bottom").isNone()&&eA(tQ(s,"position"),"fixed")&&t2(s,"position")},s)},m0=cI({fields:mK,name:"positioning",active:cU,apis:Object.freeze({__proto__:null,position:(e,t,r,o,a)=>{m1(e,t,r,o,a,B.none())},positionWithinBounds:m1,getMode:(e,t,r)=>t.useFixed()?"fixed":"absolute",reset:(e,t,r,o)=>{let a=o.element;W(["position","left","right","top","bottom"],e=>t2(a,e)),da(a),r.clear(o.uid)}}),state:Object.freeze({__proto__:null,init:()=>{let e={};return it({readState:()=>e,clear:t=>{b(t)?delete e[t]:e={}},set:(t,r)=>{e[t]=r},get:t=>ez(e,t)})}})}),m2=e=>e.getSystem().isConnected(),m4=e=>{lc(e,n9()),W(e.components(),m4)},m3=e=>{W(e.components(),m3),lc(e,n7())},m5=(e,t)=>{e.getSystem().addToWorld(t),tB(e.element)&&m3(t)},m6=e=>{m4(e),e.getSystem().removeFromWorld(e)},m8=(e,t)=>{r0(e.element,t.element)},m7=e=>{W(e.components(),e=>r5(e.element)),r3(e.element),e.syncComponents()},m9=(e,t,r)=>{let o=e.components();m7(e);let a=r(t);W(en(o,a),t=>{m4(t),e.getSystem().removeFromWorld(t)}),W(a,t=>{m2(t)?m8(e,t):(e.getSystem().addToWorld(t),m8(e,t),tB(e.element)&&m3(t))}),e.syncComponents()},ue=(e,t,r)=>{let o=e.components(),a=er(t,e=>l7(e).toArray());W(o,e=>{j(a,e)||m6(e)});let n=r(t);W(en(o,n),e=>{m2(e)&&m6(e)}),W(n,t=>{m2(t)||m5(e,t)}),e.syncComponents()},ut=(e,t)=>{ur(e,t,r0)},ur=(e,t,r)=>{e.getSystem().addToWorld(t),r(e.element,t.element),tB(e.element)&&m3(t),e.syncComponents()},uo=e=>{m4(e),r5(e.element),e.getSystem().removeFromWorld(e)},ua=e=>{let t=tp(e.element).bind(t=>e.getSystem().getByDom(t).toOptional());uo(e),t.each(e=>{e.syncComponents()})},un=e=>{W(e.components(),uo),r3(e.element),e.syncComponents()},ul=(e,t)=>{us(e,t,r0)},ui=(e,t)=>{us(e,t,rQ)},us=(e,t,r)=>{r(e,t.element),W(tk(t.element),e=>{t.getByDom(e).each(m3)})},uc=e=>{W(tk(e.element),t=>{e.getByDom(t).each(m4)}),r5(e.element)},ud=(e,t,r,o)=>{r.get().each(t=>{un(e)}),ut(t.getAttachPoint(e),e);let a=e.getSystem().build(o);return ut(e,a),r.set(a),a},um=(e,t,r,o)=>{let a=ud(e,t,r,o);return t.onOpen(e,a),a},uu=(e,t,r)=>{r.get().each(o=>{un(e),ua(e),t.onClose(e,o),r.clear()})},ug=(e,t,r)=>r.isOpen(),up=(e,t,r,o)=>{tQ(e.element,t).fold(()=>{tZ(e.element,r)},t=>{tP(e.element,r,t)}),tG(e.element,t,o)},uh=(e,t,r)=>{tV(e.element,r).fold(()=>t2(e.element,t),r=>tG(e.element,t,r))},uf=(e,t,r)=>{let o=t.getAttachPoint(e);tG(e.element,"position",m0.getMode(o)),up(e,"visibility",t.cloakVisibilityAttr,"hidden")},uy=e=>V(["top","left","right","bottom"],t=>tQ(e,t).isSome()),ub=(e,t,r)=>{uy(e.element)||t2(e.element,"position"),uh(e,"visibility",t.cloakVisibilityAttr)};var uv=Object.freeze({__proto__:null,cloak:uf,decloak:ub,open:um,openWhileCloaked:(e,t,r,o,a)=>{uf(e,t),um(e,t,r,o),a(),ub(e,t)},close:uu,isOpen:ug,isPartOf:(e,t,r,o)=>ug(e,t,r)&&r.get().exists(r=>t.isPartOf(e,r,o)),getState:(e,t,r)=>r.get(),setContent:(e,t,r,o)=>r.get().map(()=>ud(e,t,r,o))}),uk=Object.freeze({__proto__:null,events:(e,t)=>lf([lv(n0(),(r,o)=>{uu(r,e,t)})])});let uw=cI({fields:[sV("onOpen"),sV("onClose"),aP("isPartOf"),aP("getAttachPoint"),a3("cloakVisibilityAttr","data-precloak-visibility")],name:"sandboxing",active:uk,apis:uv,state:Object.freeze({__proto__:null,init:()=>{let e=dp();return it({readState:z("not-implemented"),isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),u_=z("dismiss.popups"),ux=z("reposition.popups"),uC=z("mouse.released"),uS=am([a3("isExtraPart",M),a2("fireEventInstead",[a3("event",le())])]),uz=e=>{let t=aM("Dismissal",uS,e);return{[u_()]:{schema:am([aP("target")]),onReceive:(e,r)=>{uw.isOpen(e)&&(uw.isPartOf(e,r.target)||t.isExtraPart(e,r.target)||t.fireEventInstead.fold(()=>uw.close(e),t=>lc(e,t.event)))}}}},uE=am([a2("fireEventInstead",[a3("event",lt())]),aZ("doReposition")]),uT=e=>{let t=aM("Reposition",uE,e);return{[ux()]:{onReceive:e=>{uw.isOpen(e)&&t.fireEventInstead.fold(()=>t.doReposition(e),t=>lc(e,t.event))}}}},uA=(e,t,r)=>{t.store.manager.onLoad(e,t,r)},uO=(e,t,r)=>{t.store.manager.onUnload(e,t,r)};var uD=Object.freeze({__proto__:null,onLoad:uA,onUnload:uO,setValue:(e,t,r,o)=>{t.store.manager.setValue(e,t,r,o)},getValue:(e,t,r)=>t.store.manager.getValue(e,t,r),getState:(e,t,r)=>r}),uN=Object.freeze({__proto__:null,events:(e,t)=>lf(e.resetOnDom?[lT((r,o)=>{uA(r,e,t)}),lA((r,o)=>{uO(r,e,t)})]:[cO(e,t,uA)])});let uM=()=>{let e=no(null);return it({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},uR=()=>{let e=no({}),t=no({});return it({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:r=>ez(e.get(),r).orThunk(()=>ez(t.get(),r)),update:r=>{let o=e.get(),a=t.get(),n={},l={};W(r,e=>{n[e.value]=e,ez(e,"meta").each(t=>{ez(t,"text").each(t=>{l[t]=e})})}),e.set({...o,...n}),t.set({...a,...l})},clear:()=>{e.set({}),t.set({})}})};var uB=Object.freeze({__proto__:null,memory:uM,dataset:uR,manual:()=>it({readState:_}),init:e=>e.store.manager.state(e)});let uF=(e,t,r,o)=>{let a=t.store;r.update([o]),a.setValue(e,o),t.onSetValue(e,o)};var uL=[aK("initialValue"),aP("getFallbackEntry"),aP("getDataKey"),aP("setValue"),sW("manager",{setValue:uF,getValue:(e,t,r)=>{let o=t.store,a=o.getDataKey(e);return r.lookup(a).getOrThunk(()=>o.getFallbackEntry(a))},onLoad:(e,t,r)=>{t.store.initialValue.each(o=>{uF(e,t,r,o)})},onUnload:(e,t,r)=>{r.clear()},state:uR})],uI=[aP("getValue"),a3("setValue",_),aK("initialValue"),sW("manager",{setValue:(e,t,r,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},getValue:(e,t,r)=>t.store.getValue(e),onLoad:(e,t,r)=>{t.store.initialValue.each(r=>{t.store.setValue(e,r)})},onUnload:_,state:ie.init})];let uP=cI({fields:[a5("store",{mode:"memory"},aB("mode",{memory:[aK("initialValue"),sW("manager",{setValue:(e,t,r,o)=>{r.set(o),t.onSetValue(e,o)},getValue:(e,t,r)=>r.get(),onLoad:(e,t,r)=>{t.store.initialValue.each(e=>{r.isNotSet()&&r.set(e)})},onUnload:(e,t,r)=>{r.clear()},state:uM})],manual:uI,dataset:uL})),sV("onSetValue"),a3("resetOnDom",!1)],name:"representing",active:uN,apis:uD,extra:{setValueFrom:(e,t)=>{let r=uP.getValue(t);uP.setValue(e,r)}},state:uB}),uH=(e,t)=>nr(e,{},q(t,t=>aq(t.name(),"Cannot configure "+t.name()+" for "+e)).concat([aL("dump",E)])),uj=e=>e.dump,uV=(e,t)=>({...cF(t),...e.dump}),uU="placeholder",uZ=na([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),uq=e=>eE(e,"uiType"),uW=(e,t,r,o)=>e.exists(e=>e!==r.owner)?uZ.single(!0,z(r)):ez(o,r.name).fold(()=>{throw Error("Unknown placeholder component: "+r.name+"\nKnown: ["+ep(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(r,null,2))},e=>e.replace()),u$=(e,t,r,o)=>uq(r)&&r.uiType===uU?uW(e,t,r,o):uZ.single(!1,z(r)),uG=(e,t,r,o)=>u$(e,t,r,o).fold((a,n)=>{let l=uq(r)?n(t,r.config,r.validated):n(t),i=er(ez(l,"components").getOr([]),r=>uG(e,t,r,o));return[{...l,components:i}]},(e,o)=>{if(!uq(r))return o(t);{let e=o(t,r.config,r.validated);return r.validated.preprocess.getOr(E)(e)}}),uK=(e,t,r,o)=>er(r,r=>uG(e,t,r,o)),uY=(e,t)=>{let r=!1;return{name:z(e),required:()=>t.fold((e,t)=>e,(e,t)=>e),used:()=>r,replace:()=>{if(r)throw Error("Trying to use the same placeholder more than once: "+e);return r=!0,t}}},uX=(e,t,r,o)=>{let a=ey(o,(e,t)=>uY(t,e)),n=uK(e,t,r,a);return ef(a,r=>{if(!1===r.used()&&r.required())throw Error("Placeholder: "+r.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}),n},uJ=uZ.single,uQ=uZ.multiple,u1=z(uU),u0=na([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),u2=a3("factory",{sketch:E}),u4=a3("schema",[]),u3=aP("name"),u5=oq("pname","pname",oX(e=>"<alloy."+lZ(e.name)+">"),ab()),u6=aL("schema",()=>[aK("preprocess")]),u8=a3("defaults",z({})),u7=a3("overrides",z({})),u9=au([u2,u4,u3,u5,u8,u7]),ge=au([u2,u4,u3,u8,u7]),gt=au([u2,u4,u3,u5,u8,u7]),gr=au([u2,u6,u3,aP("unit"),u5,u8,u7]),go=e=>e.fold(B.some,B.none,B.some,B.some),ga=e=>{let t=e=>e.name;return e.fold(t,t,t,t)},gn=(e,t)=>r=>e(aM("Converting part type",t,r)),gl=gn(u0.required,u9),gi=gn(u0.external,ge),gs=gn(u0.optional,gt),gc=gn(u0.group,gr),gd=z("entirety");var gm=Object.freeze({__proto__:null,required:gl,external:gi,optional:gs,group:gc,asNamedPart:go,name:ga,asCommon:e=>e.fold(E,E,E,E),original:gd});let gu=(e,t,r,o)=>oG(t.defaults(e,r,o),r,{uid:e.partUids[t.name]},t.overrides(e,r,o)),gg=(e,t,r)=>{let o={},a={};return W(r,e=>{e.fold(e=>{o[e.pname]=uJ(!0,(t,r,o)=>e.factory.sketch(gu(t,e,r,o)))},e=>{let r=t.parts[e.name];a[e.name]=z(e.factory.sketch(gu(t,e,r[gd()]),r))},e=>{o[e.pname]=uJ(!1,(t,r,o)=>e.factory.sketch(gu(t,e,r,o)))},e=>{o[e.pname]=uQ(!0,(t,r,o)=>q(t[e.name],r=>e.factory.sketch(oG(e.defaults(t,r,o),r,e.overrides(t,r)))))})}),{internals:z(o),externals:z(a)}},gp=(e,t)=>{let r={};return W(t,t=>{go(t).each(t=>{let o=gh(e,t.pname);r[t.name]=r=>{let a=aM("Part: "+t.name+" in "+e,au(t.schema),r);return{...o,config:r,validated:a}}})}),r},gh=(e,t)=>({uiType:u1(),owner:e,name:t}),gf=(e,t,r)=>({uiType:u1(),owner:e,name:t,config:r,validated:{}}),gy=e=>er(e,e=>e.fold(B.none,B.some,B.none,B.none).map(e=>aW(e.name,e.schema.concat([s$(gd())]))).toArray()),gb=e=>q(e,ga),gv=(e,t,r)=>gg(e,t,r),gk=(e,t,r)=>uX(B.some(e),t,t.components,r),gw=(e,t,r)=>{let o=t.partUids[r];return e.getSystem().getByUid(o).toOptional()},g_=(e,t,r)=>gw(e,t,r).getOrDie("Could not find part: "+r),gx=(e,t,r)=>{let o={},a=t.partUids,n=e.getSystem();return W(r,e=>{o[e]=z(n.getByUid(a[e]))}),o},gC=(e,t)=>{let r=e.getSystem();return ey(t.partUids,(e,t)=>z(r.getByUid(e)))},gS=e=>ep(e.partUids),gz=(e,t,r)=>{let o={},a=t.partUids,n=e.getSystem();return W(r,e=>{o[e]=z(n.getByUid(a[e]).getOrDie())}),o},gE=(e,t)=>nm(q(gb(t),t=>({key:t,value:e+"-"+t}))),gT=e=>oq("partUids","partUids",o1(t=>gE(t.uid,e)),ab());var gA=Object.freeze({__proto__:null,generate:gp,generateOne:gf,schemas:gy,names:gb,substitutes:gv,components:gk,defaultUids:gE,defaultUidsSchema:gT,getAllParts:gC,getAllPartNames:gS,getPart:gw,getPartOrDie:g_,getParts:gx,getPartsOrDie:gz});let gO=(e,t)=>(e.length>0?[aW("parts",e)]:[]).concat([aP("uid"),a3("dom",{}),a3("components",[]),s$("originalSpec"),a3("debug.sketcher",{})]).concat(t),gD=(e,t,r,o,a)=>aM(e+" [SpecSchema]",am(gO(o,a).concat(t)),r),gN=(e,t,r,o)=>{let a=gB(o);return r(gD(e,t,a,[],[]),a)},gM=(e,t,r,o,a)=>{let n=gB(a),l=gD(e,t,n,gy(r),[gT(r)]),i=gv(e,l,r),s=gk(e,l,i.internals());return o(l,s,n,i.externals())},gR=e=>eE(e,"uid"),gB=e=>gR(e)?e:{...e,uid:lJ("uid")},gF=e=>void 0!==e.uid,gL=am([aP("name"),aP("factory"),aP("configFields"),a3("apis",{}),a3("extraApis",{})]),gI=am([aP("name"),aP("factory"),aP("configFields"),aP("partFields"),a3("apis",{}),a3("extraApis",{})]),gP=e=>{let t=aM("Sketcher for "+e.name,gL,e),r=ey(t.apis,l9),o=ey(t.extraApis,(e,t)=>l4(e,t));return{name:t.name,configFields:t.configFields,sketch:e=>gN(t.name,t.configFields,t.factory,e),...r,...o}},gH=e=>{let t=aM("Sketcher for "+e.name,gI,e),r=gp(t.name,t.partFields),o=ey(t.apis,l9),a=ey(t.extraApis,(e,t)=>l4(e,t));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>gM(t.name,t.configFields,t.partFields,t.factory,e),parts:r,...o,...a}},gj=e=>to("input")(e)&&"radio"!==tj(e,"type")||to("textarea")(e);var gV=Object.freeze({__proto__:null,getCurrent:(e,t,r)=>t.find(e)});let gU=cI({fields:[aP("find")],name:"composing",apis:gV}),gZ=["input","button","textarea","select"],gq=(e,t,r)=>{(t.disabled()?gQ:g1)(e,t)},gW=(e,t)=>!0===t.useNative&&j(gZ,e5(e.element)),g$=e=>tU(e.element,"disabled"),gG=e=>{tP(e.element,"disabled","disabled")},gK=e=>{tZ(e.element,"disabled")},gY=e=>"true"===tj(e.element,"aria-disabled"),gX=e=>{tP(e.element,"aria-disabled","true")},gJ=e=>{tP(e.element,"aria-disabled","false")},gQ=(e,t,r)=>{t.disableClass.each(t=>{iI(e.element,t)}),(gW(e,t)?gG:gX)(e),t.onDisabled(e)},g1=(e,t,r)=>{t.disableClass.each(t=>{iH(e.element,t)}),(gW(e,t)?gK:gJ)(e),t.onEnabled(e)},g0=(e,t)=>gW(e,t)?g$(e):gY(e);var g2=Object.freeze({__proto__:null,enable:g1,disable:gQ,isDisabled:g0,onLoad:gq,set:(e,t,r,o)=>{(o?gQ:g1)(e,t)}}),g4=Object.freeze({__proto__:null,exhibit:(e,t)=>ii({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>lf([ly(nX(),(t,r)=>g0(t,e)),cO(e,t,gq)])});let g3=cI({fields:[ne("disabled",M),a3("useNative",!0),aK("disableClass"),sV("onDisabled"),sV("onEnabled")],name:"disabling",active:g4,apis:g2}),g5=(e,t,r,o)=>{W(mv(e.element,"."+t.highlightClass),r=>{V(o,e=>ts(e.element,r))||(iH(r,t.highlightClass),e.getSystem().getByDom(r).each(r=>{t.onDehighlight(e,r),lc(r,ls())}))})},g6=(e,t,r,o)=>{g5(e,t,r,[o]),g8(e,t,r,o)||(iI(o.element,t.highlightClass),t.onHighlight(e,o),lc(o,li()))},g8=(e,t,r,o)=>iV(o.element,t.highlightClass),g7=(e,t,r,o)=>{let a=mv(e.element,"."+t.itemClass);return B.from(a[o]).fold(()=>oH.error(Error("No element found with index "+o)),e.getSystem().getByDom)},g9=(e,t,r)=>sk(e.element,"."+t.itemClass).bind(t=>e.getSystem().getByDom(t).toOptional()),pe=(e,t,r)=>{let o=mv(e.element,"."+t.itemClass);return(o.length>0?B.some(o[o.length-1]):B.none()).bind(t=>e.getSystem().getByDom(t).toOptional())},pt=(e,t,r,o)=>{let a=mv(e.element,"."+t.itemClass);return ee(a,e=>iV(e,t.highlightClass)).bind(t=>{let r=s7(t,o,0,a.length-1);return e.getSystem().getByDom(a[r]).toOptional()})},pr=(e,t,r)=>eD(q(mv(e.element,"."+t.itemClass),t=>e.getSystem().getByDom(t).toOptional()));var po=Object.freeze({__proto__:null,dehighlightAll:(e,t,r)=>g5(e,t,r,[]),dehighlight:(e,t,r,o)=>{g8(e,t,r,o)&&(iH(o.element,t.highlightClass),t.onDehighlight(e,o),lc(o,ls()))},highlight:g6,highlightFirst:(e,t,r)=>{g9(e,t).each(o=>{g6(e,t,r,o)})},highlightLast:(e,t,r)=>{pe(e,t).each(o=>{g6(e,t,r,o)})},highlightAt:(e,t,r,o)=>{g7(e,t,r,o).fold(e=>{throw e},o=>{g6(e,t,r,o)})},highlightBy:(e,t,r,o)=>{Q(pr(e,t),o).each(o=>{g6(e,t,r,o)})},isHighlighted:g8,getHighlighted:(e,t,r)=>sk(e.element,"."+t.highlightClass).bind(t=>e.getSystem().getByDom(t).toOptional()),getFirst:g9,getLast:pe,getPrevious:(e,t,r)=>pt(e,t,r,-1),getNext:(e,t,r)=>pt(e,t,r,1),getCandidates:pr});let pa=cI({fields:[aP("highlightClass"),aP("itemClass"),sV("onHighlight"),sV("onDehighlight")],name:"highlighting",apis:po}),pn=[9],pl=[13],pi=[27],ps=[32],pc=[37],pd=[38],pm=[39],pu=[40],pg=(e,t,r)=>{let o=ea(e.slice(0,t)),a=ea(e.slice(t+1));return Q(o.concat(a),r)},pp=(e,t,r)=>Q(ea(e.slice(0,t)),r),ph=(e,t,r)=>{let o=e.slice(0,t);return Q(e.slice(t+1).concat(o),r)},pf=(e,t,r)=>Q(e.slice(t+1),r),py=e=>t=>j(e,t.raw.which),pb=e=>t=>eo(e,e=>e(t)),pv=e=>!0===e.raw.shiftKey,pk=e=>!0===e.raw.ctrlKey,pw=O(pv),p_=(e,t)=>({matches:e,classification:t}),px=(e,t)=>Q(e,e=>e.matches(t)).map(e=>e.classification),pC=(e,t,r)=>{t.exists(e=>r.exists(t=>ts(t,e)))||ld(e,lr(),{prevFocus:t,newFocus:r})},pS=()=>{let e=e=>cG(e.element);return{get:e,set:(t,r)=>{let o=e(t);t.getSystem().triggerFocus(r,t.element);let a=e(t);pC(t,o,a)}}},pz=()=>{let e=e=>pa.getHighlighted(e).map(e=>e.element);return{get:e,set:(t,r)=>{let o=e(t);t.getSystem().getByDom(r).fold(_,e=>{pa.highlight(t,e)});let a=e(t);pC(t,o,a)}}};(os=ov||(ov={})).OnFocusMode="onFocus",os.OnEnterOrSpaceMode="onEnterOrSpace",os.OnApiMode="onApi";let pE=(e,t,r,o,a)=>{let n=(e,t,r,o,a)=>px(r(e,t,o,a),t.event).bind(r=>r(e,t,o,a)),l={schema:()=>e.concat([a3("focusManager",pS()),a5("focusInside","onFocus",aT(e=>j(["onFocus","onEnterOrSpace","onApi"],e)?oH.value(e):oH.error("Invalid value for focusInside"))),sW("handler",l),sW("state",t),sW("sendFocusIn",a)]),processKey:n,toEvents:(e,t)=>{let l=e.focusInside!==ov.OnFocusMode?B.none():a(e).map(r=>lv(n$(),(o,a)=>{r(o,e,t),a.stop()})),i=(r,o)=>{let n=py(ps.concat(pl))(o.event);e.focusInside===ov.OnEnterOrSpaceMode&&n&&nb(r,o)&&a(e).each(a=>{a(r,e,t),o.stop()})},s=[lv(nF(),(o,a)=>{n(o,a,r,e,t).fold(()=>{i(o,a)},e=>{a.stop()})}),lv(nL(),(r,a)=>{n(r,a,o,e,t).each(e=>{a.stop()})})];return lf(l.toArray().concat(s))}};return l},pT=e=>{let t=[aK("onEscape"),aK("onEnter"),a3("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),a3("firstTabstop",0),a3("useTabstopAt",R),aK("visibilitySelector")].concat([e]),r=(e,t)=>t6(e.visibilitySelector.bind(e=>sw(t,e)).getOr(t))>0,o=(e,t)=>{let o=K(mv(e.element,t.selector),e=>r(t,e));return B.from(o[t.firstTabstop])},a=(e,t)=>t.focusManager.get(e).bind(e=>sw(e,t.selector)),n=(e,t)=>r(e,t)&&e.useTabstopAt(t),l=(e,t,r)=>{o(e,t).each(r=>{t.focusManager.set(e,r)})},i=(e,t,r,o,a)=>a(t,r,e=>n(o,e)).fold(()=>o.cyclic?B.some(!0):B.none(),t=>(o.focusManager.set(e,t),B.some(!0))),s=(e,t,r,o)=>{let n=mv(e.element,r.selector);return a(e,r).bind(t=>ee(n,A(ts,t)).bind(t=>i(e,n,t,r,o)))},c=(e,t,r)=>{let o=r.cyclic?pg:pp;return s(e,t,r,o)},d=(e,t,r)=>{let o=r.cyclic?ph:pf;return s(e,t,r,o)},m=e=>th(e).bind(t_).exists(t=>ts(t,e)),u=z([p_(pb([pv,py(pn)]),c),p_(py(pn),d),p_(pb([pw,py(pl)]),(e,t,r)=>r.onEnter.bind(r=>r(e,t)))]),g=z([p_(py(pi),(e,t,r)=>r.onEscape.bind(r=>r(e,t))),p_(py(pn),(e,t,r)=>a(e,r).filter(e=>!r.useTabstopAt(e)).bind(o=>(m(o)?c:d)(e,t,r)))]);return pE(t,ie.init,u,g,()=>B.some(l))};var pA=pT(aL("cyclic",M)),pO=pT(aL("cyclic",R));let pD=(e,t,r)=>(lu(e,r,nX()),B.some(!0)),pN=(e,t,r)=>gj(r)&&py(ps)(t.event)?B.none():pD(e,t,r),pM=(e,t)=>B.some(!0),pR=[a3("execute",pN),a3("useSpace",!1),a3("useEnter",!0),a3("useControlEnter",!1),a3("useDown",!1)],pB=(e,t,r)=>r.execute(e,t,e.element);var pF=pE(pR,ie.init,(e,t,r,o)=>{let a=r.useSpace&&!gj(e.element)?ps:[],n=r.useEnter?pl:[],l=r.useDown?pu:[];return[p_(py(a.concat(n).concat(l)),pB)].concat(r.useControlEnter?[p_(pb([pk,py(pl)]),pB)]:[])},(e,t,r,o)=>r.useSpace&&!gj(e.element)?[p_(py(ps),pM)]:[],()=>B.none());let pL=()=>{let e=dp();return it({readState:()=>e.get().map(e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,r)=>{e.set({numRows:t,numColumns:r})},getNumRows:()=>e.get().map(e=>e.numRows),getNumColumns:()=>e.get().map(e=>e.numColumns)})};var pI=Object.freeze({__proto__:null,flatgrid:pL,init:e=>e.state(e)});let pP=e=>(t,r,o,a)=>pU(e(t.element),t,r,o,a),pH=(e,t)=>pP(dV(e,t)),pj=(e,t)=>pP(dV(t,e)),pV=e=>(t,r,o,a)=>pU(e,t,r,o,a),pU=(e,t,r,o,a)=>o.focusManager.get(t).bind(r=>e(t.element,r,o,a)).map(e=>(o.focusManager.set(t,e),!0)),pZ=e=>e.offsetWidth<=0&&e.offsetHeight<=0,pq=e=>!pZ(e.dom),pW=(e,t)=>ee(e,t).map(t=>({index:t,candidates:e})),p$=(e,t,r)=>pW(K(mv(e,r),pq),e=>ts(e,t)),pG=(e,t)=>ee(e,e=>ts(t,e)),pK=(e,t,r,o)=>o(Math.floor(t/r),t%r).bind(t=>{let o=t.row*r+t.column;return o>=0&&o<e.length?B.some(e[o]):B.none()}),pY=(e,t,r,o,a)=>pK(e,t,o,(t,n)=>{let l=s7(n,a,0,(t===r-1?e.length-t*o:o)-1);return B.some({row:t,column:l})}),pX=(e,t,r,o,a)=>pK(e,t,o,(t,n)=>{let l=s7(t,a,0,r-1),i=s9(n,0,(l===r-1?e.length-l*o:o)-1);return B.some({row:l,column:i})}),pJ=[aP("selector"),a3("execute",pN),sU("onEscape"),a3("captureTab",!1),sG()],pQ=(e,t,r)=>{sk(e.element,t.selector).each(r=>{t.focusManager.set(e,r)})},p1=(e,t)=>t.focusManager.get(e).bind(e=>sw(e,t.selector)),p0=e=>(t,r,o,a)=>p$(t,r,o.selector).bind(t=>e(t.candidates,t.index,a.getNumRows().getOr(o.initSize.numRows),a.getNumColumns().getOr(o.initSize.numColumns))),p2=(e,t,r)=>r.captureTab?B.some(!0):B.none(),p4=p0((e,t,r,o)=>pY(e,t,r,o,-1)),p3=p0((e,t,r,o)=>pY(e,t,r,o,1)),p5=p0((e,t,r,o)=>pX(e,t,r,o,-1)),p6=p0((e,t,r,o)=>pX(e,t,r,o,1));var p8=pE(pJ,pL,z([p_(py(pc),pH(p4,p3)),p_(py(pm),pj(p4,p3)),p_(py(pd),pV(p5)),p_(py(pu),pV(p6)),p_(pb([pv,py(pn)]),p2),p_(pb([pw,py(pn)]),p2),p_(py(ps.concat(pl)),(e,t,r,o)=>p1(e,r).bind(o=>r.execute(e,t,o)))]),z([p_(py(pi),(e,t,r)=>r.onEscape(e,t)),p_(py(ps),pM)]),()=>B.some(pQ));let p7=(e,t,r,o,a)=>{let n=e=>"button"===e5(e)&&"disabled"===tj(e,"disabled"),l=(e,t,r)=>a(e,t,o,0,r.length-1,r[t],t=>n(r[t])?l(e,t,r):B.from(r[t]));return p$(e,r,t).bind(e=>{let t=e.index;return l(t,t,e.candidates)})},p9=(e,t,r,o)=>p7(e,t,r,o,(e,t,r,o,a,n,l)=>{let i=s9(t+r,o,a);return i===e?B.from(n):l(i)}),he=(e,t,r,o)=>p7(e,t,r,o,(e,t,r,o,a,n,l)=>{let i=s7(t,r,o,a);return i===e?B.none():l(i)}),ht=[aP("selector"),a3("getInitial",B.none),a3("execute",pN),sU("onEscape"),a3("executeOnMove",!1),a3("allowVertical",!0),a3("allowHorizontal",!0),a3("cycles",!0)],hr=(e,t)=>t.focusManager.get(e).bind(e=>sw(e,t.selector)),ho=(e,t,r)=>hr(e,r).bind(o=>r.execute(e,t,o)),ha=(e,t,r)=>{t.getInitial(e).orThunk(()=>sk(e.element,t.selector)).each(r=>{t.focusManager.set(e,r)})},hn=(e,t,r)=>(r.cycles?he:p9)(e,r.selector,t,-1),hl=(e,t,r)=>(r.cycles?he:p9)(e,r.selector,t,1),hi=e=>(t,r,o,a)=>e(t,r,o,a).bind(()=>o.executeOnMove?ho(t,r,o):B.some(!0)),hs=z([p_(py(ps),pM),p_(py(pi),(e,t,r)=>r.onEscape(e,t))]);var hc=pE(ht,ie.init,(e,t,r,o)=>{let a=[...r.allowHorizontal?pc:[]].concat(r.allowVertical?pd:[]),n=[...r.allowHorizontal?pm:[]].concat(r.allowVertical?pu:[]);return[p_(py(a),hi(pH(hn,hl))),p_(py(n),hi(pj(hn,hl))),p_(py(pl),ho),p_(py(ps),ho)]},hs,()=>B.some(ha));let hd=(e,t,r)=>B.from(e[t]).bind(e=>B.from(e[r]).map(e=>({rowIndex:t,columnIndex:r,cell:e}))),hm=(e,t,r,o)=>{let a=s7(r,o,0,e[t].length-1);return hd(e,t,a)},hu=(e,t,r,o)=>{let a=s7(r,o,0,e.length-1),n=s9(t,0,e[a].length-1);return hd(e,a,n)},hg=(e,t,r,o)=>{let a=s9(r+o,0,e[t].length-1);return hd(e,t,a)},hp=(e,t,r,o)=>{let a=s9(r+o,0,e.length-1),n=s9(t,0,e[a].length-1);return hd(e,a,n)},hh=[aW("selectors",[aP("row"),aP("cell")]),a3("cycles",!0),a3("previousSelector",B.none),a3("execute",pN)],hf=(e,t,r)=>{t.previousSelector(e).orThunk(()=>{let r=t.selectors;return sk(e.element,r.cell)}).each(r=>{t.focusManager.set(e,r)})},hy=(e,t)=>q(e,e=>mv(e,t.selectors.cell)),hb=(e,t)=>(r,o,a)=>{let n=a.cycles?e:t;return sw(o,a.selectors.row).bind(e=>pG(mv(e,a.selectors.cell),o).bind(t=>{let o=mv(r,a.selectors.row);return pG(o,e).bind(e=>n(hy(o,a),e,t).map(e=>e.cell))}))},hv=hb((e,t,r)=>hm(e,t,r,-1),(e,t,r)=>hg(e,t,r,-1)),hk=hb((e,t,r)=>hm(e,t,r,1),(e,t,r)=>hg(e,t,r,1)),hw=hb((e,t,r)=>hu(e,r,t,-1),(e,t,r)=>hp(e,r,t,-1)),h_=hb((e,t,r)=>hu(e,r,t,1),(e,t,r)=>hp(e,r,t,1)),hx=z([p_(py(pc),pH(hv,hk)),p_(py(pm),pj(hv,hk)),p_(py(pd),pV(hw)),p_(py(pu),pV(h_)),p_(py(ps.concat(pl)),(e,t,r)=>cG(e.element).bind(o=>r.execute(e,t,o)))]),hC=z([p_(py(ps),pM)]);var hS=pE(hh,ie.init,hx,hC,()=>B.some(hf));let hz=[aP("selector"),a3("execute",pN),a3("moveOnTab",!1)],hE=(e,t,r)=>r.focusManager.get(e).bind(o=>r.execute(e,t,o)),hT=(e,t,r)=>{sk(e.element,t.selector).each(r=>{t.focusManager.set(e,r)})},hA=(e,t,r)=>he(e,r.selector,t,-1),hO=(e,t,r)=>he(e,r.selector,t,1),hD=z([p_(py(pd),pV(hA)),p_(py(pu),pV(hO)),p_(pb([pv,py(pn)]),(e,t,r,o)=>r.moveOnTab?pV(hA)(e,t,r,o):B.none()),p_(pb([pw,py(pn)]),(e,t,r,o)=>r.moveOnTab?pV(hO)(e,t,r,o):B.none()),p_(py(pl),hE),p_(py(ps),hE)]),hN=z([p_(py(ps),pM)]);var hM=pE(hz,ie.init,hD,hN,()=>B.some(hT)),hR=pE([sU("onSpace"),sU("onEnter"),sU("onShiftEnter"),sU("onLeft"),sU("onRight"),sU("onTab"),sU("onShiftTab"),sU("onUp"),sU("onDown"),sU("onEscape"),a3("stopSpaceKeyup",!1),aK("focusIn")],ie.init,(e,t,r)=>[p_(py(ps),r.onSpace),p_(pb([pw,py(pl)]),r.onEnter),p_(pb([pv,py(pl)]),r.onShiftEnter),p_(pb([pv,py(pn)]),r.onShiftTab),p_(pb([pw,py(pn)]),r.onTab),p_(py(pd),r.onUp),p_(py(pu),r.onDown),p_(py(pc),r.onLeft),p_(py(pm),r.onRight),p_(py(ps),r.onSpace)],(e,t,r)=>[...r.stopSpaceKeyup?[p_(py(ps),pM)]:[],p_(py(pi),r.onEscape)],e=>e.focusIn);let hB=pA.schema(),hF=pO.schema(),hL=hc.schema(),hI=p8.schema(),hP=hS.schema(),hH=pF.schema();var hj=Object.freeze({__proto__:null,acyclic:hB,cyclic:hF,flow:hL,flatgrid:hI,matrix:hP,execution:hH,menu:hM.schema(),special:hR.schema()});let hV=e=>eT(e,"setGridSize"),hU=cH({branchKey:"mode",branches:hj,name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,r)=>{t.sendFocusIn(t).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},o=>{o(e,t,r)})},setGridSize:(e,t,r,o,a)=>{hV(r)?r.setGridSize(o,a):console.error("Layout does not support setGridSize")}},state:pI}),hZ=(e,t)=>{cK(()=>{m9(e,t,()=>q(t,e.getSystem().build))},e.element)},hq=(e,t)=>{cK(()=>{ue(e,t,()=>i0(e.element,t,e.getSystem().buildOrPatch))},e.element)},hW=(e,t,r,o)=>{m6(t);let a=i1(e.element,r,o,e.getSystem().buildOrPatch);m5(e,a),e.syncComponents()},h$=(e,t,r)=>{let o=e.getSystem().build(r);ur(e,o,t)},hG=(e,t,r,o)=>{ua(t),h$(e,(e,t)=>r2(e,t,r),o)},hK=(e,t)=>e.components(),hY=(e,t,r,o,a)=>{let n=hK(e);return B.from(n[o]).map(r=>(a.fold(()=>ua(r),a=>{(t.reuseDom?hW:hG)(e,r,o,a)}),r))};var hX=Object.freeze({__proto__:null,append:(e,t,r,o)=>{h$(e,r0,o)},prepend:(e,t,r,o)=>{h$(e,r1,o)},remove:(e,t,r,o)=>{Q(hK(e),e=>ts(o.element,e.element)).each(ua)},replaceAt:hY,replaceBy:(e,t,r,o,a)=>ee(hK(e),o).bind(o=>hY(e,t,r,o,a)),set:(e,t,r,o)=>(t.reuseDom?hq:hZ)(e,o),contents:hK});let hJ=cI({fields:[a9("reuseDom",!0)],name:"replacing",apis:hX}),hQ=(e,t)=>{let r=lf(t);return cI({fields:[aP("enabled")],name:e,active:{events:z(r)}})},h1=(e,t)=>{let r=hQ(e,t);return{key:e,value:{config:{},me:r,configAsRaw:z({}),initialConfig:{},state:ie}}},h0=(e,t)=>{t.ignore||(cZ(e.element),t.onFocus(e))};var h2=Object.freeze({__proto__:null,focus:h0,blur:(e,t)=>{t.ignore||cq(e.element)},isFocused:e=>cW(e.element)}),h4=Object.freeze({__proto__:null,exhibit:(e,t)=>ii(t.ignore?{}:{attributes:{tabindex:"-1"}}),events:e=>lf([lv(n$(),(t,r)=>{h0(t,e),r.stop()})].concat(e.stopMousedown?[lv(nA(),(e,t)=>{t.event.prevent()})]:[]))});let h3=cI({fields:[sV("onFocus"),a3("stopMousedown",!1),a3("ignore",!1)],name:"focusing",active:h4,apis:h2}),h5=(e,t,r)=>{let o=t.aria;o.update(e,o,r.get())},h6=(e,t,r)=>{t.toggleClass.each(t=>{r.get()?iI(e.element,t):iH(e.element,t)})},h8=(e,t,r,o)=>{let a=r.get();r.set(o),h6(e,t,r),h5(e,t,r),a!==o&&t.onToggled(e,o)},h7=(e,t,r)=>{h8(e,t,r,!r.get())},h9=(e,t,r)=>{h8(e,t,r,t.selected)};var fe=Object.freeze({__proto__:null,onLoad:h9,toggle:h7,isOn:(e,t,r)=>r.get(),on:(e,t,r)=>{h8(e,t,r,!0)},off:(e,t,r)=>{h8(e,t,r,!1)},set:h8}),ft=Object.freeze({__proto__:null,exhibit:()=>ii({}),events:(e,t)=>{let r=cA(e,t,h7),o=cO(e,t,h9);return lf(et([e.toggleOnExecute?[r]:[],[o]]))}});let fr=(e,t,r)=>{tP(e.element,"aria-expanded",r)},fo=cI({fields:[a3("selected",!1),aK("toggleClass"),a3("toggleOnExecute",!0),sV("onToggled"),a5("aria",{mode:"none"},aB("mode",{pressed:[a3("syncWithExpanded",!1),sW("update",(e,t,r)=>{tP(e.element,"aria-pressed",r),t.syncWithExpanded&&fr(e,t,r)})],checked:[sW("update",(e,t,r)=>{tP(e.element,"aria-checked",r)})],expanded:[sW("update",fr)],selected:[sW("update",(e,t,r)=>{tP(e.element,"aria-selected",r)})],none:[sW("update",_)]}))],name:"toggling",active:ft,apis:fe,state:{init:()=>{let e=no(!1);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(!1),readState:()=>e.get()}}}}),fa=()=>{let e=(e,t)=>{t.stop(),lm(e)};return[lv(nH(),e),lv(nQ(),e),lS(nS()),lS(nA())]},fn=e=>lf(et([e.map(e=>lD((t,r)=>{e(t),r.stop()})).toArray(),fa()])),fl="alloy.item-hover",fi="alloy.item-focus",fs="alloy.item-toggled",fc=e=>{(cG(e.element).isNone()||h3.isFocused(e))&&(h3.isFocused(e)||h3.focus(e),ld(e,fl,{item:e}))},fd=e=>{ld(e,fi,{item:e})},fm=(e,t)=>{ld(e,fs,{item:e,state:t})},fu=z(fl),fg=z(fi),fp=z(fs),fh=e=>e.toggling.map(e=>e.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),ff=e=>({aria:{mode:"checked"},...e_(e,(e,t)=>"exclusive"!==t),onToggled:(t,r)=>{v(e.onToggled)&&e.onToggled(t,r),fm(t,r)}}),fy=[aP("data"),aP("components"),aP("dom"),a3("hasSubmenu",!1),aK("toggling"),uH("itemBehaviours",[fo,h3,hU,uP]),a3("ignoreFocus",!1),a3("domModification",{}),sW("builder",e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:fh(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:uV(e.itemBehaviours,[e.toggling.fold(fo.revoke,e=>fo.config(ff(e))),h3.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{fd(e)}}),hU.config({mode:"execution"}),uP.config({store:{mode:"memory",initialValue:e.data}}),h1("item-type-events",[...fa(),lv(nM(),fc),lv(nJ(),h3.focus)])]),components:e.components,eventOrder:e.eventOrder})),a3("eventOrder",{})],fb=[aP("dom"),aP("components"),sW("builder",e=>({dom:e.dom,components:e.components,events:lf([lz(nJ())])}))],fv=z("item-widget"),fk=z([gl({name:"widget",overrides:e=>({behaviours:cF([uP.config({store:{mode:"manual",getValue:t=>e.data,setValue:_}})])})})]),fw=aB("type",{widget:[aP("uid"),aP("data"),aP("components"),aP("dom"),a3("autofocus",!1),a3("ignoreFocus",!1),uH("widgetBehaviours",[uP,h3,hU]),a3("domModification",{}),gT(fk()),sW("builder",e=>{let t=gv(fv(),e,fk()),r=gk(fv(),e,t.internals()),o=t=>gw(t,e,"widget").map(e=>(hU.focusIn(e),e)),a=(t,r)=>(gj(r.event.target)||e.autofocus&&r.setSource(t.element),B.none());return{dom:e.dom,components:r,domModification:e.domModification,events:lf([lD((e,t)=>{o(e).each(e=>{t.stop()})}),lv(nM(),fc),lv(nJ(),(t,r)=>{e.autofocus?o(t):h3.focus(t)})]),behaviours:uV(e.widgetBehaviours,[uP.config({store:{mode:"memory",initialValue:e.data}}),h3.config({ignore:e.ignoreFocus,onFocus:e=>{fd(e)}}),hU.config({mode:"special",focusIn:e.autofocus?e=>{o(e)}:cj(),onLeft:a,onRight:a,onEscape:(t,r)=>h3.isFocused(t)||e.autofocus?(e.autofocus&&r.setSource(t.element),B.none()):(h3.focus(t),B.some(!0))})])}})],item:fy,separator:fb}),f_=z([gc({factory:{sketch:e=>{let t=aM("menu.spec item",fw,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>eE(t,"uid")?t:{...t,uid:lJ("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),fx=z([aP("value"),aP("items"),aP("dom"),aP("components"),a3("eventOrder",{}),uH("menuBehaviours",[pa,uP,gU,hU]),a5("movement",{mode:"menu",moveOnTab:!0},aB("mode",{grid:[sG(),sW("config",(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}))],matrix:[sW("config",(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager})),aP("rowSelector"),a3("previousSelector",B.none)],menu:[a3("moveOnTab",!0),sW("config",(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}))]})),aH("markers",sL()),a3("fakeFocus",!1),a3("focusManager",pS()),sV("onHighlight"),sV("onDehighlight")]),fC=z("alloy.menu-focus"),fS=(e,t)=>{W(mv(e.element,'[role="menuitemradio"][aria-checked="true"]'),r=>{ts(r,t.element)||e.getSystem().getByDom(r).each(e=>{fo.off(e)})})},fz=gH({name:"Menu",configFields:fx(),partFields:f_(),factory:(e,t,r,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:uV(e.menuBehaviours,[pa.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),uP.config({store:{mode:"memory",initialValue:e.value}}),gU.config({find:B.some}),hU.config(e.movement.config(e,e.movement))]),events:lf([lv(fg(),(e,t)=>{let r=t.event;e.getSystem().getByDom(r.target).each(r=>{pa.highlight(e,r),t.stop(),ld(e,fC(),{menu:e,item:r})})}),lv(fu(),(e,t)=>{let r=t.event.item;pa.highlight(e,r)}),lv(fp(),(e,t)=>{let{item:r,state:o}=t.event;o&&"menuitemradio"===tj(r.element,"role")&&fS(e,r)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),fE=e=>eb(e,(e,t)=>({k:e,v:t})),fT=(e,t,r,o)=>ez(r,o).bind(o=>ez(e,o).bind(o=>{let a=fT(e,t,r,o);return B.some([o].concat(a))})).getOr([]),fA=(e,t)=>{let r={};ef(e,(e,t)=>{W(e,e=>{r[e]=t})});let o=fE(t),a=ey(o,(e,a)=>[a].concat(fT(r,t,o,a)));return ey(r,e=>ez(a,e).getOr([e]))},fO=e=>"prepared"===e.type?B.some(e.menu):B.none(),fD=()=>{let e=no({}),t=no({}),r=no({}),o=dp(),a=no({}),n=t=>eC(e.get(),(e,r)=>e===t),l=(e,t,r)=>i(e).bind(o=>n(e).bind(e=>t(e).map(e=>({triggeredMenu:o,triggeringItem:e,triggeringPath:r})))),i=e=>s(e).bind(fO),s=e=>ez(t.get(),e),c=t=>ez(e.get(),t);return{setMenuBuilt:(e,r)=>{t.set({...t.get(),[e]:{type:"prepared",menu:r}})},setContents:(n,l,i,s)=>{o.set(n),e.set(i),t.set(l),a.set(s);let c=fA(s,i);r.set(c)},expand:t=>ez(e.get(),t).map(e=>[e].concat(ez(r.get(),t).getOr([]))),refresh:e=>ez(r.get(),e),collapse:e=>ez(r.get(),e).bind(e=>e.length>1?B.some(e.slice(1)):B.none()),lookupMenu:s,lookupItem:c,otherMenus:e=>en(ep(a.get()),e),getPrimary:()=>o.get().bind(i),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),r.set({}),o.clear()},isClear:()=>o.get().isNone(),getTriggeringPath:(e,t)=>{let a=K(c(e).toArray(),e=>i(e).isSome());return ez(r.get(),e).bind(e=>{let r=ea(a.concat(e));return eN(er(r,(e,a)=>l(e,t,r.slice(0,a+1)).fold(()=>eA(o.get(),e)?[]:[B.none()],e=>[B.some(e)])))})}}},fN=lZ("tiered-menu-item-highlight"),fM=lZ("tiered-menu-item-dehighlight");(oc=ok||(ok={}))[oc.HighlightMenuAndItem=0]="HighlightMenuAndItem",oc[oc.HighlightJustMenu=1]="HighlightJustMenu",oc[oc.HighlightNone=2]="HighlightNone";let fR=z("collapse-item"),fB=gP({name:"TieredMenu",configFields:[sq("onExecute"),sq("onEscape"),sZ("onOpenMenu"),sZ("onOpenSubmenu"),sV("onRepositionMenu"),sV("onCollapseMenu"),a3("highlightOnOpen",ok.HighlightMenuAndItem),aW("data",[aP("primary"),aP("menus"),aP("expansions")]),a3("fakeFocus",!1),sV("onHighlightItem"),sV("onDehighlightItem"),sV("onHover"),sP(),aP("dom"),a3("navigateOnHover",!0),a3("stayInDom",!1),uH("tmenuBehaviours",[hU,pa,gU,hJ]),a3("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{var r;let o,a=dp(),n=(t,r,o)=>ey(o,(o,a)=>{let n=()=>fz.sketch({...o,value:a,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{ld(e,fN,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{ld(e,fM,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?pz():pS()});return a===r?{type:"prepared",menu:t.getSystem().build(n())}:{type:"notbuilt",nbMenu:n}}),l=fD(),i=t=>{let r=n(t,e.data.primary,e.data.menus),o=d();return l.setContents(e.data.primary,r,e.data.expansions,o),l.getPrimary()},s=e=>uP.getValue(e).value,c=(e,t,r)=>eg(t,e=>e.getSystem().isConnected()?Q(pa.getCandidates(e),e=>s(e)===r):B.none()),d=t=>ey(e.data.menus,(e,t)=>er(e.items,e=>"separator"===e.type?[]:[e.data.value])),m=pa.highlight,u=(t,r)=>{m(t,r),pa.getHighlighted(r).orThunk(()=>pa.getFirst(r)).each(o=>{e.fakeFocus?pa.highlight(r,o):lu(t,o.element,nJ())})},g=(e,t)=>eD(q(t,t=>e.lookupMenu(t).bind(e=>"prepared"===e.type?B.some(e.menu):B.none()))),p=(t,r,o)=>{W(g(r,r.otherMenus(o)),r=>{iZ(r.element,[e.markers.backgroundMenu]),e.stayInDom||hJ.remove(t,r)})},h=t=>a.get().getOrThunk(()=>{let r={};return W(K(mv(t.element,`.${e.markers.item}`),e=>"true"===tj(e,"aria-haspopup")),e=>{t.getSystem().getByDom(e).each(e=>{r[s(e)]=e})}),a.set(r),r}),f=(e,t)=>{ef(h(e),(e,r)=>{let o=j(t,r);tP(e.element,"aria-expanded",o)})},y=(t,r,o)=>B.from(o[0]).bind(a=>r.lookupMenu(a).bind(a=>{if("notbuilt"===a.type)return B.none();{let n=a.menu;return W(g(r,o.slice(1)),t=>{iI(t.element,e.markers.backgroundMenu)}),tB(n.element)||hJ.append(t,l6(n)),iZ(n.element,[e.markers.backgroundMenu]),u(t,n),p(t,r,o),B.some(n)}}));(r=o||(o={}))[r.HighlightSubmenu=0]="HighlightSubmenu",r[r.HighlightParent=1]="HighlightParent";let b=(e,t,r)=>{if("notbuilt"!==r.type)return r.menu;{let o=e.getSystem().build(r.nbMenu());return l.setMenuBuilt(t,o),o}},v=(t,r,a=o.HighlightSubmenu)=>{if(r.hasConfigured(g3)&&g3.isDisabled(r))return B.some(r);{let n=s(r);return l.expand(n).bind(n=>(f(t,n),B.from(n[0]).bind(i=>l.lookupMenu(i).bind(s=>{let c=b(t,i,s);return(tB(c.element)||hJ.append(t,l6(c)),e.onOpenSubmenu(t,r,c,ea(n)),a===o.HighlightSubmenu)?(pa.highlightFirst(c),y(t,l,n)):(pa.dehighlightAll(c),B.some(r))}))))}},k=(t,r)=>{let o=s(r);return l.collapse(o).bind(o=>(f(t,o),y(t,l,o).map(o=>(e.onCollapseMenu(t,r,o),o))))},w=(e,t)=>{let r=s(t);return l.refresh(r).bind(t=>(f(e,t),y(e,l,t)))},x=t=>(r,o)=>sw(o.getSource(),`.${e.markers.item}`).bind(e=>r.getSystem().getByDom(e).toOptional().bind(e=>t(r,e).map(R))),C=lf([lv(fC(),(e,t)=>{let r=t.event.item;l.lookupItem(s(r)).each(()=>{let r=t.event.menu;pa.highlight(e,r);let o=s(t.event.item);l.refresh(o).each(t=>p(e,l,t))})}),lD((t,r)=>{let a=r.event.target;t.getSystem().getByDom(a).each(r=>{0===s(r).indexOf("collapse-item")&&k(t,r),v(t,r,o.HighlightSubmenu).fold(()=>{e.onExecute(t,r)},_)})}),lT((t,r)=>{i(t).each(r=>{hJ.append(t,l6(r)),e.onOpenMenu(t,r),e.highlightOnOpen===ok.HighlightMenuAndItem?u(t,r):e.highlightOnOpen===ok.HighlightJustMenu&&m(t,r)})}),lv(fN,(t,r)=>{e.onHighlightItem(t,r.event.menuComp,r.event.itemComp)}),lv(fM,(t,r)=>{e.onDehighlightItem(t,r.event.menuComp,r.event.itemComp)}),...e.navigateOnHover?[lv(fu(),(t,r)=>{let a=r.event.item;w(t,a),v(t,a,o.HighlightParent),e.onHover(t,a)})]:[]]),S=e=>pa.getHighlighted(e).bind(pa.getHighlighted),z=e=>B.from(e.components()[0]).filter(e=>"menu"===tj(e.element,"role"));return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:uV(e.tmenuBehaviours,[hU.config({mode:"special",onRight:x((e,t)=>gj(t.element)?B.none():v(e,t,o.HighlightSubmenu)),onLeft:x((e,t)=>gj(t.element)?B.none():k(e,t)),onEscape:x((t,r)=>k(t,r).orThunk(()=>e.onEscape(t,r).map(()=>t))),focusIn:(e,t)=>{l.getPrimary().each(t=>{lu(e,t.element,nJ())})}}),pa.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),gU.config({find:e=>pa.getHighlighted(e)}),hJ.config({})]),eventOrder:e.eventOrder,apis:{collapseMenu:e=>{S(e).each(t=>{k(e,t)})},highlightPrimary:e=>{l.getPrimary().each(t=>{u(e,t)})},repositionMenus:t=>{l.getPrimary().bind(e=>S(t).bind(e=>{let r=s(e),o=eD(q(eS(l.getMenus()),fO));return l.getTriggeringPath(r,e=>c(t,o,e))}).map(t=>({primary:e,triggeringPath:t}))).fold(()=>{z(t).each(r=>{e.onRepositionMenu(t,r,[])})},({primary:r,triggeringPath:o})=>{e.onRepositionMenu(t,r,o)})}},events:C}},extraApis:{tieredData:(e,t,r)=>({primary:e,menus:t,expansions:r}),singleData:(e,t)=>({primary:e,menus:nd(e,t),expansions:{}}),collapseItem:e=>({value:lZ(fR()),meta:{text:e}})}}),fF=(e,t,r,o,a)=>{let n=()=>e.lazySink(t),l="horizontal"===o.type?{layouts:{onLtr:()=>cC(),onRtl:()=>cS()}}:{},i=e=>2===e.length,s=e=>i(e)?l:{};return fB.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(uw.close(t),e.onEscape.map(e=>e(t)),B.some(!0)),onExecute:()=>B.some(!0),onOpenMenu:(e,t)=>{m0.positionWithinBounds(n().getOrDie(),t,r,a())},onOpenSubmenu:(e,t,r,o)=>{let a=n().getOrDie();m0.position(a,r,{anchor:{type:"submenu",item:t,...s(o)}})},onRepositionMenu:(e,t,o)=>{let l=n().getOrDie();m0.positionWithinBounds(l,t,r,a()),W(o,e=>{let t=s(e.triggeringPath);m0.position(l,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})})}})},fL=gP({name:"InlineView",configFields:[aP("lazySink"),sV("onShow"),sV("onHide"),a1("onEscape"),uH("inlineBehaviours",[uw,uP,cV]),a2("fireDismissalEventInstead",[a3("event",le())]),a2("fireRepositionEventInstead",[a3("event",lt())]),a3("getRelated",B.none),a3("isExtraPart",M),a3("eventOrder",B.none)],factory:(e,t)=>{let r=(t,r)=>e.getRelated(t).exists(e=>sz(e,r)),o=(t,r,o,a)=>{let n=e.lazySink(t).getOrDie();uw.openWhileCloaked(t,r,()=>m0.positionWithinBounds(n,t,o,a())),uP.setValue(t,B.some({mode:"position",config:o,getBounds:a}))},a=(t,r,o,a)=>{let n=fF(e,t,r,o,a);uw.open(t,n),uP.setValue(t,B.some({mode:"menu",menu:n}))},n=t=>{uw.isOpen(t)&&uP.getValue(t).each(r=>{switch(r.mode){case"menu":uw.getState(t).each(fB.repositionMenus);break;case"position":let o=e.lazySink(t).getOrDie();m0.positionWithinBounds(o,t,r.config,r.getBounds())}})},l={setContent:(e,t)=>{uw.setContent(e,t)},showAt:(e,t,r)=>{o(e,t,r,B.none)},showWithinBounds:o,showMenuAt:(e,t,r)=>{a(e,t,r,B.none)},showMenuWithinBounds:a,hide:e=>{uw.isOpen(e)&&(uP.setValue(e,B.none()),uw.close(e))},getContent:e=>uw.getState(e),reposition:n,isOpen:uw.isOpen};return{uid:e.uid,dom:e.dom,behaviours:uV(e.inlineBehaviours,[uw.config({isPartOf:(e,t,o)=>sz(t,o)||r(e,o),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),uP.config({store:{mode:"memory",initialValue:B.none()}}),cV.config({channels:{...uz({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...uT({...e.fireRepositionEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({}),doReposition:n})}})]),eventOrder:e.eventOrder,apis:l}},apis:{showAt:(e,t,r,o)=>{e.showAt(t,r,o)},showWithinBounds:(e,t,r,o,a)=>{e.showWithinBounds(t,r,o,a)},showMenuAt:(e,t,r,o)=>{e.showMenuAt(t,r,o)},showMenuWithinBounds:(e,t,r,o,a)=>{e.showMenuWithinBounds(t,r,o,a)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,r)=>{e.setContent(t,r)},reposition:(e,t)=>{e.reposition(t)}}});var fI=tinymce.util.Tools.resolve("tinymce.util.Delay");let fP=gP({name:"Button",factory:e=>{let t=fn(e.action),r=e.dom.tag,o=t=>ez(e.dom,"attributes").bind(e=>ez(e,t));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:uV(e.buttonBehaviours,[h3.config({}),hU.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"!==r?{role:e.role.getOr(o("role").getOr("button"))}:{type:o("type").getOr("button"),...o("role").map(e=>({role:e})).getOr({})}},eventOrder:e.eventOrder}},configFields:[a3("uid",void 0),aP("dom"),a3("components",[]),uH("buttonBehaviours",[h3,hU]),aK("action"),aK("role"),a3("eventOrder",{})]}),fH=e=>X(void 0!==e.dom.attributes?e.dom.attributes:[],(e,t)=>"class"===t.name?e:{...e,[t.name]:t.value},{}),fj=e=>Array.prototype.slice.call(e.dom.classList,0),fV=e=>{let t=eY.fromHtml(e),r=tk(t),o=fH(t),a=fj(t),n=0===r.length?{}:{innerHtml:lM(t)};return{tag:e5(t),classes:a,attributes:o,...n}},fU=e=>{let t=gF(e)&&eT(e,"uid")?e.uid:lJ("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}},{entries:fZ,setPrototypeOf:fq,isFrozen:fW,getPrototypeOf:f$,getOwnPropertyDescriptor:fG}=Object,{freeze:fK,seal:fY,create:fX}=Object,{apply:fJ,construct:fQ}="undefined"!=typeof Reflect&&Reflect;fK||(fK=function(e){return e}),fY||(fY=function(e){return e}),fJ||(fJ=function(e,t,r){return e.apply(t,r)}),fQ||(fQ=function(e,t){return new e(...t)});let f1=yr(Array.prototype.forEach),f0=yr(Array.prototype.pop),f2=yr(Array.prototype.push),f4=yr(String.prototype.toLowerCase),f3=yr(String.prototype.toString),f5=yr(String.prototype.match),f6=yr(String.prototype.replace),f8=yr(String.prototype.indexOf),f7=yr(String.prototype.trim),f9=yr(Object.prototype.hasOwnProperty),ye=yr(RegExp.prototype.test),yt=(oa=TypeError,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return fQ(oa,t)});function yr(e){return function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return fJ(e,t,o)}}function yo(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f4;fq&&fq(e,null);let o=t.length;for(;o--;){let a=t[o];if("string"==typeof a){let e=r(a);e!==a&&(fW(t)||(t[o]=e),a=e)}e[a]=!0}return e}function ya(e){let t=fX(null);for(let[r,o]of fZ(e))f9(e,r)&&(Array.isArray(o)?t[r]=function(e){for(let t=0;t<e.length;t++)f9(e,t)||(e[t]=null);return e}(o):o&&"object"==typeof o&&o.constructor===Object?t[r]=ya(o):t[r]=o);return t}function yn(e,t){for(;null!==e;){let r=fG(e,t);if(r){if(r.get)return yr(r.get);if("function"==typeof r.value)return yr(r.value)}e=f$(e)}return function(){return null}}let yl=fK(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yi=fK(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ys=fK(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yc=fK(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yd=fK(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ym=fK(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yu=fK(["#text"]),yg=fK(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),yp=fK(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yh=fK(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yf=fK(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yy=fY(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yb=fY(/<%[\w\W]*|[\w\W]*%>/gm),yv=fY(/\${[\w\W]*}/gm),yk=fY(/^data-[\-\w.\u00B7-\uFFFF]/),yw=fY(/^aria-[\-\w]+$/),y_=fY(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yx=fY(/^(?:\w+script|data):/i),yC=fY(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yS=fY(/^html$/i);var yz=Object.freeze({__proto__:null,MUSTACHE_EXPR:yy,ERB_EXPR:yb,TMPLIT_EXPR:yv,DATA_ATTR:yk,ARIA_ATTR:yw,IS_ALLOWED_URI:y_,IS_SCRIPT_OR_DATA:yx,ATTR_WHITESPACE:yC,DOCTYPE_NAME:yS,CUSTOM_ELEMENT:fY(/^[a-z][.\w]*(-[.\w]+)+$/i)});let yE={element:1,text:3,progressingInstruction:7,comment:8,document:9},yT=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(r=t.getAttribute(o));let a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};var yA=function e(){let t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,o=t=>e(t);if(o.version="3.1.7",o.removed=[],!r||!r.document||r.document.nodeType!==yE.document)return o.isSupported=!1,o;let{document:a}=r,n=a,l=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:c,Element:d,NodeFilter:m,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:g,DOMParser:p,trustedTypes:h}=r,f=d.prototype,y=yn(f,"cloneNode"),b=yn(f,"remove"),v=yn(f,"nextSibling"),k=yn(f,"childNodes"),w=yn(f,"parentNode");if("function"==typeof s){let e=a.createElement("template");e.content&&e.content.ownerDocument&&(a=e.content.ownerDocument)}let _="",{implementation:x,createNodeIterator:C,createDocumentFragment:S,getElementsByTagName:z}=a,{importNode:E}=n,T={};o.isSupported="function"==typeof fZ&&"function"==typeof w&&x&&void 0!==x.createHTMLDocument;let{MUSTACHE_EXPR:A,ERB_EXPR:O,TMPLIT_EXPR:D,DATA_ATTR:N,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:F}=yz,{IS_ALLOWED_URI:L}=yz,I=null,P=yo({},[...yl,...yi,...ys,...yd,...yu]),H=null,j=yo({},[...yg,...yp,...yh,...yf]),V=Object.seal(fX(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,Z=null,q=!0,W=!0,$=!1,G=!0,K=!1,Y=!0,X=!1,J=!1,Q=!1,ee=!1,et=!1,er=!1,eo=!0,ea=!1,en=!0,el=!1,ei={},es=null,ec=yo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ed=null,em=yo({},["audio","video","img","source","image","track"]),eu=null,eg=yo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ep="http://www.w3.org/1998/Math/MathML",eh="http://www.w3.org/2000/svg",ef="http://www.w3.org/1999/xhtml",ey=ef,eb=!1,ev=null,ek=yo({},[ep,eh,ef],f3),ew=null,e_=["application/xhtml+xml","text/html"],ex=null,eC=null,eS=a.createElement("form"),ez=function(e){return e instanceof RegExp||e instanceof Function},eE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!eC||eC!==e){if(e&&"object"==typeof e||(e={}),e=ya(e),ex="application/xhtml+xml"===(ew=-1===e_.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?f3:f4,I=f9(e,"ALLOWED_TAGS")?yo({},e.ALLOWED_TAGS,ex):P,H=f9(e,"ALLOWED_ATTR")?yo({},e.ALLOWED_ATTR,ex):j,ev=f9(e,"ALLOWED_NAMESPACES")?yo({},e.ALLOWED_NAMESPACES,f3):ek,eu=f9(e,"ADD_URI_SAFE_ATTR")?yo(ya(eg),e.ADD_URI_SAFE_ATTR,ex):eg,ed=f9(e,"ADD_DATA_URI_TAGS")?yo(ya(em),e.ADD_DATA_URI_TAGS,ex):em,es=f9(e,"FORBID_CONTENTS")?yo({},e.FORBID_CONTENTS,ex):ec,U=f9(e,"FORBID_TAGS")?yo({},e.FORBID_TAGS,ex):{},Z=f9(e,"FORBID_ATTR")?yo({},e.FORBID_ATTR,ex):{},ei=!!f9(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,$=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,K=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,et=e.RETURN_DOM_FRAGMENT||!1,er=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,eo=!1!==e.SANITIZE_DOM,ea=e.SANITIZE_NAMED_PROPS||!1,en=!1!==e.KEEP_CONTENT,el=e.IN_PLACE||!1,L=e.ALLOWED_URI_REGEXP||y_,ey=e.NAMESPACE||ef,V=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ez(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ez(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(W=!1),et&&(ee=!0),ei&&(I=yo({},yu),H=[],!0===ei.html&&(yo(I,yl),yo(H,yg)),!0===ei.svg&&(yo(I,yi),yo(H,yp),yo(H,yf)),!0===ei.svgFilters&&(yo(I,ys),yo(H,yp),yo(H,yf)),!0===ei.mathMl&&(yo(I,yd),yo(H,yh),yo(H,yf))),e.ADD_TAGS&&(I===P&&(I=ya(I)),yo(I,e.ADD_TAGS,ex)),e.ADD_ATTR&&(H===j&&(H=ya(H)),yo(H,e.ADD_ATTR,ex)),e.ADD_URI_SAFE_ATTR&&yo(eu,e.ADD_URI_SAFE_ATTR,ex),e.FORBID_CONTENTS&&(es===ec&&(es=ya(es)),yo(es,e.FORBID_CONTENTS,ex)),en&&(I["#text"]=!0),X&&yo(I,["html","head","body"]),I.table&&(yo(I,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw yt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw yt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=yT(h,l)),null!==t&&"string"==typeof _&&(_=t.createHTML(""));fK&&fK(e),eC=e}},eT=yo({},["mi","mo","mn","ms","mtext"]),eA=yo({},["annotation-xml"]),eO=yo({},["title","style","font","a","script"]),eD=yo({},[...yi,...ys,...yc]),eN=yo({},[...yd,...ym]),eM=function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:ey,tagName:"template"});let r=f4(e.tagName),o=f4(t.tagName);return!!ev[e.namespaceURI]&&(e.namespaceURI===eh?t.namespaceURI===ef?"svg"===r:t.namespaceURI===ep?"svg"===r&&("annotation-xml"===o||eT[o]):!!eD[r]:e.namespaceURI===ep?t.namespaceURI===ef?"math"===r:t.namespaceURI===eh?"math"===r&&eA[o]:!!eN[r]:e.namespaceURI===ef?(t.namespaceURI!==eh||!!eA[o])&&(t.namespaceURI!==ep||!!eT[o])&&!eN[r]&&(eO[r]||!eD[r]):"application/xhtml+xml"===ew&&!!ev[e.namespaceURI])},eR=function(e){f2(o.removed,{element:e});try{w(e).removeChild(e)}catch(t){b(e)}},eB=function(e,t){try{f2(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f2(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!H[e])if(ee||et)try{eR(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},eF=function(e){let r=null,o=null;if(Q)e="<remove></remove>"+e;else{let t=f5(e,/^[\r\n\t ]+/);o=t&&t[0]}"application/xhtml+xml"===ew&&ey===ef&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let n=t?t.createHTML(e):e;if(ey===ef)try{r=new p().parseFromString(n,ew)}catch(e){}if(!r||!r.documentElement){r=x.createDocument(ey,"template",null);try{r.documentElement.innerHTML=eb?_:n}catch(e){}}let l=r.body||r.documentElement;return(e&&o&&l.insertBefore(a.createTextNode(o),l.childNodes[0]||null),ey===ef)?z.call(r,X?"html":"body")[0]:X?r.documentElement:l},eL=function(e){return C.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},eI=function(e){return e instanceof g&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},eP=function(e){return"function"==typeof c&&e instanceof c},eH=function(e,t,r){T[e]&&f1(T[e],e=>{e.call(o,t,r,eC)})},ej=function(e){let t=null;if(eH("beforeSanitizeElements",e,null),eI(e))return eR(e),!0;let r=ex(e.nodeName);if(eH("uponSanitizeElement",e,{tagName:r,allowedTags:I}),e.hasChildNodes()&&!eP(e.firstElementChild)&&ye(/<[/\w]/g,e.innerHTML)&&ye(/<[/\w]/g,e.textContent)||e.nodeType===yE.progressingInstruction||Y&&e.nodeType===yE.comment&&ye(/<[/\w]/g,e.data))return eR(e),!0;if(!I[r]||U[r]){if(!U[r]&&eU(r)&&(V.tagNameCheck instanceof RegExp&&ye(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r)))return!1;if(en&&!es[r]){let t=w(e)||e.parentNode,r=k(e)||e.childNodes;if(r&&t){let o=r.length;for(let a=o-1;a>=0;--a){let o=y(r[a],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,v(e))}}}return eR(e),!0}return e instanceof d&&!eM(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&ye(/<\/no(script|embed|frames)/i,e.innerHTML)?(eR(e),!0):(K&&e.nodeType===yE.text&&(t=e.textContent,f1([A,O,D],e=>{t=f6(t,e," ")}),e.textContent!==t&&(f2(o.removed,{element:e.cloneNode()}),e.textContent=t)),eH("afterSanitizeElements",e,null),!1)},eV=function(e,t,r){if(eo&&("id"===t||"name"===t)&&(r in a||r in eS))return!1;if(W&&!Z[t]&&ye(N,t));else if(q&&ye(M,t));else if(!H[t]||Z[t]){if(!(eU(e)&&(V.tagNameCheck instanceof RegExp&&ye(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&ye(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&ye(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r))))return!1}else if(eu[t]);else if(ye(L,f6(r,B,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===f8(r,"data:")&&ed[e]);else if($&&!ye(R,f6(r,B,"")));else if(r)return!1;return!0},eU=function(e){return"annotation-xml"!==e&&f5(e,F)},eZ=function(e){eH("beforeSanitizeAttributes",e,null);let{attributes:r}=e;if(!r)return;let a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H},n=r.length;for(;n--;){let{name:l,namespaceURI:i,value:s}=r[n],c=ex(l),d="value"===l?s:f7(s),m=d;if(a.attrName=c,a.attrValue=d,a.keepAttr=!0,a.forceKeepAttr=void 0,eH("uponSanitizeAttribute",e,a),d=a.attrValue,a.forceKeepAttr)continue;if(!a.keepAttr||!G&&ye(/\/>/i,d)){eB(l,e);continue}K&&f1([A,O,D],e=>{d=f6(d,e," ")});let u=ex(e.nodeName);if(!eV(u,c,d)||(ea&&("id"===c||"name"===c)&&(eB(l,e),d="user-content-"+d),Y&&ye(/((--!?|])>)|<\/(style|title)/i,d))){eB(l,e);continue}if(t&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(i);else switch(h.getAttributeType(u,c)){case"TrustedHTML":d=t.createHTML(d);break;case"TrustedScriptURL":d=t.createScriptURL(d)}if(d!==m)try{i?e.setAttributeNS(i,l,d):e.setAttribute(l,d),eI(e)?eR(e):f0(o.removed)}catch(e){}}eH("afterSanitizeAttributes",e,null)},eq=function e(t){let r=null,o=eL(t);for(eH("beforeSanitizeShadowDOM",t,null);r=o.nextNode();)eH("uponSanitizeShadowNode",r,null),ej(r)||(r.content instanceof i&&e(r.content),eZ(r));eH("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null,l=null,s=null,d=null;if((eb=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!eP(e))if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw yt("dirty is not a string, aborting")}else throw yt("toString is not a function");if(!o.isSupported)return e;if(J||eE(r),o.removed=[],"string"==typeof e&&(el=!1),el){if(e.nodeName){let t=ex(e.nodeName);if(!I[t]||U[t])throw yt("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)(l=(a=eF("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType===yE.element&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return t&&er?t.createHTML(e):e;if(!(a=eF(e)))return ee?null:er?_:""}a&&Q&&eR(a.firstChild);let m=eL(el?e:a);for(;s=m.nextNode();)ej(s)||(s.content instanceof i&&eq(s.content),eZ(s));if(el)return e;if(ee){if(et)for(d=S.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return(H.shadowroot||H.shadowrootmode)&&(d=E.call(n,d,!0)),d}let u=X?a.outerHTML:a.innerHTML;return X&&I["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&ye(yS,a.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+u),K&&f1([A,O,D],e=>{u=f6(u,e," ")}),t&&er?t.createHTML(u):u},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};eE(e),J=!0},o.clearConfig=function(){eC=null,J=!1},o.isValidAttribute=function(e,t,r){return eC||eE({}),eV(ex(e),ex(t),r)},o.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],f2(T[e],t))},o.removeHook=function(e){if(T[e])return f0(T[e])},o.removeHooks=function(e){T[e]&&(T[e]=[])},o.removeAllHooks=function(){T={}},o}();let yO=e=>yA().sanitize(e);var yD=tinymce.util.Tools.resolve("tinymce.util.I18n");let yN={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},yM="temporary-placeholder",yR=e=>()=>ez(e,yM).getOr("!not found!"),yB=(e,t)=>{let r=e.toLowerCase();if(!yD.isRtl())return r;{let e=ej(r,"-rtl");return eE(t,e)?e:r}},yF=(e,t)=>ez(t,yB(e,t)),yL=(e,t)=>{let r=t();return yF(e,r).getOrThunk(yR(r))},yI=(e,t,r)=>{let o=t();return yF(e,o).or(r).getOrThunk(yR(o))},yP=e=>!!yD.isRtl()&&eE(yN,e),yH=()=>h1("add-focusable",[lT(e=>{sv(e.element,"svg").each(e=>tP(e,"focusable","false"))})]),yj=(e,t,r,o)=>{var a,n;let l=yP(t)?["tox-icon--flip"]:[],i=ez(r,yB(t,r)).or(o).getOrThunk(yR(r));return{dom:{tag:e.tag,attributes:null!=(a=e.attributes)?a:{},classes:e.classes.concat(l),innerHtml:i},behaviours:cF([...null!=(n=e.behaviours)?n:[],yH()])}},yV=(e,t,r,o=B.none())=>yj(t,e,r(),o),yU=(e,t,r)=>{let o=r();return yj(t,Q(e,e=>eE(o,yB(e,o))).getOr(yM),o,B.none())},yZ={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},yq=gP({name:"Notification",factory:e=>{let t=fU({dom:fV(`<p>${yO(e.translationProvider(e.text))}</p>`),behaviours:cF([hJ.config({})])}),r=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),o=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),a=fU({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(0)]},o(0)],behaviours:cF([hJ.config({})])}),n=et([e.icon.toArray(),e.level.toArray(),e.level.bind(e=>B.from(yZ[e])).toArray()]),l=fU(fP.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[yV("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),i=yU(n,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),s={dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:cF([hJ.config({})])};return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(e=>["tox-notification","tox-notification--in",`tox-notification--${e}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:cF([h3.config({}),h1("notification-events",[lv(nR(),e=>{l.getOpt(e).each(h3.focus)})])]),components:[i,s].concat(e.progress?[a.asSpec()]:[]).concat(e.closeButton?[l.asSpec()]:[]),apis:{updateProgress:(e,t)=>{e.getSystem().isConnected()&&a.getOpt(e).each(e=>{hJ.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(t)]},o(t)])})},updateText:(e,r)=>{if(e.getSystem().isConnected()){let o=t.get(e);hJ.set(o,[si(r)])}}}}},configFields:[aK("level"),aP("progress"),aK("icon"),aP("onAction"),aP("text"),aP("iconProvider"),aP("translationProvider"),a9("closeButton",!0)],apis:{updateProgress:(e,t,r)=>{e.updateProgress(t,r)},updateText:(e,t,r)=>{e.updateText(t,r)}}});var yW=(e,t,r)=>{let o=t.backstage.shared,a=()=>{let t=oN(eY.fromDom(e.getContentAreaContainer())),r=oF(),o=s9(r.x,t.x,t.right),a=s9(r.y,t.y,t.bottom),n=Math.max(t.right,r.right),l=Math.max(t.bottom,r.bottom);return B.some(oD(o,a,n-o,l-a))};return{open:(t,n)=>{let l=()=>{n(),fL.hide(s)},i=sm(yq.sketch({text:t.text,level:j(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:l,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),s=sm(fL.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{},...o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));r.add(s),k(t.timeout)&&t.timeout>0&&fI.setEditorTimeout(e,()=>{l()},t.timeout);let c={close:l,reposition:()=>{let t=l6(i),r={maxHeightFunction:dB()},n=e.notificationManager.getNotifications();if(n[0]===c){let e={...o.anchors.banner(),overrides:r};fL.showWithinBounds(s,t,{anchor:e},a)}else H(n,c).each(e=>{let o=n[e-1].getEl(),l={type:"node",root:tF(),node:B.some(eY.fromDom(o)),overrides:r,layouts:{onRtl:()=>[cy],onLtr:()=>[cy]}};fL.showWithinBounds(s,t,{anchor:l},a)})},text:e=>{yq.updateText(i,e)},settings:t,getEl:()=>i.element.dom,progressBar:{value:e=>{yq.updateProgress(i,e)}}};return c},close:e=>{e.close()},getArgs:e=>e.settings}},y$=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yG=tinymce.util.Tools.resolve("tinymce.EditorManager"),yK=tinymce.util.Tools.resolve("tinymce.Env");(od=ow||(ow={})).default="wrap",od.floating="floating",od.sliding="sliding",od.scrolling="scrolling",(om=o_||(o_={})).auto="auto",om.top="top",om.bottom="bottom";let yY=e=>t=>t.options.get(e),yX=e=>t=>B.from(e(t)),yJ=e=>{let t=yK.deviceType.isPhone(),r=yK.deviceType.isTablet()||t,o=e.options.register,a=e=>d(e)||!1===e,n=e=>d(e)||k(e);o("skin",{processor:e=>d(e)||!1===e,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:n,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:n,default:y$.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("font_size_input_default_unit",{processor:"string",default:"pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:e=>d(e)||h(e),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:e=>h(e)||d(e)||g(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),U(9,e=>{o("toolbar"+(e+1),{processor:"string"})}),o("toolbar_mode",{processor:"string",default:r?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:o_.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("ui_mode",{processor:"string",default:"combined"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:a,default:"#top"}),o("anchor_bottom",{processor:a,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("promotion",{processor:"boolean",default:!0}),o("resize",{processor:e=>"both"===e||h(e),default:!yK.deviceType.isTouch()}),o("sidebar_show",{processor:"string"}),o("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),o("default_font_stack",{processor:"string[]",default:[]})},yQ=yY("readonly"),y1=yY("height"),y0=yY("width"),y2=yX(yY("min_width")),y4=yX(yY("min_height")),y3=yX(yY("max_width")),y5=yX(yY("max_height")),y6=yX(yY("style_formats")),y8=yY("style_formats_merge"),y7=yY("style_formats_autohide"),y9=yY("content_langs"),be=yY("removed_menuitems"),bt=yY("toolbar_mode"),br=yY("toolbar_groups"),bo=yY("toolbar_location"),ba=yY("fixed_toolbar_container"),bn=yY("fixed_toolbar_container_target"),bl=yY("toolbar_persist"),bi=yY("toolbar_sticky_offset"),bs=yY("menubar"),bc=yY("toolbar"),bd=yY("file_picker_callback"),bm=yY("file_picker_validator_handler"),bu=yY("font_size_input_default_unit"),bg=yY("file_picker_types"),bp=yY("typeahead_urls"),bh=yY("anchor_top"),bf=yY("anchor_bottom"),by=yY("draggable_modal"),bb=yY("statusbar"),bv=yY("elementpath"),bk=yY("branding"),bw=yY("resize"),b_=yY("paste_as_text"),bx=yY("sidebar_show"),bC=yY("promotion"),bS=yY("help_accessibility"),bz=yY("default_font_stack"),bE=e=>!1===e.options.get("skin"),bT=e=>!1!==e.options.get("menubar"),bA=e=>{let t=e.options.get("skin_url");if(bE(e))return t;{if(t)return e.documentBaseURI.toAbsolute(t);let r=e.options.get("skin");return yG.baseURL+"/skins/ui/"+r}},bO=e=>B.from(e.options.get("skin_url")),bD=e=>e.options.get("line_height_formats").split(" "),bN=e=>{let t=bc(e),r=d(t),o=g(t)&&t.length>0;return!bR(e)&&(o||r||!0===t)},bM=e=>{let t=K(U(9,t=>e.options.get("toolbar"+(t+1))),d);return eF(t.length>0,t)},bR=e=>bM(e).fold(()=>{let t=bc(e);return w(t,d)&&t.length>0},R),bB=e=>bo(e)===o_.bottom,bF=e=>{var t;if(!e.inline)return B.none();let r=null!=(t=ba(e))?t:"";if(r.length>0)return sk(tF(),r);let o=bn(e);return b(o)?B.some(eY.fromDom(o)):B.none()},bL=e=>e.inline&&bF(e).isSome(),bI=e=>bF(e).getOrThunk(()=>tA(tT(eY.fromDom(e.getElement())))),bP=e=>e.inline&&!bT(e)&&!bN(e)&&!bR(e),bH=e=>(e.options.get("toolbar_sticky")||e.inline)&&!bL(e)&&!bP(e),bj=e=>!bL(e)&&"split"===e.options.get("ui_mode"),bV=e=>ey(e.options.get("menu"),e=>({...e,items:e.items}));var bU=Object.freeze({__proto__:null,get ToolbarMode(){return ow},get ToolbarLocation(){return o_},register:yJ,getSkinUrl:bA,getSkinUrlOption:bO,isReadOnly:yQ,isSkinDisabled:bE,getHeightOption:y1,getWidthOption:y0,getMinWidthOption:y2,getMinHeightOption:y4,getMaxWidthOption:y3,getMaxHeightOption:y5,getUserStyleFormats:y6,shouldMergeStyleFormats:y8,shouldAutoHideStyleFormats:y7,getLineHeightFormats:bD,getContentLanguages:y9,getRemovedMenuItems:be,isMenubarEnabled:bT,isMultipleToolbars:bR,isToolbarEnabled:bN,isToolbarPersist:bl,getMultipleToolbarsOption:bM,getUiContainer:bI,useFixedContainer:bL,isSplitUiMode:bj,getToolbarMode:bt,isDraggableModal:by,isDistractionFree:bP,isStickyToolbar:bH,getStickyToolbarOffset:bi,getToolbarLocation:bo,isToolbarLocationBottom:bB,getToolbarGroups:br,getMenus:bV,getMenubar:bs,getToolbar:bc,getFilePickerCallback:bd,getFilePickerTypes:bg,useTypeaheadUrls:bp,getAnchorTop:bh,getAnchorBottom:bf,getFilePickerValidatorHandler:bm,getFontSizeInputDefaultUnit:bu,useStatusBar:bb,useElementPath:bv,promotionEnabled:bC,useBranding:bk,getResize:bw,getPasteAsText:b_,getSidebarShow:bx,useHelpAccessibility:bS,getDefaultFontStack:bz});let bZ="[data-mce-autocompleter]",bq=e=>sw(e,bZ),bW=e=>sk(e,bZ),b$=(e,t)=>{let r=(e,t)=>{ld(e,nF(),{raw:t})},o=()=>e.getMenu().bind(pa.getHighlighted);t.on("keydown",t=>{let a=t.which;e.isActive()&&(e.isMenuOpen()?13===a?(o().each(lm),t.preventDefault()):40===a?(o().fold(()=>{e.getMenu().each(pa.highlightFirst)},e=>{r(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):(37===a||38===a||39===a)&&o().each(e=>{r(e,t),t.preventDefault(),t.stopImmediatePropagation()}):(13===a||38===a||40===a)&&e.cancelIfNecessary())}),t.on("NodeChange",t=>{e.isActive()&&!e.isProcessingAction()&&bq(eY.fromDom(t.element)).isNone()&&e.cancelIfNecessary()})};(ou=ox||(ox={}))[ou.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",ou[ou.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var bG=ox;let bK="tox-menu-nav__js",bY="tox-collection__item",bX="tox-swatch",bJ={normal:bK,color:bX},bQ="tox-collection__item--enabled",b1="tox-collection__item-icon",b0="tox-collection__item-label",b2="tox-collection__item-caret",b4="tox-collection__item--active",b3="tox-collection__item-container",b5="tox-collection__item-container--row",b6=e=>ez(bJ,e).getOr(bK),b8=e=>"color"===e?"tox-swatches":"tox-menu",b7=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:b8(e),tieredMenu:"tox-tiered-menu"}),b9=e=>{let t=b7(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:b6(e)}},ve=(e,t,r)=>{let o=b7(r);return{tag:"div",classes:et([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},vt=[fz.parts.items({})],vr=(e,t,r)=>({dom:{tag:"div",classes:et([[b7(r).tieredMenu]])},markers:b9(r)}),vo=z([aK("data"),a3("inputAttributes",{}),a3("inputStyles",{}),a3("tag","input"),a3("inputClasses",[]),sV("onSetValue"),a3("styles",{}),a3("eventOrder",{}),uH("inputBehaviours",[uP,h3]),a3("selectOnFocus",!0)]),va=e=>cF([h3.config({onFocus:e.selectOnFocus?e=>{let t=e.element,r=iK(t);t.dom.setSelectionRange(0,r.length)}:_})]),vn=e=>({...va(e),...uV(e.inputBehaviours,[uP.config({store:{mode:"manual",...e.data.map(e=>({initialValue:e})).getOr({}),getValue:e=>iK(e.element),setValue:(e,t)=>{iK(e.element)!==t&&iY(e.element,t)}},onSetValue:e.onSetValue})])}),vl=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),vi=gP({name:"Input",configFields:vo(),factory:(e,t)=>({uid:e.uid,dom:vl(e),components:[],behaviours:vn(e),eventOrder:e.eventOrder})}),vs=lZ("refetch-trigger-event"),vc=lZ("redirect-menu-item-interaction"),vd="tox-menu__searcher",vm=e=>sk(e.element,`.${vd}`).bind(t=>e.getSystem().getByDom(t).toOptional()),vu=(e,t)=>{uP.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd},vg=e=>{let t=uP.getValue(e);return{fetchPattern:t,selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}},vp=(e,t)=>{tV(t.element,"id").each(t=>tP(e.element,"aria-activedescendant",t))},vh=e=>{let t=(e,t)=>(t.cut(),B.none()),r=(e,t)=>(ld(e,vc,{interactionEvent:t.event,eventType:t.event.raw.type}),B.some(!0)),o="searcher-events";return{dom:{tag:"div",classes:[bY]},components:[vi.sketch({inputClasses:[vd,"tox-textfield"],inputAttributes:{...e.placeholder.map(t=>({placeholder:e.i18n(t)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:cF([h1(o,[lv(nI(),e=>{lc(e,vs)}),lv(nF(),(e,t)=>{"Escape"===t.event.raw.key&&t.stop()})]),hU.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:r,onEscape:r,onUp:r,onDown:r})]),eventOrder:{keydown:[o,hU.name()]}})]}},vf="tox-collection--results__js",vy=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!=(t=e.dom.attributes)?t:{},id:lZ("aria-item-search-result-id"),"aria-selected":"false"}}}:e},vb=(e,t)=>r=>q(Z(r,t),t=>({dom:e,components:t})),vv=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[fz.parts.items({preprocess:"auto"!==e?vb({tag:"div",classes:["tox-swatches__row"]},e):E})]}]}),vk=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[fz.parts.items({preprocess:vb({tag:"div",classes:["tox-collection__group"]},e)})]}),vw=(e,t)=>{let r=[],o=[];return W(e,(e,a)=>{t(e,a)?(o.length>0&&r.push(o),o=[],(eE(e.dom,"innerHtml")||e.components&&e.components.length>0)&&o.push(e)):o.push(e)}),o.length>0&&r.push(o),q(r,e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e}))},v_=(e,t,r)=>fz.parts.items({preprocess:o=>{let a=q(o,r);return"auto"!==e&&e>1?vb({tag:"div",classes:["tox-collection__group"]},e)(a):vw(a,(e,r)=>"separator"===t[r].type)}}),vx=(e,t,r=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[v_(e,t,E)]}),vC=(e,t,r=!0)=>{let o=lZ("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",vf].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:o}},components:[v_(e,t,vy)]}},vS=(e,t,r)=>{let o=lZ("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[vh({i18n:yD.translate,placeholder:r.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],vf],attributes:{id:o}},components:[v_(e,t,vy)]}]}},vz=(e,t=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[fz.parts.items({preprocess:t=>vw(t,(t,r)=>"separator"===e[r].type)})]}),vE=e=>V(e,e=>"icon"in e&&void 0!==e.icon),vT=e=>(console.error(aR(e)),console.log(e),B.none()),vA=(e,t,r,o,a)=>{let n=vz(r);return{value:e,dom:n.dom,components:n.components,items:r}},vO=(e,t,r,o,a)=>{if("color"===a.menuType){let t=vv(o);return{value:e,dom:t.dom,components:t.components,items:r}}if("normal"===a.menuType&&"auto"===o){let t=vx(o,r);return{value:e,dom:t.dom,components:t.components,items:r}}if("normal"===a.menuType||"searchable"===a.menuType){let t="searchable"!==a.menuType?vx(o,r):"search-with-field"===a.searchMode.searchMode?vS(o,r,a.searchMode):vC(o,r);return{value:e,dom:t.dom,components:t.components,items:r}}{if("listpreview"!==a.menuType||"auto"===o)return{value:e,dom:ve(t,o,a.menuType),components:vt,items:r};let n=vk(o);return{value:e,dom:n.dom,components:n.components,items:r}}},vD=aV("type"),vN=aV("name"),vM=aV("label"),vR=aV("text"),vB=aV("title"),vF=aV("icon"),vL=aV("value"),vI=aZ("fetch"),vP=aZ("getSubmenuItems"),vH=aZ("onAction"),vj=aZ("onItemAction"),vV=ne("onSetup",()=>_),vU=aJ("name"),vZ=aJ("text"),vq=aJ("icon"),vW=aJ("tooltip"),v$=aJ("label"),vG=aJ("shortcut"),vK=a1("select"),vY=a9("active",!1),vX=a9("borderless",!1),vJ=a9("enabled",!0),vQ=a9("primary",!1),v1=e=>a3("columns",e),v0=a3("meta",{}),v2=ne("onAction",_),v4=e=>a8("type",e),v3=e=>oq("name","name",oX(()=>lZ(`${e}-name`)),aw),v5=au([vD,vZ]),v6=e=>aD("separatormenuitem",v5,e),v8=au([v4("autocompleteitem"),vY,vJ,v0,vL,vZ,vq]),v7=e=>aD("Autocompleter.Separator",v5,e),v9=e=>aD("Autocompleter.Item",v8,e),ke=[vJ,vW,vq,vZ,vV],kt=au([vD,vH].concat(ke)),kr=e=>aD("toolbarbutton",kt,e),ko=[vY].concat(ke),ka=au(ko.concat([vD,vH])),kn=e=>aD("ToggleButton",ka,e),kl=[ne("predicate",M),a7("scope","node",["node","editor"]),a7("position","selection",["node","selection","line"])],ki=ke.concat([v4("contextformbutton"),vQ,vH,aL("original",E)]),ks=ko.concat([v4("contextformbutton"),vQ,vH,aL("original",E)]),kc=ke.concat([v4("contextformbutton")]),kd=ko.concat([v4("contextformtogglebutton")]),km=aB("type",{contextformbutton:ki,contextformtogglebutton:ks}),ku=au([v4("contextform"),ne("initValue",z("")),v$,aG("commands",km),aY("launch",aB("type",{contextformbutton:kc,contextformtogglebutton:kd}))].concat(kl)),kg=e=>aD("ContextForm",ku,e),kp=au([v4("contexttoolbar"),aV("items")].concat(kl)),kh=e=>aD("ContextToolbar",kp,e),kf=au([vD,aV("src"),aJ("alt"),nt("classes",[],aw)]),ky=au([vD,vR,vU,nt("classes",["tox-collection__item-label"],aw)]),kb=ac(()=>aE("type",{cardimage:kf,cardtext:ky,cardcontainer:kv})),kv=au([vD,a8("direction","horizontal"),a8("align","left"),a8("valign","middle"),aG("items",kb)]),kk=[vJ,vZ,vG,oq("value","value",oX(()=>lZ("menuitem-value")),ab()),v0],kw=au([vD,v$,aG("items",kb),vV,v2].concat(kk)),k_=e=>aD("cardmenuitem",kw,e),kx=au([vD,vY,vq].concat(kk)),kC=e=>aD("choicemenuitem",kx,e),kS=[vD,aV("fancytype"),v2],kz=aB("fancytype",{inserttable:[a3("initData",{})].concat(kS),colorswatch:[a1("select"),nr("initData",{},[a9("allowCustomColors",!0),a8("storageKey","default"),a0("colors",ab())])].concat(kS)}),kE=e=>aD("fancymenuitem",kz,e),kT=au([vD,vV,v2,vq].concat(kk)),kA=e=>aD("menuitem",kT,e),kO=au([vD,vP,vV,vq].concat(kk)),kD=e=>aD("nestedmenuitem",kO,e),kN=au([vD,vq,vY,vV,vH].concat(kk)),kM=e=>aD("togglemenuitem",kN,e),kR=(e,t,r)=>{let o=mv(e.element,"."+r);if(!(o.length>0))return B.none();{let e=ee(o,e=>Math.abs(e.dom.getBoundingClientRect().top-o[0].dom.getBoundingClientRect().top)>t).getOr(o.length);return B.some({numColumns:e,numRows:Math.ceil(o.length/e)})}},kB=(e,t)=>cF([h1(e,t)]),kF=e=>kB(lZ("unnamed-events"),e),kL=lZ("tooltip.exclusive"),kI=lZ("tooltip.show"),kP=lZ("tooltip.hide"),kH=(e,t,r)=>{e.getSystem().broadcastOn([kL],{})};var kj=Object.freeze({__proto__:null,hideAllExclusive:kH,setComponents:(e,t,r,o)=>{r.getTooltip().each(e=>{e.getSystem().isConnected()&&hJ.set(e,o)})}}),kV=Object.freeze({__proto__:null,events:(e,t)=>{let r=r=>{t.getTooltip().each(o=>{ua(o),e.onHide(r,o),t.clearTooltip()}),t.clearTimer()},o=r=>{if(!t.isShowing()){kH(r);let o=e.lazySink(r).getOrDie(),a=r.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:lf("normal"===e.mode?[lv(nM(),e=>{lc(r,kI)}),lv(nD(),e=>{lc(r,kP)})]:[]),behaviours:cF([hJ.config({})])});t.setTooltip(a),ut(o,a),e.onShow(r,a),m0.position(o,a,{anchor:e.anchor(r)})}};return lf(et([[lv(kI,r=>{t.resetTimer(()=>{o(r)},e.delay)}),lv(kP,o=>{t.resetTimer(()=>{r(o)},e.delay)}),lv(nY(),(e,t)=>{!t.universal&&j(t.channels,kL)&&r(e)}),lA(e=>{r(e)})],"normal"===e.mode?[lv(nR(),e=>{lc(e,kI)}),lv(nG(),e=>{lc(e,kP)}),lv(nM(),e=>{lc(e,kI)}),lv(nD(),e=>{lc(e,kP)})]:[lv(li(),(e,t)=>{lc(e,kI)}),lv(ls(),e=>{lc(e,kP)})]]))}});let kU=cI({fields:[aP("lazySink"),aP("tooltipDom"),a3("exclusive",!0),a3("tooltipComponents",[]),a3("delay",300),a7("mode","normal",["normal","follow-highlight"]),a3("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:z([cy,cf,cu,cp,cg,ch]),onRtl:z([cy,cf,cu,cp,cg,ch])}})),sV("onHide"),sV("onShow")],name:"tooltipping",active:kV,state:Object.freeze({__proto__:null,init:()=>{let e=dp(),t=dp(),r=()=>{e.on(clearTimeout)},o=z("not-implemented");return it({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:r,resetTimer:(t,o)=>{r(),e.set(setTimeout(t,o))},readState:o})}}),apis:kj}),kZ=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),kq="silver.readonly",kW=au([aH("readonly",a_)]),k$=(e,t)=>{let r=e.mainUi.outerContainer.element,o=[e.mainUi.mothership,...e.uiMotherships];t&&W(o,e=>{e.broadcastOn([u_()],{target:r})}),W(o,e=>{e.broadcastOn([kq],{readonly:t})})},kG=(e,t)=>{e.on("init",()=>{e.mode.isReadOnly()&&k$(t,!0)}),e.on("SwitchMode",()=>k$(t,e.mode.isReadOnly())),yQ(e)&&e.mode.set("readonly")},kK=()=>cV.config({channels:{[kq]:{schema:kW,onReceive:(e,t)=>{g3.set(e,t.readonly)}}}}),kY=e=>g3.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),kX=e=>g3.config({disabled:e}),kJ=e=>g3.config({disabled:e,disableClass:"tox-tbtn--disabled"}),kQ=e=>g3.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),k1=(e,t)=>{let r=e.getApi(t);return e=>{e(r)}},k0=(e,t)=>lT(r=>{k1(e,r)(r=>{let o=e.onSetup(r);v(o)&&t.set(o)})}),k2=(e,t)=>lA(r=>k1(e,r)(t.get())),k4=(e,t)=>lD((r,o)=>{k1(e,r)(e.onAction),e.triggersSubmenu||t!==bG.CLOSE_ON_EXECUTE||(r.getSystem().isConnected()&&lc(r,n0()),o.stop())}),k3={[nX()]:["disabling","alloy.base.behaviour","toggling","item-events"]},k5=(e,t,r,o)=>{let a=no(_);return{type:"item",dom:t.dom,components:eD(t.optComponents),data:e.data,eventOrder:k3,hasSubmenu:e.triggersSubmenu,itemBehaviours:cF([h1("item-events",[k4(e,r),k0(e,a),k2(e,a)]),kY(()=>!e.enabled||o.isDisabled()),kK(),hJ.config({})].concat(e.itemBehaviours))}},k6=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),k8=e=>{let t=yK.os.isMacOS()||yK.os.isiOS(),r=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},o=q(e.split("+"),e=>{let t=e.toLowerCase().trim();return eE(r,t)?r[t]:e});return t?o.join(""):o.join("+")},k7=(e,t,r=[b1])=>yV(e,{tag:"div",classes:r},t),k9=e=>({dom:{tag:"div",classes:[b0]},components:[si(yD.translate(e))]}),we=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),wt=(e,t)=>({dom:{tag:"div",classes:[b0]},components:[{dom:{tag:e.tag,styles:e.styles},components:[si(yD.translate(t))]}]}),wr=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[si(k8(e))]}),wo=e=>k7("checkmark",e,["tox-collection__item-checkmark"]),wa=e=>k7("chevron-right",e,[b2]),wn=e=>k7("chevron-down",e,[b2]),wl=(e,t)=>{let r="vertical"===e.direction?"tox-collection__item-container--column":b5;return{dom:{tag:"div",classes:[b3,r,"left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}},wi=(e,t,r)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:r.getOr("")}}}),ws=(e,t,r)=>{let o=e.ariaLabel,a=e.value,n=e.iconContent.map(e=>yI(e,t.icons,r));return{dom:(()=>{let e=n.getOr(""),r={tag:"div",attributes:o.map(e=>({title:t.translate(e)})).getOr({}),classes:[bX]};return"custom"===a?{...r,tag:"button",classes:[...r.classes,"tox-swatches__picker-btn"],innerHtml:e}:"remove"===a?{...r,classes:[...r.classes,"tox-swatch--remove"],innerHtml:e}:b(a)?{...r,attributes:{...r.attributes,"data-mce-color":a},styles:{"background-color":a},innerHtml:e}:r})(),optComponents:[]}},wc=e=>({tag:"div",classes:[bK,bY],...e.map(e=>({attributes:{title:yD.translate(e),id:lZ("menu-item")}})).getOr({})}),wd=(e,t,r,o)=>{let a={tag:"div",classes:[b1]},n=r?e.iconContent.map(e=>yV(e,a,t.icons,o)).orThunk(()=>B.some({dom:a})):B.none(),l=e.checkMark,i=B.from(e.meta).fold(()=>k9,e=>eE(e,"style")?A(wt,e.style):k9),s=e.htmlContent.fold(()=>e.textContent.map(i),e=>B.some(we(e,[b0])));return{dom:wc(e.ariaLabel),optComponents:[n,s,e.shortcutContent.map(wr),l,e.caret]}},wm=(e,t,r,o=B.none())=>"color"===e.presets?ws(e,t,o):wd(e,t,r,o),wu=(e,t)=>ez(e,"tooltipWorker").map(e=>[kU.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:dB}}),mode:"follow-highlight",onShow:(t,r)=>{e(e=>{kU.setComponents(t,[ss({element:eY.fromDom(e)})])})}})]).getOr([]),wg=e=>y$.DOM.encode(e),wp=(e,t)=>{let r=wg(yD.translate(e));if(!(t.length>0))return r;{let e=RegExp(kZ(t),"gi");return r.replace(e,e=>`<span class="tox-autocompleter-highlight">${e}</span>`)}},wh=(e,t)=>q(e,e=>{switch(e.type){case"cardcontainer":return wl(e,wh(e.items,t));case"cardimage":return wi(e.src,e.classes,e.alt);case"cardtext":let r=e.name.exists(e=>j(t.cardText.highlightOn,e))?B.from(t.cardText.matchText).getOr(""):"";return we(wp(e.text,r),e.classes)}}),wf=(e,t,r,o,a,n,l,i=!0)=>{let s=wm({presets:r,textContent:t?e.text:B.none(),htmlContent:B.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:B.none(),checkMark:t?B.some(wo(l.icons)):B.none(),caret:B.none(),value:e.value},l,i);return oG(k5({data:k6(e),enabled:e.enabled,getApi:e=>({setActive:t=>{fo.set(e,t)},isActive:()=>fo.isOn(e),isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t)}),onAction:t=>o(e.value),onSetup:e=>(e.setActive(a),_),triggersSubmenu:!1,itemBehaviours:[]},s,n,l),{toggling:{toggleClass:bQ,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},wy=gp(fv(),fk()),wb=e=>({value:w_(e)}),wv=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wk=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ww=e=>wv.test(e)||wk.test(e),w_=e=>eH(e,"#").toUpperCase(),wx=e=>ww(e)?B.some({value:w_(e)}):B.none(),wC=e=>({value:e.value.replace(wv,(e,t,r,o)=>t+t+r+r+o+o)}),wS=e=>{let t=wC(e),r=wk.exec(t.value);return null===r?["FFFFFF","FF","FF","FF"]:r},wz=e=>{let t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},wE=e=>wb(wz(e.red)+wz(e.green)+wz(e.blue)),wT=Math.min,wA=Math.max,wO=Math.round,wD=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,wN=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,wM=(e,t,r,o)=>({red:e,green:t,blue:r,alpha:o}),wR=e=>{let t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},wB=e=>{let t,r,o,a=(e.hue||0)%360,n=e.saturation/100,l=e.value/100;if(n=wA(0,wT(n,1)),l=wA(0,wT(l,1)),0===n)return wM(t=r=o=wO(255*l),r,o,1);let i=a/60,s=l*n,c=s*(1-Math.abs(i%2-1)),d=l-s;switch(Math.floor(i)){case 0:t=s,r=c,o=0;break;case 1:t=c,r=s,o=0;break;case 2:t=0,r=s,o=c;break;case 3:t=0,r=c,o=s;break;case 4:t=c,r=0,o=s;break;case 5:t=s,r=0,o=c;break;default:t=r=o=0}return t=wO(255*(t+d)),wM(t,r=wO(255*(r+d)),o=wO(255*(o+d)),1)},wF=e=>{let t=wS(e),r=parseInt(t[1],16);return wM(r,parseInt(t[2],16),parseInt(t[3],16),1)},wL=(e,t,r,o)=>{let a=parseInt(e,10),n=parseInt(t,10);return wM(a,n,parseInt(r,10),parseFloat(o))},wI=e=>{if("transparent"===e)return B.some(wM(0,0,0,0));let t=wD.exec(e);if(null!==t)return B.some(wL(t[1],t[2],t[3],"1"));let r=wN.exec(e);return null!==r?B.some(wL(r[1],r[2],r[3],r[4])):B.none()},wP=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,wH=wM(255,0,0,1),wj=e=>{e.dispatch("SkinLoaded")},wV=(e,t)=>{e.dispatch("SkinLoadError",t)},wU=e=>{e.dispatch("ResizeEditor")},wZ=(e,t)=>{e.dispatch("ResizeContent",t)},wq=(e,t)=>{e.dispatch("ScrollContent",t)},wW=(e,t)=>{e.dispatch("TextColorChange",t)},w$=(e,t)=>{e.dispatch("AfterProgressState",{state:t})},wG=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),wK=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})},wY=(e,t)=>{e.dispatch("StylesTextUpdate",t)},wX=(e,t)=>{e.dispatch("AlignTextUpdate",t)},wJ=(e,t)=>{e.dispatch("FontSizeTextUpdate",t)},wQ=(e,t)=>{e.dispatch("FontSizeInputTextUpdate",t)},w1=(e,t)=>{e.dispatch("BlocksTextUpdate",t)},w0=(e,t)=>{e.dispatch("FontFamilyTextUpdate",t)},w2=(e,t)=>()=>{e(),t()},w4=e=>w6(e,"NodeChange",t=>{t.setEnabled(e.selection.isEditable())}),w3=(e,t)=>r=>{let o=dg(),a=()=>{r.setActive(e.formatter.match(t));let a=e.formatter.formatChanged(t,r.setActive);o.set(a)};return e.initialized?a():e.once("init",a),()=>{e.off("init",a),o.clear()}},w5=(e,t)=>r=>{let o=w4(e)(r),a=w3(e,t)(r);return()=>{o(),a()}},w6=(e,t,r)=>o=>{let a=()=>r(o),n=()=>{r(o),e.on(t,a)};return e.initialized?n():e.once("init",n),()=>{e.off("init",n),e.off(t,a)}},w8=e=>t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})},w7=(e,t)=>()=>e.execCommand(t);var w9=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");let _e={},_t=(e,t=10)=>{let r=w9.getItem(e),o=d(r)?JSON.parse(r):[],a=t-o.length<0?o.slice(0,t):o,n=e=>{a.splice(e,1)};return{add:r=>{H(a,r).each(n),a.unshift(r),a.length>t&&a.pop(),w9.setItem(e,JSON.stringify(a))},state:()=>a.slice(0)}},_r=e=>ez(_e,e).getOrThunk(()=>{let t=`tinymce-custom-colors-${e}`;if(y(w9.getItem(t))){let e=w9.getItem("tinymce-custom-colors");w9.setItem(t,b(e)?e:"[]")}let r=_t(t,10);return _e[e]=r,r}),_o=e=>q(_r(e).state(),e=>({type:"choiceitem",text:e,icon:"checkmark",value:e})),_a=(e,t)=>{_r(e).add(t)},_n=(e,t,r)=>({hue:e,saturation:t,value:r}),_l=e=>{let t=0,r=0,o=0,a=e.red/255,n=e.green/255,l=e.blue/255,i=Math.min(a,Math.min(n,l)),s=Math.max(a,Math.max(n,l));return i===s?_n(0,0,100*i):_n(Math.round(t=60*((t=a===i?3:l===i?1:5)-(a===i?n-l:l===i?a-n:l-a)/(s-i))),Math.round((s-i)/s*100),Math.round(100*s))},_i=e=>_l(wF(e)),_s=e=>wE(wB(e)),_c=e=>wx(e).orThunk(()=>wI(e).map(wE)).getOrThunk(()=>{let t=document.createElement("canvas");t.height=1,t.width=1;let r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);let o=r.getImageData(0,0,1,1).data,a=o[0],n=o[1];return wE(wM(a,n,o[2],o[3]))}),_d="forecolor",_m="hilitecolor",_u=e=>{let t=[];for(let r=0;r<e.length;r+=2)t.push({text:e[r+1],value:"#"+_c(e[r]).value,icon:"checkmark",type:"choiceitem"});return t},_g=e=>t=>t.options.get(e),_p="#000000",_h=e=>{let t=e.options.register,r=e=>w(e,d)?{value:_u(e),valid:!0}:{valid:!1,message:"Must be an array of strings."},o=e=>k(e)&&e>0?{value:e,valid:!0}:{valid:!1,message:"Must be a positive number."};t("color_map",{processor:r,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:r}),t("color_map_foreground",{processor:r}),t("color_cols",{processor:o,default:_y(e)}),t("color_cols_foreground",{processor:o,default:_b(e,_d)}),t("color_cols_background",{processor:o,default:_b(e,_m)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:_p}),t("color_default_background",{processor:"string",default:_p})},_f=(e,t)=>t===_d&&e.options.isSet("color_map_foreground")?_g("color_map_foreground")(e):t===_m&&e.options.isSet("color_map_background")?_g("color_map_background")(e):_g("color_map")(e),_y=(e,t="default")=>Math.max(5,Math.ceil(Math.sqrt(_f(e,t).length))),_b=(e,t)=>{let r=_g("color_cols")(e),o=_y(e,t);return r===_y(e)?o:r},_v=(e,t="default")=>Math.round(t===_d?_g("color_cols_foreground")(e):t===_m?_g("color_cols_background")(e):_g("color_cols")(e)),_k=_g("custom_colors"),_w=_g("color_default_foreground"),__=_g("color_default_background"),_x=e=>wI(e).exists(e=>0!==e.alpha),_C=e=>ny(e,e=>{if(!e9(e))return B.none();{let t=tX(e,"background-color");return eF(_x(t),t)}}).getOr("rgba(0, 0, 0, 0)"),_S=(e,t)=>{let r=eY.fromDom(e.selection.getStart());return wI("hilitecolor"===t?_C(r):tX(r,"color")).map(e=>"#"+wE(e).value)},_z=(e,t,r)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.apply(t,{value:r}),e.nodeChanged()})},_E=(e,t)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()})},_T=e=>{e.addCommand("mceApplyTextcolor",(t,r)=>{_z(e,t,r)}),e.addCommand("mceRemoveTextcolor",t=>{_E(e,t)})},_A=e=>{let t="choiceitem",r={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[r,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[r]},_O=(e,t,r,o)=>{"custom"===r?_P(e)(r=>{r.each(r=>{_a(t,r),e.execCommand("mceApplyTextcolor",t,r),o(r)})},_S(e,t).getOr(_p)):"remove"===r?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(r),e.execCommand("mceApplyTextcolor",t,r))},_D=(e,t,r)=>e.concat(_o(t).concat(_A(r))),_N=(e,t,r)=>o=>{o(_D(e,t,r))},_M=(e,t,r)=>{e.setIconFill("forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",r)},_R=(e,t)=>{e.setTooltip(t)},_B=(e,t)=>r=>eA(_S(e,t),r.toUpperCase()),_F=(e,t,r)=>{if(e$(r))return"forecolor"===t?"Text color":"Background color";let o="forecolor"===t?"Text color {0}":"Background color {0}",a=Q(_D(_f(e,t),t,!1),e=>e.value===r).getOr({text:""}).text;return e.translate([o,e.translate(a)])},_L=(e,t,r,o)=>{e.ui.registry.addSplitButton(t,{tooltip:_F(e,r,o.get()),presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:_B(e,r),columns:_v(e,r),fetch:_N(_f(e,r),r,_k(e)),onAction:t=>{_O(e,r,o.get(),_)},onItemAction:(a,n)=>{_O(e,r,n,r=>{o.set(r),wW(e,{name:t,color:r})})},onSetup:a=>{_M(a,t,o.get());let n=o=>{o.name===t&&(_M(a,o.name,o.color),_R(a,_F(e,r,o.color)))};return e.on("TextColorChange",n),w2(w4(e)(a),()=>{e.off("TextColorChange",n)})}})},_I=(e,t,r,o,a)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:o=>(_R(o,_F(e,r,a.get())),_M(o,t,a.get()),w4(e)(o)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:_B(e,r),initData:{storageKey:r},onAction:o=>{_O(e,r,o.value,r=>{a.set(r),wW(e,{name:t,color:r})})}}]})},_P=e=>(t,r)=>{let o=!1;e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:r},onAction:(e,t)=>{"hex-valid"===t.name&&(o=t.value)},onSubmit:r=>{let a=r.getData().colorpicker;o?(t(B.from(a)),r.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",a]))},onClose:_,onCancel:()=>{t(B.none())}})},_H=e=>{_T(e);let t=_w(e),r=__(e),o=no(t),a=no(r);_L(e,"forecolor","forecolor",o),_L(e,"backcolor","hilitecolor",a),_I(e,"forecolor","forecolor","Text color",o),_I(e,"backcolor","hilitecolor","Background color",a)},_j=(e,t,r,o,a,n,l,i)=>{let s=vE(t);return vO(e,s,_V(t,r,o,"color"!==a?"normal":"color",n,l,i),o,{menuType:a})},_V=(e,t,r,o,a,n,l)=>eD(q(e,i=>"choiceitem"===i.type?kC(i).fold(vT,i=>B.some(wf(i,1===r,o,t,n(i.value),a,l,vE(e)))):B.none())),_U=(e,t)=>{let r=b9(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+r.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?sk(e.element,"[aria-checked=true]"):B.none()}},_Z=(e,t)=>1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?`.${bX}`:`.${bY}`}},_q=(e,t)=>{let r=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold(()=>_D(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,r),e=>e.concat(_A(r)))},_W=lZ("cell-over"),_$=lZ("cell-execute"),_G=e=>(t,r)=>e.shared.providers.translate(["{0} columns, {1} rows",r,t]),_K=(e,t,r)=>{let o=r=>ld(r,_$,{row:e,col:t}),a=(e,t)=>{t.stop(),o(e)};return sm({dom:{tag:"div",attributes:{role:"button","aria-label":r}},behaviours:cF([h1("insert-table-picker-cell",[lv(nM(),h3.focus),lv(nX(),o),lv(nH(),a),lv(nQ(),a)]),fo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),h3.config({onFocus:r=>ld(r,_W,{row:e,col:t})})])})},_Y=(e,t,r)=>{let o=[];for(let a=0;a<t;a++){let t=[];for(let o=0;o<r;o++){let r=e(a+1,o+1);t.push(_K(a,o,r))}o.push(t)}return o},_X=(e,t,r,o,a)=>{for(let n=0;n<o;n++)for(let o=0;o<a;o++)fo.set(e[n][o],n<=t&&o<=r)},_J=e=>er(e,e=>q(e,l6)),_Q=(e,t)=>si(`${t}x${e}`),_1={inserttable:(e,t)=>{let r=_Y(_G(t),10,10),o=_Q(0,0),a=fU({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[o],behaviours:cF([hJ.config({})])});return{type:"widget",data:{value:lZ("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wy.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:_J(r).concat(a.asSpec()),behaviours:cF([h1("insert-table-picker",[lT(e=>{hJ.set(a.get(e),[o])}),lC(_W,(e,t,o)=>{let{row:n,col:l}=o.event;_X(r,n,l,10,10),hJ.set(a.get(e),[_Q(n+1,l+1)])}),lC(_$,(t,r,o)=>{let{row:a,col:n}=o.event;e.onAction({numRows:a+1,numColumns:n+1}),lc(t,n0())})]),hU.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{let r=_q(e,t),o=t.colorinput.getColorCols(e.initData.storageKey),a="color",n={..._j(lZ("menu-value"),r,t=>{e.onAction({value:t})},o,a,bG.CLOSE_ON_EXECUTE,e.select.getOr(M),t.shared.providers),markers:b9(a),movement:_U(o,a)};return{type:"widget",data:{value:lZ("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wy.widget(fz.sketch(n))]}}},_0=(e,t,r,o,a,n,l,i=!0)=>{let s=wm({presets:o,textContent:B.none(),htmlContent:r?e.text.map(e=>wp(e,t)):B.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:e.value},l.providers,i,e.icon);return k5({data:k6(e),enabled:e.enabled,getApi:z({}),onAction:t=>a(e.value,e.meta),onSetup:z(_),triggersSubmenu:!1,itemBehaviours:wu(e.meta,l)},s,n,l.providers)},_2=e=>({type:"separator",dom:{tag:"div",classes:[bY,"tox-collection__group-heading"]},components:e.text.map(si).toArray()}),_4=(e,t,r,o=!0)=>{let a=wm({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,caret:B.none(),checkMark:B.none(),shortcutContent:e.shortcut},r,o);return k5({data:k6(e),getApi:e=>({isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},a,t,r)},_3=(e,t,r,o=!0,a=!1)=>{let n=a?wn(r.icons):wa(r.icons),l=wm({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,caret:B.some(n),checkMark:B.none(),shortcutContent:e.shortcut},r,o);return k5({data:k6(e),getApi:e=>({isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t),setIconFill:(t,r)=>{sk(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each(e=>{tP(e,"fill",r)})},setTooltip:t=>{let o=r.translate(t);tH(e.element,{"aria-label":o,title:o})}}),enabled:e.enabled,onAction:_,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},l,t,r)},_5=(e,t,r,o=!0)=>{let a=wm({iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,checkMark:B.some(wo(r.icons)),caret:B.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},r,o);return oG(k5({data:k6(e),enabled:e.enabled,getApi:e=>({setActive:t=>{fo.set(e,t)},isActive:()=>fo.isOn(e),isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},a,t,r),{toggling:{toggleClass:bQ,toggleOnExecute:!1,selected:e.active}})},_6=(e,t)=>ez(_1,e.fancytype).map(r=>r(e,t)),_8=(e,t,r,o)=>{let a={dom:wc(e.label),optComponents:[B.some({dom:{tag:"div",classes:[b3,b5]},components:wh(e.items,o)})]};return k5({data:k6({text:B.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>{g3.set(e,!t),W(mv(e.element,"*"),r=>{e.getSystem().getByDom(r).each(e=>{e.hasConfigured(g3)&&g3.set(e,!t)})})}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(o.itemBehaviours).getOr([])},a,t,r.providers)};var _7=Object.freeze({__proto__:null,getCoupled:(e,t,r,o)=>r.getOrCreate(e,t,o),getExistingCoupled:(e,t,r,o)=>r.getExisting(e,t,o)});let _9=cI({fields:[aH("others",aA(oH.value,ab()))],name:"coupling",apis:_7,state:Object.freeze({__proto__:null,init:()=>{let e={},t=(t,r)=>{if(0!==ep(t.others).length)return ez(e,r);throw Error("Cannot find any known coupled components")};return it({readState:z({}),getExisting:(e,r,o)=>t(r,o).orThunk(()=>(ez(r.others,o).getOrDie("No information found for coupled component: "+o),B.none())),getOrCreate:(r,o,a)=>t(o,a).getOrThunk(()=>{let t=ez(o.others,a).getOrDie("No information found for coupled component: "+a)(r),n=r.getSystem().build(t);return e[a]=n,n})})}})}),xe=e=>{let t=B.none(),r=[],o=e=>{a()?l(e):r.push(e)},a=()=>t.isSome(),n=e=>{W(e,l)},l=e=>{t.each(t=>{setTimeout(()=>{e(t)},0)})};return e(e=>{a()||(t=B.some(e),n(r),r=[])}),{get:o,map:e=>xe(t=>{o(r=>{t(e(r))})}),isReady:a}},xt=e=>{setTimeout(()=>{throw e},0)},xr=e=>{let t=t=>{e().then(t,xt)};return{map:t=>xr(()=>e().then(t)),bind:t=>xr(()=>e().then(e=>t(e).toPromise())),anonBind:t=>xr(()=>e().then(()=>t.toPromise())),toLazy:()=>xe(t),toCached:()=>{let t=null;return xr(()=>(null===t&&(t=e()),t))},toPromise:e,get:t}},xo={nu:e=>xr(()=>new Promise(e)),pure:e=>xr(()=>Promise.resolve(e))},xa=z("sink"),xn=z(gs({name:xa(),overrides:z({dom:{tag:"div"},behaviours:cF([m0.config({useFixed:R})]),events:lf([lS(nF()),lS(nA()),lS(nH())])})})),xl=(e,t)=>{let r=e.getHotspot(t).getOr(t),o="hotspot",a=e.getAnchorOverrides();return e.layouts.fold(()=>({type:o,hotspot:r,overrides:a}),e=>({type:o,hotspot:r,overrides:a,layouts:e}))},xi=(e,t,r)=>(0,e.fetch)(r).map(t),xs=(e,t,r,o,a,n,l)=>{let i=xi(e,t,o),s=xg(o,e);return i.map(e=>e.bind(e=>B.from(fB.sketch({...n.menu(),uid:lJ(""),data:e,highlightOnOpen:l,onOpenMenu:(e,t)=>{let o=s().getOrDie();m0.position(o,t,{anchor:r}),uw.decloak(a)},onOpenSubmenu:(e,t,r)=>{let o=s().getOrDie();m0.position(o,r,{anchor:{type:"submenu",item:t}}),uw.decloak(a)},onRepositionMenu:(e,t,o)=>{let a=s().getOrDie();m0.position(a,t,{anchor:r}),W(o,e=>{m0.position(a,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})})},onEscape:()=>(h3.focus(o),uw.close(a),B.some(!0))}))))},xc=(e,t,r,o,a,n,l)=>{let i=xl(e,r);return xs(e,t,i,r,o,a,l).map(e=>(e.fold(()=>{uw.isOpen(o)&&uw.close(o)},e=>{uw.cloak(o),uw.open(o,e),n(o)}),o))},xd=(e,t,r,o,a,n,l)=>(uw.close(o),xo.pure(o)),xm=(e,t,r,o,a,n)=>{let l=_9.getCoupled(r,"sandbox");return(uw.isOpen(l)?xd:xc)(e,t,r,l,o,a,n)},xu=(e,t,r)=>{let o=gU.getCurrent(t).getOr(t),a=rl(e.element);r?tG(o.element,"min-width",a+"px"):rn(o.element,a)},xg=(e,t)=>e.getSystem().getByUid(t.uid+"-"+xa()).map(e=>()=>oH.value(e)).getOrThunk(()=>t.lazySink.fold(()=>()=>oH.error(Error("No internal sink is specified, nor could an external sink be found")),t=>()=>t(e))),xp=e=>{uw.getState(e).each(e=>{fB.repositionMenus(e)})},xh=(e,t,r)=>{let o=sC(),a=xg(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:uV(e.sandboxBehaviours,[uP.config({store:{mode:"memory",initialValue:t}}),uw.config({onOpen:(a,n)=>{let l=xl(e,t);o.link(t.element),e.matchWidth&&xu(l.hotspot,n,e.useMinWidth),e.onOpen(l,a,n),void 0!==r&&void 0!==r.onOpen&&r.onOpen(a,n)},onClose:(e,a)=>{o.unlink(t.element),void 0!==r&&void 0!==r.onClose&&r.onClose(e,a)},isPartOf:(e,r,o)=>sz(r,o)||sz(t,o),getAttachPoint:()=>a().getOrDie()}),gU.config({find:e=>uw.getState(e).bind(e=>gU.getCurrent(e))}),cV.config({channels:{...uz({isExtraPart:M}),...uT({doReposition:xp})}})])}},xf=e=>{xp(_9.getCoupled(e,"sandbox"))},xy=()=>[a3("sandboxClasses",[]),uH("sandboxBehaviours",[gU,cV,uw,uP])],xb=z([aP("dom"),aP("fetch"),sV("onOpen"),sU("onExecute"),a3("getHotspot",B.some),a3("getAnchorOverrides",z({})),dW(),uH("dropdownBehaviours",[fo,_9,hU,h3]),aP("toggleClass"),a3("eventOrder",{}),aK("lazySink"),a3("matchWidth",!1),a3("useMinWidth",!1),aK("role")].concat(xy())),xv=z([gi({schema:[sP(),a3("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),xn()]),xk=gH({name:"Dropdown",configFields:xb(),partFields:xv(),factory:(e,t,r,o)=>{let a,n=e=>{uw.getState(e).each(e=>{fB.highlightPrimary(e)})},l=(t,r,a)=>xm(e,E,t,o,r,a),i={expand:e=>{fo.isOn(e)||l(e,_,ok.HighlightNone).get(_)},open:e=>{fo.isOn(e)||l(e,_,ok.HighlightMenuAndItem).get(_)},refetch:t=>_9.getExistingCoupled(t,"sandbox").fold(()=>l(t,_,ok.HighlightMenuAndItem).map(_),r=>xc(e,E,t,r,o,_,ok.HighlightMenuAndItem).map(_)),isOpen:fo.isOn,close:e=>{fo.isOn(e)&&l(e,_,ok.HighlightMenuAndItem).get(_)},repositionMenus:e=>{fo.isOn(e)&&xf(e)}},s=(e,t)=>(lm(e),B.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:uV(e.dropdownBehaviours,[fo.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),_9.config({others:{sandbox:t=>xh(e,t,{onOpen:()=>fo.on(t),onClose:()=>fo.off(t)})}}),hU.config({mode:"special",onSpace:s,onEnter:s,onDown:(e,t)=>(xk.isOpen(e)?n(_9.getCoupled(e,"sandbox")):xk.open(e),B.some(!0)),onEscape:(e,t)=>xk.isOpen(e)?(xk.close(e),B.some(!0)):B.none()}),h3.config({})]),events:fn(B.some(e=>{l(e,n,ok.HighlightMenuAndItem).get(_)})),eventOrder:{...e.eventOrder,[nX()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold(()=>({}),e=>({role:e})),..."button"===e.dom.tag?{type:(a="type",ez(e.dom,"attributes").bind(e=>ez(e,a))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),xw=e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e},x_=e=>{let t=uP.getValue(e),r=vm(e).map(vg);xk.refetch(t).get(()=>{let e=_9.getCoupled(t,"sandbox");r.each(t=>vm(e).each(e=>vu(e,t)))})},xx=(e,t)=>{xC(e).each(r=>{lp(e,r.element,t.event.eventType,t.event.interactionEvent)})},xC=e=>uw.getState(e).bind(pa.getHighlighted).bind(pa.getHighlighted),xS=e=>iV(e.element,vf)?B.some(e.element):sk(e.element,"."+vf),xz=(e,t,r)=>{vm(e).each(e=>{vp(e,r),xS(t).each(t=>{tV(t,"id").each(t=>tP(e.element,"aria-controls",t))})}),tP(r.element,"aria-selected","true")},xE=(e,t,r)=>{tP(r.element,"aria-selected","false")},xT=e=>{vm(e).each(e=>h3.focus(e))},xA=e=>_9.getExistingCoupled(e,"sandbox").bind(vm).map(vg).map(e=>e.fetchPattern).getOr("");(og=oC||(oC={}))[og.ContentFocus=0]="ContentFocus",og[og.UiFocus=1]="UiFocus";let xO=(e,t,r,o,a)=>{let n=r.shared.providers,l=e=>a?{...e,shortcut:B.none(),icon:e.text.isSome()?B.none():e.icon}:e;switch(e.type){case"menuitem":return kA(e).fold(vT,e=>B.some(_4(l(e),t,n,o)));case"nestedmenuitem":return kD(e).fold(vT,e=>B.some(_3(l(e),t,n,o,a)));case"togglemenuitem":return kM(e).fold(vT,e=>B.some(_5(l(e),t,n,o)));case"separator":return v6(e).fold(vT,e=>B.some(_2(e)));case"fancymenuitem":return kE(e).fold(vT,e=>_6(e,r));default:return console.error("Unknown item in general menu",e),B.none()}},xD=(e,t,r,o,a,n,l)=>{let i=1===o,s=!i||vE(e);return eD(q(e,e=>{switch(e.type){case"separator":return v7(e).fold(vT,e=>B.some(_2(e)));case"cardmenuitem":return k_(e).fold(vT,e=>B.some(_8({...e,onAction:t=>{e.onAction(t),r(e.value,e.meta)}},a,n,{itemBehaviours:wu(e.meta,n),cardText:{matchText:t,highlightOn:l}})));default:return v9(e).fold(vT,e=>B.some(_0(e,t,i,"normal",r,a,n,s)))}}))},xN=(e,t,r,o,a,n)=>{let l=vE(t),i=eD(q(t,e=>{let t=e=>a?!eE(e,"text"):l,n=e=>xO(e,r,o,t(e),a);return n("nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?{...e,enabled:!1}:e)}));return(a?vA:vO)(e,l,i,1,xw(n))},xM=e=>fB.singleData(e.value,e),xR=(e,t,r,o)=>{let a=_U(t,o),n=b9(o);return{data:xM({...e,movement:a,menuBehaviours:kF("auto"!==t?[]:[lT((e,t)=>{kR(e,4,n.item).each(({numColumns:t,numRows:r})=>{hU.setGridSize(e,r,t)})})])}),menu:{markers:b9(o),fakeFocus:r===oC.ContentFocus}}},xB=(e,t)=>bq(eY.fromDom(t.startContainer)).map(t=>{let r=e.createRng();return r.selectNode(t.dom),r}),xF=(e,t)=>{let r=lZ("autocompleter"),o=no(!1),a=no(!1),n=sm(fL.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:r}},components:[],fireDismissalEventInstead:{},inlineBehaviours:cF([h1("dismissAutocompleter",[lv(le(),()=>d()),lv(li(),(t,r)=>{tV(r.event.target,"id").each(t=>tP(eY.fromDom(e.getBody()),"aria-activedescendant",t))})])]),lazySink:t.getSink})),l=()=>fL.isOpen(n),i=a.get,s=()=>{if(l()){fL.hide(n),e.dom.remove(r,!1);let t=eY.fromDom(e.getBody());tV(t,"aria-owns").filter(e=>e===r).each(()=>{tZ(t,"aria-owns"),tZ(t,"aria-activedescendant")})}},c=()=>fL.getContent(n).bind(e=>ec(e.components(),0)),d=()=>e.execCommand("mceAutocompleterClose"),m=r=>{let a=eg(r,e=>B.from(e.columns)).getOr(1);return er(r,r=>xD(r.items,r.matchText,(t,a)=>{let n=e.selection.getRng();xB(e.dom,n).each(n=>{o.set(!0),r.onAction({hide:()=>d(),reload:t=>{s(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}},n,t,a),o.set(!1)})},a,bG.BUBBLE_TO_SANDBOX,t,r.highlightOn))},u=(t,r)=>{bW(eY.fromDom(e.getBody())).each(o=>{let a=eg(t,e=>B.from(e.columns)).getOr(1);fL.showMenuAt(n,{anchor:{type:"node",root:eY.fromDom(e.getBody()),node:B.from(o)}},xR(vO("autocompleter-value",!0,r,a,{menuType:"normal"}),a,oC.ContentFocus,"normal"))}),c().each(pa.highlightFirst)},g=t=>{let o=m(t);o.length>0?(u(t,o),tP(eY.fromDom(e.getBody()),"aria-owns",r),e.inline||p()):s()},p=()=>{e.dom.get(r)&&e.dom.remove(r,!1);let t=e.getDoc().documentElement,o=e.selection.getNode(),a=lI(n.element);tK(a,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${o.offsetTop}px`,left:`${o.offsetLeft}px`}),e.dom.add(t,a.dom),sk(a,'[role="menu"]').each(e=>{t2(e,"position"),t2(e,"max-height")})};e.on("AutocompleterStart",({lookupData:e})=>{a.set(!0),o.set(!1),g(e)}),e.on("AutocompleterUpdate",({lookupData:e})=>g(e)),e.on("AutocompleterEnd",()=>{s(),a.set(!1),o.set(!1)}),b$({cancelIfNecessary:d,isMenuOpen:l,isActive:i,isProcessingAction:o.get,getMenu:c},e)},xL=["visible","hidden","clip"],xI=e=>eq(e).length>0&&!j(xL,e),xP=e=>{if(!e7(e))return!1;{let t=tX(e,"overflow-x"),r=tX(e,"overflow-y");return xI(t)||xI(r)}},xH=e=>{let t=mb(e,xP),r=0===t.length?tD(e).map(tN).map(e=>mb(e,xP)).getOr([]):t;return ed(r).map(e=>({element:e,others:r.slice(1)}))},xj=(e,t)=>bj(e)?xH(t):B.none(),xV=e=>{let t=[...q(e.others,oN),oF()];return oB(oN(e.element),t)},xU=(e,t,r)=>sw(e,t,r).isSome(),xZ=(e,t)=>{let r=null;return{cancel:()=>{null!==r&&(clearTimeout(r),r=null)},schedule:(...o)=>{r=setTimeout(()=>{e.apply(null,o),r=null},t)}}},xq=e=>{let t=e.raw;return void 0===t.touches||1!==t.touches.length?B.none():B.some(t.touches[0])},xW=(e,t)=>{let r=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return r>5||o>5},x$=e=>{let t=dp(),r=no(!1),o=xZ(t=>{e.triggerEvent(n1(),t),r.set(!0)},400),a=nm([{key:nS(),value:e=>(xq(e).each(a=>{o.cancel();let n={x:a.clientX,y:a.clientY,target:e.target};o.schedule(e),r.set(!1),t.set(n)}),B.none())},{key:nz(),value:e=>(o.cancel(),xq(e).each(e=>{t.on(r=>{xW(e,r)&&t.clear()})}),B.none())},{key:nE(),value:a=>(o.cancel(),t.get().filter(e=>ts(e.target,a.target)).map(t=>r.get()?(a.prevent(),!1):e.triggerEvent(nQ(),a)))}]);return{fireIfReady:(e,t)=>ez(a,t).bind(t=>t(e))}},xG=e=>8===e.raw.which&&!j(["input","textarea"],e5(e.target))&&!xU(e.target,'[contenteditable="true"]'),xK=(e,t)=>{let r={stopBackspace:!0,...t},o=x$(r),a=q(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),t=>dh(e,t,e=>{o.fireIfReady(e,t).each(t=>{t&&e.kill()}),r.triggerEvent(t,e)&&e.kill()})),n=dp(),l=dh(e,"paste",e=>{o.fireIfReady(e,"paste").each(t=>{t&&e.kill()}),r.triggerEvent("paste",e)&&e.kill(),n.set(setTimeout(()=>{r.triggerEvent(nK(),e)},0))}),i=dh(e,"keydown",e=>{r.triggerEvent("keydown",e)?e.kill():r.stopBackspace&&xG(e)&&e.prevent()}),s=dh(e,"focusin",e=>{r.triggerEvent("focusin",e)&&e.kill()}),c=dp(),d=dh(e,"focusout",e=>{r.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout(()=>{r.triggerEvent(nG(),e)},0))});return{unbind:()=>{W(a,e=>{e.unbind()}),i.unbind(),s.unbind(),d.unbind(),l.unbind(),n.on(clearTimeout),c.on(clearTimeout)}}},xY=(e,t)=>no(ez(e,"target").getOr(t)),xX=(e,t)=>{let r=no(!1),o=no(!1);return{stop:()=>{r.set(!0)},cut:()=>{o.set(!0)},isStopped:r.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}},xJ=e=>{let t=no(!1);return{stop:()=>{t.set(!0)},cut:_,isStopped:t.get,isCut:M,event:e,setSource:D("Cannot set source of a broadcasted event"),getSource:D("Cannot get source of a broadcasted event")}},xQ=na([{stopped:[]},{resume:["element"]},{complete:[]}]),x1=(e,t,r,o,a,n)=>{let l=e(t,o),i=xX(r,a);return l.fold(()=>(n.logEventNoHandlers(t,o),xQ.complete()),e=>{let r=e.descHandler;return(ip(r)(i),i.isStopped())?(n.logEventStopped(t,e.element,r.purpose),xQ.stopped()):i.isCut()?(n.logEventCut(t,e.element,r.purpose),xQ.complete()):tp(e.element).fold(()=>(n.logNoParent(t,e.element,r.purpose),xQ.complete()),o=>(n.logEventResponse(t,e.element,r.purpose),xQ.resume(o)))})},x0=(e,t,r,o,a,n)=>x1(e,t,r,o,a,n).fold(R,o=>x0(e,t,r,o,a,n),M),x2=(e,t,r,o,a)=>{let n=xY(r,o);return x1(e,t,r,o,n,a)},x4=(e,t,r)=>{let o=xJ(t);return W(e,e=>{ip(e.descHandler)(o)}),o.isStopped()},x3=(e,t,r,o)=>x5(e,t,r,r.target,o),x5=(e,t,r,o,a)=>{let n=xY(r,o);return x0(e,t,r,o,n,a)},x6=(e,t)=>({element:e,descHandler:t}),x8=(e,t)=>({id:e,descHandler:t}),x7=()=>{let e={},t=(e,t)=>lX(t).bind(t=>ez(e,t)).map(e=>x6(t,e));return{registerId:(t,r,o)=>{ef(o,(o,a)=>{let n=void 0!==e[a]?e[a]:{};n[r]=ig(o,t),e[a]=n})},unregisterId:t=>{ef(e,(e,r)=>{eE(e,t)&&delete e[t]})},filterByType:t=>ez(e,t).map(e=>ex(e,(e,t)=>x8(t,e))).getOr([]),find:(r,o,a)=>ez(e,o).bind(e=>ny(a,r=>t(e,r),r))}},x9=()=>{let e=x7(),t={},r=e=>lX(e.element).getOrThunk(()=>lK("uid-",e.element)),o=(e,r)=>{let o=t[r];if(o===e)a(e);else throw Error('The tagId "'+r+'" is already used by: '+lH(o.element)+"\nCannot use it for: "+lH(e.element)+"\nThe conflicting element is"+(tB(o.element)?" ":" not ")+"already in the DOM")},a=r=>{lX(r.element).each(r=>{delete t[r],e.unregisterId(r)})};return{find:(t,r,o)=>e.find(t,r,o),filter:t=>e.filterByType(t),register:a=>{let n=r(a);eT(t,n)&&o(a,n);let l=[a];e.registerId(l,n,a.events),t[n]=a},unregister:a,getById:e=>ez(t,e)}},Ce=gP({name:"Container",factory:e=>{let{attributes:t,...r}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...r},components:e.components,behaviours:uj(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[a3("components",[]),uH("containerBehaviours",[]),a3("events",{}),a3("domModification",{}),a3("eventOrder",{})]}),Ct=e=>{let t=t=>tp(e.element).fold(R,e=>ts(t,e)),r=x9(),o=(e,o)=>r.find(t,e,o),a=xK(e.element,{triggerEvent:(e,t)=>sM(e,t.target,r=>x3(o,e,t,r))}),n={debugInfo:z("real"),triggerEvent:(e,t,r)=>{sM(e,t,a=>x5(o,e,r,t,a))},triggerFocus:(e,t)=>{lX(e).fold(()=>{cZ(e)},r=>{sM(n$(),e,r=>(x2(o,n$(),{originator:t,kill:_,prevent:_,target:e},e,r),!1))})},triggerEscape:(e,t)=>{n.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>h(e),build:sm,buildOrPatch:sd,addToGui:e=>{s(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{l(e)},removeFromWorld:e=>{i(e)},broadcast:e=>{m(e)},broadcastOn:(e,t)=>{u(e,t)},broadcastEvent:(e,t)=>{g(e,t)},isConnected:R},l=e=>{e.connect(n),te(e.element)||(r.register(e),W(e.components(),l),n.triggerEvent(n4(),e.element,{target:e.element}))},i=e=>{te(e.element)||(W(e.components(),i),r.unregister(e)),e.disconnect()},s=t=>{ut(e,t)},c=e=>{ua(e)},d=e=>{W(r.filter(nY()),t=>{ip(t.descHandler)(e)})},m=e=>{d({universal:!0,data:e})},u=(e,t)=>{d({universal:!1,channels:e,data:t})},g=(e,t)=>x4(r.filter(e),t),p=e=>r.getById(e).fold(()=>oH.error(Error('Could not find component with uid: "'+e+'" in system.')),oH.value),h=e=>p(lX(e).getOr("not found"));return l(e),{root:e,element:e.element,destroy:()=>{a.unbind(),r5(e.element)},add:s,remove:c,getByUid:p,getByDom:h,addToWorld:l,removeFromWorld:i,broadcast:m,broadcastOn:u,broadcastEvent:g}},Cr=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:q(e.items,t.interpreter)}),Co=z([a3("prefix","form-field"),uH("fieldBehaviours",[gU,uP])]),Ca=z([gs({schema:[aP("dom")],name:"label"}),gs({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[aP("text")],name:"aria-descriptor"}),gl({factory:{sketch:e=>{let t=nc(e,["factory"]);return e.factory.sketch(t)}},schema:[aP("factory")],name:"field"})]),Cn=gH({name:"FormField",configFields:Co(),partFields:Ca(),factory:(e,t,r,o)=>{let a=uV(e.fieldBehaviours,[gU.config({find:t=>gw(t,e,"field")}),uP.config({store:{mode:"manual",getValue:e=>gU.getCurrent(e).bind(uP.getValue),setValue:(e,t)=>{gU.getCurrent(e).each(e=>{uP.setValue(e,t)})}}})]),n=lf([lT((t,r)=>{let o=gx(t,e,["label","field","aria-descriptor"]);o.field().each(t=>{let r=lZ(e.prefix);o.label().each(e=>{tP(e.element,"for",r),tP(t.element,"id",r)}),o["aria-descriptor"]().each(r=>{let o=lZ(e.prefix);tP(r.element,"id",o),tP(t.element,"aria-describedby",o)})})})]);return{uid:e.uid,dom:e.dom,components:t,behaviours:a,events:n,apis:{getField:t=>gw(t,e,"field"),getLabel:t=>gw(t,e,"label")}}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var Cl=Object.freeze({__proto__:null,exhibit:(e,t)=>ii({attributes:nm([{key:t.tabAttr,value:"true"}])})});let Ci=cI({fields:[a3("tabAttr","data-alloy-tabstop")],name:"tabstopping",active:Cl});var Cs=tinymce.util.Tools.resolve("tinymce.html.Entities");let Cc=(e,t,r,o)=>{let a=Cm(e,t,r,o);return Cn.sketch(a)},Cd=(e,t)=>Cc(e,t,[],[]),Cm=(e,t,r,o)=>({dom:Cg(r),components:e.toArray().concat([t]),fieldBehaviours:cF(o)}),Cu=()=>Cg([]),Cg=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Cp=(e,t)=>Cn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[si(t.translate(e))]}),Ch=lZ("form-component-change"),Cf=lZ("form-close"),Cy=lZ("form-cancel"),Cb=lZ("form-action"),Cv=lZ("form-submit"),Ck=lZ("form-block"),Cw=lZ("form-unblock"),C_=lZ("form-tabchange"),Cx=lZ("form-resize"),CC=(e,t,r)=>{let o=e.label.map(e=>Cp(e,t)),a=t.icons(),n=e=>{var t;return null!=(t=a[e])?t:e},l=e=>(t,r)=>{sw(r.event.target,"[data-collection-item-value]").each(o=>{e(t,r,o,tj(o,"data-collection-item-value"))})},i=(r,o)=>{let a=q(o,r=>{let o=yD.translate(r.text),a=1===e.columns?`<div class="tox-collection__item-label">${o}</div>`:"",l=`<div class="tox-collection__item-icon">${n(r.icon)}</div>`,i={_:" "," - ":" ","-":" "},s=o.replace(/\_| \- |\-/g,e=>i[e]),c=t.isDisabled()?" tox-collection__item--state-disabled":"";return`<div class="tox-collection__item${c}" tabindex="-1" data-collection-item-value="${Cs.encodeAllRaw(r.value)}" title="${s}" aria-label="${s}">${l}${a}</div>`}),l=q("auto"!==e.columns&&e.columns>1?Z(a,e.columns):[a],e=>`<div class="tox-collection__group">${e.join("")}</div>`);lR(r.element,l.join(""))},s=l((r,o,a,n)=>{o.stop(),t.isDisabled()||ld(r,Cb,{name:e.name,value:n})}),c=[lv(nM(),l((e,t,r)=>{cZ(r)})),lv(nH(),s),lv(nQ(),s),lv(nR(),l((e,t,r)=>{sk(e.element,"."+b4).each(e=>{iH(e,b4)}),iI(r,b4)})),lv(nB(),l(e=>{sk(e.element,"."+b4).each(e=>{iH(e,b4)})})),lD(l((t,r,o,a)=>{ld(t,Cb,{name:e.name,value:a})}))],d=(e,t)=>q(mv(e.element,".tox-collection__item"),t);return Cc(o,Cn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:E},behaviours:cF([g3.config({disabled:t.isDisabled,onDisabled:e=>{d(e,e=>{iI(e,"tox-collection__item--state-disabled"),tP(e,"aria-disabled",!0)})},onEnabled:e=>{d(e,e=>{iH(e,"tox-collection__item--state-disabled"),tZ(e,"aria-disabled")})}}),kK(),hJ.config({}),uP.config({store:{mode:"memory",initialValue:r.getOr([])},onSetValue:(t,r)=>{i(t,r),"auto"===e.columns&&kR(t,5,"tox-collection__item").each(({numRows:e,numColumns:r})=>{hU.setGridSize(t,e,r)}),lc(t,Cx)}}),Ci.config({}),hU.config(_Z(e.columns,"normal")),h1("collection-events",c)]),eventOrder:{[nX()]:["disabling","alloy.base.behaviour","collection-events"]}}),["tox-form__group--collection"],[])},CS=["input","textarea"],Cz=e=>j(CS,e5(e)),CE=(e,t)=>{iH(t.getRoot(e).getOr(e.element),t.invalidClass),t.notify.each(t=>{Cz(e.element)&&tP(e.element,"aria-invalid",!1),t.getContainer(e).each(e=>{lR(e,t.validHtml)}),t.onValid(e)})},CT=(e,t,r,o)=>{iI(t.getRoot(e).getOr(e.element),t.invalidClass),t.notify.each(t=>{Cz(e.element)&&tP(e.element,"aria-invalid",!0),t.getContainer(e).each(e=>{lR(e,o)}),t.onInvalid(e,o)})},CA=(e,t,r)=>t.validator.fold(()=>xo.pure(oH.value(!0)),t=>t.validate(e)),CO=(e,t,r)=>(t.notify.each(t=>{t.onValidate(e)}),CA(e,t).map(o=>e.getSystem().isConnected()?o.fold(o=>(CT(e,t,r,o),oH.error(o)),r=>(CE(e,t),oH.value(r))):oH.error("No longer in system")));var CD=Object.freeze({__proto__:null,markValid:CE,markInvalid:CT,query:CA,run:CO,isInvalid:(e,t)=>iV(t.getRoot(e).getOr(e.element),t.invalidClass)}),CN=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map(r=>lf([lv(r.onEvent,r=>{CO(r,e,t).get(E)})].concat(r.validateOnLoad?[lT(r=>{CO(r,e,t).get(_)})]:[]))).getOr({})});let CM=cI({fields:[aP("invalidClass"),a3("getRoot",B.none),a2("notify",[a3("aria","alert"),a3("getContainer",B.none),a3("validHtml",""),sV("onValid"),sV("onInvalid"),sV("onValidate")]),a2("validator",[aP("validate"),a3("onEvent","input"),a3("validateOnLoad",!0)])],name:"invalidating",active:CN,apis:CD,extra:{validation:e=>t=>{let r=uP.getValue(t);return xo.pure(e(r))}}}),CR=cI({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>lf([ly(nZ(),R)]),exhibit:()=>ii({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),CB=(e,t)=>xk.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:cF([kX(t.providers.isDisabled),kK(),CR.config({}),Ci.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:r=>xo.nu(t=>e.fetch(t)).map(o=>B.from(xM(oG(_j(lZ("menu-value"),o,t=>{e.onItemAction(r,t)},e.columns,e.presets,bG.CLOSE_ON_EXECUTE,M,t.providers),{movement:_U(e.columns,e.presets)})))),parts:{menu:vr(!1,1,e.presets)}}),CF=lZ("color-input-change"),CL=lZ("color-swatch-change"),CI=lZ("color-picker-cancel"),CP=(e,t,r,o)=>{let a=Cn.parts.field({factory:vi,inputClasses:["tox-textfield"],data:o,onSetValue:e=>CM.run(e).get(_),inputBehaviours:cF([g3.config({disabled:t.providers.isDisabled}),kK(),Ci.config({}),CM.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>tf(e.element),notify:{onValid:e=>{let t=uP.getValue(e);ld(e,CF,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{let t=uP.getValue(e);if(0===t.length)return xo.pure(oH.value(!0));{let e=eY.fromTag("span");tG(e,"background-color",t);let r=tQ(e,"background-color").fold(()=>oH.error("blah"),e=>oH.value(t));return xo.pure(r)}}}})]),selectOnFocus:!1}),n=e.label.map(e=>Cp(e,t.providers)),l=(e,t)=>{ld(e,CL,{value:t})},i=fU(CB({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[cg,cu,cy],onLtr:()=>[cu,cg,cy]},components:[],fetch:_N(r.getColors(e.storageKey),e.storageKey,r.hasCustomColors()),columns:r.getColorCols(e.storageKey),presets:"color",onItemAction:(t,o)=>{i.getOpt(t).each(t=>{"custom"===o?r.colorPicker(r=>{r.fold(()=>lc(t,CI),r=>{l(t,r),_a(e.storageKey,r)})},"#ffffff"):"remove"===o?l(t,""):l(t,o)})}},t));return Cn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:n.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[a,i.asSpec()]}]),fieldBehaviours:cF([h1("form-field-events",[lv(CF,(t,r)=>{i.getOpt(t).each(e=>{tG(e.element,"background-color",r.event.color)}),ld(t,Ch,{name:e.name})}),lv(CL,(e,t)=>{Cn.getField(e).each(r=>{uP.setValue(r,t.event.value),gU.getCurrent(e).each(h3.focus)})}),lv(CI,(e,t)=>{Cn.getField(e).each(t=>{gU.getCurrent(e).each(h3.focus)})})])])})},CH=gs({schema:[aP("dom")],name:"label"}),Cj=e=>gs({name:""+e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold(()=>({}),e=>({events:lf([lk(nS(),(t,r,o)=>e(t,o),[t]),lk(nA(),(t,r,o)=>e(t,o),[t]),lk(nO(),(t,r,o)=>{o.mouseIsDown.get()&&e(t,o)},[t])])}))}),CV=Cj("top-left"),CU=Cj("top"),CZ=Cj("top-right"),Cq=Cj("right"),CW=Cj("bottom-right"),C$=Cj("bottom"),CG=Cj("bottom-left"),CK=Cj("left"),CY=gl({name:"thumb",defaults:z({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:lf([lx(nS(),e,"spectrum"),lx(nz(),e,"spectrum"),lx(nE(),e,"spectrum"),lx(nA(),e,"spectrum"),lx(nO(),e,"spectrum"),lx(nN(),e,"spectrum")])})}),CX=e=>pv(e.event),CJ=gl({schema:[aL("mouseIsDown",()=>no(!1))],name:"spectrum",overrides:e=>{let t=e.model.manager,r=(r,o)=>t.getValueFromEvent(o).map(o=>t.setValueFrom(r,e,o));return{behaviours:cF([hU.config({mode:"special",onLeft:(r,o)=>t.onLeft(r,e,CX(o)),onRight:(r,o)=>t.onRight(r,e,CX(o)),onUp:(r,o)=>t.onUp(r,e,CX(o)),onDown:(r,o)=>t.onDown(r,e,CX(o))}),Ci.config({}),h3.config({})]),events:lf([lv(nS(),r),lv(nz(),r),lv(nA(),r),lv(nO(),(t,o)=>{e.mouseIsDown.get()&&r(t,o)})])}}}),CQ=z("slider.change.value"),C1=e=>-1!==e.type.indexOf("touch"),C0=e=>{let t=e.event.raw;return C1(t)?void 0!==t.touches&&1===t.touches.length?B.some(t.touches[0]).map(e=>t9(e.clientX,e.clientY)):B.none():void 0!==t.clientX?B.some(t).map(e=>t9(e.clientX,e.clientY)):B.none()},C2=e=>e.model.minX,C4=e=>e.model.minY,C3=e=>e.model.minX-1,C5=e=>e.model.minY-1,C6=e=>e.model.maxX,C8=e=>e.model.maxY,C7=e=>e.model.maxX+1,C9=e=>e.model.maxY+1,Se=(e,t,r)=>t(e)-r(e),St=e=>Se(e,C6,C2),Sr=e=>Se(e,C8,C4),So=e=>St(e)/2,Sa=e=>Sr(e)/2,Sn=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,Sl=e=>e.snapToGrid,Si=e=>e.snapStart,Ss=e=>e.rounded,Sc=(e,t)=>void 0!==e[t+"-edge"],Sd=e=>Sc(e,"left"),Sm=e=>Sc(e,"right"),Su=e=>Sc(e,"top"),Sg=e=>Sc(e,"bottom"),Sp=e=>e.model.value.get(),Sh=(e,t)=>({x:e,y:t}),Sf=(e,t)=>{ld(e,CQ(),{value:t})},Sy=(e,t,r,o)=>e<t?e:e>r?r:e===t?t-1:Math.max(t,e-o),Sb=(e,t,r,o)=>e>r?e:e<t?t:e===r?r+1:Math.min(r,e+o),Sv=(e,t,r)=>Math.max(t,Math.min(r,e)),Sk=(e,t,r,o,a)=>a.fold(()=>{let a=Math.round((e-t)/o)*o;return Sv(t+a,t-1,r+1)},t=>{let a=Math.round((e-t)%o/o),n=Math.floor((e-t)/o),l=Math.min(Math.floor((r-t)/o),n+a);return Math.max(t,t+l*o)}),Sw=(e,t,r)=>Math.min(r,Math.max(e,t))-t,S_=e=>{let{min:t,max:r,range:o,value:a,step:n,snap:l,snapStart:i,rounded:s,hasMinEdge:c,hasMaxEdge:d,minBound:m,maxBound:u,screenRange:g}=e,p=c?t-1:t,h=d?r+1:r;if(a<m)return p;{if(a>u)return h;let e=Sv(Sw(a,m,u)/g*o+t,p,h);return l&&e>=t&&e<=r?Sk(e,t,r,n,i):s?Math.round(e):e}},Sx=e=>{let{min:t,max:r,range:o,value:a,hasMinEdge:n,hasMaxEdge:l,maxBound:i,maxOffset:s,centerMinEdge:c,centerMaxEdge:d}=e;return a<t?n?0:c:a>r?l?i:d:(a-t)/o*s},SC="right",SS="bottom",Sz="left",SE=e=>e.element.dom.getBoundingClientRect(),ST=(e,t)=>e[t],SA=e=>ST(SE(e),Sz),SO=e=>ST(SE(e),SC),SD=e=>ST(SE(e),"top"),SN=e=>ST(SE(e),SS),SM=e=>ST(SE(e),"width"),SR=e=>ST(SE(e),"height"),SB=(e,t,r)=>(e+t)/2-r,SF=(e,t)=>{let r=SE(e),o=SE(t),a=ST(r,Sz);return SB(a,ST(r,SC),ST(o,Sz))},SL=(e,t)=>{let r=SE(e),o=SE(t),a=ST(r,"top");return SB(a,ST(r,SS),ST(o,"top"))},SI=(e,t)=>{ld(e,CQ(),{value:t})},SP=(e,t,r)=>S_({min:C2(t),max:C6(t),range:St(t),value:r,step:Sn(t),snap:Sl(t),snapStart:Si(t),rounded:Ss(t),hasMinEdge:Sd(t),hasMaxEdge:Sm(t),minBound:SA(e),maxBound:SO(e),screenRange:SM(e)}),SH=(e,t,r,o)=>{let a=(e>0?Sb:Sy)(Sp(r),C2(r),C6(r),Sn(r,o));return SI(t,a),B.some(a)},Sj=e=>(t,r,o)=>SH(e,t,r,o).map(R),SV=(e,t,r,o,a)=>{let n=SM(e),l=o.bind(t=>B.some(SF(t,e))).getOr(0),i=a.bind(t=>B.some(SF(t,e))).getOr(n),s={min:C2(t),max:C6(t),range:St(t),value:r,hasMinEdge:Sd(t),hasMaxEdge:Sm(t),minBound:SA(e),minOffset:0,maxBound:SO(e),maxOffset:n,centerMinEdge:l,centerMaxEdge:i};return Sx(s)},SU=(e,t,r,o,a,n)=>{let l=SV(t,n,r,o,a);return SA(t)-SA(e)+l},SZ=Sj(-1),Sq=Sj(1),SW=B.none;var S$=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{let o=SP(e,t,r);return SI(e,o),o},setToMin:(e,t)=>{SI(e,C2(t))},setToMax:(e,t)=>{SI(e,C6(t))},findValueOfOffset:SP,getValueFromEvent:e=>C0(e).map(e=>e.left),findPositionOfValue:SU,setPositionFromValue:(e,t,r,o)=>{let a=Sp(r),n=SU(e,o.getSpectrum(e),a,o.getLeftEdge(e),o.getRightEdge(e),r),l=rl(t.element)/2;tG(t.element,"left",n-l+"px")},onLeft:SZ,onRight:Sq,onUp:SW,onDown:B.none,edgeActions:{"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some((e,t)=>{Sf(e,C7(t))}),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some((e,t)=>{Sf(e,C3(t))})}});let SG=(e,t)=>{ld(e,CQ(),{value:t})},SK=(e,t,r)=>S_({min:C4(t),max:C8(t),range:Sr(t),value:r,step:Sn(t),snap:Sl(t),snapStart:Si(t),rounded:Ss(t),hasMinEdge:Su(t),hasMaxEdge:Sg(t),minBound:SD(e),maxBound:SN(e),screenRange:SR(e)}),SY=(e,t,r,o)=>{let a=(e>0?Sb:Sy)(Sp(r),C4(r),C8(r),Sn(r,o));return SG(t,a),B.some(a)},SX=e=>(t,r,o)=>SY(e,t,r,o).map(R),SJ=(e,t,r,o,a)=>{let n=SR(e),l=o.bind(t=>B.some(SL(t,e))).getOr(0),i=a.bind(t=>B.some(SL(t,e))).getOr(n),s={min:C4(t),max:C8(t),range:Sr(t),value:r,hasMinEdge:Su(t),hasMaxEdge:Sg(t),minBound:SD(e),minOffset:0,maxBound:SN(e),maxOffset:n,centerMinEdge:l,centerMaxEdge:i};return Sx(s)},SQ=(e,t,r,o,a,n)=>{let l=SJ(t,n,r,o,a);return SD(t)-SD(e)+l},S1=B.none,S0=B.none,S2=SX(-1);var S4=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{let o=SK(e,t,r);return SG(e,o),o},setToMin:(e,t)=>{SG(e,C4(t))},setToMax:(e,t)=>{SG(e,C8(t))},findValueOfOffset:SK,getValueFromEvent:e=>C0(e).map(e=>e.top),findPositionOfValue:SQ,setPositionFromValue:(e,t,r,o)=>{let a=Sp(r),n=SQ(e,o.getSpectrum(e),a,o.getTopEdge(e),o.getBottomEdge(e),r),l=t6(t.element)/2;tG(t.element,"top",n-l+"px")},onLeft:S1,onRight:S0,onUp:S2,onDown:SX(1),edgeActions:{"top-left":B.none(),top:B.some((e,t)=>{Sf(e,C5(t))}),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some((e,t)=>{Sf(e,C9(t))}),"bottom-left":B.none(),left:B.none()}});let S3=(e,t)=>{ld(e,CQ(),{value:t})},S5=(e,t)=>({x:e,y:t}),S6=(e,t,r,o,a)=>{let n=e>0?Sb:Sy,l=t?Sp(o).x:n(Sp(o).x,C2(o),C6(o),Sn(o,a));return S3(r,S5(l,t?n(Sp(o).y,C4(o),C8(o),Sn(o,a)):Sp(o).y)),B.some(l)},S8=(e,t)=>(r,o,a)=>S6(e,t,r,o,a).map(R),S7=S8(-1,!1),S9=S8(1,!1),ze=S8(-1,!0);var zt=Object.freeze({__proto__:null,setValueFrom:(e,t,r)=>{let o=S5(SP(e,t,r.left),SK(e,t,r.top));return S3(e,o),o},setToMin:(e,t)=>{S3(e,S5(C2(t),C4(t)))},setToMax:(e,t)=>{S3(e,S5(C6(t),C8(t)))},getValueFromEvent:e=>C0(e),setPositionFromValue:(e,t,r,o)=>{let a=Sp(r),n=SU(e,o.getSpectrum(e),a.x,o.getLeftEdge(e),o.getRightEdge(e),r),l=SQ(e,o.getSpectrum(e),a.y,o.getTopEdge(e),o.getBottomEdge(e),r),i=rl(t.element)/2,s=t6(t.element)/2;tG(t.element,"left",n-i+"px"),tG(t.element,"top",l-s+"px")},onLeft:S7,onRight:S9,onUp:ze,onDown:S8(1,!0),edgeActions:{"top-left":B.some((e,t)=>{Sf(e,Sh(C3(t),C5(t)))}),top:B.some((e,t)=>{Sf(e,Sh(So(t),C5(t)))}),"top-right":B.some((e,t)=>{Sf(e,Sh(C7(t),C5(t)))}),right:B.some((e,t)=>{Sf(e,Sh(C7(t),Sa(t)))}),"bottom-right":B.some((e,t)=>{Sf(e,Sh(C7(t),C9(t)))}),bottom:B.some((e,t)=>{Sf(e,Sh(So(t),C9(t)))}),"bottom-left":B.some((e,t)=>{Sf(e,Sh(C3(t),C9(t)))}),left:B.some((e,t)=>{Sf(e,Sh(C3(t),Sa(t)))})}});let zr=gH({name:"Slider",configFields:[a3("stepSize",1),a3("speedMultiplier",10),a3("onChange",_),a3("onChoose",_),a3("onInit",_),a3("onDragStart",_),a3("onDragEnd",_),a3("snapToGrid",!1),a3("rounded",!0),aK("snapStart"),aH("model",aB("mode",{x:[a3("minX",0),a3("maxX",100),aL("value",e=>no(e.mode.minX)),aP("getInitialValue"),sW("manager",S$)],y:[a3("minY",0),a3("maxY",100),aL("value",e=>no(e.mode.minY)),aP("getInitialValue"),sW("manager",S4)],xy:[a3("minX",0),a3("maxX",100),a3("minY",0),a3("maxY",100),aL("value",e=>no({x:e.mode.minX,y:e.mode.minY})),aP("getInitialValue"),sW("manager",zt)]})),uH("sliderBehaviours",[hU,uP]),aL("mouseIsDown",()=>no(!1))],partFields:[CH,CK,Cq,CU,C$,CV,CZ,CG,CW,CY,CJ],factory:(e,t,r,o)=>{let a=t=>g_(t,e,"thumb"),n=t=>g_(t,e,"spectrum"),l=t=>gw(t,e,"left-edge"),i=t=>gw(t,e,"right-edge"),s=t=>gw(t,e,"top-edge"),c=t=>gw(t,e,"bottom-edge"),d=e.model,m=d.manager,u=(t,r)=>{m.setPositionFromValue(t,r,e,{getLeftEdge:l,getRightEdge:i,getTopEdge:s,getBottomEdge:c,getSpectrum:n})},g=(e,t)=>{d.value.set(t);let r=a(e);u(e,r)},p=(t,r)=>{g(t,r);let o=a(t);return e.onChange(t,o,r),B.some(!0)},h=t=>{let r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&gw(t,e,"thumb").each(r=>{let o=d.value.get();e.onChoose(t,r,o)})},f=(t,r)=>{r.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,a(t))},y=(t,r)=>{r.stop(),e.onDragEnd(t,a(t)),h(t)},b=t=>{gw(t,e,"spectrum").map(hU.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:uV(e.sliderBehaviours,[hU.config({mode:"special",focusIn:b}),uP.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:g}}),cV.config({channels:{[uC()]:{onReceive:h}}})]),events:lf([lv(CQ(),(e,t)=>{p(e,t.event.value)}),lT((t,r)=>{let o=d.getInitialValue();d.value.set(o);let l=a(t);u(t,l);let i=n(t);e.onInit(t,l,i,d.value.get())}),lv(nS(),f),lv(nE(),y),lv(nA(),(e,t)=>{b(e),f(e,t)}),lv(nN(),y)]),apis:{resetToMin:t=>{m.setToMin(t,e)},resetToMax:t=>{m.setToMax(t,e)},setValue:g,refresh:u},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,r)=>{e.setValue(t,r)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),zo=lZ("rgb-hex-update"),za=lZ("slider-update"),zn=lZ("palette-update"),zl=(e,t)=>{let r=zr.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=zr.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return zr.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:z(0)},components:[r,o],sliderBehaviours:cF([h3.config({})]),onChange:(e,t,r)=>{tP(e.element,"aria-valuenow",Math.floor(360-3.6*r)),ld(e,za,{value:r})}})},zi="form",zs=[uH("formBehaviours",[uP])],zc=e=>"<alloy.field."+e+">",zd=(e,t)=>e.fold(()=>oH.error(t),oH.value),zm=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:uV(e.formBehaviours,[uP.config({store:{mode:"manual",getValue:t=>ey(gC(t,e),(e,t)=>e().bind(e=>zd(gU.getCurrent(e),Error(`Cannot find a current component to extract the value from for form part '${t}': `+lH(e.element)))).map(uP.getValue)),setValue:(t,r)=>{ef(r,(r,o)=>{gw(t,e,o).each(e=>{gU.getCurrent(e).each(e=>{uP.setValue(e,r)})})})}}})]),apis:{getField:(t,r)=>gw(t,e,r).bind(gU.getCurrent)}}),zu={getField:l9((e,t,r)=>e.getField(t,r)),sketch:e=>{let t=(()=>{let e=[];return{field:(t,r)=>(e.push(t),gf(zi,zc(t),r)),record:z(e)}})(),r=e(t);return gM(zi,zs,q(t.record(),e=>gl({name:e,pname:zc(e)})),zm,r)}},zg=lZ("valid-input"),zp=lZ("invalid-input"),zh=lZ("validating-input"),zf="colorcustom.rgb.",zy=(e,t,r,o)=>{let a=(r,o)=>CM.config({invalidClass:t("invalid"),notify:{onValidate:e=>{ld(e,zh,{type:r})},onValid:e=>{ld(e,zg,{type:r,value:uP.getValue(e)})},onInvalid:e=>{ld(e,zp,{type:r,value:uP.getValue(e)})}},validator:{validate:t=>{let r=o(uP.getValue(t))?oH.value(!0):oH.error(e("aria.input.invalid"));return xo.pure(r)},validateOnLoad:!1}}),n=(r,o,n,l,i)=>{let s=e(zf+"range"),c=Cn.parts.label({dom:{tag:"label",attributes:{"aria-label":l}},components:[si(n)]});return{dom:{tag:"div",attributes:{role:"presentation"}},components:[c,Cn.parts.field({data:i,factory:vi,inputAttributes:{type:"text",..."hex"===o?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:cF([a(o,r),Ci.config({})]),onSetValue:e=>{CM.isInvalid(e)&&CM.run(e).get(_)}})].concat("hex"!==o?[Cn.parts["aria-descriptor"]({text:s})]:[])}},l=(e,t)=>{let r=wE(t);return zu.getField(e,"hex").each(t=>{h3.isFocused(t)||uP.setValue(e,{hex:r.value})}),r},i=(e,t)=>{let r=t.red,o=t.green,a=t.blue;uP.setValue(e,{red:r,green:o,blue:a})},s=fU({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=(e,t)=>{s.getOpt(e).each(e=>{tG(e.element,"background-color","#"+t.value)})};return gP({factory:()=>{let a={red:no(B.some(255)),green:no(B.some(255)),blue:no(B.some(255)),hex:no(B.some("ffffff"))},d=(e,t)=>{let r=wF(t);i(e,r),p(r)},m=e=>a[e].get(),u=(e,t)=>{a[e].set(t)},g=()=>m("red").bind(e=>m("green").bind(t=>m("blue").map(r=>wM(e,t,r,1)))),p=e=>{let t=e.red,r=e.green,o=e.blue;u("red",B.some(t)),u("green",B.some(r)),u("blue",B.some(o))},h=(e,t)=>{let r=t.event;"hex"!==r.type?u(r.type,B.none()):o(e)},f=(e,t)=>{r(e);let o=wb(t);u("hex",B.some(o.value));let a=wF(o);i(e,a),p(a),ld(e,zo,{hex:o}),c(e,o)},y=(e,t,r)=>{let o=parseInt(r,10);u(t,B.some(o)),g().each(t=>{let r=l(e,t);ld(e,zo,{hex:r}),c(e,r)})},b=e=>"hex"===e.type,v=(e,t)=>{let r=t.event;b(r)?f(e,r.value):y(e,r.type,r.value)},k=t=>({label:e(zf+t+".label"),description:e(zf+t+".description")}),w=k("red"),_=k("green"),x=k("blue"),C=k("hex");return oG(zu.sketch(r=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[r.field("red",Cn.sketch(n(wR,"red",w.label,w.description,255))),r.field("green",Cn.sketch(n(wR,"green",_.label,_.description,255))),r.field("blue",Cn.sketch(n(wR,"blue",x.label,x.description,255))),r.field("hex",Cn.sketch(n(ww,"hex",C.label,C.description,"ffffff"))),s.asSpec()],formBehaviours:cF([CM.config({invalidClass:t("form-invalid")}),h1("rgb-form-events",[lv(zg,v),lv(zp,h),lv(zh,h)])])})),{apis:{updateHex:(e,t)=>{uP.setValue(e,{hex:t.value}),d(e,t),c(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,r)=>{e.updateHex(t,r)}},extraApis:{}})},zb=(e,t)=>{let r=zr.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=zr.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),a=(e,t)=>{let{width:r,height:o}=e,a=e.getContext("2d");if(null===a)return;a.fillStyle=t,a.fillRect(0,0,r,o);let n=a.createLinearGradient(0,0,r,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),a.fillStyle=n,a.fillRect(0,0,r,o);let l=a.createLinearGradient(0,0,0,o);l.addColorStop(0,"rgba(0,0,0,0)"),l.addColorStop(1,"rgba(0,0,0,1)"),a.fillStyle=l,a.fillRect(0,0,r,o)},n=(e,t)=>{a(e.components()[0].element.dom,wP(wB(_n(t,100,100))))},l=(t,r)=>{let o=_l(wF(r));zr.setValue(t,{x:o.saturation,y:100-o.value}),tP(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",o.saturation,o.value]))};return gP({factory:n=>{let l=z({x:0,y:0}),i=cF([gU.config({find:B.some}),h3.config({})]);return zr.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:l},rounded:!1,components:[r,o],onChange:(t,r,o)=>{k(o)||tP(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Math.floor(o.x),Math.floor(100-o.y)])),ld(t,zn,{value:o})},onInit:(e,t,r,o)=>{a(r.element.dom,wP(wH))},sliderBehaviours:i})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,r)=>{n(t,r)},setThumb:(e,t,r)=>{l(t,r)}},extraApis:{}})},zv=(e,t)=>gP({name:"ColourPicker",configFields:[aP("dom"),a3("onValidHex",_),a3("onInvalidHex",_)],factory:r=>{let o=zy(e,t,r.onValidHex,r.onInvalidHex),a=zb(e,t),n=e=>(100-e)/100*360,l=e=>100-e/360*100,i={paletteRgba:no(wH),paletteHue:no(0)},s=fU(zl(e,t)),c=fU(a.sketch({})),d=fU(o.sketch({})),m=(e,t,r)=>{c.getOpt(e).each(e=>{a.setHue(e,r)})},u=(e,t)=>{d.getOpt(e).each(e=>{o.updateHex(e,t)})},g=(e,t,r)=>{s.getOpt(e).each(e=>{zr.setValue(e,l(r))})},p=(e,t)=>{c.getOpt(e).each(e=>{a.setThumb(e,t)})},h=(e,t)=>{let r=wF(e);i.paletteRgba.set(r),i.paletteHue.set(t)},f=(e,t,r,o)=>{h(t,r),W(o,o=>{o(e,t,r)})};return{uid:r.uid,dom:r.dom,components:[c.asSpec(),s.asSpec(),d.asSpec()],behaviours:cF([h1("colour-picker-events",[lv(zo,(()=>{let e=[m,g,p];return(t,r)=>{let o=r.event.hex,a=_i(o);f(t,o,a.hue,e)}})()),lv(zn,(()=>{let e=[u];return(t,r)=>{let o=r.event.value,a=i.paletteHue.get();f(t,_s(_n(a,o.x,100-o.y)),a,e)}})()),lv(za,(()=>{let e=[m,u];return(t,r)=>{let o=n(r.event.value),a=_l(i.paletteRgba.get());f(t,_s(_n(o,a.saturation,a.value)),o,e)}})())]),gU.config({find:e=>d.getOpt(e)}),hU.config({mode:"acyclic"})])}}}),zk=()=>gU.config({find:B.some}),zw=e=>gU.config({find:e.getOpt}),z_=e=>gU.config({find:t=>tw(t.element,e).bind(e=>t.getSystem().getByDom(e).toOptional())}),zx=au([a3("preprocess",E),a3("postprocess",E)]),zC=(e,t)=>{let r=aM("RepresentingConfigs.memento processors",zx,t);return uP.config({store:{mode:"manual",getValue:t=>{let o=e.get(t),a=uP.getValue(o);return r.postprocess(a)},setValue:(t,o)=>{let a=r.preprocess(o),n=e.get(t);uP.setValue(n,a)}}})},zS=(e,t,r)=>uP.config({store:{mode:"manual",...e.map(e=>({initialValue:e})).getOr({}),getValue:t,setValue:r}}),zz=(e,t,r)=>zS(e,e=>t(e.element),(e,t)=>r(e.element,t)),zE=e=>zz(e,lM,lR),zT=e=>uP.config({store:{mode:"memory",initialValue:e}}),zA={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},zO=e=>t=>d(t)?e.translate(zA[t]):e.translate(t),zD=(e,t,r)=>{let o=e=>"tox-"+e,a=fU(zv(zO(t),o).sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{ld(e,Cb,{name:"hex-valid",value:!0})},onInvalidHex:e=>{ld(e,Cb,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:cF([zS(r,e=>{let t=a.get(e);return gU.getCurrent(t).bind(e=>uP.getValue(e).hex).map(e=>"#"+eH(e,"#")).getOr("")},(e,t)=>{let r=B.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind(e=>ec(e,1)),o=a.get(e);gU.getCurrent(o).fold(()=>{console.log("Can not find form")},e=>{uP.setValue(e,{hex:r.getOr("")}),zu.getField(e,"hex").each(e=>{lc(e,nI())})})}),zk()])}};var zN=tinymce.util.Tools.resolve("tinymce.Resource");let zM=e=>eE(e,"init");var zR=tinymce.util.Tools.resolve("tinymce.util.Tools");let zB=(e,t)=>{let r=zR.explode(t.getOption("images_file_types"));return K(eu(e),e=>V(r,t=>eZ(e.name.toLowerCase(),`.${t.toLowerCase()}`)))},zF=(e,t,r)=>{let o=(e,t)=>{t.stop()},a=e=>(t,r)=>{W(e,e=>{e(t,r)})},n=(e,t)=>{var r;g3.isDisabled(e)||i(e,null==(r=t.event.raw.dataTransfer)?void 0:r.files)},l=(e,t)=>{i(e,t.event.raw.target.files)},i=(r,o)=>{o&&(uP.setValue(r,zB(o,t)),ld(r,Ch,{name:e.name}))},s=fU({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:cF([h1("input-file-events",[lS(nH()),lS(nQ())])])});return Cc(e.label.map(e=>Cp(e,t)),Cn.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:cF([zT(r.getOr([])),zk(),g3.config({}),fo.config({toggleClass:"dragenter",toggleOnExecute:!1}),h1("dropzone-events",[lv("dragenter",a([o,fo.toggle])),lv("dragleave",a([o,fo.toggle])),lv("dragover",o),lv("drop",a([o,n])),lv(nP(),l)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[si(t.translate("Drop an image here"))]},fP.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[si(t.translate("Browse for an image")),s.asSpec()],action:e=>{s.get(e).element.dom.click()},buttonBehaviours:cF([Ci.config({}),kX(t.isDisabled),kK()])})]}]})}}),["tox-form__group--stretched"],[])},zL=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:q(e.items,t.interpreter)}),zI=(e,t)=>{let r=null,o=null;return{cancel:()=>{p(r)||(clearTimeout(r),r=null,o=null)},throttle:(...a)=>{o=a,p(r)&&(r=setTimeout(()=>{let t=o;r=null,o=null,e.apply(null,t)},t))}}},zP=(e,t)=>{let r=null;return{cancel:()=>{p(r)||(clearTimeout(r),r=null)},throttle:(...o)=>{p(r)&&(r=setTimeout(()=>{r=null,e.apply(null,o)},t))}}},zH=(e,t)=>{let r=null,o=()=>{p(r)||(clearTimeout(r),r=null)};return{cancel:o,throttle:(...a)=>{o(),r=setTimeout(()=>{r=null,e.apply(null,a)},t)}}},zj=lZ("alloy-fake-before-tabstop"),zV=lZ("alloy-fake-after-tabstop"),zU=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:cF([h3.config({ignore:!0}),Ci.config({})])}),zZ=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[zU([zj]),t,zU([zV])],behaviours:cF([z_(1)])}),zq=(e,t)=>{ld(e,nF(),{raw:{which:9,shiftKey:t}})},zW=(e,t)=>{let r=t.element;iV(r,zj)?zq(e,!0):iV(r,zV)&&zq(e,!1)},z$=e=>xU(e,["."+zj,"."+zV].join(","),M),zG=lZ("update-dialog"),zK=lZ("update-title"),zY=lZ("update-body"),zX=lZ("update-footer"),zJ=lZ("body-send-message"),zQ=lZ("dialog-focus-shifted"),z1=rZ().browser,z0=z1.isSafari(),z2=z1.isFirefox(),z4=z0||z2,z3=z1.isChromium(),z5=({scrollTop:e,scrollHeight:t,clientHeight:r})=>Math.ceil(e)+r>=t,z6=(e,t)=>e.scrollTo(0,"bottom"===t?0x5f5e0ff:t),z8=(e,t)=>{let r=e.body;return B.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!z3&&!z0||b(r)&&(0!==r.scrollTop||Math.abs(r.scrollHeight-r.clientHeight)>1))?r:e.documentElement)},z7=(e,t,r)=>{let o=e.dom;B.from(o.contentDocument).fold(r,e=>{let r=0,a=z8(e,t).map(e=>(r=e.scrollTop,e)).forall(z5),n=()=>{let e=o.contentWindow;b(e)&&(a?z6(e,"bottom"):!a&&z4&&0!==r&&z6(e,r))};z0&&o.addEventListener("load",n,{once:!0}),e.open(),e.write(t),e.close(),z0||n()})},z9=eF(z4,z0?500:200).map(e=>zI(z7,e)),Ee=(e,t)=>{let r=no(e.getOr(""));return{getValue:e=>r.get(),setValue:(e,o)=>{if(r.get()!==o){let r=e.element,a=()=>tP(r,"srcdoc",o);t?z9.fold(z(z7),e=>e.throttle)(r,o,a):a()}r.set(o)}}},Et=(e,t,r)=>{let o="tox-dialog__iframe",a=e.transparent?[]:[`${o}--opaque`],n=e.border?["tox-navobj-bordered"]:[],l={...e.label.map(e=>({title:e})).getOr({}),...r.map(e=>({srcdoc:e})).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},i=Ee(r,e.streamContent);return Cc(e.label.map(e=>Cp(e,t)),Cn.parts.field({factory:{sketch:e=>zZ(B.from(n),{uid:e.uid,dom:{tag:"iframe",attributes:l,classes:[o,...a]},behaviours:cF([Ci.config({}),h3.config({}),zS(r,i.getValue,i.setValue),cV.config({channels:{[zQ]:{onReceive:(e,t)=>{t.newFocus.each(t=>{tf(e.element).each(r=>{(ts(e.element,t)?iI:iH)(r,"tox-navobj-bordered-focus")})})}}}})])})}}),["tox-form__group--stretched"],[])},Er=e=>new Promise((t,r)=>{let o=()=>{n(),t(e)},a=[dh(e,"load",o),dh(e,"error",()=>{n(),r("Unable to load data from image: "+e.dom.src)})],n=()=>W(a,e=>e.unbind());e.dom.complete&&o()}),Eo=(e,t,r,o,a)=>{let n=r*a,l=o*a,i=Math.max(0,t/2-l/2);return{left:Math.max(0,e/2-n/2).toString()+"px",top:i.toString()+"px",width:n.toString()+"px",height:l.toString()+"px"}},Ea=(e,t,r)=>Math.min(rl(e)/t,t6(e)/r,1),En=(e,t)=>{let r=no(t.getOr({url:""})),o=fU({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map(e=>({src:e.url})).getOr({})}}),a=fU({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),n={};e.height.each(e=>n.height=e);let l=t.map(e=>({url:e.url,zoom:B.from(e.zoom),cachedWidth:B.from(e.cachedWidth),cachedHeight:B.from(e.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:n,attributes:{role:"presentation"}},components:[a.asSpec()],behaviours:cF([zk(),zS(l,()=>r.get(),(e,t)=>{let n={url:t.url};t.zoom.each(e=>n.zoom=e),t.cachedWidth.each(e=>n.cachedWidth=e),t.cachedHeight.each(e=>n.cachedHeight=e),r.set(n);let l=()=>{let{cachedWidth:t,cachedHeight:r,zoom:o}=n;if(!f(t)&&!f(r)){f(o)&&(n.zoom=Ea(e.element,t,r));let l=Eo(rl(e.element),t6(e.element),t,r,n.zoom);a.getOpt(e).each(e=>{tK(e.element,l)})}};o.getOpt(e).each(r=>{let o=r.element;t.url!==tj(o,"src")&&(tP(o,"src",t.url),iH(e.element,"tox-imagepreview__loaded")),l(),Er(o).then(t=>{e.getSystem().isConnected()&&(iI(e.element,"tox-imagepreview__loaded"),n.cachedWidth=t.dom.naturalWidth,n.cachedHeight=t.dom.naturalHeight,l())})})})])}},El=(e,t)=>{let r="tox-label",o="center"===e.align?[`${r}--center`]:[],a="end"===e.align?[`${r}--end`]:[];return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[r,...o,...a]},components:[si(t.providers.translate(e.label))]},...q(e.items,t.interpreter)],behaviours:cF([zk(),hJ.config({}),zE(B.none()),hU.config({mode:"acyclic"})])}},Ei=lZ("toolbar.button.execute"),Es=e=>lD((t,r)=>{k1(e,t)(r=>{ld(t,Ei,{buttonApi:r}),e.onAction(r)})}),Ec=lZ("common-button-display-events"),Ed={[nX()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[n7()]:["toolbar-button-events",Ec],[nA()]:["focusing","alloy.base.behaviour",Ec]},Em=e=>tG(e.element,"width",tX(e.element,"width")),Eu=(e,t,r)=>yV(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:r},t),Eg=(e,t)=>Eu(e,t,[]),Ep=(e,t)=>Eu(e,t,[hJ.config({})]),Eh=(e,t,r)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[si(r.translate(e))],behaviours:cF([hJ.config({})])}),Ef=lZ("update-menu-text"),Ey=lZ("update-menu-icon"),Eb=(e,t,r)=>{let o=no(_),a=e.text.map(e=>fU(Eh(e,t,r.providers))),n=e.icon.map(e=>fU(Ep(e,r.providers.icons))),l=(e,t)=>{let r=uP.getValue(e);return h3.focus(r),ld(r,"keydown",{raw:t.event.raw}),xk.close(r),B.some(!0)},i=e.role.fold(()=>({}),e=>({role:e})),s=e.tooltip.fold(()=>({}),e=>{let t=r.providers.translate(e);return{title:t,"aria-label":t}}),c=yV("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},r.providers.icons),d=lZ("common-button-display-events");return fU(xk.sketch({...e.uid?{uid:e.uid}:{},...i,dom:{tag:"button",classes:[t,`${t}--select`].concat(q(e.classes,e=>`${t}--${e}`)),attributes:{...s}},components:eD([n.map(e=>e.asSpec()),a.map(e=>e.asSpec()),B.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,r,o)=>{e.searchable&&xT(o)},dropdownBehaviours:cF([...e.dropdownBehaviours,kX(()=>e.disabled||r.providers.isDisabled()),kK(),CR.config({}),hJ.config({}),h1("dropdown-events",[k0(e,o),k2(e,o)]),h1(d,[lT((e,t)=>Em(e))]),h1("menubutton-update-display-text",[lv(Ef,(e,t)=>{a.bind(t=>t.getOpt(e)).each(e=>{hJ.set(e,[si(r.providers.translate(t.event.text))])})}),lv(Ey,(e,t)=>{n.bind(t=>t.getOpt(e)).each(e=>{hJ.set(e,[Ep(t.event.icon,r.providers.icons)])})})])]),eventOrder:oG(Ed,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[n7()]:["toolbar-button-events","dropdown-events",d]}),sandboxBehaviours:cF([hU.config({mode:"special",onLeft:l,onRight:l}),h1("dropdown-sandbox-events",[lv(vs,(e,t)=>{x_(e),t.stop()}),lv(vc,(e,t)=>{xx(e,t),t.stop()})])]),lazySink:r.getSink,toggleClass:`${t}--active`,parts:{menu:{...vr(!1,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:xz,onCollapseMenu:(e,t,r)=>{pa.getHighlighted(r).each(t=>{xz(e,r,t)})},onDehighlightItem:xE}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{dR()(e,t-10)}}),fetch:t=>xo.nu(A(e.fetch,t))})).asSpec()},Ev=e=>d(e),Ek=e=>"separator"===e.type,Ew=e=>eE(e,"getSubmenuItems"),E_={type:"separator"},Ex=(e,t)=>{let r=X(e,(e,r)=>Ev(r)?""===r?e:"|"===r?e.length>0&&!Ek(e[e.length-1])?e.concat([E_]):e:eE(t,r.toLowerCase())?e.concat([t[r.toLowerCase()]]):e:e.concat([r]),[]);return r.length>0&&Ek(r[r.length-1])&&r.pop(),r},EC=(e,t)=>{let r=Ez(e.getSubmenuItems(),t),o=oG(r.menus,{[e.value]:r.items}),a=oG(r.expansions,{[e.value]:e.value});return{item:e,menus:o,expansions:a}},ES=e=>oG({value:ez(e,"value").getOrThunk(()=>lZ("generated-menu-item"))},e),Ez=(e,t)=>Y(Ex(d(e)?e.split(" "):e,t),(e,r)=>{if(!Ew(r))return{...e,items:[r,...e.items]};{let o=EC(ES(r),t);return{menus:oG(e.menus,o.menus),items:[o.item,...e.items],expansions:oG(e.expansions,o.expansions)}}},{menus:{},expansions:{},items:[]}),EE=e=>e.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-field",placeholder:e.placeholder})),ET=e=>e.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-results"})),EA=(e,t,r,o)=>{let a=lZ("primary-menu"),n=Ez(e,r.shared.providers.menuItems());if(0===n.items.length)return B.none();let l=EE(o),i=xN(a,n.items,t,r,o.isHorizontalMenu,l),s=ET(o),c=oG(ey(n.menus,(e,o)=>xN(o,e,t,r,!1,s)),nd(a,i));return B.from(fB.tieredData(a,c,n.expansions))},EO=e=>!eE(e,"items"),ED="data-value",EN=(e,t,r,o)=>q(r,r=>EO(r)?{type:"togglemenuitem",text:r.text,value:r.value,active:r.value===o,onAction:()=>{uP.setValue(e,r.value),ld(e,Ch,{name:t}),h3.focus(e)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:()=>EN(e,t,r.items,o)}),EM=(e,t)=>eg(e,e=>EO(e)?eF(e.value===t,e):EM(e.items,t)),ER=(e,t,r)=>{let o=t.shared.providers,a=r.bind(t=>EM(e.items,t)).orThunk(()=>ed(e.items).filter(EO)),n=e.label.map(e=>Cp(e,o)),l=Cn.parts.field({dom:{},factory:{sketch:r=>Eb({uid:r.uid,text:a.map(e=>e.text),icon:B.none(),tooltip:e.label,role:B.none(),fetch:(r,o)=>{o(EA(EN(r,e.name,e.items,uP.getValue(r)),bG.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:B.none()}))},onSetup:z(_),getApi:z({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ci.config({}),zS(a.map(e=>e.value),e=>tj(e.element,ED),(t,r)=>{EM(e.items,r).each(e=>{tP(t.element,ED,e.value),ld(t,Ef,{text:e.text})})})]},"tox-listbox",t.shared)}});return Cn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([n.toArray(),[{dom:{tag:"div",classes:["tox-listboxfield"]},components:[l]}]]),fieldBehaviours:cF([g3.config({disabled:z(!e.enabled),onDisabled:e=>{Cn.getField(e).each(g3.disable)},onEnabled:e=>{Cn.getField(e).each(g3.enable)}})])})},EB=(e,t)=>({dom:{tag:"div",classes:e.classes},components:q(e.items,t.shared.interpreter)}),EF=gP({name:"HtmlSelect",configFields:[aP("options"),uH("selectBehaviours",[h3,uP]),a3("selectClasses",[]),a3("selectAttributes",{}),aK("data")],factory:(e,t)=>{let r=q(e.options,e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}})),o=e.data.map(e=>nd("initialValue",e)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:r,behaviours:uV(e.selectBehaviours,[h3.config({}),uP.config({store:{mode:"manual",getValue:e=>iK(e.element),setValue:(t,r)=>{let o=ed(e.options);Q(e.options,e=>e.value===r).isSome()?iY(t.element,r):-1===t.element.dom.selectedIndex&&""===r&&o.each(e=>iY(t.element,e.value))},...o}})])}}}),EL=(e,t,r)=>{let o=q(e.items,e=>({text:t.translate(e.text),value:e.value})),a=e.label.map(e=>Cp(e,t)),n={dom:{tag:"div",classes:["tox-selectfield"]},components:et([[Cn.parts.field({dom:{},...r.map(e=>({data:e})).getOr({}),selectAttributes:{size:e.size},options:o,factory:EF,selectBehaviours:cF([g3.config({disabled:()=>!e.enabled||t.isDisabled()}),Ci.config({}),h1("selectbox-change",[lv(nP(),(t,r)=>{ld(t,Ch,{name:e.name})})])])})],(e.size>1?B.none():B.some(yV("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons))).toArray()])};return Cn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:et([a.toArray(),[n]]),fieldBehaviours:cF([g3.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{Cn.getField(e).each(g3.disable)},onEnabled:e=>{Cn.getField(e).each(g3.enable)}}),kK()])})},EI=z([a3("field1Name","field1"),a3("field2Name","field2"),sZ("onLockedChange"),sH(["lockClass"]),a3("locked",!1),uH("coupledFieldBehaviours",[gU,uP])]),EP=(e,t,r)=>gw(e,t,r).bind(gU.getCurrent),EH=(e,t)=>gl({factory:Cn,name:e,overrides:e=>({fieldBehaviours:cF([h1("coupled-input-behaviour",[lv(nI(),r=>{EP(r,e,t).each(t=>{gw(r,e,"lock").each(o=>{fo.isOn(o)&&e.onLockedChange(r,t,o)})})})])])})}),Ej=z([EH("field1","field2"),EH("field2","field1"),gl({factory:fP,schema:[aP("dom")],name:"lock",overrides:e=>({buttonBehaviours:cF([fo.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),EV=gH({name:"FormCoupledInputs",configFields:EI(),partFields:Ej(),factory:(e,t,r,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:uV(e.coupledFieldBehaviours,[gU.config({find:B.some}),uP.config({store:{mode:"manual",getValue:t=>{let r=gz(t,e,["field1","field2"]);return{[e.field1Name]:uP.getValue(r.field1()),[e.field2Name]:uP.getValue(r.field2())}},setValue:(t,r)=>{let o=gz(t,e,["field1","field2"]);eT(r,e.field1Name)&&uP.setValue(o.field1(),r[e.field1Name]),eT(r,e.field2Name)&&uP.setValue(o.field2(),r[e.field2Name])}}})]),apis:{getField1:t=>gw(t,e,"field1"),getField2:t=>gw(t,e,"field2"),getLock:t=>gw(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),EU=e=>{let t,r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=e.value.toFixed((t=e.unit)in r?r[t]:1);return -1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+e.unit},EZ=e=>{let t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null===t)return oH.error(e);{let e=parseFloat(t[1]),r=t[2];return oH.value({value:e,unit:r})}},Eq=(e,t)=>{let r={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=e=>eE(r,e);return e.unit===t?B.some(e.value):o(e.unit)&&o(t)?r[e.unit]===r[t]?B.some(e.value):B.some(e.value/r[e.unit]*r[t]):B.none()},EW=e=>B.none(),E$=(e,t)=>r=>Eq(r,t).map(r=>({value:r*e,unit:t})),EG=(e,t)=>eM(EZ(e).toOptional(),EZ(t).toOptional(),(e,t)=>Eq(e,t.unit).map(e=>t.value/e).map(e=>E$(e,t.unit)).getOr(EW)).getOr(EW),EK=(e,t)=>{let r=EW,o=lZ("ratio-event"),a=e=>yV(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),n=EV.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[a("lock"),a("unlock")],buttonBehaviours:cF([g3.config({disabled:()=>!e.enabled||t.isDisabled()}),kK(),Ci.config({})])}),l=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),i=r=>Cn.parts.field({factory:vi,inputClasses:["tox-textfield"],inputBehaviours:cF([g3.config({disabled:()=>!e.enabled||t.isDisabled()}),kK(),Ci.config({}),h1("size-input-events",[lv(nR(),(e,t)=>{ld(e,o,{isField1:r})}),lv(nP(),(t,r)=>{ld(t,Ch,{name:e.name})})])]),selectOnFocus:!1}),s=e=>({dom:{tag:"label",classes:["tox-label"]},components:[si(t.translate(e))]}),c=EV.parts.field1(l([Cn.parts.label(s("Width")),i(!0)])),d=EV.parts.field2(l([Cn.parts.label(s("Height")),i(!1)]));return EV.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,d,l([s("\xa0"),n])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{EZ(uP.getValue(e)).each(e=>{r(e).each(e=>{uP.setValue(t,EU(e))})})},coupledFieldBehaviours:cF([g3.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{EV.getField1(e).bind(Cn.getField).each(g3.disable),EV.getField2(e).bind(Cn.getField).each(g3.disable),EV.getLock(e).each(g3.disable)},onEnabled:e=>{EV.getField1(e).bind(Cn.getField).each(g3.enable),EV.getField2(e).bind(Cn.getField).each(g3.enable),EV.getLock(e).each(g3.enable)}}),kK(),h1("size-input-events2",[lv(o,(e,t)=>{let o=t.event.isField1,a=o?EV.getField1(e):EV.getField2(e),n=o?EV.getField2(e):EV.getField1(e);r=EG(a.map(uP.getValue).getOr(""),n.map(uP.getValue).getOr(""))})])])})},EY=(e,t,r)=>{let o=zr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[si(t.translate(e.label))]}),a=zr.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),n=zr.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return zr.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:z(r.getOrThunk(()=>(Math.abs(e.max)-Math.abs(e.min))/2))},components:[o,a,n],sliderBehaviours:cF([zk(),h3.config({})]),onChoose:(t,r,o)=>{ld(t,Ch,{name:e.name,value:o})}})},EX=(e,t)=>{let r=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:q(e.header,e=>({dom:{tag:"th",innerHtml:t.translate(e)}}))}]},{dom:{tag:"tbody"},components:q(e.cells,e=>({dom:{tag:"tr"},components:q(e,r)}))}],behaviours:cF([Ci.config({}),h3.config({})])}},EJ=(e,t)=>{let r=e.label.map(e=>Cp(e,t)),o=[g3.config({disabled:()=>e.disabled||t.isDisabled()}),kK(),hU.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(lc(e,Cv),B.some(!0))}),h1("textfield-change",[lv(nI(),(t,r)=>{ld(t,Ch,{name:e.name})}),lv(nK(),(t,r)=>{ld(t,Ch,{name:e.name})})]),Ci.config({})],a=e.validation.map(e=>CM.config({getRoot:e=>tf(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{let r=uP.getValue(t),o=e.validator(r);return xo.pure(!0===o?oH.value(r):oH.error(o))},validateOnLoad:e.validateOnLoad}})).toArray(),n=e.placeholder.fold(z({}),e=>({placeholder:t.translate(e)})),l=e.inputMode.fold(z({}),e=>({inputmode:e})),i={...n,...l},s=Cn.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map(e=>({data:e})).getOr({}),inputAttributes:i,inputClasses:[e.classname],inputBehaviours:cF(et([o,a])),selectOnFocus:!1,factory:vi}),c=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s;return Cc(r,c,(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),[g3.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{Cn.getField(e).each(g3.disable)},onEnabled:e=>{Cn.getField(e).each(g3.enable)}}),kK()])},EQ=(e,t,r)=>EJ({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:B.none(),maximized:e.maximized,data:r},t),E1=(e,t,r)=>EJ({name:e.name,multiline:!0,label:e.label,inputMode:B.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:B.none(),maximized:e.maximized,data:r},t),E0=(e,t)=>t.getAnimationRoot.fold(()=>e.element,t=>t(e)),E2=e=>e.dimension.property,E4=(e,t)=>e.dimension.getDimension(t),E3=(e,t)=>{iZ(E0(e,t),[t.shrinkingClass,t.growingClass])},E5=(e,t)=>{iH(e.element,t.openClass),iI(e.element,t.closedClass),tG(e.element,E2(t),"0px"),t4(e.element)},E6=(e,t)=>{iH(e.element,t.closedClass),iI(e.element,t.openClass),t2(e.element,E2(t))},E8=(e,t,r,o)=>{r.setCollapsed(),tG(e.element,E2(t),E4(t,e.element)),E3(e,t),E5(e,t),t.onStartShrink(e),t.onShrunk(e)},E7=(e,t,r,o)=>{let a=o.getOrThunk(()=>E4(t,e.element));r.setCollapsed(),tG(e.element,E2(t),a),t4(e.element);let n=E0(e,t);iH(n,t.growingClass),iI(n,t.shrinkingClass),E5(e,t),t.onStartShrink(e)},E9=(e,t,r)=>{let o=E4(t,e.element);("0px"===o?E8:E7)(e,t,r,B.some(o))},Te=(e,t,r)=>{let o=E0(e,t),a=iV(o,t.shrinkingClass),n=E4(t,e.element);E6(e,t);let l=E4(t,e.element);(a?()=>{tG(e.element,E2(t),n),t4(e.element)}:()=>{E5(e,t)})(),iH(o,t.shrinkingClass),iI(o,t.growingClass),E6(e,t),tG(e.element,E2(t),l),r.setExpanded(),t.onStartGrow(e)},Tt=(e,t,r)=>!0===iV(E0(e,t),t.growingClass),Tr=(e,t,r)=>!0===iV(E0(e,t),t.shrinkingClass);var To=Object.freeze({__proto__:null,refresh:(e,t,r)=>{if(r.isExpanded()){t2(e.element,E2(t));let r=E4(t,e.element);tG(e.element,E2(t),r)}},grow:(e,t,r)=>{r.isExpanded()||Te(e,t,r)},shrink:(e,t,r)=>{r.isExpanded()&&E9(e,t,r)},immediateShrink:(e,t,r)=>{r.isExpanded()&&E8(e,t,r)},hasGrown:(e,t,r)=>r.isExpanded(),hasShrunk:(e,t,r)=>r.isCollapsed(),isGrowing:Tt,isShrinking:Tr,isTransitioning:(e,t,r)=>Tt(e,t)||Tr(e,t),toggleGrow:(e,t,r)=>{(r.isExpanded()?E9:Te)(e,t,r)},disableTransitions:E3,immediateGrow:(e,t,r)=>{r.isExpanded()||(E6(e,t),tG(e.element,E2(t),E4(t,e.element)),E3(e,t),r.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),Ta=Object.freeze({__proto__:null,exhibit:(e,t,r)=>t.expanded?ii({classes:[t.openClass],styles:{}}):ii({classes:[t.closedClass],styles:nd(t.dimension.property,"0px")}),events:(e,t)=>lf([lE(nV(),(r,o)=>{o.event.raw.propertyName===e.dimension.property&&(E3(r,e),t.isExpanded()&&t2(r.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(r))})])});let Tn=cI({fields:[aP("closedClass"),aP("openClass"),aP("shrinkingClass"),aP("growingClass"),aK("getAnimationRoot"),sV("onShrunk"),sV("onStartShrink"),sV("onGrown"),sV("onStartGrow"),a3("expanded",!1),aH("dimension",aB("property",{width:[sW("property","width"),sW("getDimension",e=>rl(e)+"px")],height:[sW("property","height"),sW("getDimension",e=>t6(e)+"px")]}))],name:"sliding",active:Ta,apis:To,state:Object.freeze({__proto__:null,init:e=>{let t=no(e.expanded);return it({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:A(t.set,!1),setExpanded:A(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),Tl=e=>({isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t),setActive:t=>{let r=e.element;t?(iI(r,"tox-tbtn--enabled"),tP(r,"aria-pressed",!0)):(iH(r,"tox-tbtn--enabled"),tZ(r,"aria-pressed"))},isActive:()=>iV(e.element,"tox-tbtn--enabled"),setText:t=>{ld(e,Ef,{text:t})},setIcon:t=>ld(e,Ey,{icon:t})}),Ti=(e,t,r,o,a=!0)=>Eb({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:o,fetch:(t,o)=>{let a={pattern:e.search.isSome()?xA(t):""};e.fetch(t=>{o(EA(t,bG.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:e.search}))},a,Tl(t))},onSetup:e.onSetup,getApi:Tl,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...a?[Ci.config({})]:[]]},t,r.shared),Ts=(e,t,r)=>{let o=e=>o=>{let a=!o.isActive();o.setActive(a),e.storage.set(a),r.shared.getSink().each(r=>{t().getOpt(r).each(t=>{cZ(t.element),ld(t,Cb,{name:e.name,value:e.storage.get()})})})},a=e=>t=>{t.setActive(e.storage.get())};return t=>{t(q(e,e=>{let t=e.text.fold(()=>({}),e=>({text:e}));return{type:e.type,active:!1,...t,onAction:o(e),onSetup:a(e)}}))}},Tc=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[si(e)]}),Td=lZ("leaf-label-event-id"),Tm=({leaf:e,onLeafAction:t,visible:r,treeId:o,selectedId:a,backstage:n})=>{let l=e.menu.map(e=>Ti(e,"tox-mbtn",n,B.none(),r)),i=[Tc(e.title)];return l.each(e=>i.push(e)),fP.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(r?["tox-tree--leaf__label--visible"]:[])},components:i,role:"treeitem",action:r=>{t(e.id),r.getSystem().broadcastOn([`update-active-item-${o}`],{value:e.id})},eventOrder:{[nF()]:[Td,"keying"]},buttonBehaviours:cF([...r?[Ci.config({})]:[],fo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),cV.config({channels:{[`update-active-item-${o}`]:{onReceive:(t,r)=>{(r.value===e.id?fo.on:fo.off)(t)}}}}),h1(Td,[lT((t,r)=>{a.each(r=>{(r===e.id?fo.on:fo.off)(t)})}),lv(nF(),(e,t)=>{let r="ArrowLeft"===t.event.raw.code,o="ArrowRight"===t.event.raw.code;r?(sb(e.element,".tox-tree--directory").each(t=>{e.getSystem().getByDom(t).each(e=>{sv(t,".tox-tree--directory__label").each(t=>{e.getSystem().getByDom(t).each(h3.focus)})})}),t.stop()):o&&t.stop()})])])})},Tu=(e,t,r)=>yV(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:r},t),Tg=(e,t)=>Tu(e,t,[]),Tp=lZ("directory-label-event-id"),Th=({directory:e,visible:t,noChildren:r,backstage:o})=>{let a=e.menu.map(e=>Ti(e,"tox-mbtn",o,B.none())),n=[{dom:{tag:"div",classes:["tox-chevron"]},components:[Tg("chevron-right",o.shared.providers.icons)]},Tc(e.title)];a.each(e=>{n.push(e)});let l=t=>{sb(t.element,".tox-tree--directory").each(r=>{t.getSystem().getByDom(r).each(r=>{let o=!fo.isOn(r);fo.toggle(r),ld(t,"expand-tree-node",{expanded:o,node:e.id})})})};return fP.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:n,action:l,eventOrder:{[nF()]:[Tp,"keying"]},buttonBehaviours:cF([...t?[Ci.config({})]:[],h1(Tp,[lv(nF(),(e,t)=>{let o="ArrowRight"===t.event.raw.code,a="ArrowLeft"===t.event.raw.code;o&&r&&t.stop(),(o||a)&&sb(e.element,".tox-tree--directory").each(r=>{e.getSystem().getByDom(r).each(r=>{!fo.isOn(r)&&o||fo.isOn(r)&&a?(l(e),t.stop()):a&&!fo.isOn(r)&&(sb(r.element,".tox-tree--directory").each(e=>{sv(e,".tox-tree--directory__label").each(e=>{r.getSystem().getByDom(e).each(h3.focus)})}),t.stop())})})})])])})},Tf=({children:e,onLeafAction:t,visible:r,treeId:o,expandedIds:a,selectedId:n,backstage:l})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(e=>"leaf"===e.type?Tm({leaf:e,selectedId:n,onLeafAction:t,visible:r,treeId:o,backstage:l}):Tb({directory:e,expandedIds:a,selectedId:n,onLeafAction:t,labelTabstopping:r,treeId:o,backstage:l})),behaviours:cF([Tn.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:r}),hJ.config({})])}),Ty=lZ("directory-event-id"),Tb=({directory:e,onLeafAction:t,labelTabstopping:r,treeId:o,backstage:a,expandedIds:n,selectedId:l})=>{let{children:i}=e,s=no(n),c=e=>i.map(r=>"leaf"===r.type?Tm({leaf:r,selectedId:l,onLeafAction:t,visible:e,treeId:o,backstage:a}):Tb({directory:r,expandedIds:s.get(),selectedId:l,onLeafAction:t,labelTabstopping:e,treeId:o,backstage:a})),d=n.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Th({directory:e,visible:r,noChildren:0===e.children.length,backstage:a}),Tf({children:i,expandedIds:n,selectedId:l,onLeafAction:t,visible:d,treeId:o,backstage:a})],behaviours:cF([h1(Ty,[lT((e,t)=>{fo.set(e,d)}),lv("expand-tree-node",(e,t)=>{let{expanded:r,node:o}=t.event;s.set(r?[...s.get(),o]:s.get().filter(e=>e!==o))})]),fo.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,t)=>{let r=e.components()[1],o=c(t);t?Tn.grow(r):Tn.shrink(r),hJ.set(r,o)}})])}},Tv=lZ("tree-event-id"),Tk=(e,t)=>{let r=e.onLeafAction.getOr(_),o=e.onToggleExpand.getOr(_),a=no(e.defaultExpandedIds),n=no(e.defaultSelectedId),l=lZ("tree-id"),i=(o,a)=>e.items.map(e=>"leaf"===e.type?Tm({leaf:e,selectedId:o,onLeafAction:r,visible:!0,treeId:l,backstage:t}):Tb({directory:e,selectedId:o,onLeafAction:r,expandedIds:a,labelTabstopping:!0,treeId:l,backstage:t}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:i(n.get(),a.get()),behaviours:cF([hU.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),h1(Tv,[lv("expand-tree-node",(e,t)=>{let{expanded:r,node:n}=t.event;a.set(r?[...a.get(),n]:a.get().filter(e=>e!==n)),o(a.get(),{expanded:r,node:n})})]),cV.config({channels:{[`update-active-item-${l}`]:{onReceive:(e,t)=>{n.set(B.some(t.value)),hJ.set(e,i(B.some(t.value),a.get()))}}}}),hJ.config({})])}};var Tw=Object.freeze({__proto__:null,events:(e,t)=>{let r=e.stream.streams.setup(e,t);return lf([lv(e.event,r),lA(()=>t.cancel())].concat(e.cancelEvent.map(e=>[lv(e,()=>t.cancel())]).getOr([])))}});let T_=e=>{let t=no(null);return it({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{let e=t.get();null!==e&&e.cancel()}})};var Tx=Object.freeze({__proto__:null,throttle:T_,init:e=>e.stream.streams.state(e)});let TC=cI({fields:[aH("stream",aB("mode",{throttle:[aP("delay"),a3("stopEvent",!0),sW("streams",{setup:(e,t)=>{let r=e.stream,o=zH(e.onStream,r.delay);return t.setTimer(o),(e,t)=>{o.throttle(e,t),r.stopEvent&&t.stop()}},state:T_})]})),a3("event","input"),aK("cancelEvent"),sZ("onStream")],name:"streaming",active:Tw,state:Tx}),TS=(e,t,r)=>{let o=uP.getValue(r);uP.setValue(t,o),TE(t)},Tz=(e,t)=>{let r=e.element,o=iK(r),a=r.dom;"number"!==tj(r,"type")&&t(a,o)},TE=e=>{Tz(e,(e,t)=>e.setSelectionRange(t.length,t.length))},TT=(e,t)=>{Tz(e,(e,r)=>e.setSelectionRange(t,r.length))},TA=(e,t,r)=>{if(!e.selectsOver)return B.none();{let o=uP.getValue(t),a=e.getDisplayText(o),n=uP.getValue(r);return 0===e.getDisplayText(n).indexOf(a)?B.some(()=>{TS(e,t,r),TT(t,a.length)}):B.none()}},TO=z("alloy.typeahead.itemexecute"),TD=z([aK("lazySink"),aP("fetch"),a3("minChars",5),a3("responseTime",1e3),sV("onOpen"),a3("getHotspot",B.some),a3("getAnchorOverrides",z({})),a3("layouts",B.none()),a3("eventOrder",{}),nr("model",{},[a3("getDisplayText",e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value),a3("selectsOver",!0),a3("populateFromBrowse",!0)]),sV("onSetValue"),sU("onExecute"),sV("onItemExecute"),a3("inputClasses",[]),a3("inputAttributes",{}),a3("inputStyles",{}),a3("matchWidth",!0),a3("useMinWidth",!1),a3("dismissOnBlur",!0),sH(["openClass"]),aK("initialData"),uH("typeaheadBehaviours",[h3,uP,TC,hU,fo,_9]),aL("lazyTypeaheadComp",()=>no(B.none)),aL("previewing",()=>no(!0))].concat(vo()).concat(xy())),TN=z([gi({schema:[sP()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,r,o)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(t=>{TA(e.model,t,o).fold(()=>{e.model.selectsOver?(pa.dehighlight(r,o),e.previewing.set(!0)):e.previewing.set(!1)},t=>{t(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(t=>{e.model.populateFromBrowse&&TS(e.model,t,o),tV(o.element,"id").each(e=>tP(t.element,"aria-activedescendant",e))})},onExecute:(t,r)=>e.lazyTypeaheadComp.get().map(e=>(ld(e,TO(),{item:r}),!0)),onHover:(t,r)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(t=>{e.model.populateFromBrowse&&TS(e.model,t,r)})}})})]),TM=gH({name:"Typeahead",configFields:TD(),partFields:TN(),factory:(e,t,r,o)=>{let a=(t,r,a)=>{e.previewing.set(!1);let n=_9.getCoupled(t,"sandbox");uw.isOpen(n)?gU.getCurrent(n).each(e=>{pa.getHighlighted(e).fold(()=>{a(e)},()=>{lh(n,e.element,"keydown",r)})}):xc(e,l(t),t,n,o,e=>{gU.getCurrent(e).each(a)},ok.HighlightMenuAndItem).get(_)},n=va(e),l=e=>t=>t.map(t=>{let r=er(eS(t.menus),e=>K(e.items,e=>"item"===e.type));return uP.getState(e).update(q(r,e=>e.data)),t}),i=e=>gU.getCurrent(e),s="typeaheadevents",c=[h3.config({}),uP.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>iK(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,r)=>{iY(t.element,e.model.getDisplayText(r))},...e.initialData.map(e=>nd("initialValue",e)).getOr({})}}),TC.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,r)=>{let a=_9.getCoupled(t,"sandbox");if(h3.isFocused(t)&&iK(t.element).length>=e.minChars){let r=i(a).bind(e=>pa.getHighlighted(e).map(uP.getValue));e.previewing.set(!0),xc(e,l(t),t,a,o,t=>{i(a).each(t=>{r.fold(()=>{e.model.selectsOver&&pa.highlightFirst(t)},e=>{pa.highlightBy(t,t=>uP.getValue(t).value===e.value),pa.getHighlighted(t).orThunk(()=>(pa.highlightFirst(t),B.none()))})})},ok.HighlightJustMenu).get(_)}},cancelEvent:n2()}),hU.config({mode:"special",onDown:(e,t)=>(a(e,t,pa.highlightFirst),B.some(!0)),onEscape:e=>{let t=_9.getCoupled(e,"sandbox");return uw.isOpen(t)?(uw.close(t),B.some(!0)):B.none()},onUp:(e,t)=>(a(e,t,pa.highlightLast),B.some(!0)),onEnter:t=>{let r=_9.getCoupled(t,"sandbox"),o=uw.isOpen(r);if(o&&!e.previewing.get())return i(r).bind(e=>pa.getHighlighted(e)).map(e=>(ld(t,TO(),{item:e}),!0));{let a=uP.getValue(t);return lc(t,n2()),e.onExecute(r,t,a),o&&uw.close(r),B.some(!0)}}}),fo.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),_9.config({others:{sandbox:t=>xh(e,t,{onOpen:()=>fo.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each(e=>tZ(e.element,"aria-activedescendant")),fo.off(t)}})}}),h1(s,[lT(t=>{e.lazyTypeaheadComp.set(B.some(t))}),lA(t=>{e.lazyTypeaheadComp.set(B.none())}),lD(t=>{xm(e,l(t),t,o,_,ok.HighlightMenuAndItem).get(_)}),lv(TO(),(t,r)=>{let o=_9.getCoupled(t,"sandbox");TS(e.model,t,r.event.item),lc(t,n2()),e.onItemExecute(t,o,r.event.item,uP.getValue(t)),uw.close(o),TE(t)})].concat(e.dismissOnBlur?[lv(nG(),e=>{let t=_9.getCoupled(e,"sandbox");cG(t.element).isNone()&&uw.close(t)})]:[]))],d={[n9()]:[uP.name(),TC.name(),s],...e.eventOrder};return{uid:e.uid,dom:vl(oG(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...n,...uV(e.typeaheadBehaviours,c)},eventOrder:d}}}),TR=e=>({...e,toCached:()=>TR(e.toCached()),bindFuture:t=>TR(e.bind(e=>e.fold(e=>xo.pure(oH.error(e)),e=>t(e)))),bindResult:t=>TR(e.map(e=>e.bind(t))),mapResult:t=>TR(e.map(e=>e.map(t))),mapError:t=>TR(e.map(e=>e.mapError(t))),foldResult:(t,r)=>e.map(e=>e.fold(t,r)),withTimeout:(t,r)=>TR(xo.nu(o=>{let a=!1,n=setTimeout(()=>{a=!0,o(oH.error(r()))},t);e.get(e=>{a||(clearTimeout(n),o(e))})}))}),TB=e=>TR(xo.nu(e)),TF=(e,t,r=[],o,a,n)=>{let l=t.fold(()=>({}),e=>({action:e})),i=oG({buttonBehaviours:cF([kX(()=>!e.enabled||n.isDisabled()),kK(),Ci.config({}),h1("button press",[lb("click"),lb("mousedown")])].concat(r)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...l},{dom:o});return oG(i,{components:a})},TL=(e,t,r,o=[])=>{let a=e.tooltip.map(e=>({"aria-label":r.translate(e),title:r.translate(e)})).getOr({}),n=eD([e.icon.map(e=>Eg(e,r.icons))]);return TF(e,t,o,{tag:"button",classes:["tox-tbtn"],attributes:a},n,r)},TI=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},TP=(e,t,r,o=[],a=[])=>{let n=r.translate(e.text),l=e.icon.map(e=>Eg(e,r.icons)),i=[l.getOrThunk(()=>si(n))],s=[...TI(e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary")),...l.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...a];return TF(e,t,o,{tag:"button",classes:s,attributes:{title:n}},i,r)},TH=(e,t,r,o=[],a=[])=>{let n=TP(e,B.some(t),r,o,a);return fP.sketch(n)},Tj=(e,t)=>r=>{"custom"===t?ld(r,Cb,{name:e,value:{}}):"submit"===t?lc(r,Cv):"cancel"===t?lc(r,Cy):console.error("Unknown button type: ",t)},TV=(e,t)=>"menu"===t,TU=(e,t)=>"custom"===t||"cancel"===t||"submit"===t,TZ=(e,t)=>"togglebutton"===t,Tq=(e,t)=>{var r,o;let a=e.icon.map(e=>Ep(e,t.icons)).map(fU),n=e.buttonType.getOr(e.primary?"primary":"secondary"),l={...e,name:null!=(r=e.name)?r:"",primary:"primary"===n,tooltip:B.from(e.tooltip),enabled:null!=(o=e.enabled)&&o,borderless:!1},i=l.tooltip.map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),s=TI(null!=n?n:"secondary"),c=e.icon.isSome()&&e.text.isSome(),d={tag:"button",classes:[...s.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...c?["tox-button--icon-and-text"]:[]],attributes:i},m=si(t.translate(e.text.getOr(""))),u=[...eD([a.map(e=>e.asSpec())]),...e.text.isSome()?[m]:[]],g=TF(l,B.some(r=>{ld(r,Cb,{name:e.name,value:{setIcon:e=>{a.map(o=>o.getOpt(r).each(r=>{hJ.set(r,[Ep(e,t.icons)])}))}}})}),[],d,u,t);return fP.sketch(g)},TW=(e,t,r)=>{if(TV(e,t)){let t=fU(Ti({...e,type:"menubutton",search:B.none(),onSetup:t=>(t.setEnabled(e.enabled),_),fetch:Ts(e.items,()=>t,r)},"tox-tbtn",r,B.none()));return t.asSpec()}if(TU(e,t)){let o=Tj(e.name,t);return TH({...e,borderless:!1},o,r.shared.providers,[])}if(TZ(e,t))return Tq(e,r.shared.providers);throw console.error("Unknown footer button type: ",t),Error("Unknown footer button type")},T$=(e,t)=>{let r=Tj(e.name,"custom");return Cd(B.none(),Cn.parts.field({factory:fP,...TP(e,B.some(r),t,[zT(""),zk()])}))},TG={type:"separator"},TK=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:_}),TY=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:_}),TX=e=>q(e,TK),TJ=(e,t)=>K(t,t=>t.type===e),TQ=(e,t)=>TX(TJ(e,t)),T1=e=>TQ("header",e.targets),T0=e=>TQ("anchor",e.targets),T2=e=>B.from(e.anchorTop).map(e=>TY("<top>",e)).toArray(),T4=e=>B.from(e.anchorBottom).map(e=>TY("<bottom>",e)).toArray(),T3=e=>q(e,e=>TY(e,e)),T5=e=>X(e,(e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(TG,t),[]),T6=(e,t)=>{let r=e.toLowerCase();return K(t,e=>{var t;let o=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,a=null!=(t=e.value)?t:"";return eV(o.toLowerCase(),r)||eV(a.toLowerCase(),r)})},T8=(e,t,r)=>{var o,a;let n=uP.getValue(t),l=null!=(a=null==(o=null==n?void 0:n.meta)?void 0:o.text)?a:n.value;return r.getLinkInformation().fold(()=>[],t=>{let o=T6(l,T3(r.getHistory(e)));return"file"===e?T5([o,T6(l,T1(t)),T6(l,et([T2(t),T0(t),T4(t)]))]):o})},T7=lZ("aria-invalid"),T9=(e,t,r,o)=>{let a=t.shared.providers,n=t=>{let o=uP.getValue(t);r.addToHistory(o.value,e.filetype)},l={...o.map(e=>({initialData:e})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":T7,type:"url"},minChars:0,responseTime:0,fetch:o=>{let a=EA(T8(e.filetype,o,r),bG.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:B.none()});return xo.pure(a)},getHotspot:e=>g.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(CM)&&CM.run(e).get(_)},typeaheadBehaviours:cF([...r.getValidationHandler().map(t=>CM.config({getRoot:e=>tf(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each(e=>{tP(e.element,"title",a.translate(t))})}},validator:{validate:r=>{let o=uP.getValue(r);return TB(r=>{t({type:e.filetype,url:o.value},e=>{"invalid"===e.status?r(oH.error(e.message)):r(oH.value(e.message))})})},validateOnLoad:!1}})).toArray(),g3.config({disabled:()=>!e.enabled||a.isDisabled()}),Ci.config({}),h1("urlinput-events",[lv(nI(),t=>{let r=iK(t.element),o=r.trim();o!==r&&iY(t.element,o),"file"===e.filetype&&ld(t,Ch,{name:e.name})}),lv(nP(),t=>{ld(t,Ch,{name:e.name}),n(t)}),lv(nK(),t=>{ld(t,Ch,{name:e.name}),n(t)})])]),eventOrder:{[nI()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:vr(!1,1,"normal")},onExecute:(e,t,r)=>{ld(t,Cv,{})},onItemExecute:(t,r,o,a)=>{n(t),ld(t,Ch,{name:e.name})}},i=Cn.parts.field({...l,factory:TM}),s=e.label.map(e=>Cp(e,a)),c=fU(((e,t,r=e,o=e)=>yV(r,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:a.translate(o),"aria-live":"polite",...t.fold(()=>({}),e=>({id:e}))}},a.icons))("invalid",B.some(T7),"warning")),d=fU({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),m=r.getUrlPicker(e.filetype),u=lZ("browser.url.event"),g=fU({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,d.asSpec()],behaviours:cF([g3.config({disabled:()=>!e.enabled||a.isDisabled()})])}),p=fU(TH({name:e.name,icon:B.some("browse"),text:e.picker_text.or(e.label).getOr(""),enabled:e.enabled,primary:!1,buttonType:B.none(),borderless:!0},e=>lc(e,u),a,[],["tox-browse-url"]));return Cn.sketch({dom:Cu(),components:s.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:et([[g.asSpec()],m.map(()=>p.asSpec()).toArray()])}]),fieldBehaviours:cF([g3.config({disabled:()=>!e.enabled||a.isDisabled(),onDisabled:e=>{Cn.getField(e).each(g3.disable),p.getOpt(e).each(g3.disable)},onEnabled:e=>{Cn.getField(e).each(g3.enable),p.getOpt(e).each(g3.enable)}}),kK(),h1("url-input-events",[lv(u,t=>{gU.getCurrent(t).each(r=>{let o=uP.getValue(r),a={fieldname:e.name,...o};m.each(o=>{o(a).get(o=>{uP.setValue(r,o),ld(t,Ch,{name:e.name})})})})})])])})},Ae=(e,t)=>{let r=yL(e.icon,t.icons);return Ce.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:e.url?void 0:r},components:e.url?[fP.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:r,attributes:{title:t.translate(e.iconTooltip)}},action:t=>ld(t,Cb,{name:"alert-banner",value:e.url}),buttonBehaviours:cF([yH()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},At=(e,t)=>{e.dom.checked=t},Ar=e=>e.dom.checked,Ao=(e,t,r)=>{let o=e=>(e.element.dom.click(),B.some(!0)),a=Cn.parts.field({factory:{sketch:E},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:cF([zk(),g3.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{tf(e.element).each(e=>iI(e,"tox-checkbox--disabled"))},onEnabled:e=>{tf(e.element).each(e=>iH(e,"tox-checkbox--disabled"))}}),Ci.config({}),h3.config({}),zz(r,Ar,At),hU.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),h1("checkbox-events",[lv(nP(),(t,r)=>{ld(t,Ch,{name:e.name})})])])}),n=Cn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[si(t.translate(e.label))],behaviours:cF([CR.config({})])}),l=e=>yV("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),i=fU({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[l("checked"),l("unchecked")]});return Cn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[a,i.asSpec(),n],fieldBehaviours:cF([g3.config({disabled:()=>!e.enabled||t.isDisabled()}),kK()])})},Aa=e=>(t,r,o,a)=>ez(r,"name").fold(()=>e(r,a,B.none()),n=>t.field(n,e(r,a,ez(o,n)))),An={bar:Aa((e,t)=>Cr(e,t.shared)),collection:Aa((e,t,r)=>CC(e,t.shared.providers,r)),alertbanner:Aa((e,t)=>Ae(e,t.shared.providers)),input:Aa((e,t,r)=>EQ(e,t.shared.providers,r)),textarea:Aa((e,t,r)=>E1(e,t.shared.providers,r)),label:Aa((e,t)=>El(e,t.shared)),iframe:(r=(e,t,r)=>Et(e,t.shared.providers,r),(e,t,o,a)=>{let n=oG(t,{source:"dynamic"});return Aa(r)(e,n,o,a)}),button:Aa((e,t)=>T$(e,t.shared.providers)),checkbox:Aa((e,t,r)=>Ao(e,t.shared.providers,r)),colorinput:Aa((e,t,r)=>CP(e,t.shared,t.colorinput,r)),colorpicker:Aa((e,t,r)=>zD(e,t.shared.providers,r)),dropzone:Aa((e,t,r)=>zF(e,t.shared.providers,r)),grid:Aa((e,t)=>zL(e,t.shared)),listbox:Aa((e,t,r)=>ER(e,t,r)),selectbox:Aa((e,t,r)=>EL(e,t.shared.providers,r)),sizeinput:Aa((e,t)=>EK(e,t.shared.providers)),slider:Aa((e,t,r)=>EY(e,t.shared.providers,r)),urlinput:Aa((e,t,r)=>T9(e,t,t.urlinput,r)),customeditor:Aa(e=>{let t=dp(),r=fU({dom:{tag:e.tag}}),o=dp();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:cF([h1("custom-editor-events",[lT(a=>{r.getOpt(a).each(r=>{(zM(e)?e.init(r.element.dom):zN.load(e.scriptId,e.scriptUrl).then(t=>t(r.element.dom,e.settings))).then(e=>{o.on(t=>{e.setValue(t)}),o.clear(),t.set(e)})})})]),zS(B.none(),()=>t.get().fold(()=>o.get().getOr(""),e=>e.getValue()),(e,r)=>{t.get().fold(()=>o.set(r),e=>e.setValue(r))}),zk()]),components:[r.asSpec()]}}),htmlpanel:Aa(e=>"presentation"===e.presets?Ce.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Ce.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:cF([Ci.config({}),h3.config({})])})),imagepreview:Aa((e,t,r)=>En(e,r)),table:Aa((e,t)=>EX(e,t.shared.providers)),tree:Aa((e,t)=>Tk(e,t)),panel:Aa((e,t)=>EB(e,t))},Al={field:(e,t)=>t,record:z([])},Ai=(e,t,r,o)=>{let a=oG(o,{shared:{interpreter:t=>As(e,t,r,a)}});return As(e,t,r,a)},As=(e,t,r,o)=>ez(An,t.type).fold(()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t),a=>a(e,t,r,o)),Ac=(e,t,r)=>As(Al,e,t,r),Ad="layout-inset",Am=e=>e.x,Au=(e,t)=>e.x+e.width/2-t.width/2,Ag=(e,t)=>e.x+e.width-t.width,Ap=e=>e.y,Ah=(e,t)=>e.y+e.height-t.height,Af=(e,t)=>e.y+e.height/2-t.height/2,Ay=(e,t,r)=>sK(Ag(e,t),Ah(e,t),r.insetSouthwest(),s4(),"southwest",ct(e,{right:0,bottom:3}),Ad),Ab=(e,t,r)=>sK(Am(e),Ah(e,t),r.insetSoutheast(),s2(),"southeast",ct(e,{left:1,bottom:3}),Ad),Av=(e,t,r)=>sK(Ag(e,t),Ap(e),r.insetNorthwest(),s0(),"northwest",ct(e,{right:0,top:2}),Ad),Ak=(e,t,r)=>sK(Am(e),Ap(e),r.insetNortheast(),s1(),"northeast",ct(e,{left:1,top:2}),Ad),Aw=(e,t,r)=>sK(Au(e,t),Ap(e),r.insetNorth(),s3(),"north",ct(e,{top:2}),Ad),A_=(e,t,r)=>sK(Au(e,t),Ah(e,t),r.insetSouth(),s5(),"south",ct(e,{bottom:3}),Ad),Ax=(e,t,r)=>sK(Ag(e,t),Af(e,t),r.insetEast(),s8(),"east",ct(e,{right:0}),Ad),AC=(e,t,r)=>sK(Am(e),Af(e,t),r.insetWest(),s6(),"west",ct(e,{left:1}),Ad),AS=e=>{switch(e){case"north":return Aw;case"northeast":return Ak;case"northwest":return Av;case"south":return A_;case"southeast":return Ab;case"southwest":return Ay;case"east":return Ax;case"west":return AC}},Az=(e,t,r,o,a)=>dr(o).map(AS).getOr(Aw)(e,t,r,o,a),AE=e=>{switch(e){case"north":return A_;case"northeast":return Ab;case"northwest":return Ay;case"south":return Aw;case"southeast":return Ak;case"southwest":return Av;case"east":return AC;case"west":return Ax}},AT=(e,t,r,o,a)=>dr(o).map(AE).getOr(Aw)(e,t,r,o,a),AA={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AO=(e,t,r)=>{let o={maxHeightFunction:dB()},a=()=>({type:"node",root:tA(tT(e())),node:B.from(e()),bubble:dH(12,12,AA),layouts:{onRtl:()=>[Ak],onLtr:()=>[Av]},overrides:o}),n=()=>({type:"hotspot",hotspot:t(),bubble:dH(-12,12,AA),layouts:{onRtl:()=>[cu,cg,cy],onLtr:()=>[cg,cu,cy]},overrides:o});return()=>r()?a():n()},AD=(e,t,r,o)=>{let a={maxHeightFunction:dB()},n=()=>({type:"node",root:tA(tT(t())),node:B.from(t()),bubble:dH(12,12,AA),layouts:{onRtl:()=>[Aw],onLtr:()=>[Aw]},overrides:a}),l=()=>e?{type:"node",root:tA(tT(t())),node:B.from(t()),bubble:dH(0,-t8(t()),AA),layouts:{onRtl:()=>[cf],onLtr:()=>[cf]},overrides:a}:{type:"hotspot",hotspot:r(),bubble:dH(0,0,AA),layouts:{onRtl:()=>[cf],onLtr:()=>[cf]},overrides:a};return()=>o()?n():l()},AN=(e,t,r)=>{let o=()=>({type:"node",root:tA(tT(e())),node:B.from(e()),layouts:{onRtl:()=>[Aw],onLtr:()=>[Aw]}}),a=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[cy],onLtr:()=>[cy]}});return()=>r()?o():a()},AM=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{let t=e.selection.getRng(),r=e.model.table.getSelectedCells();if(r.length>1){let e=r[0],t=r[r.length-1],o={firstCell:eY.fromDom(e),lastCell:eY.fromDom(t)};return B.some(o)}return B.some(ma.range(eY.fromDom(t.startContainer),t.startOffset,eY.fromDom(t.endContainer),t.endOffset))}}),AR=e=>t=>({type:"node",root:e(),node:t}),AB=(e,t,r,o)=>{let a=bL(e),n=()=>eY.fromDom(e.getBody()),l=()=>eY.fromDom(e.getContentAreaContainer()),i=()=>a||!o();return{inlineDialog:AO(l,t,i),inlineBottomDialog:AD(e.inline,l,r,i),banner:AN(l,t,i),cursor:AM(e,n),node:AR(n)}},AF=e=>(t,r)=>{_P(e)(t,r)},AL=e=>()=>_k(e),AI=e=>t=>_f(e,t),AP=e=>t=>_v(e,t),AH=e=>({colorPicker:AF(e),hasCustomColors:AL(e),getColors:AI(e),getColorCols:AP(e)}),Aj=e=>()=>by(e),AV=e=>({isDraggableModal:Aj(e)}),AU=e=>{let t=no(bB(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}},AZ=e=>eT(e,"items"),Aq=e=>eT(e,"format"),AW=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],A$=e=>eE(e,"items"),AG=e=>eE(e,"block"),AK=e=>eE(e,"inline"),AY=e=>eE(e,"selector"),AX=e=>X(e,(e,t)=>{if(A$(t)){let r=AX(t.items);return{customFormats:e.customFormats.concat(r.customFormats),formats:e.formats.concat([{title:t.title,items:r.formats}])}}if(!(AK(t)||AG(t)||AY(t)))return{...e,formats:e.formats.concat(t)};{let r=d(t.name)?t.name:t.title.toLowerCase(),o=`custom-${r}`;return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}},{customFormats:[],formats:[]}),AJ=(e,t)=>{let r=AX(t),o=t=>{W(t,t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})};return e.formatter?o(r.customFormats):e.on("init",()=>{o(r.customFormats)}),r.formats},AQ=e=>y6(e).map(t=>{let r=AJ(e,t);return y8(e)?AW.concat(r):r}).getOr(AW),A1=e=>{let t=ep(e);return 1===t.length&&j(t,"title")},A0=(e,t,r)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:r(e.format)}),A2=(e,t,r,o)=>{let a=e=>A0(e,r,o),n=e=>{let t=i(e.items);return{...e,type:"submenu",getStyleItems:z(t)}},l=t=>{let a=d(t.name)?t.name:lZ(t.title),n=`custom-${a}`,l={...t,type:"formatter",format:n,isSelected:r(n),getStylePreview:o(n)};return e.formatter.register(a,l),l},i=e=>q(e,e=>AZ(e)?n(e):Aq(e)?a(e):A1(e)?{...e,type:"separator"}:l(e));return i(t)},A4=e=>{let t=t=>()=>e.formatter.match(t),r=t=>()=>{let r=e.formatter.get(t);return void 0!==r?B.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):B.none()},o=no([]),a=no([]),n=no(!1);return e.on("PreInit",a=>{let n=AQ(e),l=A2(e,n,t,r);o.set(l)}),e.on("addStyleModifications",o=>{let l=A2(e,o.items,t,r);a.set(l),n.set(o.replace)}),{getData:()=>{let e=n.get()?[]:o.get(),t=a.get();return e.concat(t)}}},A3=e=>b(e)&&1===e.nodeType,A5=zR.trim,A6=e=>t=>!!A3(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)||!1,A8=A6("true"),A7=A6("false"),A9=(e,t,r,o,a)=>({type:e,title:t,url:r,level:o,attach:a}),Oe=e=>{let t=e;for(;t=t.parentNode;){let e=t.contentEditable;if(e&&"inherit"!==e)return A8(t)}return!1},Ot=(e,t)=>q(mv(eY.fromDom(t),e),e=>e.dom),Or=e=>e.innerText||e.textContent,Oo=e=>e.id?e.id:lZ("h"),Oa=e=>e&&"A"===e.nodeName&&(e.id||e.name)!==void 0,On=e=>Oa(e)&&Oi(e),Ol=e=>e&&/^(H[1-6])$/.test(e.nodeName),Oi=e=>Oe(e)&&!A7(e),Os=e=>Ol(e)&&Oi(e),Oc=e=>Ol(e)?parseInt(e.nodeName.substr(1),10):0,Od=e=>{var t;let r=Oo(e);return A9("header",null!=(t=Or(e))?t:"","#"+r,Oc(e),()=>{e.id=r})},Om=e=>{let t=e.id||e.name;return A9("anchor",Or(e)||"#"+t,"#"+t,0,_)},Ou=e=>q(K(e,Os),Od),Og=e=>q(K(e,On),Om),Op=e=>Ot("h1,h2,h3,h4,h5,h6,a:not([href])",e),Oh=e=>A5(e.title).length>0,Of={find:e=>{let t=Op(e);return K(Ou(t).concat(Og(t)),Oh)}},Oy="tinymce-url-history",Ob=e=>d(e)&&/^https?/.test(e),Ov=e=>g(e)&&e.length<=5&&eo(e,Ob),Ok=e=>m(e)&&eC(e,e=>!Ov(e)).isNone(),Ow=()=>{let e,t=w9.getItem(Oy);if(null===t)return{};try{e=JSON.parse(t)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+Oy+" was not valid JSON",e),{};throw e}return Ok(e)?e:(console.log("Local storage "+Oy+" was not valid format",e),{})},O_=e=>{if(!Ok(e))throw Error("Bad format for history:\n"+JSON.stringify(e));w9.setItem(Oy,JSON.stringify(e))},Ox=e=>ez(Ow(),e).getOr([]),OC=(e,t)=>{if(!Ob(e))return;let r=Ow(),o=K(ez(r,t).getOr([]),t=>t!==e);r[t]=[e].concat(o).slice(0,5),O_(r)},OS=e=>!!e,Oz=e=>ey(zR.makeMap(e,/[, ]/),OS),OE=e=>B.from(bd(e)),OT=e=>{let t=B.from(bg(e)).filter(OS).map(Oz);return OE(e).fold(M,e=>t.fold(R,e=>ep(e).length>0&&e))},OA=(e,t)=>{let r=OT(e);return h(r)?r?OE(e):B.none():r[t]?OE(e):B.none()},OO=(e,t)=>OA(e,t).map(r=>o=>xo.nu(a=>{let n={filetype:t,fieldname:o.fieldname,...B.from(o.meta).getOr({})};r.call(e,(e,t)=>{if(!d(e))throw Error("Expected value to be string");if(void 0!==t&&!m(t))throw Error("Expected meta to be a object");a({value:e,meta:t})},o.value,n)})),OD=e=>B.from(e).filter(d).getOrUndefined(),ON=e=>bp(e)?B.some({targets:Of.find(e.getBody()),anchorTop:OD(bh(e)),anchorBottom:OD(bf(e))}):B.none(),OM=e=>B.from(bm(e)),OR=e=>({getHistory:Ox,addToHistory:OC,getLinkInformation:()=>ON(e),getValidationHandler:()=>OM(e),getUrlPicker:t=>OO(e,t)}),OB=(e,t,r,o)=>{let a=no(!1),n=AU(t),l={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:yD.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},i=OR(t),s=A4(t),c=AH(t),d=AV(t),m={shared:{providers:l,anchors:AB(t,r,o,n.isPositionedAtTop),header:n},urlinput:i,styles:s,colorinput:c,dialog:d,isContextMenuOpen:()=>a.get(),setContextMenuState:e=>a.set(e)},u={...m,shared:{...m.shared,interpreter:e=>Ac(e,{},u),getSink:e.popup}},g={...m,shared:{...m.shared,interpreter:e=>Ac(e,{},g),getSink:e.dialog}};return{popup:u,dialog:g}},OF=(e,t,r)=>{let o=(e,o)=>{W([t,...r],t=>{t.broadcastEvent(e,o)})},a=(e,o)=>{W([t,...r],t=>{t.broadcastOn([e],o)})},n=e=>a(u_(),{target:e.target}),l=ot(),i=dh(l,"touchstart",n),s=dh(l,"touchmove",e=>o(n3(),e)),c=dh(l,"touchend",e=>o(n5(),e)),d=dh(l,"mousedown",n),m=dh(l,"mouseup",e=>{0===e.raw.button&&a(uC(),{target:e.target})}),u=e=>a(u_(),{target:eY.fromDom(e.target)}),g=e=>{0===e.button&&a(uC(),{target:eY.fromDom(e.target)})},p=()=>{W(e.editorManager.get(),t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})})},h=e=>o(n6(),rW(e)),f=e=>{a(ux(),{}),o(n8(),rW(e))},y=df(tT(eY.fromDom(e.getElement())),"scroll",r=>{requestAnimationFrame(()=>{null!=e.getContainer()&&V(xj(e,t.element).map(e=>[e.element,...e.others]).getOr([]),e=>ts(e,r.target))&&(e.dispatch("ElementScroll",{target:r.target.dom}),o(la(),r))})}),b=()=>a(ux(),{}),v=t=>{t.state&&a(u_(),{target:eY.fromDom(e.getContainer())})},k=e=>{a(u_(),{target:eY.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",()=>{e.on("click",u),e.on("tap",u),e.on("mouseup",g),e.on("mousedown",p),e.on("ScrollWindow",h),e.on("ResizeWindow",f),e.on("ResizeEditor",b),e.on("AfterProgressState",v),e.on("DismissPopups",k)}),e.on("remove",()=>{e.off("click",u),e.off("tap",u),e.off("mouseup",g),e.off("mousedown",p),e.off("ScrollWindow",h),e.off("ResizeWindow",f),e.off("ResizeEditor",b),e.off("AfterProgressState",v),e.off("DismissPopups",k),d.unbind(),i.unbind(),s.unbind(),c.unbind(),m.unbind(),y.unbind()}),e.on("detach",()=>{W([t,...r],uc),W([t,...r],e=>e.destroy())})},OL=z([a3("shell",!1),aP("makeItem"),a3("setupItem",_),uH("listBehaviours",[hJ])]),OI=z([gs({name:"items",overrides:()=>({behaviours:cF([hJ.config({})])})})]),OP=gH({name:z("CustomList")(),configFields:OL(),partFields:OI(),factory:(e,t,r,o)=>{let a=e.shell?{behaviours:[hJ.config({})],components:[]}:{behaviours:[],components:t},n=t=>e.shell?B.some(t):gw(t,e,"items");return{uid:e.uid,dom:e.dom,components:a.components,behaviours:uV(e.listBehaviours,a.behaviours),apis:{setItems:(t,r)=>{n(t).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),Error("Custom List was defined to not be a shell, but no item container was specified in components")},o=>{let a=hJ.contents(o),n=r.length,l=n-a.length,i=l>0?U(l,()=>e.makeItem()):[];W(a.slice(n),e=>hJ.remove(o,e)),W(i,e=>hJ.append(o,e)),W(hJ.contents(o),(o,a)=>{e.setupItem(t,o,r[a],a)})})}}}},apis:{setItems:(e,t,r)=>{e.setItems(t,r)}}}),OH=z([aP("dom"),a3("shell",!0),uH("toolbarBehaviours",[hJ])]),Oj=z([gs({name:"groups",overrides:()=>({behaviours:cF([hJ.config({})])})})]),OV=gH({name:"Toolbar",configFields:OH(),partFields:Oj(),factory:(e,t,r,o)=>{let a=t=>e.shell?B.some(t):gw(t,e,"groups"),n=e.shell?{behaviours:[hJ.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:n.components,behaviours:uV(e.toolbarBehaviours,n.behaviours),apis:{setGroups:(e,t)=>{a(e).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},e=>{hJ.set(e,t)})},refresh:_},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)}}}),OU=z([]);var OZ=Object.freeze({__proto__:null,setup:_,isDocked:M,getBehaviours:OU});let Oq=e=>(eA(tQ(e,"position"),"fixed")?B.none():tb(e)).orThunk(()=>{let t=eY.fromTag("span");return tp(e).bind(e=>{r0(e,t);let r=tb(t);return r5(t),r})}),OW=e=>Oq(e).map(rr).getOrThunk(()=>t9(0,0)),O$=(e,t)=>{let r=e.element;iI(r,t.transitionClass),iH(r,t.fadeOutClass),iI(r,t.fadeInClass),t.onShow(e)},OG=(e,t)=>{let r=e.element;iI(r,t.transitionClass),iH(r,t.fadeInClass),iI(r,t.fadeOutClass),t.onHide(e)},OK=(e,t)=>e.y<t.bottom&&e.bottom>t.y,OY=(e,t)=>e.y>=t.y,OX=(e,t)=>e.bottom<=t.bottom,OJ=(e,t,r)=>({location:"top",leftX:t,topY:r.bounds.y-e.y}),OQ=(e,t,r)=>({location:"bottom",leftX:t,bottomY:e.bottom-r.bounds.bottom}),O1=e=>e.box.x-e.win.x,O0=(e,t,r)=>{let o=t.win,a=t.box,n=O1(t);return eg(e,e=>{switch(e){case"bottom":return OX(a,r.bounds)?B.none():B.some(OQ(o,n,r));case"top":return OY(a,r.bounds)?B.none():B.some(OJ(o,n,r));default:return B.none()}}).getOr({location:"no-dock"})},O2=(e,t,r)=>eo(e,e=>{switch(e){case"bottom":return OX(t,r.bounds);case"top":return OY(t,r.bounds)}}),O4=(e,t)=>{let r=t.optScrollEnv.fold(z(e.bounds.y),t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop));return t9(e.bounds.x,r)},O3=(e,t)=>{let r=t.optScrollEnv.fold(z(e.y),t=>e.y+t.currentScrollTop-t.scrollElmTop);return t9(e.x,r)},O5=(e,t,r)=>r.getInitialPos().map(r=>{let o=O4(r,t);return{box:oD(o.left,o.top,rl(e),t6(e)),location:r.location}}),O6=(e,t,r,o,a)=>{let n=O3(t,r),l=oD(n.left,n.top,t.width,t.height);o.setInitialPos({style:t1(e),position:tX(e,"position")||"static",bounds:l,location:a.location})},O8=(e,t,r,o,a)=>{o.getInitialPos().fold(()=>O6(e,t,r,o,a),()=>_)},O7=(e,t,r)=>r.getInitialPos().bind(o=>{var a;switch(r.clearInitialPos(),o.position){case"static":return B.some({morph:"static"});case"absolute":let n=Oq(e).getOr(tF()),l=oN(n),i=null!=(a=n.dom.scrollTop)?a:0;return B.some({morph:"absolute",positionCss:cY("absolute",ez(o.style,"left").map(e=>t.x-l.x),ez(o.style,"top").map(e=>t.y-l.y+i),ez(o.style,"right").map(e=>l.right-t.right),ez(o.style,"bottom").map(e=>l.bottom-t.bottom))});default:return B.none()}}),O9=(e,t,r)=>O5(e,t,r).filter(({box:e})=>O2(r.getModes(),e,t)).bind(({box:t})=>O7(e,t,r)),De=e=>{switch(e.location){case"top":return B.some({morph:"fixed",positionCss:cY("fixed",B.some(e.leftX),B.some(e.topY),B.none(),B.none())});case"bottom":return B.some({morph:"fixed",positionCss:cY("fixed",B.some(e.leftX),B.none(),B.none(),B.some(e.bottomY))});default:return B.none()}},Dt=(e,t,r)=>{let o=oN(e),a=oF(),n=O0(r.getModes(),{win:a,box:o},t);return"top"===n.location||"bottom"===n.location?(O6(e,o,t,r,n),De(n)):B.none()},Dr=(e,t,r)=>O9(e,t,r).orThunk(()=>t.optScrollEnv.bind(o=>O5(e,t,r)).bind(({box:e,location:r})=>{let o=oF(),a=O1({win:o,box:e});return De("top"===r?OJ(o,a,t):OQ(o,a,t))})),Do=(e,t,r)=>{let o=e.element;return eA(tQ(o,"position"),"fixed")?Dr(o,t,r):Dt(o,t,r)},Da=(e,t,r)=>{let o=e.element;return O5(o,t,r).bind(({box:e})=>O7(o,e,r))},Dn=(e,t,r,o)=>{let a=oN(e),n=oF(),l=O1({win:n,box:a}),i=o(n,l,t);return"bottom"===i.location||"top"===i.location?(O8(e,a,t,r,i),De(i)):B.none()},Dl=(e,t,r)=>{r.setDocked(!1),W(["left","right","top","bottom","position"],t=>t2(e.element,t)),t.onUndocked(e)},Di=(e,t,r,o)=>{let a="fixed"===o.position;r.setDocked(a),cJ(e.element,o),(a?t.onDocked:t.onUndocked)(e)},Ds=(e,t,r,o,a=!1)=>{t.contextual.each(t=>{t.lazyContext(e).each(n=>{let l=OK(n,o.bounds);l!==r.isVisible()&&(r.setVisible(l),a&&!l?(iU(e.element,[t.fadeOutClass]),t.onHide(e)):(l?O$:OG)(e,t))})})},Dc=(e,t,r,o,a)=>{Ds(e,t,r,o,!0),Di(e,t,r,a.positionCss)},Dd=(e,t,r,o,a)=>{switch(a.morph){case"static":return Dl(e,t,r);case"absolute":return Di(e,t,r,a.positionCss);case"fixed":return Dc(e,t,r,o,a)}},Dm=(e,t,r)=>{let o=t.lazyViewport(e);Ds(e,t,r,o),Do(e,o,r).each(a=>{Dd(e,t,r,o,a)})},Du=(e,t,r)=>{let o=e.element;r.setDocked(!1);let a=t.lazyViewport(e);Da(e,a,r).each(o=>{switch(o.morph){case"static":Dl(e,t,r);break;case"absolute":Di(e,t,r,o.positionCss)}}),r.setVisible(!0),t.contextual.each(t=>{iZ(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)}),Dg(e,t,r)},Dg=(e,t,r)=>{e.getSystem().isConnected()&&Dm(e,t,r)},Dp=(e,t,r)=>{r.isDocked()&&Du(e,t,r)},Dh=e=>(t,r,o)=>{let a=r.lazyViewport(t);Dn(t.element,a,o,e).each(e=>{Dc(t,r,o,a,e)})},Df=Dh(OJ);var Dy=Object.freeze({__proto__:null,refresh:Dg,reset:Dp,isDocked:(e,t,r)=>r.isDocked(),getModes:(e,t,r)=>r.getModes(),setModes:(e,t,r,o)=>r.setModes(o),forceDockToTop:Df,forceDockToBottom:Dh(OQ)}),Db=Object.freeze({__proto__:null,events:(e,t)=>lf([lE(nV(),(r,o)=>{e.contextual.each(e=>{iV(r.element,e.transitionClass)&&(iZ(r.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(r)),o.stop()})}),lv(n6(),(r,o)=>{Dg(r,e,t)}),lv(la(),(r,o)=>{Dg(r,e,t)}),lv(n8(),(r,o)=>{Dp(r,e,t)})])});let Dv=cI({fields:[a2("contextual",[aV("fadeInClass"),aV("fadeOutClass"),aV("transitionClass"),aZ("lazyContext"),sV("onShow"),sV("onShown"),sV("onHide"),sV("onHidden")]),ne("lazyViewport",()=>({bounds:oF(),optScrollEnv:B.none()})),nt("modes",["top","bottom"],aw),sV("onDocked"),sV("onUndocked")],name:"docking",active:Db,apis:Dy,state:Object.freeze({__proto__:null,init:e=>{let t=no(!1),r=no(!0),o=dp(),a=no(e.modes);return it({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:r.get,setVisible:r.set,getModes:a.get,setModes:a.set,readState:()=>`docked:  ${t.get()}, visible: ${r.get()}, modes: ${a.get().join(",")}`})}})}),Dk=z(lZ("toolbar-height-change")),Dw={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},D_="tox-tinymce--toolbar-sticky-on",Dx="tox-tinymce--toolbar-sticky-off",DC=(e,t)=>{let r=td(t),o=tg(t).dom.innerHeight,a=r6(r),n=eY.fromDom(e.elm),l=oM(n),i=t6(n),s=l.y,c=rr(t),d=t6(t),m=c.top,u=m+d,g=2>Math.abs(m-a.top),p=2>Math.abs(u-(a.top+o));g&&s<u?r8(a.left,s-d,r):p&&s+i>m&&r8(a.left,s-o+i+d,r)},DS=(e,t)=>j(Dv.getModes(e),t),Dz=e=>{let t=e=>t8(e)+(parseInt(tX(e,"margin-top"),10)||0)+(parseInt(tX(e,"margin-bottom"),10)||0),r=e.element;tf(r).each(o=>{let a="padding-"+Dv.getModes(e)[0];Dv.isDocked(e)?(tG(r,"width",rl(o)+"px"),tG(o,a,t(r)+"px")):(t2(r,"width"),t2(o,a))})},DE=(e,t)=>{t?(iH(e,Dw.fadeOutClass),iU(e,[Dw.transitionClass,Dw.fadeInClass])):(iH(e,Dw.fadeInClass),iU(e,[Dw.fadeOutClass,Dw.transitionClass]))},DT=(e,t)=>{let r=eY.fromDom(e.getContainer());t?(iI(r,D_),iH(r,Dx)):(iI(r,Dx),iH(r,D_))},DA=(e,t)=>{let r=td(t);c$(r).filter(e=>!ts(t,e)).filter(t=>ts(t,eY.fromDom(r.dom.body))||tc(e,t)).each(()=>cZ(t))},DO=(e,t)=>cG(e).orThunk(()=>t().toOptional().bind(e=>cG(e.element))),DD=()=>[cV.config({channels:{[Dk()]:{onReceive:Dz}}})],DN=(e,t)=>{let r=dp(),o=t.getSink,a=e=>{o().each(t=>e(t.element))},n=t=>{e.inline||Dz(t),DT(e,Dv.isDocked(t)),t.getSystem().broadcastOn([ux()],{}),o().each(e=>e.getSystem().broadcastOn([ux()],{}))},l=e.inline?[]:DD();return[h3.config({}),Dv.config({contextual:{lazyContext:t=>{let r=t8(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer();return B.from(o).map(o=>{let a=oN(eY.fromDom(o));return xj(e,t.element).fold(()=>{let e=a.height-r,o=a.y+(DS(t,"top")?0:r);return oD(a.x,o,a.width,e)},e=>{let o=oR(a,xV(e)),n=DS(t,"top")?o.y:o.y+r;return oD(o.x,n,o.width,o.height-r)})})},onShow:()=>{a(e=>DE(e,!0))},onShown:e=>{a(e=>iZ(e,[Dw.transitionClass,Dw.fadeInClass])),r.get().each(t=>{DA(e.element,t),r.clear()})},onHide:e=>{DO(e.element,o).fold(r.clear,r.set),a(e=>DE(e,!1))},onHidden:()=>{a(e=>iZ(e,[Dw.transitionClass]))},...Dw},lazyViewport:t=>xj(e,t.element).fold(()=>{let r=oF(),o=bi(e),a=r.y+(DS(t,"top")?o:0),n=r.height-(DS(t,"bottom")?o:0);return{bounds:oD(r.x,a,r.width,n),optScrollEnv:B.none()}},e=>({bounds:xV(e),optScrollEnv:B.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:rr(e.element).top})})),modes:[t.header.getDockingMode()],onDocked:n,onUndocked:n}),...l]};var DM=Object.freeze({__proto__:null,setup:(e,t,r)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{r().each(Dv.reset)}),e.on("ResizeWindow ResizeEditor",()=>{r().each(Dz)}),e.on("SkinLoaded",()=>{r().each(e=>{Dv.isDocked(e)?Dv.reset(e):Dv.refresh(e)})}),e.on("FullscreenStateChanged",()=>{r().each(Dv.reset)})),e.on("AfterScrollIntoView",e=>{r().each(t=>{Dv.refresh(t);let r=t.element;pq(r)&&DC(e,r)})}),e.on("PostRender",()=>{DT(e,!1)})},isDocked:e=>e().map(Dv.isDocked).getOr(!1),getBehaviours:DN});let DR=au([vD,aH("items",ap([ay([vN,aG("items",aw)]),aw]))].concat(ke)),DB=[aJ("text"),aJ("tooltip"),aJ("icon"),a5("search",!1,ap([a_,au([aJ("placeholder")])],e=>h(e)?e?B.some({placeholder:B.none()}):B.none():B.some(e))),aZ("fetch"),ne("onSetup",()=>_)],DF=au([vD,...DB]),DL=e=>aD("menubutton",DF,e),DI=au([vD,vW,vq,vZ,vK,vI,vV,a7("presets","normal",["normal","color","listpreview"]),v1(1),vH,vj]);var DP=gP({factory:(e,t)=>{let r={focus:hU.focusIn,setMenus:(e,r)=>{let o=q(r,e=>Ti(DL({type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}}).mapError(e=>aR(e)).getOrDie(),"tox-mbtn",t.backstage,B.some("menuitem")));hJ.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:cF([hJ.config({}),h1("menubar-events",[lT(t=>{e.onSetup(t)}),lv(nM(),(e,t)=>{sk(e.element,".tox-mbtn--active").each(r=>{sw(t.event.target,".tox-mbtn").each(t=>{ts(r,t)||e.getSystem().getByDom(r).each(r=>{e.getSystem().getByDom(t).each(e=>{xk.expand(e),xk.close(r),h3.focus(e)})})})})}),lv(lr(),(e,t)=>{t.event.prevFocus.bind(t=>e.getSystem().getByDom(t).toOptional()).each(r=>{t.event.newFocus.bind(t=>e.getSystem().getByDom(t).toOptional()).each(e=>{xk.isOpen(r)&&(xk.expand(e),xk.close(r))})})})]),hU.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),B.some(!0))}),Ci.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[aP("dom"),aP("uid"),aP("onEscape"),aP("backstage"),a3("onSetup",_)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,r)=>{e.setMenus(t,r)}}});let DH="container",Dj=[uH("slotBehaviours",[])],DV=e=>"<alloy.field."+e+">",DU=(e,t)=>{let r=t=>gS(e),o=(t,r)=>(o,a)=>gw(o,e,a).map(e=>t(e,a)).getOr(r),a=(e,t)=>"true"!==tj(e.element,"aria-hidden"),n=o(a,!1),l=o((e,t)=>{if(a(e)){let r=e.element;tG(r,"display","none"),tP(r,"aria-hidden","true"),ld(e,lo(),{name:t,visible:!1})}}),i=(e,t)=>{W(t,t=>l(e,t))},s=o((e,t)=>{if(!a(e)){let r=e.element;t2(r,"display"),tZ(r,"aria-hidden"),ld(e,lo(),{name:t,visible:!0})}});return{uid:e.uid,dom:e.dom,components:t,behaviours:uj(e.slotBehaviours),apis:{getSlotNames:r,getSlot:(t,r)=>gw(t,e,r),isShowing:n,hideSlot:l,hideAllSlots:e=>i(e,r()),showSlot:s}}},DZ={...ey({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,r)=>e.getSlot(t,r),isShowing:(e,t,r)=>e.isShowing(t,r),hideSlot:(e,t,r)=>e.hideSlot(t,r),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,r)=>e.showSlot(t,r)},e=>l9(e)),sketch:e=>{let t=(()=>{let e=[];return{slot:(t,r)=>(e.push(t),gf(DH,DV(t),r)),record:z(e)}})(),r=e(t);return gM(DH,Dj,q(t.record(),e=>gl({name:e,pname:DV(e)})),DU,r)}},Dq=au([vq,vW,ne("onShow",_),ne("onHide",_),vV]),DW=e=>aD("sidebar",Dq,e),D$=e=>{let{sidebars:t}=e.ui.registry.getAll();W(ep(t),r=>{let o=t[r],a=()=>eA(B.from(e.queryCommandValue("ToggleSidebar")),r);e.ui.registry.addToggleButton(r,{icon:o.icon,tooltip:o.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,r),t.setActive(a())},onSetup:t=>{t.setActive(a());let r=()=>t.setActive(a());return e.on("ToggleSidebar",r),()=>{e.off("ToggleSidebar",r)}}})})},DG=e=>({element:()=>e.element.dom}),DK=(e,t)=>{let r=q(ep(t),e=>{let r=aN(DW(t[e]));return{name:e,getApi:DG,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return q(r,t=>{let o=no(_);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:kF([k0(t,o),k2(t,o),lv(lo(),(e,t)=>{let o=t.event;Q(r,e=>e.name===o.name).each(t=>{(o.visible?t.onShow:t.onHide)(t.getApi(e))})})])})})},DY=e=>DZ.sketch(t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:DK(t,e),slotBehaviours:kF([lT(e=>DZ.hideAllSlots(e))])})),DX=(e,t,r)=>{gU.getCurrent(e).each(o=>{hJ.set(o,[DY(t)]);let a=null==r?void 0:r.toLowerCase();d(a)&&eE(t,a)&&gU.getCurrent(o).each(t=>{DZ.showSlot(t,a),Tn.immediateGrow(o),t2(o.element,"width"),DJ(e.element,"region")})})},DJ=(e,t)=>{tP(e,"role",t)},DQ=(e,t)=>{gU.getCurrent(e).each(r=>{gU.getCurrent(r).each(o=>{Tn.hasGrown(r)?DZ.isShowing(o,t)?(Tn.shrink(r),DJ(e.element,"presentation")):(DZ.hideAllSlots(o),DZ.showSlot(o,t),DJ(e.element,"region")):(DZ.hideAllSlots(o),DZ.showSlot(o,t),Tn.grow(r),DJ(e.element,"region"))})})},D1=e=>gU.getCurrent(e).bind(e=>Tn.isGrowing(e)||Tn.hasGrown(e)?gU.getCurrent(e).bind(e=>Q(DZ.getSlotNames(e),t=>DZ.isShowing(e,t))):B.none()),D0=lZ("FixSizeEvent"),D2=lZ("AutoSizeEvent");var D4=Object.freeze({__proto__:null,block:(e,t,r,o)=>{tP(e.element,"aria-busy",!0);let a=t.getRoot(e).getOr(e),n=o(a,cF([hU.config({mode:"special",onTab:()=>B.some(!0),onShiftTab:()=>B.some(!0)}),h3.config({})])),l=a.getSystem().build(n);hJ.append(a,l6(l)),l.hasConfigured(hU)&&t.focus&&hU.focusIn(l),r.isBlocked()||t.onBlock(e),r.blockWith(()=>hJ.remove(a,l))},unblock:(e,t,r)=>{tZ(e.element,"aria-busy"),r.isBlocked()&&t.onUnblock(e),r.clear()},isBlocked:(e,t,r)=>r.isBlocked()});let D3=cI({fields:[ne("getRoot",B.none),a9("focus",!0),sV("onBlock"),sV("onUnblock")],name:"blocking",apis:D4,state:Object.freeze({__proto__:null,init:()=>{let e=du();return it({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),D5=e=>(t,r)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:fV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),D6=e=>gU.getCurrent(e).each(e=>cZ(e.element,!0)),D8=(e,t)=>{let r="tabindex",o=`data-mce-${r}`;B.from(e.iframeElement).map(eY.fromDom).each(e=>{t?(tV(e,r).each(t=>tP(e,o,t)),tP(e,r,-1)):(tZ(e,r),tV(e,o).each(t=>{tP(e,r,t),tZ(e,o)}))})},D7=(e,t,r,o)=>{let a=t.element;if(D8(e,r),r)D3.block(t,D5(o)),t2(a,"display"),tZ(a,"aria-hidden"),e.hasFocus()&&D6(t);else{let r=gU.getCurrent(t).exists(e=>cW(e.element));D3.unblock(t),tG(a,"display","none"),tP(a,"aria-hidden","true"),r&&e.focus()}},D9=e=>"focusin"===e.type,Ne=e=>!!D9(e)&&(e.composed?ed(e.composedPath()):B.from(e.target)).map(eY.fromDom).filter(e9).exists(e=>iV(e,"mce-pastebin")),Nt=(e,t,r)=>{let o=no(!1),a=dp(),n=r=>{o.get()&&!Ne(r)&&(r.preventDefault(),D6(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",n),e.on("BeforeExecCommand",e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&n(e)})});let l=a=>{a!==o.get()&&(o.set(a),D7(e,t(),a,r.providers),w$(e,a))};e.on("ProgressState",t=>{if(a.on(clearTimeout),k(t.time)){let r=fI.setEditorTimeout(e,()=>l(t.state),t.time);a.set(r)}else l(t.state),a.clear()})},Nr=(e,t)=>X(e,(e,r)=>t(r,e.len).fold(z(e),t=>({len:t.finish,list:e.list.concat([t])})),{len:0,list:[]}).list,No=(e,t,r)=>({within:e,extra:t,withinWidth:r}),Na=(e,t,r)=>{let o=Nr(e,(e,t)=>{let o=r(e);return B.some({element:e,start:t,finish:t+o,width:o})}),a=K(o,e=>e.finish<=t),n=Y(a,(e,t)=>e+t.width,0),l=o.slice(a.length);return{within:a,extra:l,withinWidth:n}},Nn=e=>q(e,e=>e.element),Nl=(e,t,r)=>No(Nn(e.concat(t)),[],r),Ni=(e,t,r,o)=>No(Nn(e).concat([r]),Nn(t),o),Ns=(e,t,r)=>No(Nn(e),[],r),Nc=(e,t,r)=>{let o=Na(t,e,r);return 0===o.extra.length?B.some(o):B.none()},Nd=(e,t,r,o)=>{let a=Nc(e,t,r).getOrThunk(()=>Na(t,e-r(o),r)),n=a.within,l=a.extra,i=a.withinWidth;return 1===l.length&&l[0].width<=r(o)?Nl(n,l,i):l.length>=1?Ni(n,l,o,i):Ns(n,l,i)},Nm=(e,t)=>{let r=q(t,e=>l6(e));OV.setGroups(e,r)},Nu=e=>eg(e,e=>cG(e.element).bind(t=>e.getSystem().getByDom(t).toOptional())),Ng=(e,t,r)=>{let o=t.builtGroups.get();if(0===o.length)return;let a=g_(e,t,"primary"),n=_9.getCoupled(e,"overflowGroup");tG(a.element,"visibility","hidden");let l=o.concat([n]),i=Nu(l);r([]),Nm(a,l);let s=Nd(rl(a.element),t.builtGroups.get(),e=>rl(e.element),n);0===s.extra.length?(hJ.remove(a,n),r([])):(Nm(a,s.within),r(s.extra)),t2(a.element,"visibility"),t4(a.element),i.each(h3.focus)},Np=z([uH("splitToolbarBehaviours",[_9]),aL("builtGroups",()=>no([]))]),Nh=z([sH(["overflowToggledClass"]),a1("getOverflowBounds"),aP("lazySink"),aL("overflowGroups",()=>no([])),sV("onOpened"),sV("onClosed")].concat(Np())),Nf=z([gl({factory:OV,schema:OH(),name:"primary"}),gi({schema:OH(),name:"overflow"}),gi({name:"overflow-button"}),gi({name:"overflow-group"})]),Ny=z((e,t)=>{rs(e,Math.floor(t))}),Nb=z([sH(["toggledClass"]),aP("lazySink"),aZ("fetch"),a1("getBounds"),a2("fireDismissalEventInstead",[a3("event",le())]),dW(),sV("onToggled")]),Nv=z([gi({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:cF([fo.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),gi({factory:OV,schema:OH(),name:"toolbar",overrides:e=>({toolbarBehaviours:cF([hU.config({mode:"cyclic",onEscape:t=>(gw(t,e,"button").each(h3.focus),B.none())})])})})]),Nk=dp(),Nw=(e,t)=>{Nk.set(!0),N_(e,t),Nk.clear()},N_=(e,t)=>{let r=_9.getCoupled(e,"toolbarSandbox");uw.isOpen(r)?uw.close(r):uw.open(r,t.toolbar())},Nx=(e,t,r,o)=>{let a=r.getBounds.map(e=>e()),n=r.lazySink(e).getOrDie();m0.positionWithinBounds(n,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:Ny()}}},a)},NC=(e,t,r,o,a)=>{OV.setGroups(t,a),Nx(e,t,r,o),fo.on(e)},NS=(e,t,r)=>{let o=sC();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:cF([hU.config({mode:"special",onEscape:e=>(uw.close(e),B.some(!0))}),uw.config({onOpen:(a,n)=>{let l=Nk.get().getOr(!1);r.fetch().get(a=>{NC(e,n,r,t.layouts,a),o.link(e.element),l||hU.focusIn(n)})},onClose:()=>{fo.off(e),Nk.get().getOr(!1)||h3.focus(e),o.unlink(e.element)},isPartOf:(t,r,o)=>sz(r,o)||sz(e,o),getAttachPoint:()=>r.lazySink(e).getOrDie()}),cV.config({channels:{...uz({isExtraPart:M,...r.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...uT({doReposition:()=>{uw.getState(_9.getCoupled(e,"toolbarSandbox")).each(o=>{Nx(e,o,r,t.layouts)})}})}})])}},Nz=gH({name:"FloatingToolbarButton",factory:(e,t,r,o)=>({...fP.sketch({...o.button(),action:e=>{N_(e,o)},buttonBehaviours:uV({dump:o.button().buttonBehaviours},[_9.config({others:{toolbarSandbox:t=>NS(t,r,e)}})])}),apis:{setGroups:(t,o)=>{uw.getState(_9.getCoupled(t,"toolbarSandbox")).each(a=>{NC(t,a,e,r.layouts,o)})},reposition:t=>{uw.getState(_9.getCoupled(t,"toolbarSandbox")).each(o=>{Nx(t,o,e,r.layouts)})},toggle:e=>{N_(e,o)},toggleWithoutFocusing:e=>{Nw(e,o)},getToolbar:e=>uw.getState(_9.getCoupled(e,"toolbarSandbox")),isOpen:e=>uw.isOpen(_9.getCoupled(e,"toolbarSandbox"))}}),configFields:Nb(),partFields:Nv(),apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),NE=z([aP("items"),sH(["itemSelector"]),uH("tgroupBehaviours",[hU])]),NT=z([gc({name:"items",unit:"item"})]),NA=gH({name:"ToolbarGroup",configFields:NE(),partFields:NT(),factory:(e,t,r,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:uV(e.tgroupBehaviours,[hU.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),NO=e=>q(e,e=>l6(e)),ND=(e,t,r)=>{Ng(e,r,o=>{r.overflowGroups.set(o),t.getOpt(e).each(e=>{Nz.setGroups(e,NO(o))})})},NN=gH({name:"SplitFloatingToolbar",configFields:Nh(),partFields:Nf(),factory:(e,t,r,o)=>{let a=fU(Nz.sketch({fetch:()=>xo.nu(t=>{t(NO(e.overflowGroups.get()))}),layouts:{onLtr:()=>[cg,cu],onRtl:()=>[cu,cg],onBottomLtr:()=>[ch,cp],onBottomRtl:()=>[cp,ch]},getBounds:r.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()},onToggled:(t,r)=>e[r?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:uV(e.splitToolbarBehaviours,[_9.config({others:{overflowGroup:()=>NA.sketch({...o["overflow-group"](),items:[a.asSpec()]})}})]),apis:{setGroups:(t,r)=>{e.builtGroups.set(q(r,t.getSystem().build)),ND(t,a,e)},refresh:t=>ND(t,a,e),toggle:e=>{a.getOpt(e).each(e=>{Nz.toggle(e)})},toggleWithoutFocusing:e=>{a.getOpt(e).each(Nz.toggleWithoutFocusing)},isOpen:e=>a.getOpt(e).map(Nz.isOpen).getOr(!1),reposition:e=>{a.getOpt(e).each(e=>{Nz.reposition(e)})},getOverflow:e=>a.getOpt(e).bind(Nz.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),NM=z([sH(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),sV("onOpened"),sV("onClosed")].concat(Np())),NR=z([gl({factory:OV,schema:OH(),name:"primary"}),gl({factory:OV,schema:OH(),name:"overflow",overrides:e=>({toolbarBehaviours:cF([Tn.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{gw(t,e,"overflow-button").each(e=>{fo.off(e),h3.focus(e)}),e.onClosed(t)},onGrown:t=>{hU.focusIn(t),e.onOpened(t)},onStartGrow:t=>{gw(t,e,"overflow-button").each(fo.on)}}),hU.config({mode:"acyclic",onEscape:t=>(gw(t,e,"overflow-button").each(h3.focus),B.some(!0))})])})}),gi({name:"overflow-button",overrides:e=>({buttonBehaviours:cF([fo.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),gi({name:"overflow-group"})]),NB=(e,t)=>gw(e,t,"overflow").map(Tn.hasGrown).getOr(!1),NF=(e,t)=>{gw(e,t,"overflow-button").bind(()=>gw(e,t,"overflow")).each(r=>{NL(e,t),Tn.toggleGrow(r)})},NL=(e,t)=>{gw(e,t,"overflow").each(r=>{Ng(e,t,e=>{let t=q(e,e=>l6(e));OV.setGroups(r,t)}),gw(e,t,"overflow-button").each(e=>{Tn.hasGrown(r)&&fo.on(e)}),Tn.refresh(r)})},NI=gH({name:"SplitSlidingToolbar",configFields:NM(),partFields:NR(),factory:(e,t,r,o)=>{let a="alloy.toolbar.toggle",n=(t,r)=>{let o=q(r,t.getSystem().build);e.builtGroups.set(o)};return{uid:e.uid,dom:e.dom,components:t,behaviours:uV(e.splitToolbarBehaviours,[_9.config({others:{overflowGroup:e=>NA.sketch({...o["overflow-group"](),items:[fP.sketch({...o["overflow-button"](),action:t=>{lc(e,a)}})]})}}),h1("toolbar-toggle-events",[lv(a,t=>{NF(t,e)})])]),apis:{setGroups:(t,r)=>{n(t,r),NL(t,e)},refresh:t=>NL(t,e),toggle:t=>NF(t,e),isOpen:t=>NB(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,r)=>{e.setGroups(t,r)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),NP=e=>({dom:{tag:"div",classes:["tox-toolbar__group"],...e.title.fold(()=>({}),e=>({attributes:{title:e}}))},components:[NA.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:cF([Ci.config({}),h3.config({})])}),NH=e=>NA.sketch(NP(e)),Nj=(e,t)=>{let r=lT(t=>{let r=q(e.initGroups,NH);OV.setGroups(t,r)});return cF([kQ(e.providers.isDisabled),kK(),hU.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),h1("toolbar-events",[r])])},NV=e=>{let t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":NP({title:B.none(),items:[]}),"overflow-button":TL({name:"more",icon:B.some("more-drawer"),enabled:!0,tooltip:B.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:B.none(),borderless:!1},B.none(),e.providers)},splitToolbarBehaviours:Nj(e,t)}},NU=e=>{let t=NV(e),r=NN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return NN.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{let t=e.moreDrawerData.lazyHeader().element,r=oM(t),o=tu(t),a=oM(o),n=Math.max(o.dom.scrollHeight,a.height);return oD(r.x+4,a.y,r.width-8,n)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},NZ=e=>{let t=NI.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),r=NI.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=NV(e);return NI.sketch({...o,components:[t,r],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([Dk()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([Dk()],{type:"closed"}),e.onToggled(t,!1)}})},Nq=e=>{let t=e.cyclicKeying?"cyclic":"acyclic";return OV.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===ow.scrolling?["tox-toolbar--scrolling"]:[])},components:[OV.parts.groups({})],toolbarBehaviours:Nj(e,t)})},NW=[vZ,vq,aJ("tooltip"),a7("buttonType","secondary",["primary","secondary"]),a9("borderless",!1),aZ("onAction")],N$={button:[...NW,vR,aU("type",["button"])],togglebutton:[...NW,a9("active",!1),aU("type",["togglebutton"])]},NG=[aU("type",["group"]),nt("buttons",[],aB("type",N$))],NK=au([nt("buttons",[],aB("type",{...N$,group:NG})),aZ("onShow"),aZ("onHide")]),NY=e=>aD("view",NK,e),NX=(e,t)=>{var r,o;let a="togglebutton"===e.type,n=e.icon.map(e=>Ep(e,t.icons)).map(fU),l={...e,name:a?e.text.getOr(e.icon.getOr("")):null!=(r=e.text)?r:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:B.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},i=TI(null!=(o=e.buttonType)?o:"secondary"),s=a?e.text.map(t.translate):B.some(t.translate(e.text)),c=s.map(si),d=l.tooltip.or(s).map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),m=eD([n.map(e=>e.asSpec()),c]),u=e.icon.isSome()&&c.isSome(),g={tag:"button",classes:i.concat(...e.icon.isSome()&&!u?["tox-button--icon"]:[]).concat(...u?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:d},p=TF(l,B.some(r=>{let o=e=>{n.map(o=>o.getOpt(r).each(r=>{hJ.set(r,[Ep(e,t.icons)])}))};return a?e.onAction({setIcon:o,setActive:e=>{let t=r.element;e?(iI(t,"tox-button--enabled"),tP(t,"aria-pressed",!0)):(iH(t,"tox-button--enabled"),tZ(t,"aria-pressed"))},isActive:()=>iV(r.element,"tox-button--enabled")}):"button"===e.type?e.onAction({setIcon:o}):void 0}),[],g,m,t);return fP.sketch(p)},NJ=(e,t)=>NX(e,t),NQ=(e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:q(e.buttons,e=>NJ(e,t))}),N1=rZ().deviceType,N0=N1.isPhone(),N2=N1.isTablet();var N4=gH({name:"silver.View",configFields:[aP("viewConfig")],partFields:[gs({factory:{sketch:e=>{let t=!1,r=q(e.buttons,r=>"group"===r.type?(t=!0,NQ(r,e.providers)):NJ(r,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...N0||N2?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:cF([h3.config({}),hU.config({mode:"flow",selector:"button, .tox-button",focusInside:ov.OnEnterOrSpaceMode})]),components:t?r:[Ce.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Ce.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:r})]}}},schema:[aP("buttons"),aP("providers")],name:"header"}),gs({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,r,o)=>({uid:e.uid,dom:e.dom,components:t,apis:{getPane:t=>gA.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide}}),apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});let N3=(e,t,r)=>ex(t,(t,o)=>{let a=aN(NY(t));return e.slot(o,N4.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:a,components:[...a.buttons.length>0?[N4.parts.header({buttons:a.buttons,providers:r})]:[],N4.parts.pane({})]}))}),N5=(e,t)=>DZ.sketch(r=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:N3(r,e,t),slotBehaviours:kF([lT(e=>DZ.hideAllSlots(e))])})),N6=e=>Q(DZ.getSlotNames(e),t=>DZ.isShowing(e,t)),N8=e=>{let t=e.element;tG(t,"display","none"),tP(t,"aria-hidden","true")},N7=e=>{let t=e.element;t2(t,"display"),tZ(t,"aria-hidden")},N9=e=>({getContainer:z(e)}),Me=(e,t,r)=>{DZ.getSlot(e,t).each(e=>{N4.getPane(e).each(t=>{r(e)(N9(t.element.dom))})})},Mt=(e,t)=>Me(e,t,N4.getOnShow),Mr=(e,t)=>Me(e,t,N4.getOnHide);var Mo=gP({factory:(e,t)=>({uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:cF([hJ.config({}),gU.config({find:e=>ed(hJ.contents(e))})]),apis:{setViews:(e,r)=>{hJ.set(e,[N5(r,t.backstage.shared.providers)])},whichView:e=>gU.getCurrent(e).bind(N6),toggleView:(e,t,r,o)=>gU.getCurrent(e).exists(a=>{let n=N6(a),l=n.exists(e=>o===e),i=DZ.getSlot(a,o).isSome();return i&&(DZ.hideAllSlots(a),l?(N8(e),t()):(r(),N7(e),DZ.showSlot(a,o),Mt(a,o)),n.each(e=>Mr(a,e))),i})}}),name:"silver.ViewWrapper",configFields:[aP("backstage")],apis:{setViews:(e,t,r)=>e.setViews(t,r),toggleView:(e,t,r,o,a)=>e.toggleView(t,r,o,a),whichView:(e,t)=>e.whichView(t)}});let Ma=gm.optional({factory:DP,name:"menubar",schema:[aP("backstage")]}),Mn=e=>e.type===ow.sliding?NZ:e.type===ow.floating?NU:Nq,Ml=gm.optional({factory:{sketch:e=>OP.sketch({uid:e.uid,dom:e.dom,listBehaviours:cF([hU.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Nq({type:e.type,uid:lZ("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),B.some(!0))}),setupItem:(e,t,r,o)=>{OV.setGroups(t,r)},shell:!0})},name:"multiple-toolbar",schema:[aP("dom"),aP("onEscape")]}),Mi=gm.optional({factory:{sketch:e=>Mn(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),B.some(!0)),onToggled:(t,r)=>e.onToolbarToggled(r),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:"toolbar",schema:[aP("dom"),aP("onEscape"),aP("getSink")]}),Ms=gm.optional({factory:{sketch:e=>{let t=e.editor,r=e.sticky?DN:OU;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:cF(r(t,e.sharedBackstage))}}},name:"header",schema:[aP("dom")]}),Mc=gm.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[aP("dom")]}),Md=gm.optional({name:"socket",schema:[aP("dom")]}),Mm=gm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:cF([Ci.config({}),h3.config({}),Tn.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{gU.getCurrent(e).each(DZ.hideAllSlots),lc(e,D2)},onGrown:e=>{lc(e,D2)},onStartGrow:e=>{ld(e,D0,{width:tQ(e.element,"width").getOr("")})},onStartShrink:e=>{ld(e,D0,{width:rl(e.element)+"px"})}}),hJ.config({}),gU.config({find:e=>ed(hJ.contents(e))})])}],behaviours:cF([z_(0),h1("sidebar-sliding-events",[lv(D0,(e,t)=>{tG(e.element,"width",t.event.width)}),lv(D2,(e,t)=>{t2(e.element,"width")})])])})},name:"sidebar",schema:[aP("dom")]}),Mu=gm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:cF([hJ.config({}),D3.config({focus:!1}),gU.config({find:e=>ed(e.components())})]),components:[]})},name:"throbber",schema:[aP("dom")]}),Mg=gm.optional({factory:Mo,name:"viewWrapper",schema:[aP("backstage")]}),Mp=gm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var Mh=gH({name:"OuterContainer",factory:(e,t,r)=>{let o=!1,a={getSocket:t=>gA.getPart(t,e,"socket"),setSidebar:(t,r,o)=>{gA.getPart(t,e,"sidebar").each(e=>DX(e,r,o))},toggleSidebar:(t,r)=>{gA.getPart(t,e,"sidebar").each(e=>DQ(e,r))},whichSidebar:t=>gA.getPart(t,e,"sidebar").bind(D1).getOrNull(),getHeader:t=>gA.getPart(t,e,"header"),getToolbar:t=>gA.getPart(t,e,"toolbar"),setToolbar:(t,r)=>{gA.getPart(t,e,"toolbar").each(e=>{let t=q(r,NH);e.getApis().setGroups(e,t)})},setToolbars:(t,r)=>{gA.getPart(t,e,"multiple-toolbar").each(e=>{let t=q(r,e=>q(e,NH));OP.setItems(e,t)})},refreshToolbar:t=>{gA.getPart(t,e,"toolbar").each(e=>e.getApis().refresh(e))},toggleToolbarDrawer:t=>{gA.getPart(t,e,"toolbar").each(e=>{eB(e.getApis().toggle,t=>t(e))})},toggleToolbarDrawerWithoutFocusing:t=>{gA.getPart(t,e,"toolbar").each(e=>{eB(e.getApis().toggleWithoutFocusing,t=>t(e))})},isToolbarDrawerToggled:t=>gA.getPart(t,e,"toolbar").bind(e=>B.from(e.getApis().isOpen).map(t=>t(e))).getOr(!1),getThrobber:t=>gA.getPart(t,e,"throbber"),focusToolbar:t=>{gA.getPart(t,e,"toolbar").orThunk(()=>gA.getPart(t,e,"multiple-toolbar")).each(e=>{hU.focusIn(e)})},setMenubar:(t,r)=>{gA.getPart(t,e,"menubar").each(e=>{DP.setMenus(e,r)})},focusMenubar:t=>{gA.getPart(t,e,"menubar").each(e=>{DP.focus(e)})},setViews:(t,r)=>{gA.getPart(t,e,"viewWrapper").each(e=>{Mo.setViews(e,r)})},toggleView:(t,r)=>gA.getPart(t,e,"viewWrapper").exists(e=>Mo.toggleView(e,()=>a.showMainView(t),()=>a.hideMainView(t),r)),whichView:t=>gA.getPart(t,e,"viewWrapper").bind(Mo.whichView).getOrNull(),hideMainView:t=>{(o=a.isToolbarDrawerToggled(t))&&a.toggleToolbarDrawer(t),gA.getPart(t,e,"editorContainer").each(e=>{let t=e.element;tG(t,"display","none"),tP(t,"aria-hidden","true")})},showMainView:t=>{o&&a.toggleToolbarDrawer(t),gA.getPart(t,e,"editorContainer").each(e=>{let t=e.element;t2(t,"display"),tZ(t,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:t,apis:a,behaviours:e.behaviours}},configFields:[aP("dom"),aP("behaviours")],partFields:[Ms,Ma,Mi,Ml,Md,Mm,Mc,Mu,Mg,Mp],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,r,o)=>{e.setSidebar(t,r,o)},toggleSidebar:(e,t,r)=>{e.toggleSidebar(t,r)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,r)=>{e.setToolbar(t,r)},setToolbars:(e,t,r)=>{e.setToolbars(t,r)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,r)=>{e.setMenubar(t,r)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,r)=>{e.setViews(t,r)},toggleView:(e,t,r)=>e.toggleView(t,r),whichView:(e,t)=>e.whichView(t)}});let Mf={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},My=(e,t,r)=>{let o=be(r).split(/[ ,]/);return{text:e.title,getItems:()=>er(e.items,e=>{let r=e.toLowerCase();return 0===r.trim().length||V(o,e=>e===r)?[]:"separator"===r||"|"===r?[{type:"separator"}]:t.menuItems[r]?[t.menuItems[r]]:[]})}},Mb=e=>e.split(" "),Mv=(e,t)=>{let r={...Mf,...t.menus},o=ep(t.menus).length>0,a=q(K(void 0===t.menubar||!0===t.menubar?Mb("file edit view insert format tools table help"):Mb(!1===t.menubar?"":t.menubar),e=>{let r=eE(Mf,e);return o?r||ez(t.menus,e).exists(e=>eE(e,"items")):r}),o=>{let a=r[o];return My({title:a.title,items:Mb(a.items)},t,e)});return K(a,e=>e.getItems().length>0&&V(e.getItems(),e=>d(e)||"separator"!==e.type))},Mk=e=>{let t=()=>{e._skinLoaded=!0,wj(e)};return()=>{e.initialized?t():e.on("init",t)}},Mw=(e,t)=>()=>wV(e,{message:t}),M_=(e,t,r)=>(e.on("remove",()=>r.unload(t)),r.load(t)),Mx=(e,t,r,o)=>(e.on("remove",()=>o.unloadRawCss(t)),o.loadRawCss(t,r)),MC=async(e,t)=>{let r="ui/"+bO(e).getOr("default")+"/skin.css",o=tinymce.Resource.get(r);return d(o)?Promise.resolve(Mx(e,r,o,e.ui.styleSheetLoader)):M_(e,t+"/skin.min.css",e.ui.styleSheetLoader)},MS=async(e,t)=>{if(tO(eY.fromDom(e.getElement()))){let r="ui/"+bO(e).getOr("default")+"/skin.shadowdom.css",o=tinymce.Resource.get(r);return d(o)?(Mx(e,r,o,y$.DOM.styleSheetLoader),Promise.resolve()):M_(e,t+"/skin.shadowdom.min.css",y$.DOM.styleSheetLoader)}},Mz=async(e,t)=>{bO(t).fold(()=>{let r=bA(t);r&&t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")},r=>{let o="ui/"+r+(e?"/content.inline":"/content")+".css",a=tinymce.Resource.get(o);if(d(a))Mx(t,o,a,t.ui.styleSheetLoader);else{let r=bA(t);r&&t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")}});let r=bA(t);if(!bE(t)&&d(r))return Promise.all([MC(t,r),MS(t,r)]).then()},ME=(e,t)=>Mz(e,t).then(Mk(t),Mw(t,"Skin could not be loaded")),MT=A(ME,!1),MA=A(ME,!0),MO=(e,t,r)=>e.translate([t,e.translate(r)]),MD=(e,t)=>{let r=(r,a,n,l)=>{let i=e.shared.providers.translate(r.title);if("separator"===r.type)return B.some({type:"separator",text:i});if("submenu"!==r.type)return B.some({type:"togglemenuitem",text:i,icon:r.icon,active:r.isSelected(l),enabled:!n,onAction:t.onAction(r),...r.getStylePreview().fold(()=>({}),e=>({meta:{style:e}}))});{let e=er(r.getStyleItems(),e=>o(e,a,l));return 0===a&&e.length<=0?B.none():B.some({type:"nestedmenuitem",text:i,enabled:e.length>0,getSubmenuItems:()=>er(r.getStyleItems(),e=>o(e,a,l))})}},o=(e,o,a)=>{let n="formatter"===e.type&&t.isInvalid(e);return 0===o?n?[]:r(e,o,!1,a).toArray():r(e,o,n,a).toArray()},a=e=>{let r=t.getCurrentValue(),a=+!t.shouldHide;return er(e,e=>o(e,a,r))};return{validateItems:a,getFetch:(e,t)=>(r,o)=>{o(EA(a(t()),bG.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:B.none()}))}}},MN=(e,t,r)=>{let o=r.dataset,a="basic"===o.type?()=>q(o.data,e=>A0(e,r.isSelectedFor,r.getPreviewFor)):o.getData;return{items:MD(t,r),getStyleItems:a}},MM=(e,t,r,o,a)=>{let{items:n,getStyleItems:l}=MN(e,t,r);return Eb({text:r.icon.isSome()?B.none():r.text,icon:r.icon,tooltip:B.from(r.tooltip),role:B.none(),fetch:n.getFetch(t,l),onSetup:t=>{let n=r=>t.setTooltip(MO(e,o,r.value));return e.on(a,n),w2(w6(e,"NodeChange",t=>{let o=t.getComponent();r.updateText(o),g3.set(t.getComponent(),!e.selection.isEditable())})(t),()=>e.off(a,n))},getApi:e=>({getComponent:z(e),setTooltip:r=>{let o=t.shared.providers.translate(r);tH(e.element,{"aria-label":o,title:o})}}),columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},MR=e=>q(e,e=>{let t=e,r=e,o=e.split("=");return o.length>1&&(t=o[0],r=o[1]),{title:t,format:r}}),MB=e=>({type:"basic",data:e});(op=oS||(oS={}))[op.SemiColon=0]="SemiColon",op[op.Space=1]="Space";let MF=(e,t)=>t===oS.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "),ML=(e,t,r)=>({type:"basic",data:MR(MF(e.options.get(t),r))}),MI="Alignment {0}",MP="left",MH=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Mj=e=>{let t=()=>Q(MH,t=>e.formatter.match(t.format)),r=MB(MH);return{tooltip:MO(e,MI,MP),text:B.none(),icon:B.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:B.none,getPreviewFor:e=>B.none,onAction:t=>()=>Q(MH,e=>e.format===t.format).each(t=>e.execCommand(t.command)),updateText:r=>{let o=t().fold(z(MP),e=>e.title.toLowerCase());ld(r,Ey,{icon:`align-${o}`}),wX(e,{value:o})},dataset:r,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},MV=(e,t)=>{let r=MN(e,t,Mj(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),onSetup:w4(e),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})},MU=(e,t)=>{let r=t(),o=q(r,e=>e.format);return B.from(e.formatter.closest(o)).bind(e=>Q(r,t=>t.format===e)).orThunk(()=>eF(e.formatter.match("p"),{title:"Paragraph",format:"p"}))},MZ="Block {0}",Mq="Paragraph",MW=e=>{let t=ML(e,"block_formats",oS.SemiColon);return{tooltip:MO(e,MZ,Mq),text:B.some(Mq),icon:B.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:B.none,getPreviewFor:t=>()=>{let r=e.formatter.get(t);return r?B.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):B.none()},onAction:w8(e),updateText:r=>{let o=MU(e,()=>t.data).fold(z(Mq),e=>e.title);ld(r,Ef,{text:o}),w1(e,{value:o})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},M$=(e,t)=>{let r=MN(e,t,MW(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:w4(e),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})},MG="Font {0}",MK="System Font",MY=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],MX=e=>q(e.split(/\s*,\s*/),e=>e.replace(/^['"]+|['"]+$/g,"")),MJ=(e,t)=>t.length>0&&eo(t,t=>e.indexOf(t.toLowerCase())>-1),MQ=(e,t)=>{if(0!==e.indexOf("-apple-system")&&!(t.length>0))return!1;{let r=MX(e.toLowerCase());return MJ(r,MY)||MJ(r,t)}},M1=e=>{let t=()=>{let t=e=>e?MX(e)[0]:"",o=e.queryCommandValue("FontName"),a=r.data,n=o?o.toLowerCase():"",l=bz(e);return{matchOpt:Q(a,e=>{let r=e.format;return r.toLowerCase()===n||t(r).toLowerCase()===t(n).toLowerCase()}).orThunk(()=>eF(MQ(n,l),{title:MK,format:n})),font:o}},r=ML(e,"font_family_formats",oS.SemiColon);return{tooltip:MO(e,MG,MK),text:B.some(MK),icon:B.none(),isSelectedFor:e=>t=>t.exists(t=>t.format===e),getCurrentValue:()=>{let{matchOpt:e}=t();return e},getPreviewFor:e=>()=>B.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,t.format)})},updateText:r=>{let{matchOpt:o,font:a}=t(),n=o.fold(z(a),e=>e.title);ld(r,Ef,{text:n}),w0(e,{value:n})},dataset:r,shouldHide:!1,isInvalid:M}},M0=(e,t)=>{let r=MN(e,t,M1(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),onSetup:w4(e),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})},M2={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},M4=(()=>{let e="[0-9]+",t="[eE][+-]?"+e,r=e=>`(?:${e})?`,o=["Infinity",e+"\\."+r(e)+r(t),"\\."+e+r(t),e+r(t)].join("|"),a=`[+-]?(?:${o})`;return RegExp(`^(${a})(.*)$`)})(),M3=(e,t)=>V(t,t=>V(M2[t],t=>e===t)),M5=(e,t)=>B.from(M4.exec(e)).bind(e=>{let r=Number(e[1]),o=e[2];return M3(o,t)?B.some({value:r,unit:o}):B.none()}),M6=(e,t)=>M5(e,t).map(({value:e,unit:t})=>e+t),M8={tab:z(9),escape:z(27),enter:z(13),backspace:z(8),delete:z(46),left:z(37),up:z(38),right:z(39),down:z(40),space:z(32),home:z(36),end:z(35),pageUp:z(33),pageDown:z(34)},M7=(e,t,r)=>{let o=B.none(),a=e=>e.map(e=>uP.getValue(e)).getOr(""),n=w6(e,"NodeChange SwitchMode",t=>{let a=t.getComponent();o=B.some(a),r.updateInputValue(a),g3.set(a,!e.selection.isEditable())}),l=e=>({getComponent:z(e)}),i=no(_),s=lZ("custom-number-input-events"),c=(e,t,n)=>{let l=a(o),i=r.getNewValue(l,e),s=l.length-`${i}`.length,c=o.map(e=>e.element.dom.selectionStart-s),d=o.map(e=>e.element.dom.selectionEnd-s);r.onAction(i,n),o.each(e=>{uP.setValue(e,i),t&&(c.each(t=>e.element.dom.selectionStart=t),d.each(t=>e.element.dom.selectionEnd=t))})},d=(e,t)=>c((e,t)=>e-t,e,t),m=(e,t)=>c((e,t)=>e+t,e,t),u=e=>tf(e.element).fold(B.none,e=>(cZ(e),B.some(!0))),g=e=>cW(e.element)?(t_(e.element).each(e=>cZ(e)),B.some(!0)):B.none(),p=(r,o,a,n)=>{let i=no(_),s=t.shared.providers.translate(a),c=lZ("altExecuting"),d=w6(e,"NodeChange SwitchMode",t=>{g3.set(t.getComponent(),!e.selection.isEditable())}),m=e=>{g3.isDisabled(e)||r(!0)};return fP.sketch({dom:{tag:"button",attributes:{title:s,"aria-label":s},classes:n.concat(o)},components:[Eg(o,t.shared.providers.icons)],buttonBehaviours:cF([g3.config({}),h1(c,[k0({onSetup:d,getApi:l},i),k2({getApi:l},i),lv(nF(),(e,t)=>{t.event.raw.keyCode!==M8.space()&&t.event.raw.keyCode!==M8.enter()||g3.isDisabled(e)||r(!1)}),lv(nH(),m),lv(nE(),m)])]),eventOrder:{[nF()]:[c,"keying"],[nH()]:[c,"alloy.base.behaviour"],[nE()]:[c,"alloy.base.behaviour"]}})},h=fU(p(e=>d(!1,e),"minus","Decrease font size",[])),f=fU(p(e=>m(!1,e),"plus","Increase font size",[])),y=fU({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[vi.sketch({inputBehaviours:cF([g3.config({}),h1(s,[k0({onSetup:n,getApi:l},i),k2({getApi:l},i)]),h1("input-update-display-text",[lv(Ef,(e,t)=>{uP.setValue(e,t.event.text)}),lv(nB(),e=>{r.onAction(uP.getValue(e))}),lv(nP(),e=>{r.onAction(uP.getValue(e))})]),hU.config({mode:"special",onEnter:e=>(c(E,!0,!0),B.some(!0)),onEscape:u,onUp:e=>(m(!0,!1),B.some(!0)),onDown:e=>(d(!0,!1),B.some(!0)),onLeft:(e,t)=>(t.cut(),B.none()),onRight:(e,t)=>(t.cut(),B.none())})])})],behaviours:cF([h3.config({}),hU.config({mode:"special",onEnter:g,onSpace:g,onEscape:u}),h1("input-wrapper-events",[lv(nM(),e=>{W([h,f],t=>{let r=eY.fromDom(t.get(e).element.dom);cW(r)&&cq(r)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[h.asSpec(),y.asSpec(),f.asSpec()],behaviours:cF([h3.config({}),hU.config({mode:"flow",focusInside:ov.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>cW(e.element)?B.none():(cZ(e.element),B.some(!0))})])}},M9="Font size {0}",Re="12pt",Rt={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Rr={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Ro=(e,t)=>{let r=Math.pow(10,t);return Math.round(e*r)/r},Ra=(e,t)=>/[0-9.]+px$/.test(e)?Ro(72*parseInt(e,10)/96,t||0)+"pt":ez(Rr,e).getOr(e),Rn=e=>ez(Rt,e).getOr(""),Rl=e=>{let t=()=>{let t=B.none(),r=o.data,a=e.queryCommandValue("FontSize");if(a)for(let e=3;t.isNone()&&e>=0;e--){let o=Ra(a,e),n=Rn(o);t=Q(r,e=>e.format===a||e.format===o||e.format===n)}return{matchOpt:t,size:a}},r=z(B.none),o=ML(e,"font_size_formats",oS.Space);return{tooltip:MO(e,M9,Re),text:B.some(Re),icon:B.none(),isSelectedFor:e=>t=>t.exists(t=>t.format===e),getPreviewFor:r,getCurrentValue:()=>{let{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,t.format)})},updateText:r=>{let{matchOpt:o,size:a}=t(),n=o.fold(z(a),e=>e.title);ld(r,Ef,{text:n}),wJ(e,{value:n})},dataset:o,shouldHide:!1,isInvalid:M}},Ri=e=>{var t;return null!=(t=({em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}})[e])?t:{step:1}},Rs=e=>e>=0,Rc=e=>{let t=()=>e.queryCommandValue("FontSize");return{updateInputValue:e=>ld(e,Ef,{text:t()}),onAction:(t,r)=>e.execCommand("FontSize",!1,t,{skip_focus:!r}),getNewValue:(r,o)=>{M5(r,["unsupportedLength","empty"]);let a=t(),n=M5(r,["unsupportedLength","empty"]).or(M5(a,["unsupportedLength","empty"])),l=n.map(e=>e.value).getOr(16),i=bu(e),s=n.map(e=>e.unit).filter(e=>""!==e).getOr(i),c=o(l,Ri(s).step),d=`${Rs(c)?c:l}${s}`;return d!==a&&wQ(e,{value:d}),d}}},Rd=(e,t)=>{let r=MN(e,t,Rl(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:w4(e),getSubmenuItems:()=>r.items.validateItems(r.getStyleItems())})},Rm="Format {0}",Ru=(e,t)=>{let r="Paragraph";return{tooltip:MO(e,Rm,r),text:B.some(r),icon:B.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:B.none,getPreviewFor:t=>()=>{let r=e.formatter.get(t);return void 0!==r?B.some({tag:r.length>0&&(r[0].inline||r[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):B.none()},onAction:w8(e),updateText:t=>{let o=e=>AZ(e)?er(e.items,o):Aq(e)?[{title:e.title,format:e.format}]:[],a=er(AQ(e),o),n=MU(e,z(a)).fold(z(r),e=>e.title);ld(t,Ef,{text:n}),wY(e,{value:n})},shouldHide:y7(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},Rg=(e,t)=>{let r={type:"advanced",...t.styles},o=MN(e,t,Ru(e,r));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:w4(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},Rp=z([aP("toggleClass"),aP("fetch"),sZ("onExecute"),a3("getHotspot",B.some),a3("getAnchorOverrides",z({})),dW(),sZ("onItemExecute"),aK("lazySink"),aP("dom"),sV("onOpen"),uH("splitDropdownBehaviours",[_9,hU,h3]),a3("matchWidth",!1),a3("useMinWidth",!1),a3("eventOrder",{}),aK("role")].concat(xy())),Rh=z([gl({factory:fP,schema:[aP("dom")],name:"arrow",defaults:()=>({buttonBehaviours:cF([h3.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(lm)},buttonBehaviours:cF([fo.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),gl({factory:fP,schema:[aP("dom")],name:"button",defaults:()=>({buttonBehaviours:cF([h3.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(r=>{e.onExecute(r,t)})}})}),gs({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[aP("text")],name:"aria-descriptor"}),gi({schema:[sP()],name:"menu",defaults:e=>({onExecute:(t,r)=>{t.getSystem().getByUid(e.uid).each(o=>{e.onItemExecute(o,t,r)})}})}),xn()]),Rf=gH({name:"SplitDropdown",configFields:Rp(),partFields:Rh(),factory:(e,t,r,o)=>{let a=e=>{gU.getCurrent(e).each(e=>{pa.highlightFirst(e),hU.focusIn(e)})},n=t=>{xm(e,E,t,o,a,ok.HighlightMenuAndItem).get(_)},l=t=>(lm(g_(t,e,"button")),B.some(!0)),i={...lf([lT((t,r)=>{gw(t,e,"aria-descriptor").each(e=>{let r=lZ("aria");tP(e.element,"id",r),tP(t.element,"aria-describedby",r)})})]),...fn(B.some(n))};return{uid:e.uid,dom:e.dom,components:t,apis:{repositionMenus:e=>{fo.isOn(e)&&xf(e)}},eventOrder:{...e.eventOrder,[nX()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:uV(e.splitDropdownBehaviours,[_9.config({others:{sandbox:t=>{let r=g_(t,e,"arrow");return xh(e,t,{onOpen:()=>{fo.on(r),fo.on(t)},onClose:()=>{fo.off(r),fo.off(t)}})}}}),hU.config({mode:"special",onSpace:l,onEnter:l,onDown:e=>(n(e),B.some(!0))}),h3.config({}),fo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),Ry=e=>({isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t),setText:t=>ld(e,Ef,{text:t}),setIcon:t=>ld(e,Ey,{icon:t})}),Rb=e=>({setActive:t=>{fo.set(e,t)},isActive:()=>fo.isOn(e),isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t),setText:t=>ld(e,Ef,{text:t}),setIcon:t=>ld(e,Ey,{icon:t})}),Rv=(e,t)=>e.map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),Rk=lZ("focus-button"),Rw=(e,t,r,o,a)=>{let n=t.map(e=>fU(Eh(e,"tox-tbtn",a))),l=e.map(e=>fU(Ep(e,a.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:Rv(r,a)},components:eD([l.map(e=>e.asSpec()),n.map(e=>e.asSpec())]),eventOrder:{[nA()]:["focusing","alloy.base.behaviour",Ec],[n7()]:[Ec,"toolbar-group-button-events"]},buttonBehaviours:cF([kQ(a.isDisabled),kK(),h1(Ec,[lT((e,t)=>Em(e)),lv(Ef,(e,t)=>{n.bind(t=>t.getOpt(e)).each(e=>{hJ.set(e,[si(a.translate(t.event.text))])})}),lv(Ey,(e,t)=>{l.bind(t=>t.getOpt(e)).each(e=>{hJ.set(e,[Ep(t.event.icon,a.icons)])})}),lv(nA(),(e,t)=>{t.event.prevent(),lc(e,Rk)})])].concat(o.getOr([])))}},R_=(e,t,r,o)=>{let a=t.shared,n=no(_),l={toolbarButtonBehaviours:[],getApi:Ry,onSetup:e.onSetup},i=[h1("toolbar-group-button-events",[k0(l,n),k2(l,n)])];return Nz.sketch({lazySink:a.getSink,fetch:()=>xo.nu(t=>{t(q(r(e.items),NH))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Rw(e.icon,e.text,e.tooltip,B.some(i),a.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})},Rx=(e,t,r)=>{var o;let a=no(_),n=Rw(e.icon,e.text,e.tooltip,B.none(),r);return fP.sketch({dom:n.dom,components:n.components,eventOrder:Ed,buttonBehaviours:{...cF([h1("toolbar-button-events",[Es({onAction:e.onAction,getApi:t.getApi}),k0(t,a),k2(t,a)]),kQ(()=>!e.enabled||r.isDisabled()),kK()].concat(t.toolbarButtonBehaviours)),[Ec]:null==(o=n.buttonBehaviours)?void 0:o[Ec]}})},RC=(e,t)=>RS(e,t,[]),RS=(e,t,r)=>Rx(e,{toolbarButtonBehaviours:r.length>0?[h1("toolbarButtonWith",r)]:[],getApi:Ry,onSetup:e.onSetup},t),Rz=(e,t)=>RE(e,t,[]),RE=(e,t,r)=>Rx(e,{toolbarButtonBehaviours:[hJ.config({}),fo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(r.length>0?[h1("toolbarToggleButtonWith",r)]:[]),getApi:Rb,onSetup:e.onSetup},t),RT=(e,t,r)=>o=>xo.nu(e=>t.fetch(e)).map(a=>B.from(xM(oG(_j(lZ("menu-value"),a,r=>{t.onItemAction(e(o),r)},t.columns,t.presets,bG.CLOSE_ON_EXECUTE,t.select.getOr(M),r),{movement:_U(t.columns,t.presets),menuBehaviours:kF("auto"!==t.columns?[]:[lT((e,r)=>{kR(e,4,b6(t.presets)).each(({numRows:t,numColumns:r})=>{hU.setGridSize(e,t,r)})})])})))),RA=(e,t)=>{let r=e=>({isEnabled:()=>!g3.isDisabled(e),setEnabled:t=>g3.set(e,!t),setIconFill:(t,r)=>{sk(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each(e=>{tP(e,"fill",r)})},setActive:t=>{tP(e.element,"aria-pressed",t),sk(e.element,"span").each(r=>{e.getSystem().getByDom(r).each(e=>fo.set(e,t))})},isActive:()=>sk(e.element,"span").exists(t=>e.getSystem().getByDom(t).exists(fo.isOn)),setText:t=>sk(e.element,"span").each(r=>e.getSystem().getByDom(r).each(e=>ld(e,Ef,{text:t}))),setIcon:t=>sk(e.element,"span").each(r=>e.getSystem().getByDom(r).each(e=>ld(e,Ey,{icon:t}))),setTooltip:r=>{let o=t.providers.translate(r);tH(e.element,{"aria-label":o,title:o})}}),o=no(_),a={getApi:r,onSetup:e.onSetup};return Rf.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...Rv(e.tooltip,t.providers)}},onExecute:t=>{let o=r(t);o.isEnabled()&&e.onAction(o)},onItemExecute:(e,t,r)=>{},splitDropdownBehaviours:cF([kJ(t.providers.isDisabled),kK(),h1("split-dropdown-events",[lT((e,t)=>Em(e)),lv(Rk,h3.focus),k0(a,o),k2(a,o)]),CR.config({})]),eventOrder:{[n7()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:RT(r,e,t.providers),parts:{menu:vr(!1,e.columns,e.presets)},components:[Rf.parts.button(Rw(e.icon,e.text,B.none(),B.some([fo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),Rf.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:yL("chevron-down",t.providers.icons)},buttonBehaviours:cF([kJ(t.providers.isDisabled),kK(),yH()])}),Rf.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},RO=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],RD=(e,t)=>(r,o,a)=>t(e(r).mapError(e=>aR(e)).getOrDie(),o,a),RN={button:RD(kr,(e,t)=>RC(e,t.shared.providers)),togglebutton:RD(kn,(e,t)=>Rz(e,t.shared.providers)),menubutton:RD(DL,(e,t)=>Ti(e,"tox-tbtn",t,B.none(),!1)),splitbutton:RD(e=>aD("SplitButton",DI,e),(e,t)=>RA(e,t.shared)),grouptoolbarbutton:RD(e=>aD("GroupToolbarButton",DR,e),(e,t,r)=>{let o=r.ui.registry.getAll().buttons,a={[dZ]:t.shared.header.isPositionedAtTop()?ob.TopToBottom:ob.BottomToTop};if(bt(r)===ow.floating)return R_(e,t,e=>RH(r,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,B.none()),a);throw Error("Toolbar groups are only supported when using floating toolbar mode")})},RM=(e,t,r)=>ez(RN,e.type).fold(()=>(console.error("skipping button defined by",e),B.none()),o=>B.some(o(e,t,r))),RR={styles:(e,t)=>{let r={type:"advanced",...t.styles};return MM(e,t,Ru(e,r),Rm,"StylesTextUpdate")},fontsize:(e,t)=>MM(e,t,Rl(e),M9,"FontSizeTextUpdate"),fontsizeinput:(e,t)=>M7(e,t,Rc(e)),fontfamily:(e,t)=>MM(e,t,M1(e),MG,"FontFamilyTextUpdate"),blocks:(e,t)=>MM(e,t,MW(e),MZ,"BlocksTextUpdate"),align:(e,t)=>MM(e,t,Mj(e),MI,"AlignTextUpdate")},RB=e=>{let t=q(RO,t=>{let r=K(t.items,t=>eE(e,t)||eE(RR,t));return{name:t.name,items:r}});return K(t,e=>e.items.length>0)},RF=e=>q(e.split("|"),e=>({items:e.trim().split(" ")})),RL=e=>w(e,e=>eE(e,"name")&&eE(e,"items")),RI=e=>{let t=e.toolbar,r=e.buttons;return!1===t?[]:void 0===t||!0===t?RB(r):d(t)?RF(t):RL(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},RP=(e,t,r,o,a,n)=>ez(t,r.toLowerCase()).orThunk(()=>n.bind(e=>eg(e,e=>ez(t,e+r.toLowerCase())))).fold(()=>ez(RR,r.toLowerCase()).map(t=>t(e,a)),t=>"grouptoolbarbutton"!==t.type||o?RM(t,a,e):(console.warn(`Ignoring the '${r}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),B.none())),RH=(e,t,r,o)=>K(q(RI(t),a=>{let n=er(a.items,a=>0===a.trim().length?[]:RP(e,t.buttons,a,t.allowToolbarGroups,r,o).toArray());return{title:B.from(e.translate(a.name)),items:n}}),e=>e.items.length>0),Rj=(e,t,r,o)=>{let a=t.mainUi.outerContainer,n=r.toolbar,l=r.buttons;if(w(n,d)){let t=n.map(t=>RH(e,{toolbar:t,buttons:l,allowToolbarGroups:r.allowToolbarGroups},o,B.none()));Mh.setToolbars(a,t)}else Mh.setToolbar(a,RH(e,r,o,B.none()))},RV=rZ(),RU=RV.os.isiOS()&&RV.os.version.major<=12,RZ=(e,t)=>{let{uiMotherships:r}=t,o=e.dom,a=e.getWin(),n=e.getDoc().documentElement,l=no(t9(a.innerWidth,a.innerHeight)),i=no(t9(n.offsetWidth,n.offsetHeight)),s=()=>{let t=l.get();(t.left!==a.innerWidth||t.top!==a.innerHeight)&&(l.set(t9(a.innerWidth,a.innerHeight)),wZ(e))},c=()=>{let t=e.getDoc().documentElement,r=i.get();(r.left!==t.offsetWidth||r.top!==t.offsetHeight)&&(i.set(t9(t.offsetWidth,t.offsetHeight)),wZ(e))},d=t=>{wq(e,t)};o.bind(a,"resize",s),o.bind(a,"scroll",d);let m=df(eY.fromDom(e.getBody()),"load",c);e.on("hide",()=>{W(r,e=>{tG(e.element,"display","none")})}),e.on("show",()=>{W(r,e=>{t2(e.element,"display")})}),e.on("NodeChange",c),e.on("remove",()=>{m.unbind(),o.unbind(a,"resize",s),o.unbind(a,"scroll",d),a=null})},Rq=(e,t,r)=>{bj(e)&&ui(r.mainUi.mothership.element,r.popupUi.mothership),ul(t,r.dialogUi.mothership)};var RW=Object.freeze({__proto__:null,render:(e,t,r,o,a)=>{let{mainUi:n,uiMotherships:l}=t,i=no(0),s=n.outerContainer;MT(e);let c=eY.fromDom(a.targetNode),d=tA(tT(c));ui(c,n.mothership),Rq(e,d,t),e.on("SkinLoaded",()=>{Mh.setSidebar(s,r.sidebar,bx(e)),Rj(e,t,r,o),i.set(e.getWin().innerWidth),Mh.setMenubar(s,Mv(e,r)),Mh.setViews(s,r.views),RZ(e,t)});let m=Mh.getSocket(s).getOrDie("Could not find expected socket element");if(RU){tK(m.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});let t=zP(()=>{e.dispatch("ScrollContent")},20),r=dh(m.element,"scroll",t.throttle);e.on("remove",r.unbind)}kG(e,t),e.addCommand("ToggleSidebar",(t,r)=>{Mh.toggleSidebar(s,r),e.dispatch("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",()=>{var e;return null!=(e=Mh.whichSidebar(s))?e:""}),e.addCommand("ToggleView",(t,r)=>{if(Mh.toggleView(s,r)){let t=s.element;n.mothership.broadcastOn([u_()],{target:t}),W(l,e=>{e.broadcastOn([u_()],{target:t})}),p(Mh.whichView(s))&&(e.focus(),e.nodeChanged(),Mh.refreshToolbar(s))}}),e.addQueryValueHandler("ToggleView",()=>{var e;return null!=(e=Mh.whichView(s))?e:""});let u=bt(e),g=()=>{Mh.refreshToolbar(t.mainUi.outerContainer)};return(u===ow.sliding||u===ow.floating)&&e.on("ResizeWindow ResizeEditor ResizeContent",()=>{let t=e.getWin().innerWidth;t!==i.get()&&(g(),i.set(t))}),{iframeContainer:m.element.dom,editorContainer:s.element.dom,api:{setEnabled:e=>{k$(t,!e)},isEnabled:()=>!g3.isDisabled(s)}}}});let R$=e=>/^[0-9\.]+(|px)$/i.test(""+e)?B.some(parseInt(""+e,10)):B.none(),RG=e=>k(e)?e+"px":e,RK=(e,t,r)=>{let o=t.filter(t=>e<t),a=r.filter(t=>e>t);return o.or(a).getOr(e)},RY=e=>{let t=y1(e),r=y4(e),o=y5(e);return R$(t).map(e=>RK(e,r,o))},RX=e=>RY(e).getOr(y1(e)),RJ=e=>{let t=y0(e),r=y2(e),o=y3(e);return R$(t).map(e=>RK(e,r,o))},RQ=e=>RJ(e).getOr(y0(e)),{ToolbarLocation:R1,ToolbarMode:R0}=bU,R2=(e,t,r,o,a)=>{let{mainUi:n,uiMotherships:l}=r,i=y$.DOM,s=bL(e),c=bH(e),d=y3(e).or(RJ(e)),m=o.shared.header,u=m.isPositionedAtTop,g=bt(e),p=g===R0.sliding||g===R0.floating,h=no(!1),f=()=>h.get()&&!e.removed,y=e=>p?e.fold(z(0),e=>e.components().length>1?t6(e.components()[1].element):0):0,b=r=>{switch(bo(e)){case R1.auto:let o=y(Mh.getToolbar(n.outerContainer)),a=t6(r.element)-o,l=oN(t);if(l.y>a)return"top";{let e=tu(t),r=Math.max(e.dom.scrollHeight,t6(e));if(l.bottom<r-a)return"bottom";return oF().bottom<l.bottom-a?"bottom":"top"}case R1.bottom:return"bottom";case R1.top:default:return"top"}},v=e=>{a.on(t=>{Dv.setModes(t,[e]),m.setDockingMode(e);let r=u()?ob.TopToBottom:ob.BottomToTop;tP(t.element,dZ,r)})},k=()=>{a.on(e=>{let r=d.getOrThunk(()=>{let e=R$(tX(tF(),"margin-left")).getOr(0);return rl(tF())-rr(t).left+e});tG(e.element,"max-width",r+"px")})},w=r=>{a.on(o=>{let a=y(Mh.getToolbar(n.outerContainer)),l=oN(t),{top:i,left:s}=_(e,n.outerContainer.element).fold(()=>({top:u()?Math.max(l.y-t6(o.element)+a,0):l.bottom,left:l.x}),e=>{var t;let r=oN(e),n=null!=(t=e.dom.scrollTop)?t:0,i=ts(e,tF()),s=i?Math.max(l.y-t6(o.element)+a,0):l.y-r.y+n-t6(o.element)+a;return{top:u()?s:l.bottom,left:i?l.x:l.x-r.x}}),c=r.map(e=>{let t=r6();return{width:Math.max(Math.min(e,window.innerWidth-(s-t.left)),150)+"px"}}).getOr({});tK(n.outerContainer.element,{position:"absolute",left:Math.round(s)+"px",top:Math.round(i)+"px",...c})})},_=(e,t)=>bj(e)?Oq(t):B.none(),x=()=>{W(l,e=>{e.broadcastOn([ux()],{})})},C=()=>{if(s||!(rr(n.outerContainer.element).left+ri(n.outerContainer.element)>=window.innerWidth-40||tQ(n.outerContainer.element,"width").isSome()))return B.none();{tG(n.outerContainer.element,"position","absolute"),tG(n.outerContainer.element,"left","0px"),t2(n.outerContainer.element,"width");let e=ri(n.outerContainer.element);return B.some(e)}},S=e=>{if(!f())return;s||k();let t=s?B.none():C();p&&Mh.refreshToolbar(n.outerContainer),s||w(t),c&&a.on(e),x()},E=()=>!s&&!!c&&!!f()&&a.get().exists(e=>{let t=m.getDockingMode(),r=b(e);return r!==t&&(v(r),!0)});return{isVisible:f,isPositionedAtTop:u,show:()=>{h.set(!0),tG(n.outerContainer.element,"display","flex"),i.addClass(e.getBody(),"mce-edit-focus"),W(l,e=>{t2(e.element,"display")}),E(),bj(e)?S(e=>Dv.isDocked(e)?Dv.reset(e):Dv.refresh(e)):S(Dv.refresh)},hide:()=>{h.set(!1),tG(n.outerContainer.element,"display","none"),i.removeClass(e.getBody(),"mce-edit-focus"),W(l,e=>{tG(e.element,"display","none")})},update:S,updateMode:()=>{E()&&S(Dv.reset)},repositionPopups:x}},R4=(e,t)=>{let r=oN(e);return{pos:t?r.y:r.bottom,bounds:r}},R3=(e,t,r,o)=>{let a=no(R4(t,r.isPositionedAtTop())),n=o=>{let{pos:n,bounds:l}=R4(t,r.isPositionedAtTop()),{pos:i,bounds:s}=a.get(),c=l.height!==s.height||l.width!==s.width;a.set({pos:n,bounds:l}),c&&wZ(e,o),r.isVisible()&&(i!==n?r.update(Dv.reset):c&&(r.updateMode(),r.repositionPopups()))};o||(e.on("activate",r.show),e.on("deactivate",r.hide)),e.on("SkinLoaded ResizeWindow",()=>r.update(Dv.reset)),e.on("NodeChange keydown",e=>{requestAnimationFrame(()=>n(e))});let l=0,i=zH(()=>r.update(Dv.refresh),33);e.on("ScrollWindow",()=>{let e=r6().left;e!==l&&(l=e,i.throttle()),r.updateMode()}),bj(e)&&e.on("ElementScroll",e=>{r.update(Dv.refresh)});let s=dg();s.set(df(eY.fromDom(e.getBody()),"load",e=>n(e.raw))),e.on("remove",()=>{s.clear()})};var R5=Object.freeze({__proto__:null,render:(e,t,r,o,a)=>{let{mainUi:n}=t,l=dp(),i=eY.fromDom(a.targetNode),s=R2(e,i,t,o,l),c=bl(e);MA(e);let d=()=>{if(l.isSet())return void s.show();l.set(Mh.getHeader(n.outerContainer).getOrDie());let a=bI(e);bj(e)?(ui(i,n.mothership),ui(i,t.popupUi.mothership)):ul(a,n.mothership),ul(a,t.dialogUi.mothership),Rj(e,t,r,o),Mh.setMenubar(n.outerContainer,Mv(e,r)),s.show(),R3(e,i,s,c),e.nodeChanged()};e.on("show",d),e.on("hide",s.hide),c||(e.on("focus",d),e.on("blur",s.hide)),e.on("init",()=>{(e.hasFocus()||c)&&d()}),kG(e,t);let m={show:d,hide:s.hide,setEnabled:e=>{k$(t,!e)},isEnabled:()=>!g3.isDisabled(n.outerContainer)};return{editorContainer:n.outerContainer.element.dom,api:m}}});let R6=()=>{let e=dp(),t=dp(),r=dp();return{dialogUi:e,popupUi:t,mainUi:r,getUiMotherships:()=>{let r=e.get().map(e=>e.mothership),o=t.get().map(e=>e.mothership);return r.fold(()=>o.toArray(),e=>o.fold(()=>[e],t=>ts(e.element,t.element)?[e]:[e,t]))},lazyGetInOuterOrDie:(e,t)=>()=>r.get().bind(e=>t(e.outerContainer)).getOrDie(`Could not find ${e} element in OuterContainer`)}},R8="contexttoolbar-hide",R7=e=>({hide:()=>lc(e,n0()),getValue:()=>uP.getValue(e)}),R9=(e,t)=>lv(Ei,(r,o)=>{let a=R7(e.get(r));t.onAction(a,o.event.buttonApi)}),Be=(e,t,r)=>{let{primary:o,...a}=t.original;return RS(aN(kr({...a,type:"button",onAction:_})),r,[R9(e,t)])},Bt=(e,t,r)=>{let{primary:o,...a}=t.original;return RE(aN(kn({...a,type:"togglebutton",onAction:_})),r,[R9(e,t)])},Br=e=>"contextformtogglebutton"===e.type,Bo=(e,t,r)=>Br(t)?Bt(e,t,r):Be(e,t,r),Ba=(e,t,r)=>{let o=q(t,t=>fU(Bo(e,t,r)));return{asSpecs:()=>q(o,e=>e.asSpec()),findPrimary:e=>eg(t,(t,r)=>t.primary?B.from(o[r]).bind(t=>t.getOpt(e)).filter(O(g3.isDisabled)):B.none())}},Bn=(e,t)=>{let r=e.label.fold(()=>({}),e=>({"aria-label":e})),o=fU(vi.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:r,selectOnFocus:!0,inputBehaviours:cF([hU.config({mode:"special",onEnter:e=>a.findPrimary(e).map(e=>(lm(e),!0)),onLeft:(e,t)=>(t.cut(),B.none()),onRight:(e,t)=>(t.cut(),B.none())})])})),a=Ba(o,e.commands,t);return[{title:B.none(),items:[o.asSpec()]},{title:B.none(),items:a.asSpecs()}]},Bl=(e,t,r)=>t.bottom-e.y>=r&&e.bottom-t.y>=r,Bi=e=>{let t=e.getBoundingClientRect();if(!(t.height<=0)||!(t.width<=0))return t;{let r=tC(eY.fromDom(e.startContainer),e.startOffset).element;return(te(r)?tp(r):B.some(r)).filter(e9).map(e=>e.dom.getBoundingClientRect()).getOr(t)}},Bs=e=>{let t=Bi(e.selection.getRng());if(e.inline){let e=r6();return oD(e.left+t.left,e.top+t.top,t.width,t.height)}{let r=oM(eY.fromDom(e.getBody()));return oD(r.x+t.left,r.y+t.top,t.width,t.height)}},Bc=(e,t)=>t.filter(e=>tB(e)&&e7(e)).map(oM).getOrThunk(()=>Bs(e)),Bd=(e,t,r)=>{let o=Math.max(e.x+r,t.x);return{x:o,width:Math.min(e.right-r,t.right)-o}},Bm=(e,t,r,o,a,n)=>{let l=eY.fromDom(e.getContainer()),i=oN(sk(l,".tox-editor-header").getOr(l)),s=i.y>=t.bottom,c=o&&!s;if(e.inline&&c)return{y:Math.max(i.bottom+n,r.y),bottom:r.bottom};if(e.inline&&!c)return{y:r.y,bottom:Math.min(i.y-n,r.bottom)};let d="line"===a?oN(l):t;return c?{y:Math.max(i.bottom+n,r.y),bottom:Math.min(d.bottom-n,r.bottom)}:{y:Math.max(d.y+n,r.y),bottom:Math.min(i.y-n,r.bottom)}},Bu=(e,t,r,o=0)=>{let a=oe(window),n=oN(eY.fromDom(e.getContentAreaContainer())),l=bT(e)||bN(e)||bR(e),{x:i,width:s}=Bd(n,a,o);if(e.inline&&!l)return oD(i,a.y,s,a.height);{let{y:l,bottom:c}=Bm(e,n,a,t.header.isPositionedAtTop(),r,o);return oD(i,l,s,c-l)}},Bg={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Bp={maxHeightFunction:dB(),maxWidthFunction:Ny()},Bh=(e,t)=>{let r=e.selection.getRng(),o=tC(eY.fromDom(r.startContainer),r.startOffset);return r.startContainer===r.endContainer&&r.startOffset===r.endOffset-1&&ts(o.element,t)},Bf=(e,t,r)=>{let o=tQ(e,"position");tG(e,"position",t);let a=r(e);return o.each(t=>tG(e,"position",t)),a},By=e=>"node"===e,Bb=(e,t,r,o,a)=>{let n=Bs(e),l=o.lastElement().exists(e=>ts(r,e));return Bh(e,r)?l?Az:Aw:l?Bf(t,o.getMode(),()=>Bl(n,oN(t),-20)&&!o.isReposition()?AT:Az):("fixed"===o.getMode()?a.y+r6().top:a.y)+(t6(t)+12)<=n.y?Aw:A_},Bv=(e,t,r,o)=>{let a=t=>(o,a,n,l,i)=>({...Bb(e,l,t,r,i)({...o,y:i.y,height:i.height},a,n,l,i),alwaysFit:!0}),n=e=>By(o)?[a(e)]:[];return t?{onLtr:e=>[cy,cu,cg,cp,ch,cf].concat(n(e)),onRtl:e=>[cy,cg,cu,ch,cp,cf].concat(n(e))}:{onLtr:e=>[cf,cy,cp,cu,ch,cg].concat(n(e)),onRtl:e=>[cf,cy,ch,cg,cp,cu].concat(n(e))}},Bk=(e,t,r,o)=>"line"===t?{bubble:dH(12,0,Bg),layouts:{onLtr:()=>[cb],onRtl:()=>[cv]},overrides:Bp}:{bubble:dH(0,12,Bg,.08333333333333333),layouts:Bv(e,r,o,t),overrides:Bp},Bw=(e,t)=>{let{pass:r,fail:o}=G(K(t,t=>t.predicate(e.dom)),e=>"contexttoolbar"===e.type);return{contextToolbars:r,contextForms:o}},B_=e=>{if(e.length<=1)return e;{let t=t=>V(e,e=>e.position===t),r=t=>K(e,e=>e.position===t),o=t("selection"),a=t("node");if(!o&&!a)return r("line");if(!a||!o)return r(o?"selection":"node");{let e=r("node"),t=q(r("selection"),e=>({...e,position:"node"}));return e.concat(t)}}},Bx=e=>{if(e.length<=1)return e;{let t=t=>Q(e,e=>e.position===t);return t("selection").orThunk(()=>t("node")).orThunk(()=>t("line")).map(e=>e.position).fold(()=>[],t=>K(e,e=>e.position===t))}},BC=(e,t,r)=>{let o=Bw(e,t);if(o.contextForms.length>0)return B.some({elem:e,toolbars:[o.contextForms[0]]});{let t=Bw(e,r);if(t.contextForms.length>0)return B.some({elem:e,toolbars:[t.contextForms[0]]});if(!(o.contextToolbars.length>0)&&!(t.contextToolbars.length>0))return B.none();{let r=B_(o.contextToolbars.concat(t.contextToolbars));return B.some({elem:e,toolbars:r})}}},BS=(e,t,r)=>e(t)?B.none():nf(t,e=>{if(!e9(e))return B.none();{let{contextToolbars:t,contextForms:o}=Bw(e,r.inNodeScope),a=o.length>0?o:Bx(t);return a.length>0?B.some({elem:e,toolbars:a}):B.none()}},e),Bz=(e,t)=>{let r=eY.fromDom(t.getBody()),o=e=>ts(e,r),a=eY.fromDom(t.selection.getNode());return o(a)||tc(r,a)?BC(a,e.inNodeScope,e.inEditorScope).orThunk(()=>BS(o,a,e)):B.none()},BE=(e,t)=>{let r={},o=[],a=[],n={},l={},i=(e,i)=>{let s=aN(kg(i));r[e]=s,s.launch.map(r=>{n["form:"+e]={...i.launch,type:"contextformtogglebutton"===r.type?"togglebutton":"button",onAction:()=>{t(s)}}}),"editor"===s.scope?a.push(s):o.push(s),l[e]=s},s=(e,t)=>{kh(t).each(r=>{"editor"===t.scope?a.push(r):o.push(r),l[e]=r})};return W(ep(e),t=>{let r=e[t];"contextform"===r.type?i(t,r):"contexttoolbar"===r.type&&s(t,r)}),{forms:r,inNodeScope:o,inEditorScope:a,lookupTable:l,formNavigators:n}},BT=lZ("forward-slide"),BA=lZ("backward-slide"),BO=lZ("change-slide-event"),BD="tox-pop--resizing",BN=e=>{let t=no([]);return fL.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),fL.getContent(e).each(e=>{t2(e.element,"visibility")}),iH(e.element,BD),t2(e.element,"width")},inlineBehaviours:cF([h1("context-toolbar-events",[lE(nV(),(e,t)=>{"width"===t.event.raw.propertyName&&(iH(e.element,BD),t2(e.element,"width"))}),lv(BO,(e,t)=>{let r=e.element;t2(r,"width");let o=rl(r);fL.setContent(e,t.event.contents),iI(r,BD);let a=rl(r);tG(r,"width",o+"px"),fL.getContent(e).each(e=>{t.event.focus.bind(e=>(cZ(e),cG(r))).orThunk(()=>(hU.focusIn(e),c$(tT(r))))}),setTimeout(()=>{tG(e.element,"width",a+"px")},0)}),lv(BT,(e,r)=>{fL.getContent(e).each(r=>{t.set(t.get().concat([{bar:r,focus:c$(tT(e.element))}]))}),ld(e,BO,{contents:r.event.forwardContents,focus:B.none()})}),lv(BA,(e,r)=>{em(t.get()).each(r=>{t.set(t.get().slice(0,t.get().length-1)),ld(e,BO,{contents:l6(r.bar),focus:r.focus})})})]),hU.config({mode:"special",onEscape:r=>em(t.get()).fold(()=>e.onEscape(),e=>(lc(r,BA),B.some(!0)))})]),lazySink:()=>oH.value(e.sink)})},BM="tox-pop--transition",BR=(e,t,r,o)=>{let a=o.backstage,n=a.shared,l=rZ().deviceType.isTouch,i=dp(),s=dp(),c=dp(),d=sm(BN({sink:r,onEscape:()=>(e.focus(),B.some(!0))})),m=()=>{let t=c.get().getOr("node"),r=+!!By(t);return Bu(e,n,t,r)},u=()=>!e.removed&&!(l()&&a.isContextMenuOpen()),g=e=>eA(eM(e,i.get(),ts),!0),p=()=>{if(!u())return!0;{let t=m(),r=eA(c.get(),"node")?Bc(e,i.get()):Bs(e);return t.height<=0||!Bl(r,t,.01)}},h=()=>{i.clear(),s.clear(),c.clear(),fL.hide(d)},f=()=>{if(fL.isOpen(d)){let e=d.element;t2(e,"display"),p()?tG(e,"display","none"):(s.set(0),fL.reposition(d))}},y=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:cF([hU.config({mode:"acyclic"}),h1("pop-dialog-wrap-events",[lT(t=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>hU.focusIn(t))}),lA(t=>{e.shortcuts.remove("ctrl+F9")})])])}),b=rc(()=>BE(t,e=>{ld(d,BT,{forwardContents:y(w([e]))})})),v=(t,r)=>RH(e,{buttons:t,toolbar:r.items,allowToolbarGroups:!1},o.backstage,B.some(["form:"])),k=(e,t)=>Bn(e,t),w=t=>{let{buttons:r}=e.ui.registry.getAll(),o=b(),a={...r,...o.formNavigators},l=bt(e)===ow.scrolling?ow.scrolling:ow.default,i=et(q(t,e=>"contexttoolbar"===e.type?v(a,e):k(e,n.providers)));return Nq({type:l,uid:lZ("context-toolbar"),initGroups:i,onEscape:B.none,cyclicKeying:!0,providers:n.providers})},x=(t,o)=>oG("node"===t?n.anchors.node(o):n.anchors.cursor(),Bk(e,t,l(),{lastElement:i.get,isReposition:()=>eA(s.get(),0),getMode:()=>m0.getMode(r)})),C=(e,t)=>{if(z.cancel(),!u())return;let o=w(e),a=e[0].position,n=x(a,t);c.set(a),s.set(1);let l=d.element;t2(l,"display"),g(t)||(iH(l,BM),m0.reset(r,d)),fL.showWithinBounds(d,y(o),{anchor:n,transition:{classes:[BM],mode:"placement"}},()=>B.some(m())),t.fold(i.clear,i.set),p()&&tG(l,"display","none")},S=!1,z=zH(()=>{!e.hasFocus()||e.removed||S||(iV(d.element,BM)?z.throttle():Bz(b(),e).fold(h,e=>{C(e.toolbars,B.some(e.elem))}))},17);e.on("init",()=>{e.on("remove",h),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",f),e.on("click keyup focus SetContent",z.throttle),e.on(R8,h),e.on("contexttoolbar-show",t=>{ez(b().lookupTable,t.toolbarKey).each(r=>{C([r],eF(t.target!==e,t.target)),fL.getContent(d).each(hU.focusIn)})}),e.on("focusout",t=>{fI.setEditorTimeout(e,()=>{cG(r.element).isNone()&&cG(d.element).isNone()&&h()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&h()}),e.on("AfterProgressState",t=>{t.state?h():e.hasFocus()&&z.throttle()}),e.on("dragstart",()=>{S=!0}),e.on("dragend drop",()=>{S=!1}),e.on("NodeChange",e=>{cG(d.element).fold(z.throttle,_)})})},BB=e=>{W([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:w7(e,t.cmd),onSetup:w5(e,t.name)})}),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:w4(e),onAction:w7(e,"JustifyNone")})},BF=(e,t)=>{let r=()=>{let r=t.getOptions(e),o=t.getCurrent(e).map(t.hash),a=dp();return q(r,r=>({type:"togglemenuitem",text:t.display(r),onSetup:n=>{let l=e=>{e&&(a.on(e=>e.setActive(!1)),a.set(n)),n.setActive(e)};l(eA(o,t.hash(r)));let i=t.watcher(e,r,l);return()=>{a.clear(),i()}},onAction:()=>t.setCurrent(e,r)}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(r()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:r,onSetup:t.onMenuSetup})},BL=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:bD,hash:e=>M6(e,["fixed","relative","empty"]).getOr(e),display:E,watcher:(e,t,r)=>e.formatter.formatChanged("lineheight",r,!1,{value:t}).unbind,getCurrent:e=>B.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t),onToolbarSetup:w4(e),onMenuSetup:w4(e)}),BI=e=>B.from(y9(e)).map(t=>({name:"language",text:"Language",icon:"language",getOptions:z(t),hash:e=>f(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,r)=>{var o;return e.formatter.formatChanged("lang",r,!1,{value:t.code,customValue:null!=(o=t.customCode)?o:null}).unbind},getCurrent:e=>ny(eY.fromDom(e.selection.getNode()),e=>B.some(e).filter(e9).bind(e=>tV(e,"lang").map(t=>({code:t,customCode:tV(e,"data-mce-lang").getOrUndefined(),title:""})))),setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{let r=dg();return t.setActive(e.formatter.match("lang",{},void 0,!0)),r.set(e.formatter.formatChanged("lang",t.setActive,!0)),w2(r.clear,w4(e)(t))},onMenuSetup:w4(e)})),BP=e=>{BF(e,BL(e)),BI(e).each(t=>BF(e,t))},BH=(e,t)=>{MV(e,t),M0(e,t),Rg(e,t),M$(e,t),Rd(e,t)},Bj=e=>w6(e,"NodeChange",t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),BV=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Bj(e),onAction:w7(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:w4(e),onAction:w7(e,"indent")})},BU=e=>{BV(e)},BZ=(e,t)=>r=>{r.setActive(t.get());let o=e=>{t.set(e.state),r.setActive(e.state)};return e.on("PastePlainTextToggle",o),w2(()=>e.off("PastePlainTextToggle",o),w4(e)(r))},Bq=e=>{let t=no(b_(e)),r=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:r,onSetup:BZ(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:r,onSetup:BZ(e,t)})},BW=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},B$=e=>{zR.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(t,r)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:w5(e,t.name),onAction:BW(e,t.name)})});for(let t=1;t<=6;t++){let r="h"+t;e.ui.registry.addToggleButton(r,{text:r.toUpperCase(),tooltip:"Heading "+t,onSetup:w5(e,r),onAction:BW(e,r)})}},BG=e=>{zR.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:w7(e,t.action)})}),zR.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:w4(e),onAction:w7(e,t.action)})})},BK=e=>{zR.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:w7(e,t.action),onSetup:w5(e,t.name)})})},BY=e=>{B$(e),BG(e),BK(e)},BX=e=>{zR.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:w7(e,t.action)})}),zR.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:w4(e),onAction:w7(e,t.action)})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:w4(e),onAction:BW(e,"code")})},BJ=e=>{BY(e),BX(e)},BQ=(e,t)=>w6(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",r=>{r.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())}),B1=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:BQ(e,"hasUndo"),onAction:w7(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:BQ(e,"hasRedo"),onAction:w7(e,"redo")})},B0=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:BQ(e,"hasUndo"),onAction:w7(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:BQ(e,"hasRedo"),onAction:w7(e,"redo")})},B2=e=>{B1(e),B0(e)},B4=e=>w6(e,"VisualAid",t=>{t.setActive(e.hasVisual)}),B3=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:B4(e),onAction:w7(e,"mceToggleVisualAid")})},B5=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:w7(e,"mceToggleVisualAid")})},B6=e=>{B5(e),B3(e)},B8=(e,t)=>{BB(e),BJ(e),BH(e,t),B2(e),_H(e),B6(e),BU(e),BP(e),Bq(e)},B7=e=>d(e)?e.split(/[ ,]/):e,B9=e=>t=>t.options.get(e),Fe=e=>{let t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:d(e)||w(e,d)?{value:B7(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},Ft=B9("contextmenu_never_use_native"),Fr=B9("contextmenu_avoid_overlap"),Fo=e=>0===Fa(e).length,Fa=e=>{let t=e.ui.registry.getAll().contextMenus,r=e.options.get("contextmenu");return e.options.isSet("contextmenu")?r:K(r,e=>eE(t,e))},Fn=(e,t)=>({type:"makeshift",x:e,y:t}),Fl=(e,t,r)=>Fn(e.x+t,e.y+r),Fi=e=>"longpress"===e.type||0===e.type.indexOf("touch"),Fs=e=>{if(!Fi(e))return Fn(e.pageX,e.pageY);{let t=e.touches[0];return Fn(t.pageX,t.pageY)}},Fc=e=>{if(!Fi(e))return Fn(e.clientX,e.clientY);{let t=e.touches[0];return Fn(t.clientX,t.clientY)}},Fd=(e,t)=>{let r=y$.DOM.getPos(e);return Fl(t,r.x,r.y)},Fm=(e,t)=>"contextmenu"!==t.type&&"longpress"!==t.type?Fu(e):e.inline?Fs(t):Fd(e.getContentAreaContainer(),Fc(t)),Fu=e=>({type:"selection",root:eY.fromDom(e.selection.getNode())}),Fg=e=>({type:"node",node:B.some(eY.fromDom(e.selection.getNode())),root:eY.fromDom(e.getBody())}),Fp=(e,t,r)=>{switch(r){case"node":return Fg(e);case"point":return Fm(e,t);case"selection":return Fu(e)}},Fh=(e,t,r,o,a,n)=>{let l=r(),i=Fp(e,t,n);EA(l,bG.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:B.none()}).map(e=>{t.preventDefault(),fL.showMenuAt(a,{anchor:i},{menu:{markers:b9("normal")},data:e})})},Ff={onLtr:()=>[cy,cu,cg,cp,ch,cf,Aw,A_,Ak,Ab,Av,Ay],onRtl:()=>[cy,cg,cu,ch,cp,cf,Aw,A_,Av,Ay,Ak,Ab]},Fy={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Fb=(e,t)=>{let r=e.selection;if(r.isCollapsed()||t.touches.length<1)return!1;{let o=t.touches[0],a=r.getRng();return mz(e.getWin(),ma.domRange(a)).exists(e=>e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY)}},Fv=e=>{let t=e.selection.getRng(),r=()=>{fI.setEditorTimeout(e,()=>{e.selection.setRng(t)},10),n()};e.once("touchend",r);let o=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);let a=()=>n();e.once("longpresscancel",a);let n=()=>{e.off("touchend",r),e.off("longpresscancel",a),e.off("mousedown",o)}},Fk=(e,t,r)=>{let o=Fp(e,t,r);return{bubble:dH(0,12*("point"===r),Fy),layouts:Ff,overrides:{maxWidthFunction:Ny(),maxHeightFunction:dB()},...o}},Fw=(e,t,r,o,a,n,l)=>{let i=Fk(e,t,n);EA(r,bG.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!0,search:B.none()}).map(r=>{t.preventDefault();let s=l?ok.HighlightMenuAndItem:ok.HighlightNone;fL.showMenuWithinBounds(a,{anchor:i},{menu:{markers:b9("normal"),highlightOnOpen:s},data:r,type:"horizontal"},()=>B.some(Bu(e,o.shared,"node"===n?"node":"selection"))),e.dispatch(R8)})},F_=(e,t,r,o,a,n)=>{let l=rZ(),i=l.os.isiOS(),s=l.os.isMacOS(),c=l.os.isAndroid(),d=l.deviceType.isTouch(),m=()=>!(c||i||s&&d),u=()=>{Fw(e,t,r(),o,a,n,m())};if((s||i)&&"node"!==n){let r=()=>{Fv(e),u()};Fb(e,t)?r():(e.once("selectionchange",r),e.once("touchend",()=>e.off("selectionchange",r)))}else u()},Fx=e=>d(e)?"|"===e:"separator"===e.type,FC={type:"separator"},FS=e=>{let t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(d(e))return e;switch(e.type){case"separator":return FC;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{let t=e.getSubmenuItems();return d(t)?t:q(t,FS)}};default:return{type:"menuitem",...t(e),onAction:x(e.onAction)}}},Fz=(e,t)=>{if(0===t.length)return e;let r=em(e).filter(e=>!Fx(e)).fold(()=>[],e=>[FC]);return e.concat(r).concat(t).concat([FC])},FE=(e,t,r)=>{let o=X(t,(t,o)=>ez(e,o.toLowerCase()).map(e=>{let o=e.update(r);return d(o)&&eW(eq(o))?Fz(t,o.split(" ")):g(o)&&o.length>0?Fz(t,q(o,FS)):t}).getOrThunk(()=>t.concat([o])),[]);return o.length>0&&Fx(o[o.length-1])&&o.pop(),o},FT=(e,t)=>t.ctrlKey&&!Ft(e),FA=e=>"longpress"===e.type||eE(e,"touches"),FO=(e,t)=>!FA(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),FD=(e,t)=>FO(e,t)?e.selection.getStart(!0):t.target,FN=(e,t)=>{let r=Fr(e),o=FO(e,t)?"selection":"point";if(!eW(r))return o;{let a=FD(e,t);return xU(eY.fromDom(a),r)?"node":o}},FM=(e,t,r)=>{let o=rZ().deviceType.isTouch,a=sm(fL.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>r.setContextMenuState(!0),onHide:()=>r.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:cF([h1("dismissContextMenu",[lv(le(),(t,r)=>{uw.close(t),e.focus()})])])})),n=()=>fL.hide(a),l=t=>{if(Ft(e)&&t.preventDefault(),FT(e,t)||Fo(e))return;let n=FN(e,t);(o()?F_:Fh)(e,t,()=>{let r=FD(e,t),o=e.ui.registry.getAll(),a=Fa(e);return FE(o.contextMenus,a,r)},r,a,n)};e.on("init",()=>{let t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,n),e.on("longpress contextmenu",l)})},FR=na([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),FB=e=>t=>t.translate(-e.left,-e.top),FF=e=>t=>t.translate(e.left,e.top),FL=e=>(t,r)=>X(e,(e,t)=>t(e),t9(t,r)),FI=(e,t,r)=>e.fold(FL([FF(r),FB(t)]),FL([FB(t)]),FL([])),FP=(e,t,r)=>e.fold(FL([FF(r)]),FL([]),FL([FF(t)])),FH=(e,t,r)=>e.fold(FL([]),FL([FB(r)]),FL([FF(t),FB(r)])),Fj=(e,t,r,o,a,n)=>{let l=FP(e,a,n),i=FP(t,a,n);return Math.abs(l.left-i.left)<=r&&Math.abs(l.top-i.top)<=o},FV=(e,t,r,o,a,n)=>{let l=FP(e,a,n),i=FP(t,a,n);return t9(Math.abs(l.left-i.left),Math.abs(l.top-i.top))},FU=(e,t,r)=>{let o=e.fold((e,t)=>({position:B.some("absolute"),left:B.some(e+"px"),top:B.some(t+"px")}),(e,t)=>({position:B.some("absolute"),left:B.some(e-r.left+"px"),top:B.some(t-r.top+"px")}),(e,t)=>({position:B.some("fixed"),left:B.some(e+"px"),top:B.some(t+"px")}));return{right:B.none(),bottom:B.none(),...o}},FZ=(e,t,r)=>e.fold((e,o)=>FW(e+t,o+r),(e,o)=>F$(e+t,o+r),(e,o)=>FG(e+t,o+r)),Fq=(e,t,r,o)=>{let a=(e,a)=>(n,l)=>{let i=e(t,r,o);return a(n.getOr(i.left),l.getOr(i.top))};return e.fold(a(FH,FW),a(FP,F$),a(FI,FG))},FW=FR.offset,F$=FR.absolute,FG=FR.fixed,FK=(e,t)=>{let r=tj(e,t);return f(r)?NaN:parseInt(r,10)},FY=(e,t)=>{let r=e.element,o=FK(r,t.leftAttr),a=FK(r,t.topAttr);return isNaN(o)||isNaN(a)?B.none():B.some(t9(o,a))},FX=(e,t,r)=>{let o=e.element;tP(o,t.leftAttr,r.left+"px"),tP(o,t.topAttr,r.top+"px")},FJ=(e,t)=>{let r=e.element;tZ(r,t.leftAttr),tZ(r,t.topAttr)},FQ=(e,t,r,o)=>FY(e,t).fold(()=>r,e=>FG(e.left+o.left,e.top+o.top)),F1=(e,t,r,o,a,n)=>{let l=FQ(e,t,r,o),i=t.mustSnap?F4(e,t,l,a,n):F3(e,t,l,a,n),s=FI(l,a,n);return FX(e,t,s),i.fold(()=>({coord:FG(s.left,s.top),extra:B.none()}),e=>({coord:e.output,extra:e.extra}))},F0=(e,t)=>{FJ(e,t)},F2=(e,t,r,o)=>eg(e,e=>Fj(t,e.sensor,e.range.left,e.range.top,r,o)?B.some({output:Fq(e.output,t,r,o),extra:e.extra}):B.none()),F4=(e,t,r,o,a)=>{let n=t.getSnapPoints(e);return F2(n,r,o,a).orThunk(()=>X(n,(e,t)=>{let n=FV(r,t.sensor,t.range.left,t.range.top,o,a);return e.deltas.fold(()=>({deltas:B.some(n),snap:B.some(t)}),r=>(n.left+n.top)/2<=(r.left+r.top)/2?{deltas:B.some(n),snap:B.some(t)}:e)},{deltas:B.none(),snap:B.none()}).snap.map(e=>({output:Fq(e.output,r,o,a),extra:e.extra})))},F3=(e,t,r,o,a)=>F2(t.getSnapPoints(e),r,o,a),F5=(e,t,r)=>({coord:Fq(e.output,e.output,t,r),extra:e.extra});var F6=Object.freeze({__proto__:null,snapTo:(e,t,r,o)=>{let a=t.getTarget(e.element);if(t.repositionTarget){let t=r6(td(e.element)),r=OW(a);tY(a,FU(F5(o,t,r).coord,t,r))}}});let F8="data-initial-z-index",F7=e=>{tp(e.element).filter(e9).each(e=>{tV(e,F8).fold(()=>t2(e,"z-index"),t=>tG(e,"z-index",t)),tZ(e,F8)})},F9=e=>{tp(e.element).filter(e9).each(t=>{tQ(t,"z-index").each(e=>{tP(t,F8,e)}),tG(t,"z-index",tX(e.element,"z-index"))})},Le=(e,t)=>{e.getSystem().addToGui(t),F9(t)},Lt=e=>{F7(e),e.getSystem().removeFromGui(e)},Lr=(e,t,r)=>e.getSystem().build(Ce.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:r}));var Lo=a2("snaps",[aP("getSnapPoints"),sV("onSensor"),aP("leftAttr"),aP("topAttr"),a3("lazyViewport",oF),a3("mustSnap",!1)]);let La=[a3("useFixed",M),aP("blockerClass"),a3("getTarget",E),a3("onDrag",_),a3("repositionTarget",!0),a3("onDrop",_),ne("getBounds",oF),Lo],Ln=e=>eR(tQ(e,"left"),tQ(e,"top"),tQ(e,"position"),(e,t,r)=>("fixed"===r?FG:FW)(parseInt(e,10),parseInt(t,10))).getOrThunk(()=>{let t=rr(e);return F$(t.left,t.top)}),Ll=(e,t,r,o,a)=>{let n=a.bounds,l=FP(t,r,o),i=F$(s9(l.left,n.x,n.x+n.width-a.width),s9(l.top,n.y,n.y+n.height-a.height));return t.fold(()=>{let e=FH(i,r,o);return FW(e.left,e.top)},z(i),()=>{let e=FI(i,r,o);return FG(e.left,e.top)})},Li=(e,t,r,o,a,n,l)=>{let i=t.fold(()=>{let e=FI(FZ(r,n.left,n.top),o,a);return FG(e.left,e.top)},t=>{let l=F1(e,t,r,n,o,a);return l.extra.each(r=>{t.onSensor(e,r)}),l.coord});return Ll(e,i,o,a,l)},Ls=(e,t,r,o)=>{let a=t.getTarget(e.element);if(t.repositionTarget){let n=r6(td(e.element)),l=OW(a),i=Ln(a);tY(a,FU(Li(e,t.snaps,i,n,l,o,r),n,l))}t.onDrag(e,a,o)},Lc=(e,t)=>({bounds:e.getBounds(),height:t8(t.element),width:ri(t.element)}),Ld=(e,t,r,o,a)=>{let n=r.update(o,a),l=r.getStartData().getOrThunk(()=>Lc(t,e));n.each(r=>{Ls(e,t,l,r)})},Lm=(e,t,r,o)=>{t.each(Lt),r.snaps.each(t=>{F0(e,t)});let a=r.getTarget(e.element);o.reset(),r.onDrop(e,a)},Lu=e=>(t,r)=>{let o=e=>{r.setStartData(Lc(t,e))};return lf([lv(n6(),e=>{r.getStartData().each(()=>o(e))}),...e(t,r,o)])},Lg=e=>lf([lv(nA(),e.forceDrop),lv(nN(),e.drop),lv(nO(),(t,r)=>{e.move(r.event)}),lv(nD(),e.delayDrop)]);var Lp=Object.freeze({__proto__:null,getData:e=>B.from(t9(e.x,e.y)),getDelta:(e,t)=>t9(t.left-e.left,t.top-e.top)});let Lh=(e,t,r)=>[lv(nA(),(o,a)=>{if(0!==a.event.raw.button)return;a.stop();let n=()=>Lm(o,B.some(s),e,t),l=xZ(n,200),i={drop:n,delayDrop:l.schedule,forceDrop:n,move:r=>{l.cancel(),Ld(o,e,t,Lp,r)}},s=Lr(o,e.blockerClass,Lg(i));r(o),Le(o,s)})],Lf=[...La,sW("dragger",{handlers:Lu(Lh)})],Ly=e=>lf([lv(nS(),e.forceDrop),lv(nE(),e.drop),lv(nT(),e.drop),lv(nz(),(t,r)=>{e.move(r.event)})]),Lb=e=>{let t=e[0];return B.some(t9(t.clientX,t.clientY))};var Lv=Object.freeze({__proto__:null,getData:e=>{let t=e.raw.touches;return 1===t.length?Lb(t):B.none()},getDelta:(e,t)=>t9(t.left-e.left,t.top-e.top)});let Lk=(e,t,r)=>{let o=dp(),a=r=>{Lm(r,o.get(),e,t),o.clear()};return[lv(nS(),(n,l)=>{l.stop();let i=()=>a(n),s=Lr(n,e.blockerClass,Ly({drop:i,delayDrop:_,forceDrop:i,move:r=>{Ld(n,e,t,Lv,r)}}));o.set(s),r(n),Le(n,s)}),lv(nz(),(r,o)=>{o.stop(),Ld(r,e,t,Lv,o.event)}),lv(nE(),(e,t)=>{t.stop(),a(e)}),lv(nT(),a)]},Lw=[...La,sW("dragger",{handlers:Lu(Lk)})],L_=cH({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:Lf,touch:Lw,mouseOrTouch:[...La,sW("dragger",{handlers:Lu((e,t,r)=>[...Lh(e,t,r),...Lk(e,t,r)])})]}),name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:B.from(e.extra)})},state:Object.freeze({__proto__:null,init:()=>{let e=B.none(),t=B.none(),r=(t,r)=>{let o=e.map(e=>t.getDelta(e,r));return e=B.some(r),o};return it({readState:z({}),reset:()=>{e=B.none(),t=B.none()},update:(e,t)=>e.getData(t).bind(t=>r(e,t)),getStartData:()=>t,setStartData:e=>{t=B.some(e)}})}}),apis:F6}),Lx=(e,t,r,o,a,n)=>e.fold(()=>L_.snap({sensor:F$(r-20,o-20),range:t9(a,n),output:F$(B.some(r),B.some(o)),extra:{td:t}}),e=>{let a=e.element.dom.getBoundingClientRect();return L_.snap({sensor:F$(r-20,o-20),range:t9(40,40),output:F$(B.some(r-a.width/2),B.some(o-a.height/2)),extra:{td:t}})}),LC=(e,t,r)=>{let o=(e,t)=>e.exists(e=>ts(e,t));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,a)=>{let n=a.td;o(t.get(),n)||(t.set(n),r(n))},mustSnap:!0}},LS=e=>fU(fP.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:cF([L_.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),CR.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Lz=(e,t)=>{let r=no([]),o=no([]),a=no(!1),n=dp(),l=dp(),i=e=>{let r=oM(e);return Lx(m.getOpt(t),e,r.x,r.y,r.width,r.height)},s=e=>{let r=oM(e);return Lx(u.getOpt(t),e,r.right,r.bottom,r.width,r.height)},c=LC(()=>q(r.get(),e=>i(e)),n,t=>{l.get().each(r=>{e.dispatch("TableSelectorChange",{start:t,finish:r})})}),d=LC(()=>q(o.get(),e=>s(e)),l,t=>{n.get().each(r=>{e.dispatch("TableSelectorChange",{start:r,finish:t})})}),m=LS(c),u=LS(d),g=sm(m.asSpec()),p=sm(u.asSpec()),h=(t,r,o,a)=>{let n=r.dom.getBoundingClientRect();t2(t.element,"display");let l=tg(eY.fromDom(e.getBody())).dom.innerHeight,i=o(n),s=a(n,l);(i||s)&&tG(t.element,"display","none")},f=(e,t,r,o)=>{let a=r(t);L_.snapTo(e,a),h(e,t,e=>e[o]<0,(e,t)=>e[o]>t)},y=e=>f(g,e,i,"top"),b=()=>n.get().each(y),v=e=>f(p,e,s,"bottom"),k=()=>l.get().each(v);rZ().deviceType.isTouch()&&(e.on("TableSelectionChange",e=>{a.get()||(ut(t,g),ut(t,p),a.set(!0)),n.set(e.start),l.set(e.finish),e.otherCells.each(t=>{r.set(t.upOrLeftCells),o.set(t.downOrRightCells),y(e.start),v(e.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{b(),k()}),e.on("TableSelectionClear",()=>{a.get()&&(ua(g),ua(p),a.set(!1)),n.clear(),l.clear()}))},LE=e=>"BR"===e.nodeName||!!e.getAttribute("data-mce-bogus")||"bookmark"===e.getAttribute("data-mce-type"),LT=(e,t,r)=>{var o;let a=null!=(o=t.delimiter)?o:"›",n=(t,o,a)=>fP.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":a,"aria-level":a+1}},components:[si(t)],action:t=>{e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:cF([kX(r.isDisabled),kK()])}),l=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[si(` ${a} `)]}),i=e=>X(e,(e,t,r)=>{let o=n(t.name,t.element,r);return 0===r?e.concat([o]):e.concat([l(),o])},[]),s=t=>{let r=[],o=t.length;for(;o-- >0;){let a=t[o];if(1===a.nodeType&&!LE(a)){let t=wG(e,a);if(t.isDefaultPrevented()||r.push({name:t.name,element:a}),t.isPropagationStopped())break}}return r};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:cF([hU.config({mode:"flow",selector:"div[role=button]"}),g3.config({disabled:r.isDisabled}),kK(),Ci.config({}),hJ.config({}),h1("elementPathEvents",[lT((t,r)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>hU.focusIn(t)),e.on("NodeChange",e=>{let r=s(e.parents),o=r.length>0?i(r):[];hJ.set(t,o)})})])]),components:[]}};(oh=oz||(oz={}))[oh.None=0]="None",oh[oh.Both=1]="Both",oh[oh.Vertical=2]="Vertical";let LA=(e,t,r,o,a)=>{let n={height:RK(o+t.top,y4(e),y5(e))};return r===oz.Both&&(n.width=RK(a+t.left,y2(e),y3(e))),n},LO=(e,t,r)=>{let o=eY.fromDom(e.getContainer());ef(LA(e,t,r,t6(o),rl(o)),(e,t)=>{k(e)&&tG(o,t,RG(e))}),wU(e)},LD=e=>{let t=bw(e);return!1===t?oz.None:"both"===t?oz.Both:oz.Vertical},LN=(e,t,r,o)=>(LO(e,t9(20*r,20*o),t),B.some(!0)),LM=(e,t)=>{let r=LD(e);if(r===oz.None)return B.none();let o=r===oz.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return B.some(yV("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-label":t.translate(o)},behaviours:[L_.config({mode:"mouse",repositionTarget:!1,onDrag:(t,o,a)=>LO(e,a,r),blockerClass:"tox-blocker"}),hU.config({mode:"special",onLeft:()=>LN(e,r,-1,0),onRight:()=>LN(e,r,1,0),onUp:()=>LN(e,r,0,-1),onDown:()=>LN(e,r,0,1)}),Ci.config({}),h3.config({})]},t.icons))},LR=(e,t)=>{let r=(e,r,o)=>hJ.set(e,[si(t.translate(["{0} "+o,r[o]]))]);return fP.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:cF([kX(t.isDisabled),kK(),Ci.config({}),hJ.config({}),uP.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),h1("wordcount-events",[lD(e=>{let t=uP.getValue(e),o="words"===t.mode?"characters":"words";uP.setValue(e,{mode:o,count:t.count}),r(e,t.count,o)}),lT(t=>{e.on("wordCountUpdate",e=>{let{mode:o}=uP.getValue(t);uP.setValue(t,{mode:o,count:e.wordCount}),r(t,e.wordCount,o)})})])]),eventOrder:{[nX()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},LB=(e,t)=>{let r=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v6",rel:"noopener",target:"_blank","aria-label":yD.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:cF([h3.config({})])}]}),o=()=>{let e=k8("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[si(yD.translate(["Press {0} for help",e]))]}},a=()=>{let o=[];return e.hasPlugin("wordcount")&&o.push(LR(e,t)),bk(e)&&o.push(r()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:o}},n=()=>{let r=[],n=bS(e),l=bv(e),i=bk(e)||e.hasPlugin("wordcount");return(l&&r.push(LT(e,{},t)),n&&r.push(o()),i&&r.push(a()),r.length>0)?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{let e="tox-statusbar__text-container--flex-start",t="tox-statusbar__text-container--flex-end";if(n){let r="tox-statusbar__text-container-3-cols";return i||l?i&&!l?[r,t]:[r,e]:[r,"tox-statusbar__text-container--space-around"]}return[i&&!l?t:e]})()]},components:r}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{let r=n(),o=LM(e,t);return r.concat(o.toArray())})()}},LF=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),LL=(e,t)=>{let r=e.inline,o=r?R5:RW,a=bH(e)?DM:OZ,n=R6(),l=dp(),i=dp(),s=dp(),c=rZ().deviceType.isTouch()?["tox-platform-touch"]:[],d=bB(e),m=bt(e),u=fU({dom:{tag:"div",classes:["tox-anchorbar"]}}),g=fU({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),p=()=>n.mainUi.get().map(e=>e.outerContainer).bind(Mh.getHeader),h=n.lazyGetInOuterOrDie("anchor bar",u.getOpt),f=n.lazyGetInOuterOrDie("bottom anchor bar",g.getOpt),y=n.lazyGetInOuterOrDie("toolbar",Mh.getToolbar),b=n.lazyGetInOuterOrDie("throbber",Mh.getThrobber),v=OB({popup:()=>oH.fromOption(n.popupUi.get().map(e=>e.sink),"(popup) UI has not been rendered"),dialog:()=>oH.fromOption(n.dialogUi.get().map(e=>e.sink),"UI has not been rendered")},e,h,f),k=()=>{let t={attributes:{[dZ]:d?ob.BottomToTop:ob.TopToBottom}},r=Mh.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:v.popup,onEscape:()=>{e.focus()}}),o=Mh.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v.popup.shared.getSink,providers:v.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{wK(e,t)},type:m,lazyToolbar:y,lazyHeader:()=>p().getOrDie("Could not find header element"),...t}),a=Mh.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:v.popup.shared.providers,onEscape:()=>{e.focus()},type:m}),n=bR(e),l=bN(e),i=bT(e),s=bC(e),c=w();return Mh.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(n||l||i?[]:["tox-editor-header--empty"]),...t},components:et([i?s?[c,r]:[r]:[],n?[a]:l?[o]:[],bL(e)?[]:[u.asSpec()]]),sticky:bH(e),editor:e,sharedBackstage:v.popup.shared})},w=()=>Mh.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),_=()=>({dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Mh.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Mh.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]}),x=()=>{let t=bI(e),r=ts(tF(),t)&&"grid"===tX(t,"display"),o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c),attributes:{...yD.isRtl()?{dir:"rtl"}:{}}},behaviours:cF([m0.config({useFixed:()=>a.isDocked(p)})])},n={dom:{styles:{width:document.body.clientWidth+"px"}},events:lf([lv(n8(),e=>{tG(e.element,"width",document.body.clientWidth+"px")})])},l=sm(oG(o,r?n:{})),s=Ct(l);return i.set(s),{sink:l,mothership:s}},C=()=>{let e=sm({dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(c),attributes:{...yD.isRtl()?{dir:"rtl"}:{}}},behaviours:cF([m0.config({useFixed:()=>a.isDocked(p),getBounds:()=>t.getPopupSinkBounds()})])}),r=Ct(e);return s.set(r),{sink:e,mothership:r}},S=()=>{let t=k(),o=_(),a=Mh.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:v.popup}),n=Mh.parts.viewWrapper({backstage:v.popup}),i=bb(e)&&!r?B.some(LB(e,v.popup.shared.providers)):B.none(),s=et([d?[]:[t],r?[]:[o],d?[t]:[]]),m=Mh.parts.editorContainer({components:et([s,r?[]:[g.asSpec(),...i.toArray()]])}),u=bP(e),p={role:"application",...yD.isRtl()?{dir:"rtl"}:{},...u?{"aria-hidden":"true"}:{}},h=sm(Mh.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(r?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(c),styles:{visibility:"hidden",...u?{opacity:"0",border:"0"}:{}},attributes:p},components:[m,...r?[]:[n],a],behaviours:cF([kK(),g3.config({disableClass:"tox-tinymce--disabled"}),hU.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),f=Ct(h);return l.set(f),{mothership:f,outerContainer:h}},z=t=>{let r=RG(RX(e)),o=RG(RQ(e));return e.inline||(t0("div","width",o)&&tG(t.element,"width",o),t0("div","height",r)?tG(t.element,"height",r):tG(t.element,"height","400px")),r},E=t=>{e.addShortcut("alt+F9","focus menubar",()=>{Mh.focusMenubar(t)}),e.addShortcut("alt+F10","focus toolbar",()=>{Mh.focusToolbar(t)}),e.addCommand("ToggleToolbarDrawer",(e,r)=>{(null==r?void 0:r.skipFocus)?Mh.toggleToolbarDrawerWithoutFocusing(t):Mh.toggleToolbarDrawer(t)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>Mh.isToolbarDrawerToggled(t))},T=t=>{let{mainUi:r,popupUi:n,uiMotherships:l}=t;ey(br(e),(t,r)=>{e.ui.registry.addGroupToolbarButton(r,t)});let{buttons:i,menuItems:s,contextToolbars:c,sidebars:d,views:u}=e.ui.registry.getAll(),g=bM(e),h={menuItems:s,menus:bV(e),menubar:bs(e),toolbar:g.getOrThunk(()=>bc(e)),allowToolbarGroups:m===ow.floating,buttons:i,sidebar:d,views:u};E(r.outerContainer),OF(e,r.mothership,l),a.setup(e,v.popup.shared,p),B8(e,v.popup),FM(e,v.popup.shared.getSink,v.popup),D$(e),Nt(e,b,v.popup.shared),BR(e,c,n.sink,{backstage:v.popup}),Lz(e,n.sink);let f=e.getElement(),y=z(r.outerContainer);return o.render(e,t,h,v.popup,{targetNode:f,height:y})},A=e=>(s.set(e.mothership),e);return{popups:{backstage:v.popup,getMothership:()=>LF("popups",s)},dialogs:{backstage:v.dialog,getMothership:()=>LF("dialogs",i)},renderUI:()=>{let t=S(),r=x(),o=bj(e)?C():A(r);return n.dialogUi.set(r),n.popupUi.set(o),n.mainUi.set(t),T({popupUi:o,dialogUi:r,mainUi:t,uiMotherships:n.getUiMotherships()})}}},LI=(e,t)=>{let r=tV(e,"id").fold(()=>{let e=lZ("dialog-label");return tP(t,"id",e),e},E);tP(e,"aria-labelledby",r)},LP=z([aP("lazySink"),aK("dragBlockClass"),ne("getBounds",oF),a3("useTabstopAt",R),a3("firstTabstop",0),a3("eventOrder",{}),uH("modalBehaviours",[hU]),sU("onExecute"),sq("onEscape")]),LH={sketch:E},Lj=z([gs({name:"draghandle",overrides:(e,t)=>({behaviours:cF([L_.config({mode:"mouse",getTarget:e=>sb(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),gl({schema:[aP("dom")],name:"title"}),gl({factory:LH,schema:[aP("dom")],name:"close"}),gl({factory:LH,schema:[aP("dom")],name:"body"}),gs({factory:LH,schema:[aP("dom")],name:"footer"}),gi({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[a3("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),a3("components",[])],name:"blocker"})]),LV=gH({name:"ModalDialog",configFields:LP(),partFields:Lj(),factory:(e,t,r,o)=>{let a=dp(),n=lZ("modal-events"),l={...e.eventOrder,[n7()]:[n].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{a.set(t);let r=e.lazySink(t).getOrDie(),n=o.blocker(),l=r.getSystem().build({...n,components:n.components.concat([l6(t)]),behaviours:cF([h3.config({}),h1("dialog-blocker-events",[lE(nR(),()=>{D3.isBlocked(t)?_():hU.focusIn(t)})])])});ut(r,l),hU.focusIn(t)},hide:e=>{a.clear(),tp(e.element).each(t=>{e.getSystem().getByDom(t).each(e=>{ua(e)})})},getBody:t=>g_(t,e,"body"),getFooter:t=>gw(t,e,"footer"),setIdle:e=>{D3.unblock(e)},setBusy:(e,t)=>{D3.block(e,t)}},eventOrder:l,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:uV(e.modalBehaviours,[hJ.config({}),hU.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),D3.config({getRoot:a.get}),h1(n,[lT(t=>{LI(t.element,g_(t,e,"title").element)})])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,r)=>{e.setBusy(t,r)},setIdle:(e,t)=>{e.setIdle(t)}}}),LU=au([vD,vN].concat(kk)),LZ=[v3("button"),vq,a7("align","end",["start","end"]),vQ,vJ,aQ("buttonType",["primary","secondary"])],Lq=[...LZ,vR],LW=[aU("type",["submit","cancel","custom"]),...Lq],L$=aB("type",{submit:LW,cancel:LW,custom:LW,menu:[aU("type",["menu"]),vZ,vW,vq,aG("items",LU),...LZ],togglebutton:[...LZ,aU("type",["togglebutton"]),aV("tooltip"),vq,vZ,a9("active",!1)]}),LG=au([vD,vR,aU("level",["info","warn","error","success"]),vF,a3("url","")]),LK=e=>[vD,e],LY=au([vD,vR,vJ,v3("button"),vq,vX,aQ("buttonType",["primary","secondary","toolbar"]),vQ]),LX=[vD,vN],LJ=LX.concat([v$]),LQ=au(LX.concat([vM,vJ])),L1=au(LJ.concat([v1("auto")])),L0=ay([vL,vR,vF]),L2=au(LJ.concat([a8("storageKey","default")])),L4=au(LJ),L3=LX.concat([a8("tag","textarea"),aV("scriptId"),aV("scriptUrl"),a5("settings",void 0,aS)]),L5=LX.concat([a8("tag","textarea"),aZ("init")]),L6=aT(e=>aD("customeditor.old",am(L5),e).orThunk(()=>aD("customeditor.new",am(L3),e))),L8=au(LJ),L7=ag(ar),L9=e=>[vD,aj("columns"),e],Ie=au([vD,aV("html"),a7("presets","presentation",["presentation","document"])]),It=au(LJ.concat([a9("border",!1),a9("sandboxed",!0),a9("streamContent",!1),a9("transparent",!0)])),Ir=au(LX.concat([aJ("height")])),Io=au([aV("url"),aX("zoom"),aX("cachedWidth"),aX("cachedHeight")]),Ia=au(LJ.concat([aJ("inputMode"),aJ("placeholder"),a9("maximized",!1),vJ])),In=e=>[vD,vM,e,a7("align","start",["start","center","end"])],Il=[vR,vL],Ii=[vR,aG("items",aF("items",()=>Is))],Is=ap([au(Il),au(Ii)]),Ic=au(LJ.concat([aG("items",Is),vJ])),Id=au(LJ.concat([a$("items",[vR,vL]),a6("size",1),vJ])),Im=au(LJ.concat([a9("constrain",!0),vJ])),Iu=au([aV("width"),aV("height")]),Ig=au(LX.concat([vM,a6("min",0),a6("max",0)])),Ip=au([vD,aG("header",aw),aG("cells",ag(aw))]),Ih=au(LJ.concat([aJ("placeholder"),a9("maximized",!1),vJ])),If=[aU("type",["directory","leaf"]),vB,aV("id"),aY("menu",DF)],Iy=au(If),Ib=au(If.concat([aG("children",aF("children",()=>aE("type",{directory:Ib,leaf:Iy})))])),Iv=au([vD,aG("items",aE("type",{directory:Ib,leaf:Iy})),a1("onLeafAction"),a1("onToggleExpand"),nt("defaultExpandedIds",[],aw),aJ("defaultSelectedId")]),Ik=au(LJ.concat([a7("filetype","file",["image","media","file"]),vJ,aJ("picker_text")])),Iw=au([vL,v0]),I_=e=>oq("items","items",oY(),ag(aT(t=>aD(`Checking item of ${e}`,Ix,t).fold(e=>oH.error(aR(e)),e=>oH.value(e))))),Ix=ac(()=>aE("type",{alertbanner:LG,bar:au(LK(I_("bar"))),button:LY,checkbox:LQ,colorinput:L2,colorpicker:L4,dropzone:L8,grid:au(L9(I_("grid"))),iframe:It,input:Ia,listbox:Ic,selectbox:Id,sizeinput:Im,slider:Ig,textarea:Ih,urlinput:Ik,customeditor:L6,htmlpanel:Ie,imagepreview:Ir,collection:L1,label:au(In(I_("label"))),table:Ip,tree:Iv,panel:IC})),IC=au([vD,a3("classes",[]),aG("items",Ix)]),IS=au([vD,a$("tabs",[v3("tab"),vB,aG("items",Ix)])]),Iz=au([aV("title"),aH("body",aE("type",{panel:IC,tabpanel:IS})),a8("size","normal"),nt("buttons",[],L$),a3("initialData",{}),ne("onAction",_),ne("onChange",_),ne("onSubmit",_),ne("onClose",_),ne("onCancel",_),ne("onTabChange",_)]),IE=e=>aD("dialog",Iz,e),IT=au([aU("type",["cancel","custom"]),...Lq]),IA=au([aV("title"),aV("url"),aX("height"),aX("width"),a0("buttons",IT),ne("onAction",_),ne("onCancel",_),ne("onClose",_),ne("onMessage",_)]),IO=e=>aD("dialog",IA,e),ID=e=>m(e)?[e].concat(er(eS(e),ID)):g(e)?er(e,ID):[],IN=e=>d(e.type)&&d(e.name),IM={checkbox:a_,colorinput:aw,colorpicker:aw,dropzone:L7,input:aw,iframe:aw,imagepreview:Io,selectbox:aw,sizeinput:Iu,slider:ak,listbox:aw,size:Iu,textarea:aw,urlinput:Iw,customeditor:aw,collection:L0,togglemenuitem:a_},IR=e=>B.from(IM[e.type]),IB=e=>K(ID(e),IN),IF=e=>au(er(IB(e),e=>IR(e).fold(()=>[],t=>[aH(e.name,t)]))),IL=e=>{var t;let r=aN(IE(e));return{internalDialog:r,dataValidator:IF(e),initialData:null!=(t=e.initialData)?t:{}}},II=(e,t)=>{let r=IL(t);return e(r.internalDialog,r.initialData,r.dataValidator)},IP=(e,t)=>e(aN(IO(t))),IH=e=>IL(e);var Ij=Object.freeze({__proto__:null,events:(e,t)=>{let r=(r,o)=>{e.updateState.each(e=>{let a=e(r,o);t.set(a)}),e.renderComponents.each(a=>{let n=a(o,t.get());(e.reuseDom?hq:hZ)(r,n)})};return lf([lv(nY(),(t,o)=>{if(!o.universal){let a=e.channel;j(o.channels,a)&&r(t,o.data)}}),lT((t,o)=>{e.initialData.each(e=>{r(t,e)})})])}}),IV=Object.freeze({__proto__:null,getState:(e,t,r)=>r});let IU=cI({fields:[aP("channel"),aK("renderComponents"),aK("updateState"),aK("initialData"),a9("reuseDom",!0)],name:"reflecting",active:Ij,apis:IV,state:Object.freeze({__proto__:null,init:()=>{let e=no(B.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(B.none())}}})}),IZ=e=>{let t=[],r={};return ef(e,(e,o)=>{e.fold(()=>{t.push(o)},e=>{r[o]=e})}),t.length>0?oH.error(t):oH.value(r)},Iq=(e,t,r)=>{let o=fU(zu.sketch(o=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:q(e.items,e=>Ai(o,e,t,r))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:cF([hU.config({mode:"acyclic",useTabstopAt:O(z$)}),zw(o),zC(o,{postprocess:e=>IZ(e).fold(e=>(console.error(e),{}),E)}),h1("dialog-body-panel",[lv(nR(),(e,t)=>{e.getSystem().broadcastOn([zQ],{newFocus:B.some(t.event.target)})})])])}},IW=gP({name:"TabButton",configFields:[a3("uid",void 0),aP("value"),oq("dom","dom",o1(()=>({attributes:{role:"tab",id:lZ("aria"),"aria-selected":"false"}})),ab()),aK("action"),a3("domModification",{}),uH("tabButtonBehaviours",[h3,hU,uP]),aP("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:fn(e.action),behaviours:uV(e.tabButtonBehaviours,[h3.config({}),hU.config({mode:"execution",useSpace:!0,useEnter:!0}),uP.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),I$=z([aP("tabs"),aP("dom"),a3("clickToDismiss",!1),uH("tabbarBehaviours",[pa,hU]),sH(["tabClass","selectedClass"])]),IG=z([gc({factory:IW,name:"tabs",unit:"tab",overrides:e=>{let t=(e,t)=>{pa.dehighlight(e,t),ld(e,ll(),{tabbar:e,button:t})},r=(e,t)=>{pa.highlight(e,t),ld(e,ln(),{tabbar:e,button:t})};return{action:o=>{let a=o.getSystem().getByUid(e.uid).getOrDie(),n=pa.isHighlighted(a,o);(n&&e.clickToDismiss?t:n?_:r)(a,o)},domModification:{classes:[e.markers.tabClass]}}}})]),IK=gH({name:"Tabbar",configFields:I$(),partFields:IG(),factory:(e,t,r,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:uV(e.tabbarBehaviours,[pa.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{tP(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{tP(t.element,"aria-selected","false")}}),hU.config({mode:"flow",getInitial:e=>pa.getHighlighted(e).map(e=>e.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),IY=gP({name:"Tabview",configFields:[uH("tabviewBehaviours",[hJ])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:uV(e.tabviewBehaviours,[hJ.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),IX=z([a3("selectFirst",!0),sV("onChangeTab"),sV("onDismissTab"),a3("tabs",[]),uH("tabSectionBehaviours",[])]),IJ=z([gl({factory:IK,schema:[aP("dom"),aW("markers",[aP("tabClass"),aP("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),gl({factory:IY,name:"tabview"})]),IQ=gH({name:"TabSection",configFields:IX(),partFields:IJ(),factory:(e,t,r,o)=>{let a=t=>{let r=uP.getValue(t);gw(t,e,"tabview").each(o=>{Q(e.tabs,e=>e.value===r).each(r=>{let a=r.view();tV(t.element,"id").each(e=>{tP(o.element,"aria-labelledby",e)}),hJ.set(o,a),e.onChangeTab(o,t,a)})})},n=(t,r)=>{gw(t,e,"tabbar").each(e=>{r(e).each(lm)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:uj(e.tabSectionBehaviours),events:lf(et([e.selectFirst?[lT((e,t)=>{n(e,pa.getFirst)})]:[],[lv(ln(),(e,t)=>{a(t.event.button)}),lv(ll(),(t,r)=>{let o=r.event.button;e.onDismissTab(t,o)})]])),apis:{getViewItems:t=>gw(t,e,"tabview").map(e=>hJ.contents(e)).getOr([]),showTab:(e,t)=>{n(e,e=>Q(pa.getCandidates(e),e=>uP.getValue(e)===t).filter(t=>!pa.isHighlighted(e,t)))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,r)=>{e.showTab(t,r)}}}),I1=(e,t,r)=>q(e,(o,a)=>{hJ.set(r,e[a].view());let n=t.dom.getBoundingClientRect();return hJ.set(r,[]),n.height}),I0=e=>ed(es(e,(e,t)=>e>t?-1:+(e<t))),I2=(e,t,r)=>{let o,a=tu(e).dom;o="fixed"===tX(sb(e,".tox-dialog-wrap").getOr(e),"position")?Math.max(a.clientHeight,window.innerHeight):Math.max(a.offsetHeight,a.scrollHeight);let n=t6(t),l=t.dom.offsetLeft>=r.dom.offsetLeft+rl(r)?Math.max(t6(r),n):n,i=parseInt(tX(e,"margin-top"),10)||0,s=parseInt(tX(e,"margin-bottom"),10)||0;return o-(t6(e)+i+s-l)},I4=(e,t)=>{ed(e).each(e=>IQ.showTab(t,e.value))},I3=(e,t)=>{tG(e,"height",t+"px"),tG(e,"flex-basis",t+"px")},I5=(e,t,r)=>{sb(e,'[role="dialog"]').each(e=>{sk(e,'[role="tablist"]').each(o=>{r.get().map(r=>(tG(t,"height","0"),tG(t,"flex-basis","0"),Math.min(r,I2(e,t,o)))).each(e=>{I3(t,e)})})})},I6=e=>sk(e,'[role="tabpanel"]'),I8=e=>{let t=dp();return{extraEvents:[lT(r=>{let o=r.element;I6(o).each(a=>{tG(a,"visibility","hidden"),r.getSystem().getByDom(a).toOptional().each(r=>{I0(I1(e,a,r)).fold(t.clear,t.set)}),I5(o,a,t),t2(a,"visibility"),I4(e,r),requestAnimationFrame(()=>{I5(o,a,t)})})}),lv(n8(),e=>{let r=e.element;I6(r).each(e=>{I5(r,e,t)})}),lv(Cx,(e,r)=>{let o=e.element;I6(o).each(e=>{let r=c$(tT(e));tG(e,"visibility","hidden");let a=tQ(e,"height").map(e=>parseInt(e,10));t2(e,"height"),t2(e,"flex-basis");let n=e.dom.getBoundingClientRect().height;a.forall(e=>n>e)?(t.set(n),I5(o,e,t)):a.each(t=>{I3(e,t)}),t2(e,"visibility"),r.each(cZ)})})],selectFirst:!1}},I7="send-data-to-section",I9="send-data-to-view",Pe=(e,t,r)=>{let o=no({}),a=e=>{let t=IZ(uP.getValue(e)).getOr({}),r=oG(o.get(),t);o.set(r)},n=e=>{let t=o.get();uP.setValue(e,t)},l=no(null),i=q(e.tabs,e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[si(r.shared.providers.translate(e.title))],view:()=>[zu.sketch(o=>({dom:{tag:"div",classes:["tox-form"]},components:q(e.items,e=>Ai(o,e,t,r)),formBehaviours:cF([hU.config({mode:"acyclic",useTabstopAt:O(z$)}),h1("TabView.form.events",[lT(n),lA(a)]),cV.config({channels:nm([{key:I7,value:{onReceive:a}},{key:I9,value:{onReceive:n}}])})])}))]})),s=I8(i);return IQ.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,r)=>{let o=uP.getValue(t);ld(e,C_,{name:o,oldName:l.get()}),l.set(o)},tabs:i,components:[IQ.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[IK.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:cF([Ci.config({})])}),IQ.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:cF([h1("tabpanel",s.extraEvents),hU.config({mode:"acyclic"}),gU.config({find:e=>ed(IQ.getViewItems(e))}),zS(B.none(),e=>(e.getSystem().broadcastOn([I7],{}),o.get()),(e,t)=>{o.set(t),e.getSystem().broadcastOn([I9],{})})])})},Pt=(e,t,r,o,a)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...r.map(e=>({id:e})).getOr({}),...a?{"aria-live":"polite"}:{}}},components:[],behaviours:cF([z_(0),IU.config({channel:`${zY}-${t}`,updateState:(e,t)=>B.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{let t=e.body;return"tabpanel"===t.type?[Pe(t,e.initialData,o)]:[Iq(t,e.initialData,o)]},initialData:e})])}),Pr=(e,t,r,o,a)=>Pt(e,t,B.some(r),o,a),Po=(e,t,r)=>{let o=Pt(e,t,B.none(),r,!1);return LV.parts.body(o)},Pa=e=>{let t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[zZ(B.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:cF([Ci.config({}),h3.config({})])})]}],behaviours:cF([hU.config({mode:"acyclic",useTabstopAt:O(z$)})])};return LV.parts.body(t)},Pn=yK.deviceType.isTouch(),Pl=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),Pi=(e,t)=>LV.parts.close(fP.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:cF([Ci.config({})])})),Ps=()=>LV.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Pc=(e,t)=>LV.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:fV(`<p>${yO(t.translate(e))}</p>`)}]}]}),Pd=e=>LV.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),Pm=(e,t)=>[Ce.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Ce.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],Pu=e=>{let t="tox-dialog",r=t+"-wrap",o=r+"__backdrop",a=t+"__disable-scroll";return LV.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),B.some(!0)),useTabstopAt:e=>!z$(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:fV(`<div class="${r}"></div>`),components:[{dom:{tag:"div",classes:Pn?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:cF([h3.config({}),h1("dialog-events",e.dialogEvents.concat([lE(nR(),(e,t)=>{D3.isBlocked(e)?_():hU.focusIn(e)}),lv(lr(),(e,t)=>{e.getSystem().broadcastOn([zQ],{newFocus:t.event.newFocus})})])),h1("scroll-lock",[lT(()=>{iI(tF(),a)}),lA(()=>{iH(tF(),a)})]),...e.extraBehaviours]),eventOrder:{[nX()]:["dialog-events"],[n7()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[n9()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},Pg=e=>fP.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:cF([Ci.config({})]),components:[yV("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{lc(e,Cy)}}),Pp=(e,t,r,o)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...r.map(e=>({id:e})).getOr({})}},components:[],behaviours:cF([IU.config({channel:`${zK}-${t}`,initialData:e,renderComponents:e=>[si(o.translate(e.title))]})])}),Ph=()=>({dom:fV('<div class="tox-dialog__draghandle"></div>')}),Pf=(e,t,r,o)=>Ce.sketch({dom:fV('<div class="tox-dialog__header"></div>'),components:[Pp(e,t,B.some(r),o),Ph(),Pg(o)],containerBehaviours:cF([L_.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>sw(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Py=(e,t,r)=>{let o=LV.parts.title(Pp(e,t,B.none(),r)),a=LV.parts.draghandle(Ph()),n=LV.parts.close(Pg(r)),l=[o].concat(e.draggable?[a]:[]).concat([n]);return Ce.sketch({dom:fV('<div class="tox-dialog__header"></div>'),components:l})},Pb=(e,t,r)=>Py({title:r.shared.providers.translate(e),draggable:r.dialog.isDraggableModal()},t,r.shared.providers),Pv=(e,t,r,o)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":r.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${o.getOr(0)}px`,position:"absolute"}},behaviours:t,components:[{dom:fV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Pk=(e,t,r)=>({onClose:()=>r.closeWindow(),onBlock:r=>{let o=sk(e().element,".tox-dialog__header").map(e=>t6(e));LV.setBusy(e(),(e,a)=>Pv(r.message,a,t,o))},onUnblock:()=>{LV.setIdle(e())}}),Pw="tox-dialog--fullscreen",P_="tox-dialog--width-lg",Px="tox-dialog--width-md",PC=e=>{switch(e){case"large":return B.some(P_);case"medium":return B.some(Px);default:return B.none()}},PS=(e,t)=>{let r=eY.fromDom(t.element.dom);iV(r,Pw)||(iZ(r,[P_,Px]),PC(e).each(e=>iI(r,e)))},Pz=(e,t)=>{let r=eY.fromDom(e.element.dom),o=Q(iG(r),e=>e===P_||e===Px).or(PC(t));iq(r,[Pw,...o.toArray()])},PE=(e,t,r)=>sm(Pu({...e,firstTabstop:1,lazySink:r.shared.getSink,extraBehaviours:[zT({}),...e.extraBehaviours],onEscape:e=>{lc(e,Cy)},dialogEvents:t,eventOrder:{[nY()]:[IU.name(),cV.name()],[n7()]:["scroll-lock",IU.name(),"messages","dialog-events","alloy.base.behaviour"],[n9()]:["alloy.base.behaviour","dialog-events","messages",IU.name(),"scroll-lock"]}})),PT=(e,t={})=>{let r=e=>{let r=q(e.items,e=>{let r=ez(t,e.name).getOr(no(!1));return{...e,storage:r}});return{...e,items:r}};return q(e,e=>"menu"===e.type?r(e):e)},PA=e=>X(e,(e,t)=>"menu"===t.type?X(t.items,(e,t)=>(e[t.name]=t.storage,e),e):e,{}),PO=(e,t)=>[lC(nR(),zW),e(Cf,(e,r,o,a)=>{c$(tT(a.element)).fold(_,cq),t.onClose(),r.onClose()}),e(Cy,(e,t,r,o)=>{t.onCancel(e),lc(o,Cf)}),lv(Cw,(e,r)=>t.onUnblock()),lv(Ck,(e,r)=>t.onBlock(r.event))],PD=(e,t)=>{let r=(t,r)=>lv(t,(t,a)=>{o(t,(o,n)=>{r(e(),o,a.event,t)})}),o=(e,t)=>{IU.getState(e).get().each(r=>{t(r,e)})};return[...PO(r,t),r(Cb,(e,t,r)=>{t.onAction(e,{name:r.name})})]},PN=(e,t,r)=>{let o=(t,r)=>lv(t,(t,o)=>{a(t,(a,n)=>{r(e(),a,o.event,t)})}),a=(e,t)=>{IU.getState(e).get().each(r=>{t(r.internalDialog,e)})};return[...PO(o,t),o(Cv,(e,t)=>t.onSubmit(e)),o(Ch,(e,t,r)=>{t.onChange(e,{name:r.name})}),o(Cb,(e,t,o,a)=>{let n=()=>a.getSystem().isConnected()?hU.focusIn(a):void 0,l=e=>tU(e,"disabled")||tV(e,"aria-disabled").exists(e=>"true"===e),i=tT(a.element),s=c$(i);t.onAction(e,{name:o.name,value:o.value}),c$(i).fold(n,e=>{l(e)||s.exists(t=>tc(e,t)&&l(t))?n():r().toOptional().filter(t=>!tc(t.element,e)).each(n)})}),o(C_,(e,t,r)=>{t.onTabChange(e,{newTabName:r.name,oldTabName:r.oldName})}),lA(t=>{let r=e();uP.setValue(t,r.getData())})]},PM=(e,t)=>TW(e,e.type,t),PR=(e,t,r)=>Q(t,e=>e.name===r).bind(t=>t.memento.getOpt(e)),PB=(e,t)=>{let r=G(t.map(e=>e.footerButtons).getOr([]),e=>"start"===e.align),o=(e,t)=>Ce.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:q(t,e=>e.memento.asSpec())});return[o("start",r.pass),o("end",r.fail)]},PF=(e,t,r)=>({dom:fV('<div class="tox-dialog__footer"></div>'),components:[],behaviours:cF([IU.config({channel:`${zX}-${t}`,initialData:e,updateState:(e,t)=>{let o=q(t.buttons,e=>{let t=fU(PM(e,r));return{name:e.name,align:e.align,memento:t}});return B.some({lookupByName:t=>PR(e,o,t),footerButtons:o})},renderComponents:PB})])}),PL=(e,t,r)=>PF(e,t,r),PI=(e,t,r)=>LV.parts.footer(PF(e,t,r)),PP=(e,t)=>{if(!e.getRoot().getSystem().isConnected())return B.none();{let r=gU.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return zu.getField(r,t).orThunk(()=>e.getFooter().bind(e=>IU.getState(e).get()).bind(e=>e.lookupByName(t)))}},PH=(e,t)=>{let r=e.getRoot();return IU.getState(r).get().map(e=>aN(aD("data",e.dataValidator,t))).getOr(t)},Pj=(e,t,r)=>{let o=t=>{let r=e.getRoot();r.getSystem().isConnected()&&t(r)},a={getData:()=>{let t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t,a=uP.getValue(o),n=ey(r,e=>e.get());return{...a,...n}},setData:t=>{o(o=>{let n=oG(a.getData(),t),l=PH(e,n),i=e.getFormWrapper();uP.setValue(i,l),ef(r,(e,t)=>{eE(n,t)&&e.set(n[t])})})},setEnabled:(t,r)=>{PP(e,t).each(r?g3.enable:g3.disable)},focus:t=>{PP(e,t).each(h3.focus)},block:e=>{if(!d(e))throw Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o(t=>{ld(t,Ck,{message:e})})},unblock:()=>{o(e=>{lc(e,Cw)})},showTab:t=>{o(r=>{let o=e.getBody();IU.getState(o).get().exists(e=>e.isTabPanel())&&gU.getCurrent(o).each(e=>{IQ.showTab(e,t)})})},redial:n=>{o(o=>{let l=e.getId(),i=t(n),s=PT(i.internalDialog.buttons,r);o.getSystem().broadcastOn([`${zG}-${l}`],i),o.getSystem().broadcastOn([`${zK}-${l}`],i.internalDialog),o.getSystem().broadcastOn([`${zY}-${l}`],i.internalDialog),o.getSystem().broadcastOn([`${zX}-${l}`],{...i.internalDialog,buttons:s}),a.setData(i.initialData)})},close:()=>{o(e=>{lc(e,Cf)})},toggleFullscreen:e.toggleFullscreen};return a},PV=(e,t,r)=>{let o=lZ("dialog"),a=e.internalDialog,n=Pb(a.title,o,r),l=no(a.size),i=PC(l.get()).toArray(),s=Po({body:a.body,initialData:a.initialData},o,r),c=PT(a.buttons),d=PA(c),m=eF(0!==c.length,PI({buttons:c},o,r)),u=PN(()=>p,Pk(()=>g,r.shared.providers,t),r.shared.getSink),g=PE({id:o,header:n,body:s,footer:m,extraClasses:i,extraBehaviours:[IU.config({channel:`${zG}-${o}`,updateState:(e,t)=>(l.set(t.internalDialog.size),PS(t.internalDialog.size,e),B.some(t)),initialData:e})],extraStyles:{}},u,r),p=Pj({getId:z(o),getRoot:z(g),getBody:()=>LV.getBody(g),getFooter:()=>LV.getFooter(g),getFormWrapper:()=>{let e=LV.getBody(g);return gU.getCurrent(e).getOr(e)},toggleFullscreen:()=>{Pz(g,l.get())}},t.redial,d);return{dialog:g,instanceApi:p}},PU=(e,t,r,o=!1,a)=>{let n=lZ("dialog"),l=lZ("dialog-label"),i=lZ("dialog-content"),s=e.internalDialog,c=no(s.size),d=PC(c.get()).toArray(),m=fU(Pf({title:s.title,draggable:!0},n,l,r.shared.providers)),u=fU(Pr({body:s.body,initialData:s.initialData},n,i,r,o)),g=PT(s.buttons),p=PA(g),h=eF(0!==g.length,fU(PL({buttons:g},n,r))),f=PN(()=>b,{onBlock:e=>{D3.block(y,(t,o)=>{let a=m.getOpt(y).map(e=>t6(e.element));return Pv(e.message,o,r.shared.providers,a)})},onUnblock:()=>{D3.unblock(y)},onClose:()=>t.closeWindow()},r.shared.getSink),y=sm({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...d],attributes:{role:"dialog","aria-labelledby":l}},eventOrder:{[nY()]:[IU.name(),cV.name()],[nX()]:["execute-on-form"],[n7()]:["reflecting","execute-on-form"]},behaviours:cF([hU.config({mode:"cyclic",onEscape:e=>(lc(e,Cf),B.some(!0)),useTabstopAt:e=>!z$(e)&&("button"!==e5(e)||"disabled"!==tj(e,"disabled")),firstTabstop:1}),IU.config({channel:`${zG}-${n}`,updateState:(e,t)=>(c.set(t.internalDialog.size),PS(t.internalDialog.size,e),a(),B.some(t)),initialData:e}),h3.config({}),h1("execute-on-form",f.concat([lE(nR(),(e,t)=>{hU.focusIn(e)}),lv(lr(),(e,t)=>{e.getSystem().broadcastOn([zQ],{newFocus:t.event.newFocus})})])),D3.config({getRoot:()=>B.some(y)}),hJ.config({}),zT({})]),components:[m.asSpec(),u.asSpec(),...h.map(e=>e.asSpec()).toArray()]}),b=Pj({getId:z(n),getRoot:z(y),getFooter:()=>h.map(e=>e.get(y)),getBody:()=>u.get(y),getFormWrapper:()=>{let e=u.get(y);return gU.getCurrent(e).getOr(e)},toggleFullscreen:()=>{Pz(y,c.get())}},t.redial,p);return{dialog:y,instanceApi:b}};var PZ=tinymce.util.Tools.resolve("tinymce.util.URI");let Pq=e=>{let t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!d(e))throw Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(t=>{ld(t,Ck,{message:e})})},unblock:()=>{t(e=>{lc(e,Cw)})},close:()=>{t(e=>{lc(e,Cf)})},sendMessage:e=>{t(t=>{t.getSystem().broadcastOn([zJ],e)})}}},PW=["insertContent","setContent","execCommand","close","block","unblock"],P$=e=>m(e)&&-1!==PW.indexOf(e.mceAction),PG=e=>!P$(e)&&m(e)&&eE(e,"mceAction"),PK=(e,t,r)=>{switch(r.mceAction){case"insertContent":e.insertContent(r.content);break;case"setContent":e.setContent(r.content);break;case"execCommand":let o=!!h(r.ui)&&r.ui;e.execCommand(r.cmd,o,r.value);break;case"close":t.close();break;case"block":t.block(r.message);break;case"unblock":t.unblock()}},PY=(e,t,r,o)=>{let a=lZ("dialog"),n=Pb(e.title,a,o),l=Pa(e),i=e.buttons.bind(e=>0===e.length?B.none():B.some(PI({buttons:e},a,o))),s=PD(()=>f,Pk(()=>h,o.shared.providers,t)),c={...e.height.fold(()=>({}),e=>({height:e+"px","max-height":e+"px"})),...e.width.fold(()=>({}),e=>({width:e+"px","max-width":e+"px"}))},d=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],m=new PZ(e.url,{base_uri:new PZ(window.location.href)}),u=`${m.protocol}://${m.host}${m.port?":"+m.port:""}`,g=dg(),p=[IU.config({channel:`${zG}-${a}`,updateState:(e,t)=>B.some(t),initialData:e}),h1("messages",[lT(()=>{let t=dh(eY.fromDom(window),"message",t=>{if(m.isSameOrigin(new PZ(t.raw.origin))){let o=t.raw.data;P$(o)?PK(r,f,o):PG(o)&&e.onMessage(f,o)}});g.set(t)}),lA(g.clear)]),cV.config({channels:{[zJ]:{onReceive:(e,t)=>{sk(e.element,"iframe").each(e=>{let r=e.dom.contentWindow;b(r)&&r.postMessage(t,u)})}}}})],h=PE({id:a,header:n,body:l,footer:i,extraClasses:d,extraBehaviours:p,extraStyles:c},s,o),f=Pq(h);return{dialog:h,instanceApi:f}},PX=e=>{let t=e.shared;return{open:(r,o)=>{let a=()=>{LV.hide(l),o()},n=fU(TW({name:"close-alert",text:"OK",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"cancel",e)),l=sm(Pu({lazySink:()=>t.getSink(),header:Pl(Ps(),Pi(a,t.providers)),body:Pc(r,t.providers),footer:B.some(Pd(Pm([],[n.asSpec()]))),onEscape:a,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[lv(Cy,a)],eventOrder:{}}));LV.show(l);let i=n.get(l);h3.focus(i)}}},PJ=e=>{let t=e.shared;return{open:(r,o)=>{let a=e=>{LV.hide(i),o(e)},n=fU(TW({name:"yes",text:"Yes",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"submit",e)),l=TW({name:"no",text:"No",primary:!1,buttonType:B.some("secondary"),align:"end",enabled:!0,icon:B.none()},"cancel",e),i=sm(Pu({lazySink:()=>t.getSink(),header:Pl(Ps(),Pi(()=>a(!1),t.providers)),body:Pc(r,t.providers),footer:B.some(Pd(Pm([],[l,n.asSpec()]))),onEscape:()=>a(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[lv(Cy,()=>a(!1)),lv(Cv,()=>a(!0))],eventOrder:{}}));LV.show(i);let s=n.get(i);h3.focus(s)}}},PQ=(e,t)=>aN(aD("data",t,e)),P1=e=>xU(e,".tox-alert-dialog")||xU(e,".tox-confirm-dialog"),P0=(e,t,r)=>t&&r?[]:[Dv.config({contextual:{lazyContext:()=>B.some(oN(eY.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>xj(e,t.element).map(e=>({bounds:xV(e),optScrollEnv:B.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:rr(e.element).top})})).getOrThunk(()=>({bounds:oF(),optScrollEnv:B.none()}))})],P2=e=>{let t=e.editor,r=bH(t),o=PX(e.backstages.dialog),a=PJ(e.backstages.dialog),n=(r,o)=>IP(r=>{let a=PY(r,{closeWindow:()=>{LV.hide(a.dialog),o(a.instanceApi)}},t,e.backstages.dialog);return LV.show(a.dialog),a.instanceApi},r),l=(t,r)=>II((t,o,a)=>{let n=PV({dataValidator:a,initialData:o,internalDialog:t},{redial:IH,closeWindow:()=>{LV.hide(n.dialog),r(n.instanceApi)}},e.backstages.dialog);return LV.show(n.dialog),n.instanceApi.setData(o),n.instanceApi},t),i=(o,a,n,l)=>II((o,i,s)=>{let c=PQ(i,s),d=dp(),m=e.backstages.popup.shared.header.isPositionedAtTop(),u=()=>d.on(e=>{fL.reposition(e),r&&m||Dv.refresh(e)}),g=PU({dataValidator:s,initialData:c,internalDialog:o},{redial:IH,closeWindow:()=>{d.on(fL.hide),t.off("ResizeEditor",u),d.clear(),n(g.instanceApi)}},e.backstages.popup,l.ariaAttrs,u),p=sm(fL.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:l.persistent?{event:"doNotDismissYet"}:{},...m?{}:{fireRepositionEventInstead:{}},inlineBehaviours:cF([h1("window-manager-inline-events",[lv(le(),(e,t)=>{lc(g.dialog,Cy)})]),...P0(t,r,m)]),isExtraPart:(e,t)=>P1(t)}));return d.set(p),fL.showWithinBounds(p,l6(g.dialog),{anchor:a},()=>{let e=oN(t.inline?tF():eY.fromDom(t.getContainer()));return B.some(e)}),r&&m||(Dv.refresh(p),t.on("ResizeEditor",u)),g.instanceApi.setData(c),hU.focusIn(g.dialog),g.instanceApi},o),s=(r,o,a,n)=>II((r,l,i)=>{let s=PQ(l,i),c=dp(),d=e.backstages.popup.shared.header.isPositionedAtTop(),m=()=>c.on(e=>{fL.reposition(e),Dv.refresh(e)}),u=PU({dataValidator:i,initialData:s,internalDialog:r},{redial:IH,closeWindow:()=>{c.on(fL.hide),t.off("ResizeEditor ScrollWindow ElementScroll",m),c.clear(),a(u.instanceApi)}},e.backstages.popup,n.ariaAttrs,m),g=sm(fL.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:n.persistent?{event:"doNotDismissYet"}:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:cF([h1("window-manager-inline-events",[lv(le(),(e,t)=>{lc(u.dialog,Cy)})]),Dv.config({contextual:{lazyContext:()=>B.some(oN(eY.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:e=>xj(t,e.element).map(e=>({bounds:xV(e),optScrollEnv:B.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:rr(e.element).top})})).getOrThunk(()=>({bounds:oF(),optScrollEnv:B.none()}))})]),isExtraPart:(e,t)=>P1(t)}));return c.set(g),fL.showWithinBounds(g,l6(u.dialog),{anchor:o},()=>e.backstages.popup.shared.getSink().toOptional().bind(e=>{let r=xj(t,e.element).map(e=>xV(e)).getOr(oF()),o=oR(oN(eY.fromDom(t.getContentAreaContainer())),r);return B.some(oD(o.x,o.y,o.width,o.height-15))})),Dv.refresh(g),t.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",m),u.instanceApi.setData(s),hU.focusIn(u.dialog),u.instanceApi},r);return{open:(t,r,o)=>{if(!f(r)){if("toolbar"===r.inline)return i(t,e.backstages.popup.shared.anchors.inlineDialog(),o,r);else if("bottom"===r.inline)return s(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),o,r);else if("cursor"===r.inline)return i(t,e.backstages.popup.shared.anchors.cursor(),o,r)}return l(t,o)},openUrl:(e,t)=>n(e,t),alert:(e,t)=>{o.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{a.open(e,t)}}},P4=e=>{yJ(e),_h(e),Fe(e)};oL.add("silver",e=>{P4(e);let t=()=>oF(),{dialogs:r,popups:o,renderUI:a}=LL(e,{getPopupSinkBounds:()=>t()});return xF(e,o.backstage.shared),{renderUI:()=>{let r=a();return xj(e,o.getMothership().element).each(e=>{t=()=>xV(e)}),r},getWindowManagerImpl:z(P2({editor:e,backstages:{popup:o.backstage,dialog:r.backstage}})),getNotificationManagerImpl:()=>yW(e,{backstage:o.backstage},o.getMothership())}})}()},36198:function(e){!function(){"use strict";let t,r,o,a,n,l,i,s;var c,d,m,u,g,p,h,f,y,b,v,k=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},w=function(e){return{eq:e}},_=w(function(e,t){return e===t}),x=function(e){return w(function(t,r){if(t.length!==r.length)return!1;for(var o=t.length,a=0;a<o;a++)if(!e.eq(t[a],r[a]))return!1;return!0})},C=function(e,t){var r,o;return r=x(e),o=function(e){return Array.prototype.slice.call(e).sort(t)},w(function(e,t){return r.eq(o(e),o(t))})},S=function(e){return w(function(t,r){var o=Object.keys(t),a=Object.keys(r);if(!C(_).eq(o,a))return!1;for(var n=o.length,l=0;l<n;l++){var i=o[l];if(!e.eq(t[i],r[i]))return!1}return!0})},z=w(function(e,t){if(e===t)return!0;var r=k(e);return r===k(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(r)?e===t:"array"===r?x(z).eq(e,t):"object"===r&&S(z).eq(e,t))});let E=Object.getPrototypeOf,T=(e,t,r)=>{var o;return!!r(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name},A=e=>{let t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&T(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t},O=e=>t=>A(t)===e,D=e=>t=>typeof t===e,N=e=>t=>e===t,M=(e,t)=>B(e)&&T(e,t,(e,t)=>E(e)===t),R=O("string"),B=O("object"),F=e=>M(e,Object),L=O("array"),I=N(null),P=D("boolean"),H=N(void 0),j=e=>null==e,V=e=>!j(e),U=D("function"),Z=D("number"),q=(e,t)=>{if(L(e)){for(let r=0,o=e.length;r<o;++r)if(!t(e[r]))return!1;return!0}return!1},W=()=>{},$=(e,t)=>(...r)=>e(t.apply(null,r)),G=(e,t)=>r=>e(t(r)),K=e=>()=>e,Y=e=>e,X=(e,t)=>e===t;function J(e,...t){return(...r)=>{let o=t.concat(r);return e.apply(null,o)}}let Q=e=>t=>!e(t),ee=e=>()=>{throw Error(e)},et=e=>e(),er=e=>{e()},eo=K(!1),ea=K(!0);class en{constructor(e,t){this.tag=e,this.value=t}static some(e){return new en(!0,e)}static none(){return en.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?en.some(e(this.value)):en.none()}bind(e){return this.tag?e(this.value):en.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:en.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return V(e)?en.some(e):en.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}en.singletonNone=new en(!1);let el=Array.prototype.slice,ei=Array.prototype.indexOf,es=Array.prototype.push,ec=(e,t)=>ei.call(e,t),ed=(e,t)=>{let r=ec(e,t);return -1===r?en.none():en.some(r)},em=(e,t)=>ec(e,t)>-1,eu=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return!0;return!1},eg=(e,t)=>{let r=e.length,o=Array(r);for(let a=0;a<r;a++){let r=e[a];o[a]=t(r,a)}return o},ep=(e,t)=>{for(let r=0,o=e.length;r<o;r++)t(e[r],r)},eh=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},ef=(e,t)=>{let r=[],o=[];for(let a=0,n=e.length;a<n;a++){let n=e[a];(t(n,a)?r:o).push(n)}return{pass:r,fail:o}},ey=(e,t)=>{let r=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];t(a,o)&&r.push(a)}return r},eb=(e,t,r)=>(eh(e,(e,o)=>{r=t(r,e,o)}),r),ev=(e,t,r)=>(ep(e,(e,o)=>{r=t(r,e,o)}),r),ek=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++){let a=e[o];if(t(a,o))return en.some(a);if(r(a,o))break}return en.none()},ew=(e,t)=>ek(e,t,eo),e_=(e,t)=>{for(let r=0,o=e.length;r<o;r++)if(t(e[r],r))return en.some(r);return en.none()},ex=e=>{let t=[];for(let r=0,o=e.length;r<o;++r){if(!L(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);es.apply(t,e[r])}return t},eC=(e,t)=>ex(eg(e,t)),eS=(e,t)=>{for(let r=0,o=e.length;r<o;++r)if(!0!==t(e[r],r))return!1;return!0},ez=e=>{let t=el.call(e,0);return t.reverse(),t},eE=(e,t)=>ey(e,e=>!em(t,e)),eT=(e,t)=>{let r={};for(let o=0,a=e.length;o<a;o++){let a=e[o];r[String(a)]=t(a,o)}return r},eA=(e,t)=>{let r=el.call(e,0);return r.sort(t),r},eO=(e,t)=>t>=0&&t<e.length?en.some(e[t]):en.none(),eD=e=>eO(e,0),eN=e=>eO(e,e.length-1),eM=U(Array.from)?Array.from:e=>el.call(e),eR=(e,t)=>{for(let r=0;r<e.length;r++){let o=t(e[r],r);if(o.isSome())return o}return en.none()},eB=(e,t)=>{let r=[],o=U(t)?e=>eu(r,r=>t(r,e)):e=>em(r,e);for(let t=0,a=e.length;t<a;t++){let a=e[t];o(a)||r.push(a)}return r},eF=Object.keys,eL=Object.hasOwnProperty,eI=(e,t)=>{let r=eF(e);for(let o=0,a=r.length;o<a;o++){let a=r[o];t(e[a],a)}},eP=(e,t)=>eH(e,(e,r)=>({k:r,v:t(e,r)})),eH=(e,t)=>{let r={};return eI(e,(e,o)=>{let a=t(e,o);r[a.k]=a.v}),r},ej=e=>(t,r)=>{e[r]=t},eV=(e,t,r,o)=>{eI(e,(e,a)=>{(t(e,a)?r:o)(e,a)})},eU=(e,t)=>{let r={},o={};return eV(e,t,ej(r),ej(o)),{t:r,f:o}},eZ=(e,t)=>{let r={};return eV(e,t,ej(r),W),r},eq=(e,t)=>{let r=[];return eI(e,(e,o)=>{r.push(t(e,o))}),r},eW=e=>eq(e,Y),e$=(e,t)=>eG(e,t)?en.from(e[t]):en.none(),eG=(e,t)=>eL.call(e,t),eK=(e,t)=>eG(e,t)&&void 0!==e[t]&&null!==e[t],eY=(e,t,r=z)=>S(r).eq(e,t),eX=e=>{let t={};return ep(e,e=>{t[e]={}}),eF(t)},eJ=e=>void 0!==e.length,eQ=Array.isArray,e1=(e,t,r)=>{if(!e)return!1;if(r=r||e,eJ(e)){for(let o=0,a=e.length;o<a;o++)if(!1===t.call(r,e[o],o,e))return!1}else for(let o in e)if(eG(e,o)&&!1===t.call(r,e[o],o,e))return!1;return!0},e0=(e,t)=>{let r=[];return e1(e,(o,a)=>{r.push(t(o,a,e))}),r},e2=(e,t)=>{let r=[];return e1(e,(o,a)=>{(!t||t(o,a,e))&&r.push(o)}),r},e4=(e,t,r,o)=>{let a=H(r)?e[0]:r;for(let r=0;r<e.length;r++)a=t.call(o,a,e[r],r);return a},e3=(e,t,r)=>{for(let o=0,a=e.length;o<a;o++)if(t.call(r,e[o],o,e))return o;return -1},e5=e=>e[e.length-1],e6=e=>{let t,r=!1;return(...o)=>(r||(r=!0,t=e.apply(null,o)),t)},e8=(e,t,r,o)=>{let a=e.isiOS()&&!0===/ipad/i.test(r),n=e.isiOS()&&!a,l=e.isiOS()||e.isAndroid(),i=l||o("(pointer:coarse)"),s=a||!n&&l&&o("(min-device-width:768px)"),c=n||l&&!s,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r);return{isiPad:K(a),isiPhone:K(n),isTablet:K(s),isPhone:K(c),isTouch:K(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:K(d),isDesktop:K(!c&&!s&&!d)}},e7=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r];if(o.test(t))return o}},e9=(e,t)=>{let r=e7(e,t);if(!r)return{major:0,minor:0};let o=e=>Number(t.replace(r,"$"+e));return tt(o(1),o(2))},te=()=>tt(0,0),tt=(e,t)=>({major:e,minor:t}),tr=(e,t)=>{let r=String(t).toLowerCase();return 0===e.length?te():e9(e,r)},to=(e,t)=>eR(t.brands,t=>{let r=t.brand.toLowerCase();return ew(e,e=>{var t;return r===(null==(t=e.brand)?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:tt(parseInt(t.version,10),0)}))}),ta=(e,t)=>{let r=String(t).toLowerCase();return ew(e,e=>e.search(r))},tn=(e,t)=>ta(e,t).map(e=>{let r=tr(e.versionRegexes,t);return{current:e.name,version:r}}),tl=(e,t)=>ta(e,t).map(e=>{let r=tr(e.versionRegexes,t);return{current:e.name,version:r}}),ti=(e,t)=>e.substring(t),ts=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,tc=(e,t)=>tm(e,t)?ti(e,t.length):e,td=(e,t,r=0,o)=>{let a=e.indexOf(t,r);return -1!==a&&(!!H(o)||a+t.length<=o)},tm=(e,t)=>ts(e,t,0),tu=(e,t)=>ts(e,t,e.length-t.length),tg=e=>t=>t.replace(e,""),tp=tg(/^\s+|\s+$/g),th=tg(/^\s+/g),tf=tg(/\s+$/g),ty=e=>e.length>0,tb=e=>!ty(e),tv=(e,t)=>t<=0?"":Array(t+1).join(e),tk=(e,t=10)=>{let r=parseInt(e,t);return isNaN(r)?en.none():en.some(r)},tw=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,t_=e=>t=>td(t,e),tx=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>td(e,"edge/")&&td(e,"chrome")&&td(e,"safari")&&td(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,tw],search:e=>td(e,"chrome")&&!td(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>td(e,"msie")||td(e,"trident")},{name:"Opera",versionRegexes:[tw,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:t_("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:t_("firefox")},{name:"Safari",versionRegexes:[tw,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(td(e,"safari")||td(e,"mobile/"))&&td(e,"applewebkit")}],tC=[{name:"Windows",search:t_("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>td(e,"iphone")||td(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:t_("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:t_("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:t_("linux"),versionRegexes:[]},{name:"Solaris",search:t_("sunos"),versionRegexes:[]},{name:"FreeBSD",search:t_("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:t_("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],tS={browsers:K(tx),oses:K(tC)},tz="Edge",tE="Chromium",tT="Opera",tA="Firefox",tO="Safari",tD=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isEdge:o(tz),isChromium:o(tE),isIE:o("IE"),isOpera:o(tT),isFirefox:o(tA),isSafari:o(tO)}},tN={unknown:()=>tD({current:void 0,version:te()}),nu:tD,edge:K(tz),chromium:K(tE),ie:K("IE"),opera:K(tT),firefox:K(tA),safari:K(tO)},tM="Windows",tR="Android",tB="Linux",tF="macOS",tL="Solaris",tI="FreeBSD",tP="ChromeOS",tH=e=>{let t=e.current,r=e.version,o=e=>()=>t===e;return{current:t,version:r,isWindows:o(tM),isiOS:o("iOS"),isAndroid:o(tR),isMacOS:o(tF),isLinux:o(tB),isSolaris:o(tL),isFreeBSD:o(tI),isChromeOS:o(tP)}},tj={unknown:()=>tH({current:void 0,version:te()}),nu:tH,windows:K(tM),ios:K("iOS"),android:K(tR),linux:K(tB),macos:K(tF),solaris:K(tL),freebsd:K(tI),chromeos:K(tP)},tV=(e,t,r)=>{let o=tS.browsers(),a=tS.oses(),n=t.bind(e=>to(o,e)).orThunk(()=>tn(o,e)).fold(tN.unknown,tN.nu),l=tl(a,e).fold(tj.unknown,tj.nu),i=e8(l,n,e,r);return{browser:n,os:l,deviceType:i}},tU=e=>window.matchMedia(e).matches,tZ=e6(()=>tV(navigator.userAgent,en.from(navigator.userAgentData),tU)),tq=()=>tZ(),tW=navigator.userAgent,t$=tq(),tG=t$.browser,tK=t$.os,tY=t$.deviceType,tX=-1!==tW.indexOf("Windows Phone"),tJ={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:tG.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!tG.isIE(),windowsPhone:tX,browser:{current:tG.current,version:tG.version,isChromium:tG.isChromium,isEdge:tG.isEdge,isFirefox:tG.isFirefox,isIE:tG.isIE,isOpera:tG.isOpera,isSafari:tG.isSafari},os:{current:tK.current,version:tK.version,isAndroid:tK.isAndroid,isChromeOS:tK.isChromeOS,isFreeBSD:tK.isFreeBSD,isiOS:tK.isiOS,isLinux:tK.isLinux,isMacOS:tK.isMacOS,isSolaris:tK.isSolaris,isWindows:tK.isWindows},deviceType:{isDesktop:tY.isDesktop,isiPad:tY.isiPad,isiPhone:tY.isiPhone,isPhone:tY.isPhone,isTablet:tY.isTablet,isTouch:tY.isTouch,isWebView:tY.isWebView}},tQ=/^\s*|\s*$/g,t1=e=>j(e)?"":(""+e).replace(tQ,""),t0=function(e,t,r,o){o=o||this,e&&(r&&(e=e[r]),e1(e,(e,a)=>!1!==t.call(o,e,a,r)&&(t0(e,t,r,o),!0)))},t2={trim:t1,isArray:eQ,is:(e,t)=>t?!!("array"===t&&eQ(e))||typeof e===t:void 0!==e,toArray:e=>{if(eQ(e))return e;{let t=[];for(let r=0,o=e.length;r<o;r++)t[r]=e[r];return t}},makeMap:(e,t,r={})=>{let o=R(e)?e.split(t||","):e||[],a=o.length;for(;a--;)r[o[a]]={};return r},each:e1,map:e0,grep:e2,inArray:(e,t)=>{if(e){for(let r=0,o=e.length;r<o;r++)if(e[r]===t)return r}return -1},hasOwn:eG,extend:(e,...t)=>{for(let r=0;r<t.length;r++){let o=t[r];for(let t in o)if(eG(o,t)){let r=o[t];void 0!==r&&(e[t]=r)}}return e},walk:t0,resolve:(e,t=window)=>{let r=e.split(".");for(let e=0,o=r.length;e<o&&(t=t[r[e]]);e++);return t},explode:(e,t)=>L(e)?e:""===e?[]:e0(e.split(t||","),t1),_addCacheSuffix:e=>{let t=tJ.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},t4=(e,t,r=X)=>e.exists(e=>r(e,t)),t3=(e,t,r=X)=>t6(e,t,r).getOr(e.isNone()&&t.isNone()),t5=e=>{let t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},t6=(e,t,r)=>e.isSome()&&t.isSome()?en.some(r(e.getOrDie(),t.getOrDie())):en.none(),t8=(e,t,r,o)=>e.isSome()&&t.isSome()&&r.isSome()?en.some(o(e.getOrDie(),t.getOrDie(),r.getOrDie())):en.none(),t7=(e,t)=>e?en.some(t):en.none(),t9="undefined"!=typeof window?window:Function("return this;")(),re=(e,t)=>{let r=null!=t?t:t9;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},rt=(e,t)=>re(e.split("."),t),rr=(e,t)=>rt(e,t),ro=(e,t)=>{let r=rr(e,t);if(null==r)throw Error(e+" not available on this browser");return r},ra=Object.getPrototypeOf,rn=e=>ro("HTMLElement",e),rl=e=>{let t=rt("ownerDocument.defaultView",e);return B(e)&&(rn(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ra(e).constructor.name))},ri=e=>e.dom.nodeName.toLowerCase(),rs=e=>e.dom.nodeType,rc=e=>t=>rs(t)===e,rd=e=>8===rs(e)||"#comment"===ri(e),rm=e=>ru(e)&&rl(e.dom),ru=rc(1),rg=rc(3),rp=rc(9),rh=rc(11),rf=e=>t=>ru(t)&&ri(t)===e,ry=(e,t,r)=>{if(R(r)||P(r)||Z(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),Error("Attribute value was not simple")},rb=(e,t,r)=>{ry(e.dom,t,r)},rv=(e,t)=>{let r=e.dom;eI(t,(e,t)=>{ry(r,t,e)})},rk=(e,t)=>{let r=e.dom.getAttribute(t);return null===r?void 0:r},rw=(e,t)=>en.from(rk(e,t)),r_=(e,t)=>{let r=e.dom;return!!r&&!!r.hasAttribute&&r.hasAttribute(t)},rx=(e,t)=>{e.dom.removeAttribute(t)},rC=e=>{let t=e.dom.attributes;return null==t||0===t.length},rS=e=>ev(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),rz=(e,t)=>{let r=rk(e,t);return void 0===r||""===r?[]:r.split(" ")},rE=(e,t,r)=>{let o=rz(e,t).concat([r]);return rb(e,t,o.join(" ")),!0},rT=(e,t,r)=>{let o=ey(rz(e,t),e=>e!==r);return o.length>0?rb(e,t,o.join(" ")):rx(e,t),!1},rA=e=>void 0!==e.dom.classList,rO=e=>rz(e,"class"),rD=(e,t)=>rE(e,"class",t),rN=(e,t)=>rT(e,"class",t),rM=(e,t)=>em(rO(e),t)?rN(e,t):rD(e,t),rR=(e,t)=>{rA(e)?e.dom.classList.add(t):rD(e,t)},rB=e=>{0===(rA(e)?e.dom.classList:rO(e)).length&&rx(e,"class")},rF=(e,t)=>{rA(e)?e.dom.classList.remove(t):rN(e,t),rB(e)},rL=(e,t)=>{let r=rA(e)?e.dom.classList.toggle(t):rM(e,t);return rB(e),r},rI=(e,t)=>rA(e)&&e.dom.classList.contains(t),rP=e=>{if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}},rH={fromHtml:(e,t)=>{let r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){let t="HTML does not have a single root node";throw console.error(t,e),Error(t)}return rP(r.childNodes[0])},fromTag:(e,t)=>rP((t||document).createElement(e)),fromText:(e,t)=>rP((t||document).createTextNode(e)),fromDom:rP,fromPoint:(e,t,r)=>en.from(e.dom.elementFromPoint(t,r)).map(rP)},rj=(e,t)=>{let r=[],o=e=>(r.push(e),t(e)),a=t(e);do a=a.bind(o);while(a.isSome());return r},rV=(e,t)=>{let r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);else throw Error("Browser lacks native selectors")},rU=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,rZ=(e,t)=>{let r=void 0===t?document:t.dom;return rU(r)?[]:eg(r.querySelectorAll(e),rH.fromDom)},rq=(e,t)=>{let r=void 0===t?document:t.dom;return rU(r)?en.none():en.from(r.querySelector(e)).map(rH.fromDom)},rW=(e,t)=>e.dom===t.dom,r$=(e,t)=>{let r=e.dom,o=t.dom;return r!==o&&r.contains(o)},rG=e=>rH.fromDom(e.dom.ownerDocument),rK=e=>rp(e)?e:rG(e),rY=e=>rH.fromDom(rK(e).dom.documentElement),rX=e=>rH.fromDom(rK(e).dom.defaultView),rJ=e=>en.from(e.dom.parentNode).map(rH.fromDom),rQ=e=>en.from(e.dom.parentElement).map(rH.fromDom),r1=(e,t)=>{let r=U(t)?t:eo,o=e.dom,a=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){let e=o.parentNode,t=rH.fromDom(e);if(a.push(t),!0===r(t))break;o=e}return a},r0=e=>rJ(e).map(r6).map(t=>ey(t,t=>!rW(e,t))).getOr([]),r2=e=>en.from(e.dom.previousSibling).map(rH.fromDom),r4=e=>en.from(e.dom.nextSibling).map(rH.fromDom),r3=e=>ez(rj(e,r2)),r5=e=>rj(e,r4),r6=e=>eg(e.dom.childNodes,rH.fromDom),r8=(e,t)=>{let r=e.dom.childNodes;return en.from(r[t]).map(rH.fromDom)},r7=e=>r8(e,0),r9=e=>r8(e,e.dom.childNodes.length-1),oe=e=>e.dom.childNodes.length,ot=e=>e.dom.hasChildNodes(),or=e=>{let t=e.dom.head;if(null==t)throw Error("Head is not available yet");return rH.fromDom(t)},oo=e=>rh(e)&&V(e.dom.host),oa=U(Element.prototype.attachShadow)&&U(Node.prototype.getRootNode),on=K(oa),ol=oa?e=>rH.fromDom(e.dom.getRootNode()):rK,oi=e=>oo(e)?e:or(rK(e)),os=e=>oo(e)?e:rH.fromDom(rK(e).dom.body),oc=e=>{let t=ol(e);return oo(t)?en.some(t):en.none()},od=e=>rH.fromDom(e.dom.host),om=e=>{if(on()&&V(e.target)){let t=rH.fromDom(e.target);if(ru(t)&&ou(t)&&e.composed&&e.composedPath){let t=e.composedPath();if(t)return eD(t)}}return en.from(e.target)},ou=e=>V(e.dom.shadowRoot),og=e=>{let t=rg(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let r=t.ownerDocument;return oc(rH.fromDom(t)).fold(()=>r.body.contains(t),G(og,od))};var op=(e,t,r,o,a)=>e(r,o)?en.some(r):U(a)&&a(r)?en.none():t(r,o,a);let oh=(e,t,r)=>{let o=e.dom,a=U(r)?r:eo;for(;o.parentNode;){o=o.parentNode;let e=rH.fromDom(o);if(t(e))return en.some(e);if(a(e))break}return en.none()},of=(e,t,r)=>op((e,t)=>t(e),oh,e,t,r),oy=(e,t)=>{let r=e.dom;return r.parentNode?ob(rH.fromDom(r.parentNode),r=>!rW(e,r)&&t(r)):en.none()},ob=(e,t)=>ew(e.dom.childNodes,e=>t(rH.fromDom(e))).map(rH.fromDom),ov=(e,t)=>{let r=e=>{for(let o=0;o<e.childNodes.length;o++){let a=rH.fromDom(e.childNodes[o]);if(t(a))return en.some(a);let n=r(e.childNodes[o]);if(n.isSome())return n}return en.none()};return r(e.dom)},ok=(e,t,r)=>oh(e,e=>rV(e,t),r),ow=(e,t)=>rq(t,e),o_=(e,t,r)=>op((e,t)=>rV(e,t),ok,e,t,r),ox=e=>o_(e,"[contenteditable]"),oC=(e,t=!1)=>og(e)?e.dom.isContentEditable:ox(e).fold(K(t),e=>"true"===oS(e)),oS=e=>e.dom.contentEditable,oz=e=>void 0!==e.style&&U(e.style.getPropertyValue),oE=(e,t,r)=>{if(!R(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);oz(e)&&e.style.setProperty(t,r)},oT=(e,t)=>{oz(e)&&e.style.removeProperty(t)},oA=(e,t,r)=>{oE(e.dom,t,r)},oO=(e,t)=>{let r=e.dom;eI(t,(e,t)=>{oE(r,t,e)})},oD=(e,t)=>{let r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||og(e)?o:oN(r,t)},oN=(e,t)=>oz(e)?e.style.getPropertyValue(t):"",oM=(e,t)=>{let r=oN(e.dom,t);return en.from(r).filter(e=>e.length>0)},oR=e=>{let t={},r=e.dom;if(oz(r))for(let e=0;e<r.style.length;e++){let o=r.style.item(e);t[o]=r.style[o]}return t},oB=(e,t)=>{oT(e.dom,t),t4(rw(e,"style").map(tp),"")&&rx(e,"style")},oF=e=>e.dom.offsetWidth,oL=(e,t)=>{rJ(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},oI=(e,t)=>{r4(e).fold(()=>{rJ(e).each(e=>{oH(e,t)})},e=>{oL(e,t)})},oP=(e,t)=>{r7(e).fold(()=>{oH(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},oH=(e,t)=>{e.dom.appendChild(t.dom)},oj=(e,t)=>{oL(e,t),oH(t,e)},oV=(e,t)=>{ep(t,(r,o)=>{oI(0===o?e:t[o-1],r)})},oU=(e,t)=>{ep(t,t=>{oH(e,t)})},oZ=e=>{e.dom.textContent="",ep(r6(e),e=>{oq(e)})},oq=e=>{let t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},oW=e=>{let t=r6(e);t.length>0&&oV(e,t),oq(e)},o$=(e,t)=>{let r=(t||document).createElement("div");return r.innerHTML=e,r6(rH.fromDom(r))},oG=e=>eg(e,rH.fromDom),oK=e=>e.dom.innerHTML,oY=(e,t)=>{let r=rG(e).dom,o=rH.fromDom(r.createDocumentFragment());oU(o,o$(t,r)),oZ(e),oH(e,o)},oX=e=>{let t=rH.fromTag("div");return oH(t,rH.fromDom(e.dom.cloneNode(!0))),oK(t)},oJ=(e,t,r,o,a,n,l)=>({target:e,x:t,y:r,stop:o,prevent:a,kill:n,raw:l}),oQ=e=>{let t=rH.fromDom(om(e).getOr(e.target)),r=()=>e.stopPropagation(),o=()=>e.preventDefault(),a=$(o,r);return oJ(t,e.clientX,e.clientY,r,o,a,e)},o1=(e,t)=>r=>{e(r)&&t(oQ(r))},o0=(e,t,r,o,a)=>{let n=o1(r,o);return e.dom.addEventListener(t,n,a),{unbind:J(o4,e,t,n,a)}},o2=(e,t,r,o)=>o0(e,t,r,o,!1),o4=(e,t,r,o)=>{e.dom.removeEventListener(t,r,o)},o3=(e,t)=>({left:e,top:t,translate:(r,o)=>o3(e+r,t+o)}),o5=e=>{let t=e.getBoundingClientRect();return o3(t.left,t.top)},o6=(e,t)=>void 0!==e?e:void 0!==t?t:0,o8=e=>{let t=e.dom.ownerDocument,r=t.body,o=t.defaultView,a=t.documentElement;if(r===e.dom)return o3(r.offsetLeft,r.offsetTop);let n=o6(null==o?void 0:o.pageYOffset,a.scrollTop),l=o6(null==o?void 0:o.pageXOffset,a.scrollLeft),i=o6(a.clientTop,r.clientTop),s=o6(a.clientLeft,r.clientLeft);return o7(e).translate(l-s,n-i)},o7=e=>{let t=e.dom,r=t.ownerDocument.body;return r===t?o3(r.offsetLeft,r.offsetTop):og(e)?o5(t):o3(0,0)},o9=e=>{let t=void 0!==e?e.dom:document;return o3(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},ae=(e,t,r)=>{let o=(void 0!==r?r.dom:document).defaultView;o&&o.scrollTo(e,t)},at=(e,t)=>{tq().browser.isSafari()&&U(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},ar=e=>{let t=void 0===e?window:e;return tq().browser.isFirefox()?en.none():en.from(t.visualViewport)},ao=(e,t,r,o)=>({x:e,y:t,width:r,height:o,right:e+r,bottom:t+o}),aa=e=>{let t=void 0===e?window:e,r=t.document,o=o9(rH.fromDom(r));return ar(t).fold(()=>{let e=t.document.documentElement,r=e.clientWidth,a=e.clientHeight;return ao(o.left,o.top,r,a)},e=>ao(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},an=(e,t)=>ey(r6(e),t),al=(e,t)=>{let r=[];return ep(r6(e),e=>{t(e)&&(r=r.concat([e])),r=r.concat(al(e,t))}),r},ai=(e,t)=>rZ(t,e),as=(e,t,r)=>ok(e,t,r).isSome();class ac{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,r,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[r];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[r])return t}}}findPreviousNode(e,t){if(e){let r=e.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!t){for(let e=r.lastChild;e;e=e.lastChild)if(!e.lastChild)return e}return r}let o=e.parentNode;if(o&&o!==this.rootNode)return o}}}let ad=e=>t=>!!t&&t.nodeType===e,am=e=>!!e&&!Object.getPrototypeOf(e),au=ad(1),ag=e=>au(e)&&rm(rH.fromDom(e)),ap=e=>au(e)&&"http://www.w3.org/2000/svg"===e.namespaceURI,ah=e=>{let t=e.toLowerCase();return e=>V(e)&&e.nodeName.toLowerCase()===t},af=e=>{let t=e.map(e=>e.toLowerCase());return e=>!!e&&!!e.nodeName&&em(t,e.nodeName.toLowerCase())},ay=(e,t)=>{let r=t.toLowerCase().split(" ");return t=>{if(au(t)){let o=t.ownerDocument.defaultView;if(o)for(let a=0;a<r.length;a++){let n=o.getComputedStyle(t,null);if((n?n.getPropertyValue(e):null)===r[a])return!0}}return!1}},ab=e=>t=>au(t)&&t.hasAttribute(e),av=e=>au(e)&&e.hasAttribute("data-mce-bogus"),ak=e=>au(e)&&"all"===e.getAttribute("data-mce-bogus"),aw=e=>au(e)&&"TABLE"===e.tagName,a_=e=>t=>!!ag(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)||!1,ax=af(["textarea","input"]),aC=ad(3),aS=ad(4),az=ad(7),aE=ad(8),aT=ad(9),aA=ad(11),aO=ah("br"),aD=ah("img"),aN=a_("true"),aM=a_("false"),aR=af(["td","th"]),aB=af(["td","th","caption"]),aF=af(["video","audio","object","embed"]),aL=ah("li"),aI=ah("details"),aP=ah("summary"),aH=e=>"\uFEFF"===e,aj=((e,t)=>{let r=t=>e(t)?en.from(t.dom.nodeValue):en.none();return{get:o=>{if(!e(o))throw Error("Can only get "+t+" value of a "+t+" node");return r(o).getOr("")},getOption:r,set:(r,o)=>{if(!e(r))throw Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=o}}})(rg,"text"),aV=e=>aj.get(e),aU=e=>aj.getOption(e),aZ=(e,t)=>aj.set(e,t),aq=e=>{let t;return r=>eG(t=t||eT(e,ea),ri(r))},aW=e=>"table"===ri(e),a$=e=>ru(e)&&"br"===ri(e),aG=aq(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),aK=aq(["ul","ol","dl"]),aY=aq(["li","dd","dt"]),aX=aq(["thead","tbody","tfoot"]),aJ=aq(["td","th"]),aQ=aq(["pre","script","textarea","style"]),a1=e=>{let t=[],r=e.dom;for(;r;)t.push(rH.fromDom(r)),r=r.lastChild;return t},a0=e=>{let t=ai(e,"br"),r=ey(a1(e).slice(-1),a$);t.length===r.length&&ep(r,oq)},a2=()=>{let e=rH.fromTag("br");return rb(e,"data-mce-bogus","1"),e},a4=e=>{oZ(e),oH(e,a2())},a3=(e,t)=>{r9(e).each(r=>{r2(r).each(o=>{t.isBlock(ri(e))&&a$(r)&&t.isBlock(ri(o))&&oq(r)})})},a5=e=>e.replace(/\uFEFF/g,""),a6=e=>e.insertContent("\uFEFF",{preserve_zwsp:!0}),a8=e=>(aC(e)&&(e=e.parentNode),au(e)&&e.hasAttribute("data-mce-caret")),a7=e=>aC(e)&&aH(e.data),a9=e=>a8(e)||a7(e),ne=e=>e.firstChild!==e.lastChild||!aO(e.firstChild),nt=(e,t)=>{var r;let o=(null!=(r=e.ownerDocument)?r:document).createTextNode("\uFEFF"),a=e.parentNode;if(t){let t=e.previousSibling;if(aC(t)){if(a9(t))return t;if(nl(t))return t.splitText(t.data.length-1)}null==a||a.insertBefore(o,e)}else{let t=e.nextSibling;if(aC(t)){if(a9(t))return t;if(nn(t))return t.splitText(1),t}e.nextSibling?null==a||a.insertBefore(o,e.nextSibling):null==a||a.appendChild(o)}return o},nr=e=>{let t=e.container();return!!aC(t)&&("\uFEFF"===t.data.charAt(e.offset())||e.isAtStart()&&a7(t.previousSibling))},no=e=>{let t=e.container();return!!aC(t)&&("\uFEFF"===t.data.charAt(e.offset()-1)||e.isAtEnd()&&a7(t.nextSibling))},na=(e,t,r)=>{var o;let a=(null!=(o=t.ownerDocument)?o:document).createElement(e);a.setAttribute("data-mce-caret",r?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(a2().dom);let n=t.parentNode;return r?null==n||n.insertBefore(a,t):t.nextSibling?null==n||n.insertBefore(a,t.nextSibling):null==n||n.appendChild(a),a},nn=e=>aC(e)&&"\uFEFF"===e.data[0],nl=e=>aC(e)&&"\uFEFF"===e.data[e.data.length-1],ni=e=>{var t;let r=e.getElementsByTagName("br"),o=r[r.length-1];av(o)&&(null==(t=o.parentNode)||t.removeChild(o))},ns=e=>e&&e.hasAttribute("data-mce-caret")?(ni(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,nc=e=>a8(e.startContainer),nd=af(["script","style","textarea"]),nm=af(["img","input","textarea","hr","iframe","video","audio","object","embed"]),nu=af(["table"]),ng=e=>!a9(e)&&(aC(e)?!nd(e.parentNode):nm(e)||aO(e)||nu(e)||nh(e)),np=e=>au(e)&&"true"===e.getAttribute("unselectable"),nh=e=>!np(e)&&aM(e),nf=(e,t)=>{for(let r=e.parentNode;r&&r!==t;r=r.parentNode){if(nh(r))return!1;if(aN(r))break}return!0},ny=e=>!!nh(e)&&!ev(eM(e.getElementsByTagName("*")),(e,t)=>e||aN(t),!1),nb=(e,t)=>ng(e)&&nf(e,t),nv=/^[ \t\r\n]*$/,nk=e=>nv.test(e),nw=e=>{for(let t of e)if(!aH(t))return!1;return!0},n_=e=>-1!==" \f	\v".indexOf(e),nx=e=>"\n"===e||"\r"===e,nC=(e,t)=>t<e.length&&t>=0&&nx(e[t]),nS=(e,t=4,r=!0,o=!0)=>{let a=tv(" ",t),n=e.replace(/\t/g,a);return ev(n,(e,t)=>n_(t)||"\xa0"===t?e.pcIsSpace||""===e.str&&r||e.str.length===n.length-1&&o||nC(n,e.str.length+1)?{pcIsSpace:!1,str:e.str+"\xa0"}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:nx(t),str:e.str+t},{pcIsSpace:!1,str:""}).str},nz=(e,t)=>{let r=rH.fromDom(t);return as(rH.fromDom(e),"pre,code",J(rW,r))},nE=(e,t)=>aC(e)&&nk(e.data)&&!nz(e,t),nT=e=>au(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),nA=(e,t)=>ng(e)&&!nE(e,t)||nT(e)||nO(e),nO=ab("data-mce-bookmark"),nD=ab("data-mce-bogus"),nN=(n="data-mce-bogus",e=>au(e)&&"all"===e.getAttribute(n)),nM=e=>rQ(rH.fromDom(e)).exists(e=>!oC(e)),nR=(e,t)=>{let r=0;if(nA(e,e))return!1;{let o=e.firstChild;if(!o)return!0;let a=new ac(o,e);do{if(t){if(nN(o)){o=a.next(!0);continue}if(nD(o)){o=a.next();continue}}if(aN(o)&&nM(o))return!1;if(aO(o)){r++,o=a.next();continue}if(nA(o,e))return!1;o=a.next()}while(o);return r<=1}},nB=(e,t=!0)=>nR(e.dom,t),nF=e=>"svg"===e.toLowerCase(),nL=e=>nF(e.nodeName),nI=e=>(null==e?void 0:e.nodeName)==="svg"?"svg":"html",nP=["svg"],nH=()=>{let e=[],t=()=>e[e.length-1];return{track:r=>{nL(r)&&e.push(r);let o=t();return o&&!o.contains(r)&&(e.pop(),o=t()),nI(o)},current:()=>nI(t()),reset:()=>{e=[]}}},nj="data-mce-block",nV=e=>ey(eF(e),e=>!/[A-Z]/.test(e)),nU=e=>eg(nV(e),e=>`${e}:`+eg(nP,t=>`not(${t} ${e})`).join(":")).join(","),nZ=(e,t)=>V(t.querySelector(e))?(t.setAttribute(nj,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(nj),!1),nq=(e,t)=>{let r=nU(e.getTransparentElements()),o=nU(e.getBlockElements());return ey(t.querySelectorAll(r),e=>nZ(o,e))},nW=(e,t)=>{var r;let o=t?"lastChild":"firstChild";for(let t=e[o];t;t=t[o])if(nB(rH.fromDom(t))){null==(r=t.parentNode)||r.removeChild(t);return}},n$=(e,t)=>{let r=document.createRange(),o=e.parentNode;if(o){r.setStartBefore(e),r.setEndBefore(t);let a=r.extractContents();nW(a,!0),r.setStartAfter(t),r.setEndAfter(e);let n=r.extractContents();nW(n,!1),nB(rH.fromDom(a))||o.insertBefore(a,e),nB(rH.fromDom(t))||o.insertBefore(t,e),nB(rH.fromDom(n))||o.insertBefore(n,e),o.removeChild(e)}},nG=(e,t,r)=>{let o=e.getBlockElements(),a=rH.fromDom(t),n=e=>ri(e)in o,l=e=>rW(e,a);ep(oG(r),t=>{oh(t,n,l).each(r=>{let o=an(t,t=>n(t)&&!e.isValidChild(ri(r),ri(t)));if(o.length>0){let t=rQ(r);ep(o,e=>{oh(e,n,l).each(t=>{n$(t.dom,e.dom)})}),t.each(t=>nq(e,t.dom))}})})},nK=(e,t,r)=>{ep([...r,...n2(e,t)?[t]:[]],t=>ep(ai(rH.fromDom(t),t.nodeName.toLowerCase()),t=>{n4(e,t.dom)&&oW(t)}))},nY=(e,t)=>{let r=nq(e,t);nG(e,t,r),nK(e,t,r)},nX=(e,t)=>{n0(e,t)&&nZ(nU(e.getBlockElements()),t)},nJ=(e,t,r)=>{let o=r1(rH.fromDom(r),e=>rW(e,rH.fromDom(t)));eO(o,o.length-2).filter(ru).fold(()=>nY(e,t),t=>nY(e,t.dom))},nQ=e=>e.hasAttribute(nj),n1=(e,t)=>eG(e.getTransparentElements(),t),n0=(e,t)=>au(t)&&n1(e,t.nodeName),n2=(e,t)=>n0(e,t)&&nQ(t),n4=(e,t)=>n0(e,t)&&!nQ(t),n3=(e,t)=>1===t.type&&n1(e,t.name)&&R(t.attr(nj)),n5=tq().browser,n6=e=>ew(e,ru),n8=e=>n5.isFirefox()&&"table"===ri(e)?n6(r6(e)).filter(e=>"caption"===ri(e)).bind(e=>n6(r5(e)).map(t=>{let r=t.dom.offsetTop,o=e.dom.offsetTop,a=e.dom.offsetHeight;return r<=o?-a:0})).getOr(0):0,n7=(e,t)=>e.children&&em(e.children,t),n9=(e,t,r)=>{let o=0,a=0,n=e.ownerDocument;if(r=r||e,t){if(r===e&&t.getBoundingClientRect&&"static"===oD(rH.fromDom(e),"position")){let r=t.getBoundingClientRect();return{x:o=r.left+(n.documentElement.scrollLeft||e.scrollLeft)-n.documentElement.clientLeft,y:a=r.top+(n.documentElement.scrollTop||e.scrollTop)-n.documentElement.clientTop}}let l=t;for(;l&&l!==r&&l.nodeType&&!n7(l,r);){let e=l;o+=e.offsetLeft||0,a+=e.offsetTop||0,l=e.offsetParent}for(l=t.parentNode;l&&l!==r&&l.nodeType&&!n7(l,r);)o-=l.scrollLeft||0,a-=l.scrollTop||0,l=l.parentNode;a+=n8(rH.fromDom(t))}return{x:o,y:a}},le=(e,t={})=>{let r=0,o={},a=rH.fromDom(e),n=rK(a),l=e=>{oH(oi(a),e)},i=e=>{ow(oi(a),"#"+e).each(oq)},s=e=>e$(o,e).getOrThunk(()=>({id:"mce-u"+r++,passed:[],failed:[],count:0})),c=e=>new Promise((r,a)=>{let i,c=t2._addCacheSuffix(e),d=s(c);o[c]=d,d.count++;let m=(e,t)=>{ep(e,er),d.status=t,d.passed=[],d.failed=[],i&&(i.onload=null,i.onerror=null,i=null)},u=()=>m(d.passed,2),g=()=>m(d.failed,3);if(r&&d.passed.push(r),a&&d.failed.push(a),1===d.status)return;if(2===d.status)return void u();if(3===d.status)return void g();d.status=1;let p=rH.fromTag("link",n.dom);rv(p,{rel:"stylesheet",type:"text/css",id:d.id}),t.contentCssCors&&rb(p,"crossOrigin","anonymous"),t.referrerPolicy&&rb(p,"referrerpolicy",t.referrerPolicy),(i=p.dom).onload=u,i.onerror=g,l(p),rb(p,"href",c)}),d=e=>{let t=t2._addCacheSuffix(e);e$(o,t).each(e=>{0==--e.count&&(delete o[t],i(e.id))})};return{load:c,loadRawCss:(e,t)=>{let r=s(e);o[e]=r,r.count++;let a=rH.fromTag("style",n.dom);rv(a,{rel:"stylesheet",type:"text/css",id:r.id}),a.dom.innerHTML=t,l(a)},loadAll:e=>Promise.allSettled(eg(e,e=>c(e).then(K(e)))).then(e=>{let t=ef(e,e=>"fulfilled"===e.status);return t.fail.length>0?Promise.reject(eg(t.fail,e=>e.reason)):eg(t.pass,e=>e.value)}),unload:d,unloadRawCss:e=>{e$(o,e).each(t=>{0==--t.count&&(delete o[e],i(t.id))})},unloadAll:e=>{ep(e,e=>{d(e)})},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},lt=(()=>{let e=new WeakMap;return{forElement:(t,r)=>{let o=ol(t).dom;return en.from(e.get(o)).getOrThunk(()=>{let t=le(o,r);return e.set(o,t),t})}}})(),lr=e=>"span"===e.nodeName.toLowerCase(),lo=(e,t,r)=>V(e)&&(nA(e,t)||r.isInline(e.nodeName.toLowerCase())),la=(e,t,r)=>{let o=new ac(e,t).prev(!1),a=new ac(e,t).next(!1),n=H(o)||lo(o,t,r),l=H(a)||lo(a,t,r);return n&&l},ln=e=>lr(e)&&"bookmark"===e.getAttribute("data-mce-type"),ll=(e,t,r)=>aC(e)&&e.data.length>0&&la(e,t,r),li=e=>!!au(e)&&e.childNodes.length>0,ls=e=>aA(e)||aT(e),lc=(e,t,r,o)=>{var a;let n=o||t;if(au(t)&&ln(t))return t;let l=t.childNodes;for(let t=l.length-1;t>=0;t--)lc(e,l[t],r,n);if(au(t)){let e=t.childNodes;1===e.length&&ln(e[0])&&(null==(a=t.parentNode)||a.insertBefore(e[0],t))}return ls(t)||nA(t,n)||li(t)||ll(t,n,r)||e.remove(t),t},ld=t2.makeMap,lm=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lg=/[<>&\"\']/g,lp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,lh={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},lf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ly={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},lb=e=>{let t=rH.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},lv=(e,t)=>{let r={};if(e){let o=e.split(",");t=t||10;for(let e=0;e<o.length;e+=2){let a=String.fromCharCode(parseInt(o[e],t));if(!lf[a]){let t="&"+o[e+1]+";";r[a]=t,r[t]=a}}return r}},lk=lv("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),lw=(e,t)=>e.replace(t?lm:lu,e=>lf[e]||e),l_=(e,t)=>e.replace(t?lm:lu,e=>e.length>1?"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";":lf[e]||"&#"+e.charCodeAt(0)+";"),lx=(e,t,r)=>{let o=r||lk;return e.replace(t?lm:lu,e=>lf[e]||o[e]||e)},lC={encodeRaw:lw,encodeAllRaw:e=>(""+e).replace(lg,e=>lf[e]||e),encodeNumeric:l_,encodeNamed:lx,getEncodeFunc:(e,t)=>{let r=lv(t)||lk,o=ld(e.replace(/\+/g,","));return o.named&&o.numeric?(e,t)=>e.replace(t?lm:lu,e=>void 0!==lf[e]?lf[e]:void 0!==r[e]?r[e]:e.length>1?"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"):o.named?t?(e,t)=>lx(e,t,r):lx:o.numeric?l_:lw},decode:e=>e.replace(lp,(e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t)):lh[t]||String.fromCharCode(t):ly[e]||lk[e]||lb(e))},lS=(e,t)=>(e=t2.trim(e))?e.split(t||" "):[],lz=e=>RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),lE=e=>{let t=/^(~)?(.+)$/;return eC(lS(e,","),e=>{let r=t.exec(e);if(!r)return[];{let e="~"===r[1];return[{inline:e,cloneName:e?"span":"div",name:r[2]}]}})},lT=e=>{let t,r,o;t="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),"html5-strict"!==e&&(t+=" xml:lang",o=[o,"acronym applet basefont big font strike tt"].join(" "),r=[r,"center dir isindex noframes"].join(" "));let a=[r,o].join(" ");return{globalAttributes:t,blockContent:r,phrasingContent:o,flowContent:a}},lA=e=>{let{globalAttributes:t,phrasingContent:r,flowContent:o}=lT(e),a={},n=(e,t,r)=>{a[e]={attributes:eT(t,K({})),attributesOrder:t,children:eT(r,K({}))}},l=(e,r="",o="")=>{let a=lS(o),l=lS(e),i=l.length,s=lS([t,r].join(" "));for(;i--;)n(l[i],s.slice(),a)},i=(e,t)=>{let r=lS(e),o=lS(t),n=r.length;for(;n--;){let e=a[r[n]];for(let t=0,r=o.length;t<r;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};return"html5-strict"!==e&&(ep(lS("acronym applet basefont big font strike tt"),e=>{l(e,"",r)}),ep(lS("center dir isindex noframes"),e=>{l(e,"",o)})),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),l("dd div","",o),l("address dt caption","","html4"===e?r:o),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),l("blockquote","cite",o),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",o),l("dl","","dt dd"),l("a","href target rel media hreflang type","html4"===e?r:o),l("q","cite",r),l("ins del","cite datetime",o),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",o),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),l("param","name value"),l("map","name",[o,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",o),l("th","colspan rowspan headers scope abbr",o),l("form","accept-charset action autocomplete enctype method name novalidate target",o),l("fieldset","disabled form name",[o,"legend"].join(" ")),l("label","form for",r),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[o,"li"].join(" ")),l("noscript","",o),"html4"!==e&&(l("wbr"),l("ruby","",[r,"rt rp"].join(" ")),l("figcaption","",o),l("mark rt rp bdi","",r),l("summary","",[r,"h1 h2 h3 h4 h5 h6"].join(" ")),l("canvas","width height",o),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[r,"option"].join(" ")),l("article section nav aside main header footer","",o),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[o,"figcaption"].join(" ")),l("time","datetime",r),l("dialog","open",o),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",r),l("progress","value max",r),l("meter","value min max low high optimum",r),l("details","open",[o,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name"),n("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),"html5-strict"!==e&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!==e&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("img","loading"),i("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&ep([a.video,a.audio],e=>{delete e.children.audio,delete e.children.video}),ep(lS("a form meter progress dfn"),e=>{a[e]&&delete a[e].children[e]}),delete a.caption.children.table,delete a.script,a},lO=e=>"-"===e?"remove":"add",lD=e=>{let t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return eC(lS(e,","),e=>{let r=t.exec(e);if(!r)return[];{let e=r[1],t=e?lO(e):"replace";return[{operation:t,name:r[2],validChildren:lS(r[3],"|")}]}})},lN=(e,t)=>{let r=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,o=/[*?+]/,{attributes:a,attributesOrder:n}=t;return ep(lS(e,"|"),e=>{let l=r.exec(e);if(l){let e={},r=l[1],i=l[2].replace(/[\\:]:/g,":"),s=l[3],c=l[4];if("!"===r&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(i),e.required=!0),"-"===r){delete a[i],n.splice(t2.inArray(n,i),1);return}s&&("="===s?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:i,value:c}),e.defaultValue=c):"~"===s?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:i,value:c}),e.forcedValue=c):"<"===s&&(e.validValues=t2.makeMap(c,"?"))),o.test(i)?(t.attributePatterns=t.attributePatterns||[],e.pattern=lz(i),t.attributePatterns.push(e)):(a[i]||n.push(i),a[i]=e)}})},lM=(e,t)=>{eI(e.attributes,(e,r)=>{t.attributes[r]=e}),t.attributesOrder.push(...e.attributesOrder)},lR=(e,t)=>{let r=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return eC(lS(t,","),t=>{let o=r.exec(t);if(!o)return[];{let t=o[1],r=o[2],a=o[3],n=o[4],l=o[5],i={attributes:{},attributesOrder:[]};if(e.each(e=>lM(e,i)),"#"===t?i.paddEmpty=!0:"-"===t&&(i.removeEmpty=!0),"!"===n&&(i.removeEmptyAttrs=!0),l&&lN(l,i),a&&(i.outputName=r),"@"===r)if(!e.isNone())return[];else e=en.some(i);return[a?{name:r,element:i,aliasName:a}:{name:r,element:i}]}})},lB={},lF=t2.makeMap,lL=t2.each,lI=t2.extend,lP=t2.explode,lH=(e,t={})=>lI(lF(e," ",lF(e.toUpperCase()," ")),t),lj=e=>lH("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),lV=(e,t)=>{if(e){let r={};return R(e)&&(e={"*":e}),lL(e,(e,o)=>{r[o]=r[o.toUpperCase()]="map"===t?lF(e,/[, ]/):lP(e,/[, ]/)}),r}},lU=(e={})=>{var t;let r={},o={},a=[],n={},l={},i=(t,r,o)=>{let a=e[t];if(a)return lF(a,/[, ]/,lF(a.toUpperCase(),/[, ]/));{let e=lB[t];return e||(e=lH(r,o),lB[t]=e),e}},s=null!=(t=e.schema)?t:"html5",c=lA(s);!1===e.verify_html&&(e.valid_elements="*[*]");let d=lV(e.valid_styles),m=lV(e.invalid_styles,"map"),u=lV(e.valid_classes,"map"),g=i("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=i("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),f=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),y="td th iframe video audio object script code",b=i("non_empty_elements",y+" pre svg",h),v=i("move_caret_before_on_enter_elements",y+" table",h),k="h1 h2 h3 h4 h5 h6",w=i("text_block_elements",k+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),_=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",w),x=i("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),C=i("transparent_elements","a ins del canvas map"),S=i("wrap_block_elements","pre "+k);lL("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),e=>{l[e]=RegExp("</"+e+"[^>]*>","gi")});let z=e=>{let t=en.from(r["@"]),o=/[*?+]/;ep(lR(t,null!=e?e:""),({name:e,element:t,aliasName:n})=>{n&&(r[n]=t),o.test(e)?(t.pattern=lz(e),a.push(t)):r[e]=t})},E=e=>{a=[],ep(eF(r),e=>{delete r[e]}),z(e)},T=e=>{delete lB.text_block_elements,delete lB.block_elements,ep(lE(null!=e?e:""),({inline:e,name:t,cloneName:a})=>{if(o[t]=o[a],n[t]=a,b[t.toUpperCase()]={},b[t]={},e||(_[t.toUpperCase()]={},_[t]={}),!r[t]){let e=r[a];e=lI({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,r[t]=e}eI(o,(e,r)=>{e[a]&&(o[r]=e=lI({},o[r]),e[t]=e[a])})})},A=e=>{ep(lD(null!=e?e:""),({operation:e,name:t,validChildren:r})=>{let a="replace"===e?{"#comment":{}}:o[t];ep(r,t=>{"remove"===e?delete a[t]:a[t]={}}),o[t]=a})},O=e=>{let t=r[e];if(t)return t;let o=a.length;for(;o--;){let t=a[o];if(t.pattern.test(e))return t}};e.valid_elements?(E(e.valid_elements),lL(c,(e,t)=>{o[t]=e.children})):(lL(c,(e,t)=>{r[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children}),lL(lS("strong/b em/i"),e=>{let t=lS(e,"/");r[t[1]].outputName=t[0]}),lL(x,(t,o)=>{r[o]&&(e.padd_empty_block_inline_children&&(r[o].paddInEmptyBlock=!0),r[o].removeEmpty=!0)}),lL(lS("ol ul blockquote a table tbody"),e=>{r[e]&&(r[e].removeEmpty=!0)}),lL(lS("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),e=>{r[e]&&(r[e].paddEmpty=!0)}),lL(lS("span"),e=>{r[e].removeEmptyAttrs=!0})),delete r.svg,T(e.custom_elements),A(e.valid_children),z(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),lL({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(e,t)=>{r[t]&&(r[t].parentsRequired=lS(e))}),e.invalid_elements&&lL(lP(e.invalid_elements),e=>{r[e]&&delete r[e]}),O("span")||z("span[!data-mce-type|*]");let D=K(d),N=K(m),M=K(u),R=K(f),B=K(_),F=K(w),L=K(x),I=K(Object.seal(h)),P=K(p),H=K(b),j=K(v),V=K(g),U=K(C),Z=K(S),q=K(Object.seal(l)),W=(e,t)=>{let r=O(e);if(r)if(!t)return!0;else{if(r.attributes[t])return!0;let e=r.attributePatterns;if(e){let r=e.length;for(;r--;)if(e[r].pattern.test(t))return!0}}return!1},$=e=>eG(B(),e),G=e=>!tm(e,"#")&&W(e)&&!$(e);return{type:s,children:o,elements:r,getValidStyles:D,getValidClasses:M,getBlockElements:B,getInvalidStyles:N,getVoidElements:I,getTextBlockElements:F,getTextInlineElements:L,getBoolAttrs:R,getElementRule:O,getSelfClosingElements:P,getNonEmptyElements:H,getMoveCaretBeforeOnEnterElements:j,getWhitespaceElements:V,getTransparentElements:U,getSpecialElements:q,isValidChild:(e,t)=>{let r=o[e.toLowerCase()];return!!(r&&r[t.toLowerCase()])},isValid:W,isBlock:$,isInline:G,isWrapper:e=>eG(Z(),e)||G(e),getCustomElements:K(n),addValidElements:z,setValidElements:E,addCustomElements:T,addValidChildren:A}},lZ=e=>({value:lq(e)}),lq=e=>tc(e,"#").toUpperCase(),lW=e=>{let t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},l$=e=>lZ(lW(e.red)+lW(e.green)+lW(e.blue)),lG=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,lK=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,lY=(e,t,r,o)=>({red:e,green:t,blue:r,alpha:o}),lX=(e,t,r,o)=>{let a=parseInt(e,10),n=parseInt(t,10);return lY(a,n,parseInt(r,10),parseFloat(o))},lJ=e=>{if("transparent"===e)return en.some(lY(0,0,0,0));let t=lG.exec(e);if(null!==t)return en.some(lX(t[1],t[2],t[3],"1"));let r=lK.exec(e);return null!==r?en.some(lX(r[1],r[2],r[3],r[4])):en.none()},lQ=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,l1=e=>lJ(e).map(l$).map(e=>"#"+e.value).getOr(e),l0=(e={},t)=>{let r,o,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,n=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,i={};t&&(r=t.getValidStyles(),o=t.getInvalidStyles());let s="\\\" \\' \\; \\: ; : \uFEFF".split(" ");for(let e=0;e<s.length;e++)i[s[e]]="\uFEFF"+e,i["\uFEFF"+e]=s[e];let c={parse:t=>{let r={},o=!1,s=e.url_converter,d=e.url_converter_scope||c,m=(e,t,o)=>{let a=r[e+"-top"+t];if(!a)return;let n=r[e+"-right"+t];if(!n)return;let l=r[e+"-bottom"+t];if(!l)return;let i=r[e+"-left"+t];if(!i)return;let s=[a,n,l,i],c=s.length-1;for(;c--&&s[c]===s[c+1];);c>-1&&o||(r[e+t]=-1===c?s[0]:s.join(" "),delete r[e+"-top"+t],delete r[e+"-right"+t],delete r[e+"-bottom"+t],delete r[e+"-left"+t])},u=e=>{let t=r[e];if(!t)return;let o=t.indexOf(",")>-1?[t]:t.split(" "),a=o.length;for(;a--;)if(o[a]!==o[0])return!1;return r[e]=o[0],!0},g=e=>(o=!0,i[e]),p=(e,t)=>(o&&(e=e.replace(/\uFEFF[0-9]/g,e=>i[e])),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),h=e=>String.fromCharCode(parseInt(e.slice(1),16)),f=e=>e.replace(/\\[0-9a-f]+/gi,h),y=(t,r,o,a,n,l)=>{if(n=n||l)return"'"+(n=p(n)).replace(/\'/g,"\\'")+"'";if(r=p(r||o||a||""),!e.allow_script_urls){let t=r.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return s&&(r=s.call(d,r,"style")),"url('"+r.replace(/\'/g,"\\'")+"')"};if(t){var b,v,k;let i;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,g).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,g));i=n.exec(t);){n.lastIndex=i.index+i[0].length;let t=i[1].replace(l,"").toLowerCase(),s=i[2].replace(l,"");if(t&&s){if(t=f(t),s=f(s),-1!==t.indexOf("\uFEFF")||-1!==t.indexOf('"')||!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(s)))continue;"font-weight"===t&&"700"===s?s="bold":("color"===t||"background-color"===t)&&(s=s.toLowerCase()),R(e.force_hex_color)&&"off"!==e.force_hex_color&&lJ(s).each(t=>{("always"===e.force_hex_color||1===t.alpha)&&(s=l1(lQ(t)))}),s=s.replace(a,y),r[t]=o?p(s,!0):s}}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),v="border-style",k="border-color",u(b="border-width")&&u(v)&&u(k)&&(r.border=r[b]+" "+r[v]+" "+r[k],delete r[b],delete r[v],delete r[k]),"medium none"===r.border&&delete r.border,"none"===r["border-image"]&&delete r["border-image"]}return r},serialize:(e,t)=>{let a="",n=(t,r)=>{let o=r[t];if(o)for(let t=0,r=o.length;t<r;t++){let r=o[t],n=e[r];n&&(a+=(a.length>0?" ":"")+r+": "+n+";")}},l=(e,t)=>{if(!o||!t)return!0;let r=o["*"];return(!r||!r[e])&&!((r=o[t])&&r[e])};return t&&r?(n("*",r),n(t,r)):eI(e,(e,r)=>{e&&l(r,t)&&(a+=(a.length>0?" ":"")+r+": "+e+";")}),a}};return c},l2={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},l4=e=>e instanceof Event||U(e.initEvent),l3=e=>e.isDefaultPrevented===ea||e.isDefaultPrevented===eo,l5=e=>j(e.preventDefault)||l4(e),l6=(e,t)=>{let r=null!=t?t:{};for(let t in e)eG(l2,t)||(r[t]=e[t]);return V(e.composedPath)&&(r.composedPath=()=>e.composedPath()),V(e.getModifierState)&&(r.getModifierState=t=>e.getModifierState(t)),V(e.getTargetRanges)&&(r.getTargetRanges=()=>e.getTargetRanges()),r},l8=(e,t,r,o)=>{var a;let n=l6(t,o);return n.type=e,j(n.target)&&(n.target=null!=(a=n.srcElement)?a:r),l5(t)&&(n.preventDefault=()=>{n.defaultPrevented=!0,n.isDefaultPrevented=ea,U(t.preventDefault)&&t.preventDefault()},n.stopPropagation=()=>{n.cancelBubble=!0,n.isPropagationStopped=ea,U(t.stopPropagation)&&t.stopPropagation()},n.stopImmediatePropagation=()=>{n.isImmediatePropagationStopped=ea,n.stopPropagation()},l3(n)||(n.isDefaultPrevented=!0===n.defaultPrevented?ea:eo,n.isPropagationStopped=!0===n.cancelBubble?ea:eo,n.isImmediatePropagationStopped=eo)),n},l7=/^(?:mouse|contextmenu)|click/,l9=(e,t,r,o)=>{e.addEventListener(t,r,o||!1)},ie=(e,t,r,o)=>{e.removeEventListener(t,r,o||!1)},it=e=>V(e)&&l7.test(e.type),ir=(e,t)=>{let r=l8(e.type,e,document,t);if(it(e)&&H(e.pageX)&&!H(e.clientX)){let t=r.target.ownerDocument||document,o=t.documentElement,a=t.body;r.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),r.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}return r},io=(e,t,r)=>{let o=e.document,a={type:"ready"};if(r.domLoaded)return void t(a);let n=()=>{ie(e,"DOMContentLoaded",n),ie(e,"load",n),r.domLoaded||(r.domLoaded=!0,t(a)),e=null};"complete"===o.readyState||"interactive"===o.readyState&&o.body?n():l9(e,"DOMContentLoaded",n),r.domLoaded||l9(e,"load",n)};class ia{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,r,o){let a,n,l=this,i=window,s=e=>{l.executeHandlers(ir(e||i.event),n)};if(!e||aC(e)||aE(e))return r;e[l.expando]?n=e[l.expando]:(n=l.count++,e[l.expando]=n,l.events[n]={}),o=o||e;let c=t.split(" "),d=c.length;for(;d--;){let t=c[d],m=s,u=!1,g=!1;if("DOMContentLoaded"===t&&(t="ready"),l.domLoaded&&"ready"===t&&"complete"===e.readyState){r.call(o,ir({type:t}));continue}l.hasFocusIn||"focusin"!==t&&"focusout"!==t||(u=!0,g="focusin"===t?"focus":"blur",m=e=>{let t=ir(e||i.event);t.type="focus"===t.type?"focusin":"focusout",l.executeHandlers(t,n)}),(a=l.events[n][t])?"ready"===t&&l.domLoaded?r(ir({type:t})):a.push({func:r,scope:o}):(l.events[n][t]=a=[{func:r,scope:o}],a.fakeName=g,a.capture=u,a.nativeHandler=m,"ready"===t?io(e,m,l):l9(e,g||t,m,u))}return e=a=null,r}unbind(e,t,r){if(!e||aC(e)||aE(e))return this;let o=e[this.expando];if(o){let a=this.events[o];if(t){let o=t.split(" "),n=o.length;for(;n--;){let t=o[n],l=a[t];if(l){if(r){let e=l.length;for(;e--;)if(l[e].func===r){let r=l.nativeHandler,o=l.fakeName,n=l.capture,i=l.slice(0,e).concat(l.slice(e+1));i.nativeHandler=r,i.fakeName=o,i.capture=n,a[t]=i}}r&&0!==l.length||(delete a[t],ie(e,l.fakeName||t,l.nativeHandler,l.capture))}}}else eI(a,(t,r)=>{ie(e,t.fakeName||r,t.nativeHandler,t.capture)}),a={};for(let e in a)if(eG(a,e))return this;delete this.events[o];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,r){return this.dispatch(e,t,r)}dispatch(e,t,r){if(!e||aC(e)||aE(e))return this;let o=ir({type:t,target:e},r);do{let t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){if(!e||aC(e)||aE(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);let t=e.getElementsByTagName("*"),r=t.length;for(;r--;)(e=t[r])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){let r=this.events[t],o=r&&r[e.type];if(o)for(let t=0,r=o.length;t<r;t++){let r=o[t];if(r&&!1===r.func.call(r.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}ia.Event=new ia;let il=t2.each,ii=t2.grep,is="data-mce-style",ic=t2.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),id=(e,t,r)=>{j(r)||""===r?rx(e,t):rb(e,t,r)},im=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),iu=(e,t)=>{let r=0;if(e)for(let o=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){let e=a.nodeType;(!(t&&aC(a))||e!==o&&a.data.length)&&(r++,o=e)}return r},ig=(e,t)=>{let r=rk(t,"style"),o=e.serialize(e.parse(r),ri(t));id(t,is,o)},ip=(e,t)=>Z(e)?eG(ic,t)?e+"":e+"px":e,ih=(e,t,r)=>{let o=im(t);j(r)||""===r?oB(e,o):oA(e,o,ip(r,o))},iy=(e,t,r)=>{let o=t.keep_values,a={set:(e,o,a)=>{let n=rH.fromDom(e);U(t.url_converter)&&V(o)&&(o=t.url_converter.call(t.url_converter_scope||r(),String(o),a,e)),id(n,"data-mce-"+a,o),id(n,a,o)},get:(e,t)=>{let r=rH.fromDom(e);return rk(r,"data-mce-"+t)||rk(r,t)}},n={style:{set:(t,r)=>{let a=rH.fromDom(t);o&&id(a,is,r),rx(a,"style"),R(r)&&oO(a,e.parse(r))},get:t=>{let r=rH.fromDom(t),o=rk(r,is)||rk(r,"style");return e.serialize(e.parse(o),ri(r))}}};return o&&(n.href=n.src=a),n},ib=(e,t={})=>{let r={},o=window,a={},n=0,l=lt.forElement(rH.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),i=[],s=t.schema?t.schema:lU({}),c=l0({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,force_hex_color:t.force_hex_color},t.schema),d=t.ownEvents?new ia:ia.Event,m=s.getBlockElements(),u=t=>t&&e&&R(t)?e.getElementById(t):t,g=e=>{let t=u(e);return V(t)?rH.fromDom(t):null},p=(e,t,r="")=>{let o,a=g(e);if(V(a)&&ru(a)){let e=$[t];o=e&&e.get?e.get(a.dom,t):rk(a,t)}return V(o)?o:r},h=e=>{let t=u(e);return j(t)?[]:t.attributes},f=(e,r,o)=>{S(e,e=>{if(au(e)){let a=rH.fromDom(e),n=""===o?null:o,l=rk(a,r),i=$[r];i&&i.set?i.set(a.dom,n,r):id(a,r,n),l!==n&&t.onSetAttrib&&t.onSetAttrib({attrElm:a.dom,attrName:r,attrValue:n})}})},y=()=>t.root_element||e.body,b=(t,r)=>n9(e.body,u(t),r),v=(e,t,r)=>{let o=u(e);if(!j(o)&&(ag(o)||ap(o)))if(r)return oD(rH.fromDom(o),im(t));else return"float"===(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()))&&(t="cssFloat"),o.style?o.style[t]:void 0},k=e=>{let t=u(e);if(!t)return{w:0,h:0};let r=v(t,"width"),o=v(t,"height");return r&&-1!==r.indexOf("px")||(r="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(r,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},w=(e,t)=>!!e&&eu(L(e)?e:[e],e=>rV(rH.fromDom(e),t)),_=(e,t,r,o)=>{let a=[],n=u(e);o=void 0===o;let l=r||("BODY"!==y().nodeName?y().parentNode:null);if(R(t))if("*"===t)t=au;else{let e=t;t=t=>w(t,e)}for(;n&&!(n===l||j(n.nodeType)||aT(n)||aA(n));){if(!t||t(n))if(!o)return[n];else a.push(n);n=n.parentNode}return o?a:null},x=(e,t,r)=>{let o=t;if(e){R(t)&&(o=e=>w(e,t));for(let t=e[r];t;t=t[r])if(U(o)&&o(t))return t}return null},C=e=>U(e.querySelectorAll),S=function(e,t,r){let o=null!=r?r:this;if(L(e)){let r=[];return il(e,(e,a)=>{let n=u(e);n&&r.push(t.call(o,n,a))}),r}{let r=u(e);return!!r&&t.call(o,r)}},z=(e,t)=>{S(e,e=>{eI(t,(t,r)=>{f(e,r,t)})})},E=(e,t)=>{S(e,e=>{oY(rH.fromDom(e),t)})},T=(t,r,o,a,n)=>S(t,t=>{let l=R(r)?e.createElement(r):r;return V(o)&&z(l,o),a&&(!R(a)&&a.nodeType?l.appendChild(a):R(a)&&E(l,a)),n?l:t.appendChild(l)}),A=(t,r,o)=>T(e.createElement(t),t,r,o,!0),O=lC.decode,D=lC.encodeAllRaw,N=(e,t)=>S(e,e=>{let r=rH.fromDom(e);return t&&ep(r6(r),e=>{rg(e)&&0===e.dom.length?oq(e):oL(r,e)}),oq(r),r.dom}),M=(e,t,r)=>{S(e,e=>{if(au(e)){let o=rH.fromDom(e);ep(t.split(" "),e=>{V(r)?(r?rR:rF)(o,e):rL(o,e)})}})},B=(e,t,r)=>S(t,o=>{var a;let n=L(t)?e.cloneNode(!0):e;return r&&il(ii(o.childNodes),e=>{n.appendChild(e)}),null==(a=o.parentNode)||a.replaceChild(n,o),o}),F=e=>{if(au(e)){let t="a"===e.nodeName.toLowerCase()&&!p(e,"href")&&p(e,"id");if(p(e,"name")||p(e,"data-mce-bookmark")||t)return!0}return!1},I=()=>e.createRange(),P=(r,a,n,l)=>{if(!L(r))return t.collect&&(r===e||r===o)&&i.push([r,a,n,l]),d.bind(r,a,n,l||q);{let e=r.length,t=[];for(;e--;)t[e]=P(r[e],a,n,l);return t}},H=(t,r,a)=>{if(L(t)){let e=t.length,o=[];for(;e--;)o[e]=H(t[e],r,a);return o}if(i.length>0&&(t===e||t===o)){let e=i.length;for(;e--;){let[o,n,l]=i[e];t!==o||r&&r!==n||a&&a!==l||d.unbind(o,n,l)}}return d.unbind(t,r,a)},Z=e=>{if(!(e&&ag(e)))return null;{let t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}},q={doc:e,settings:t,win:o,files:a,stdMode:!0,boxModel:!0,styleSheetLoader:l,boundEvents:i,styles:c,schema:s,events:d,isBlock:e=>R(e)?eG(m,e):au(e)&&(eG(m,e.nodeName)||n2(s,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:y,getViewPort:e=>{let t=aa(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{let t=u(e),r=b(t),o=k(t);return{x:r.x,y:r.y,w:o.w,h:o.h}},getSize:k,getParent:(e,t,r)=>{let o=_(e,t,r,!1);return o&&o.length>0?o[0]:null},getParents:_,get:u,getNext:(e,t)=>x(e,t,"nextSibling"),getPrev:(e,t)=>x(e,t,"previousSibling"),select:(r,o)=>{var a,n;let l=null!=(n=null!=(a=u(o))?a:t.root_element)?n:e;return C(l)?eM(l.querySelectorAll(r)):[]},is:w,add:T,create:A,createHTML:(e,t,r="")=>{let o="<"+e;for(let e in t)eK(t,e)&&(o+=" "+e+'="'+D(t[e])+'"');return tb(r)&&eG(s.getVoidElements(),e)?o+" />":o+">"+r+"</"+e+">"},createFragment:t=>{let r,o=e.createElement("div"),a=e.createDocumentFragment();for(a.appendChild(o),t&&(o.innerHTML=t);r=o.firstChild;)a.appendChild(r);return a.removeChild(o),a},remove:N,setStyle:(e,r,o)=>{S(e,e=>{let a=rH.fromDom(e);ih(a,r,o),t.update_styles&&ig(c,a)})},getStyle:v,setStyles:(e,r)=>{S(e,e=>{let o=rH.fromDom(e);eI(r,(e,t)=>{ih(o,t,e)}),t.update_styles&&ig(c,o)})},removeAllAttribs:e=>S(e,e=>{let t=e.attributes;for(let r=t.length-1;r>=0;r--)e.removeAttributeNode(t.item(r))}),setAttrib:f,setAttribs:z,getAttrib:p,getPos:b,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(q!==ib.DOM&&e===document){if(r[t])return;r[t]=!0}let o=e.getElementById("mceDefaultStyles");if(!o){(o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css";let t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),ep(e.split(","),e=>{a[e]=!0,l.load(e).catch(W)})},addClass:(e,t)=>{M(e,t,!0)},removeClass:(e,t)=>{M(e,t,!1)},hasClass:(e,t)=>{let r=g(e),o=t.split(" ");return V(r)&&eS(o,e=>rI(r,e))},toggleClass:M,show:e=>{S(e,e=>oB(rH.fromDom(e),"display"))},hide:e=>{S(e,e=>oA(rH.fromDom(e),"display","none"))},isHidden:e=>{let t=g(e);return V(t)&&t4(oM(t,"display"),"none")},uniqueId:e=>(e||"mce_")+n++,setHTML:E,getOuterHTML:e=>{let t=g(e);return V(t)?au(t.dom)?t.dom.outerHTML:oX(t):""},setOuterHTML:(e,t)=>{S(e,e=>{au(e)&&(e.outerHTML=t)})},decode:O,encode:D,insertAfter:(e,t)=>{let r=u(t);return S(e,e=>{let t=null==r?void 0:r.parentNode,o=null==r?void 0:r.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e})},replace:B,rename:(e,t)=>{if(e.nodeName===t.toUpperCase())return e;{let r=A(t);return il(h(e),t=>{f(r,t.nodeName,p(e,t.nodeName))}),B(r,e,!0),r}},findCommonAncestor:(e,t)=>{let r=e;for(;r;){let e=t;for(;e&&r!==e;)e=e.parentNode;if(r===e)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},run:S,getAttribs:h,isEmpty:(e,t,r)=>{let o=0;if(F(e))return!1;let a=e.firstChild;if(a){let n=new ac(a,e),l=s?s.getWhitespaceElements():{},i=t||(s?s.getNonEmptyElements():null),c=a;do{if(au(c)){let e=c.getAttribute("data-mce-bogus");if(e){c=n.next("all"===e);continue}let t=c.nodeName.toLowerCase();if(i&&i[t]){if("br"===t){o++,c=n.next();continue}return!1}if(F(c))return!1}if(aE(c)||aC(c)&&!nk(c.data)&&(!(null==r?void 0:r.includeZwsp)||!nw(c.data))||aC(c)&&c.parentNode&&l[c.parentNode.nodeName]&&nk(c.data))return!1;c=n.next()}while(c)}return o<=1},createRng:I,nodeIndex:iu,split:(e,t,r)=>{let o,a,n=I();if(e&&t&&e.parentNode&&t.parentNode){let l=e.parentNode;return n.setStart(l,iu(e)),n.setEnd(t.parentNode,iu(t)),o=n.extractContents(),(n=I()).setStart(t.parentNode,iu(t)+1),n.setEnd(l,iu(e)+1),a=n.extractContents(),l.insertBefore(lc(q,o,s),e),r?l.insertBefore(r,e):l.insertBefore(t,e),l.insertBefore(lc(q,a,s),e),N(e),r||t}},bind:P,unbind:H,fire:(e,t,r)=>d.dispatch(e,t,r),dispatch:(e,t,r)=>d.dispatch(e,t,r),getContentEditable:Z,getContentEditableParent:e=>{let t=y(),r=null;for(let o=e;o&&o!==t&&null===(r=Z(o));o=o.parentNode);return r},isEditable:e=>{if(!V(e))return!1;{let t=au(e)?e:e.parentElement;return V(t)&&ag(t)&&oC(rH.fromDom(t))}},destroy:()=>{if(i.length>0){let e=i.length;for(;e--;){let[t,r,o]=i[e];d.unbind(t,r,o)}}eI(a,(e,t)=>{l.unload(t),delete a[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},$=iy(c,t,K(q));return q};ib.DOM=ib(document),ib.nodeIndex=iu;let iv=ib.DOM;class ik{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise((t,r)=>{let o,a=()=>{iv.remove(n),o&&(o.onerror=o.onload=o=null)},n=iv.uniqueId();(o=document.createElement("script")).id=n,o.type="text/javascript",o.src=t2._addCacheSuffix(e),this.settings.referrerPolicy&&iv.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=()=>{a(),t()},o.onerror=()=>{a(),r("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)})}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){let t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise((r,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:r,reject:o})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){let e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){let t=this,r=(e,r)=>{e$(t.scriptLoadedCallbacks,r).each(t=>{ep(t,t=>t[e](r))}),delete t.scriptLoadedCallbacks[r]},o=e=>{let t=ey(e,e=>"rejected"===e.status);return t.length>0?Promise.reject(eC(t,({reason:e})=>L(e)?e:[e])):Promise.resolve()},a=e=>Promise.allSettled(eg(e,e=>2===t.states[e]?(r("resolve",e),Promise.resolve()):3===t.states[e]?(r("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then(()=>{t.states[e]=2,r("resolve",e);let n=t.queue;return n.length>0?(t.queue=[],a(n).then(o)):Promise.resolve()},()=>(t.states[e]=3,r("reject",e),Promise.reject(e)))))),n=e=>(t.loading=!0,a(e).then(e=>{t.loading=!1;let r=t.queueLoadedCallbacks.shift();return en.from(r).each(er),o(e)})),l=eX(e);return t.loading?new Promise((e,r)=>{t.queueLoadedCallbacks.push(()=>{n(l).then(e,r)})}):n(l)}}ik.ScriptLoader=new ik;let iw=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},i_=(e,t)=>{let r=e.indexOf(t);return -1!==r&&e.indexOf(t,r+1)>r},ix=e=>B(e)&&eG(e,"raw"),iC=e=>L(e)&&e.length>1,iS={},iz=iw("en"),iE=()=>e$(iS,iz.get()),iT={getData:()=>eP(iS,e=>({...e})),setCode:e=>{e&&iz.set(e)},getCode:()=>iz.get(),add:(e,t)=>{let r=iS[e];r||(iS[e]=r={});let o=eg(eF(t),e=>e.toLowerCase());eI(t,(e,a)=>{let n=a.toLowerCase();n!==a&&i_(o,n)?(eG(t,n)||(r[n]=e),r[a]=e):r[n]=e})},translate:e=>{let t=iE().getOr({}),r=e=>U(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null==e,a=e=>{let o=r(e);return eG(t,o)?r(t[o]):e$(t,o.toLowerCase()).map(r).getOr(o)},n=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(ix(e))return r(e.raw);if(iC(e)){let t=e.slice(1);return n(a(e[0]).replace(/\{([0-9]+)\}/g,(e,o)=>eG(t,o)?r(t[o]):e))}return n(a(e))},isRtl:()=>iE().bind(e=>e$(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>eG(iS,e)},iA=()=>{let e=[],t={},r={},o=[],a=(e,t)=>{ep(ey(o,r=>r.name===e&&r.state===t),e=>e.resolve())},n=e=>eG(t,e),l=e=>eG(r,e),i=(e,r)=>{let o=iT.getCode();o&&(!r||-1!==(","+(r||"")+",").indexOf(","+o+","))&&ik.ScriptLoader.add(t[e]+"/langs/"+o+".js")},s=(e,t="added")=>"added"===t&&l(e)||"loaded"===t&&n(e)?Promise.resolve():new Promise(r=>{o.push({name:e,state:t,resolve:r})});return{items:e,urls:t,lookup:r,get:e=>{if(r[e])return r[e].instance},requireLangPack:(e,t)=>{!1!==iA.languageLoad&&(n(e)?i(e,t):s(e,"loaded").then(()=>i(e,t)))},add:(t,o)=>(e.push(o),r[t]={instance:o},a(t,"added"),o),remove:e=>{delete t[e],delete r[e]},createUrl:(e,t)=>R(t)?R(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,o)=>{if(t[e])return Promise.resolve();let n=R(o)?o:o.prefix+o.resource+o.suffix;0!==n.indexOf("/")&&-1===n.indexOf("://")&&(n=iA.baseURL+"/"+n),t[e]=n.substring(0,n.lastIndexOf("/"));let l=()=>(a(e,"loaded"),Promise.resolve());return r[e]?l():ik.ScriptLoader.add(n).then(l)},waitFor:s}};iA.languageLoad=!0,iA.baseURL="",iA.PluginManager=iA(),iA.ThemeManager=iA(),iA.ModelManager=iA();let iO=e=>{let t=iw(en.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(en.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(en.some(e))}}},iD=e=>{let t=iw(en.none()),r=()=>t.get().each(e=>clearInterval(e));return{clear:()=>{r(),t.set(en.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:o=>{r(),t.set(en.some(setInterval(o,e)))}}},iN=()=>{let e=iO(W);return{...e,on:t=>e.get().each(t)}},iM=(e,t)=>{let r=null;return{cancel:()=>{I(r)||(clearTimeout(r),r=null)},throttle:(...o)=>{I(r)&&(r=setTimeout(()=>{r=null,e.apply(null,o)},t))}}},iR=(e,t)=>{let r=null,o=()=>{I(r)||(clearTimeout(r),r=null)};return{cancel:o,throttle:(...a)=>{o(),r=setTimeout(()=>{r=null,e.apply(null,a)},t)}}},iB=K("mce-annotation"),iF=K("data-mce-annotation"),iL=K("data-mce-annotation-uid"),iI=K("data-mce-annotation-active"),iP=K("data-mce-annotation-classes"),iH=K("data-mce-annotation-attrs"),ij=e=>t=>rW(t,e),iV=(e,t)=>{let r=e.selection.getRng(),o=rH.fromDom(r.startContainer),a=rH.fromDom(e.getBody()),n=t.fold(()=>"."+iB(),e=>`[${iF()}="${e}"]`);return o_(r8(o,r.startOffset).getOr(o),n,ij(a)).bind(t=>rw(t,`${iL()}`).bind(r=>rw(t,`${iF()}`).map(t=>{let o=iq(e,r);return{uid:r,name:t,elements:o}})))},iU=e=>ru(e)&&rI(e,iB()),iZ=(e,t)=>r_(e,"data-mce-bogus")||as(e,'[data-mce-bogus="all"]',ij(t)),iq=(e,t)=>{let r=rH.fromDom(e.getBody());return ey(ai(r,`[${iL()}="${t}"]`),e=>!iZ(e,r))},iW=(e,t)=>{let r=rH.fromDom(e.getBody()),o=ai(r,`[${iF()}="${t}"]`),a={};return ep(o,e=>{if(!iZ(e,r)){let t=rk(e,iL()),r=e$(a,t).getOr([]);a[t]=r.concat([e])}}),a},i$=(e,t)=>{let r=iw({}),o=()=>({listeners:[],previous:iN()}),a=(e,t)=>{n(e,e=>(t(e),e))},n=(e,t)=>{let a=r.get(),n=t(e$(a,e).getOrThunk(o));a[e]=n,r.set(a)},l=(e,t,r)=>{a(e,o=>{ep(o.listeners,o=>o(!0,e,{uid:t,nodes:eg(r,e=>e.dom)}))})},i=e=>{a(e,t=>{ep(t.listeners,t=>t(!1,e))})},s=(t,r)=>{ep(iq(e,t),e=>{r?rb(e,iI(),"true"):rx(e,iI())})},c=iR(()=>{ep(eA(t.getNames()),t=>{n(t,r=>{let o=r.previous.get();return iV(e,en.some(t)).fold(()=>{o.each(e=>{i(t),r.previous.clear(),s(e,!1)})},({uid:e,name:t,elements:a})=>{t4(o,e)||(o.each(e=>s(e,!1)),l(t,e,a),r.previous.set(e),s(e,!0))}),{previous:r.previous,listeners:r.listeners}})})},30);return e.on("remove",()=>{c.cancel()}),e.on("NodeChange",()=>{c.throttle()}),{addListener:(e,t)=>{n(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}},iG=(e,t)=>{let r=iF(),o=e=>en.from(e.attr(r)).bind(t.lookup),a=e=>{var t,r;e.attr(iL(),null),e.attr(iF(),null),e.attr(iI(),null);let o=en.from(e.attr(iH())).map(e=>e.split(",")).getOr([]),a=en.from(e.attr(iP())).map(e=>e.split(",")).getOr([]);ep(o,t=>e.attr(t,null));let n=eE(null!=(r=null==(t=e.attr("class"))?void 0:t.split(" "))?r:[],[iB()].concat(a));e.attr("class",n.length>0?n.join(" "):null),e.attr(iP(),null),e.attr(iH(),null)};e.serializer.addTempAttr(iI()),e.serializer.addAttributeFilter(r,e=>{for(let t of e)o(t).each(e=>{!1===e.persistent&&("span"===t.name?t.unwrap():a(t))})})},iK=()=>{let e={};return{register:(t,r)=>{e[t]={name:t,settings:r}},lookup:t=>e$(e,t).map(e=>e.settings),getNames:()=>eF(e)}},iY=0,iX=e=>{let t=new Date().getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++iY+String(t)},iJ=(e,t)=>{ep(t,t=>{rR(e,t)})},iQ=(e,t)=>{ep(t,t=>{rF(e,t)})},i1=(e,t)=>rH.fromDom(e.dom.cloneNode(t)),i0=e=>i1(e,!1),i2=e=>i1(e,!0),i4=(e,t)=>{let r=rH.fromTag(t);return rv(r,rS(e)),r},i3=(e,t)=>{let r=i4(e,t);return oI(e,r),oU(r,r6(e)),oq(e),r},i5=(e,t,r=eo)=>{let o=new ac(e,t),a=e=>{let t;do t=o[e]();while(t&&!aC(t)&&!r(t));return en.from(t).filter(aC)};return{current:()=>en.from(o.current()).filter(aC),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},i6=(e,t)=>{let r=t||(t=>e.isBlock(t)||aO(t)||aM(t)),o=(e,t,r,a)=>{if(aC(e)){let r=a(e,t,e.data);if(-1!==r)return en.some({container:e,offset:r})}return r().bind(e=>o(e.container,e.offset,r,a))};return{backwards:(t,a,n,l)=>{let i=i5(t,null!=l?l:e.getRoot(),r);return o(t,a,()=>i.prev().map(e=>({container:e,offset:e.length})),n).getOrNull()},forwards:(t,a,n,l)=>{let i=i5(t,null!=l?l:e.getRoot(),r);return o(t,a,()=>i.next().map(e=>({container:e,offset:0})),n).getOrNull()}}},i8=Math.round,i7=e=>e?{left:i8(e.left),top:i8(e.top),bottom:i8(e.bottom),right:i8(e.right),width:i8(e.width),height:i8(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},i9=(e,t)=>(e=i7(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),se=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,st=(e,t,r)=>e>=0&&e<=Math.min(t.height,r.height)/2,sr=(e,t)=>{let r=Math.min(t.height/2,e.height/2);return e.bottom-r<t.top||!(e.top>t.bottom)&&st(t.top-e.bottom,e,t)},so=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&st(t.bottom-e.top,e,t),sa=(e,t,r)=>t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom,sn=e=>ev(e,(e,t)=>e.fold(()=>en.some(t),e=>{let r=Math.min(t.left,e.left),o=Math.min(t.top,e.top),a=Math.max(t.right,e.right),n=Math.max(t.bottom,e.bottom);return en.some({top:o,right:a,bottom:n,left:r,width:a-r,height:n-o})}),en.none()),sl=(e,t,r)=>{let o=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(r,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(r-a)*(r-a))},si=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),ss=(e,t,r)=>Math.min(Math.max(e,t),r),sc=e=>{let t=e.startContainer,r=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===r+1?t.childNodes[r]:null},sd=(e,t)=>{if(!(au(e)&&e.hasChildNodes()))return e;{let r=e.childNodes,o=ss(t,0,r.length-1);return r[o]}},sm=RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),su=e=>R(e)&&e.charCodeAt(0)>=768&&sm.test(e),sg=ay("display","block table"),sp=((...e)=>t=>{for(let r=0;r<e.length;r++)if(!e[r](t))return!1;return!0})(au,ng,Q(ay("float","left right"))),sh=Q(ay("white-space","pre pre-line pre-wrap")),sf=ib.nodeIndex,sy=(e,t)=>{if(!(t<0&&au(e)&&e.hasChildNodes()))return sd(e,t)},sb=e=>e?e.createRange():ib.DOM.createRng(),sv=e=>R(e)&&/[\r\n\t ]/.test(e),sk=e=>!!e.setStart&&!!e.setEnd,sw=e=>{let t=e.startContainer,r=e.startOffset;if(sv(e.toString())&&sh(t.parentNode)&&aC(t)){let e=t.data;if(sv(e[r-1])||sv(e[r+1]))return!0}return!1},s_=e=>{let t=e.ownerDocument,r=sb(t),o=t.createTextNode("\xa0"),a=e.parentNode;a.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1);let n=i7(r.getBoundingClientRect());return a.removeChild(o),n},sx=e=>{let t=e.startContainer,r=e.endContainer,o=e.startOffset,a=e.endOffset;if(!(t===r&&aC(r))||0!==o||1!==a)return null;{let t=e.cloneRange();return t.setEndAfter(r),sS(t)}},sC=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,sS=e=>{var t;let r,o=e.getClientRects();return(r=o.length>0?i7(o[0]):i7(e.getBoundingClientRect()),!sk(e)&&aO(e)&&sC(r))?s_(e):sC(r)&&sk(e)&&null!=(t=sx(e))?t:r},sz=(e,t)=>{let r=i9(e,t);return r.width=1,r.right=r.left+1,r},sE=e=>{let t=[],r=e=>{0!==e.height&&(t.length>0&&se(e,t[t.length-1])||t.push(e))},o=(e,t)=>{let o=sb(e.ownerDocument);if(t<e.data.length){if(su(e.data[t]))return;if(su(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!sw(o)))return void r(sz(sS(o),!1))}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),sw(o)||r(sz(sS(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),sw(o)||r(sz(sS(o),!0)))},a=e.container(),n=e.offset();if(aC(a))return o(a,n),t;if(au(a))if(e.isAtEnd()){let e=sy(a,n);aC(e)&&o(e,e.data.length),sp(e)&&!aO(e)&&r(sz(sS(e),!1))}else{let l=sy(a,n);if(aC(l)&&o(l,0),sp(l)&&e.isAtEnd())return r(sz(sS(l),!1)),t;let i=sy(e.container(),e.offset()-1);sp(i)&&!aO(i)&&(sg(i)||sg(l)||!sp(l))&&r(sz(sS(i),!1)),sp(l)&&r(sz(sS(l),!0))}return t},sT=(e,t,r)=>{let o=()=>(r||(r=sE(sT(e,t))),r);return{container:K(e),offset:K(t),toRange:()=>{let r=sb(e.ownerDocument);return r.setStart(e,t),r.setEnd(e,t),r},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>(aC(e),0===t),isAtEnd:()=>aC(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:r=>r&&e===r.container()&&t===r.offset(),getNode:r=>sy(e,r?t-1:t)}};sT.fromRangeStart=e=>sT(e.startContainer,e.startOffset),sT.fromRangeEnd=e=>sT(e.endContainer,e.endOffset),sT.after=e=>sT(e.parentNode,sf(e)+1),sT.before=e=>sT(e.parentNode,sf(e)),sT.isAbove=(e,t)=>t6(eD(t.getClientRects()),eN(e.getClientRects()),sr).getOr(!1),sT.isBelow=(e,t)=>t6(eN(t.getClientRects()),eD(e.getClientRects()),so).getOr(!1),sT.isAtStart=e=>!!e&&e.isAtStart(),sT.isAtEnd=e=>!!e&&e.isAtEnd(),sT.isTextPosition=e=>!!e&&aC(e.container()),sT.isElementPosition=e=>!sT.isTextPosition(e);let sA=(e,t)=>{aC(t)&&0===t.data.length&&e.remove(t)},sO=(e,t,r)=>{t.insertNode(r),sA(e,r.previousSibling),sA(e,r.nextSibling)},sD=(e,t,r)=>{let o=en.from(r.firstChild),a=en.from(r.lastChild);t.insertNode(r),o.each(t=>sA(e,t.previousSibling)),a.each(t=>sA(e,t.nextSibling))},sN=(e,t,r)=>{aA(r)?sD(e,t,r):sO(e,t,r)},sM=ib.nodeIndex,sR=e=>{let t=e.parentNode;return av(t)?sR(t):t},sB=e=>e?e4(e.childNodes,(e,t)=>(av(t)&&"BR"!==t.nodeName?e=e.concat(sB(t)):e.push(t),e),[]):[],sF=(e,t)=>{let r=e;for(;(r=r.previousSibling)&&aC(r);)t+=r.data.length;return t},sL=e=>t=>e===t,sI=e=>{let t,r;r=e3(t=sB(sR(e)),sL(e),e);let o=e4(t=t.slice(0,r+1),(e,r,o)=>(aC(r)&&aC(t[o-1])&&e++,e),0);return(r=e3(t=e2(t,af([e.nodeName])),sL(e),e))-o},sP=e=>(aC(e)?"text()":e.nodeName.toLowerCase())+"["+sI(e)+"]",sH=(e,t,r)=>{let o=[];for(let a=t.parentNode;a&&a!==e&&!(r&&r(a));a=a.parentNode)o.push(a);return o},sj=(e,t)=>{let r,o=[],a=t.container(),n=t.offset();if(aC(a))r=sF(a,n);else{let e=a.childNodes;n>=e.length?(r="after",n=e.length-1):r="before",a=e[n]}o.push(sP(a));let l=sH(e,a);return l=e2(l,Q(av)),(o=o.concat(e0(l,e=>sP(e)))).reverse().join("/")+","+r},sV=(e,t,r)=>{let o=sB(e);return o=e2(o,(e,t)=>!aC(e)||!aC(o[t-1])),(o=e2(o,af([t])))[r]},sU=(e,t)=>{let r=e,o=0;for(;aC(r);){let a=r.data.length;if(t>=o&&t<=o+a){e=r,t-=o;break}if(!aC(r.nextSibling)){e=r,t=a;break}o+=a,r=r.nextSibling}return aC(e)&&t>e.data.length&&(t=e.data.length),sT(e,t)},sZ=(e,t)=>{if(!t)return null;let r=t.split(","),o=r[0].split("/"),a=r.length>1?r[1]:"before",n=e4(o,(e,t)=>{let r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return r?("text()"===r[1]&&(r[1]="#text"),sV(e,r[1],parseInt(r[2],10))):null},e);if(!n)return null;if(!aC(n)&&n.parentNode){let e;return e="after"===a?sM(n)+1:sM(n),sT(n.parentNode,e)}return sU(n,parseInt(a,10))},sq=(e,t,r)=>{let o=e(t.data.slice(0,r)).length;for(let r=t.previousSibling;r&&aC(r);r=r.previousSibling)o+=e(r.data).length;return o},sW=(e,t,r,o,a)=>{let n=a?o.startContainer:o.endContainer,l=a?o.startOffset:o.endOffset,i=[],s=e.getRoot();if(aC(n))i.push(r?sq(t,n,l):l);else{let t=0,o=n.childNodes;l>=o.length&&o.length&&(t=1,l=Math.max(0,o.length-1)),i.push(e.nodeIndex(o[l],r)+t)}for(let t=n;t&&t!==s;t=t.parentNode)i.push(e.nodeIndex(t,r));return i},s$=(e,t,r,o)=>{let a=t.dom,n=sW(a,e,r,o,!0),l=t.isForward(),i=nc(o)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:n,forward:l,...i}:{start:n,end:sW(a,e,r,o,!1),forward:l,...i}},sG=(e,t,r)=>{let o=0;return t2.each(e.select(t),e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==r&&void o++),o},sK=(e,t)=>{let r=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(au(r)&&"TR"===r.nodeName){let a=r.childNodes;(r=a[Math.min(t?o:o-1,a.length-1)])&&(o=t?0:r.childNodes.length,t?e.setStart(r,o):e.setEnd(r,o))}},sY=e=>(sK(e,!0),sK(e,!1),e),sX=(e,t)=>{if(au(e)&&aM(e=sd(e,t)))return e;if(a9(e)){aC(e)&&a8(e)&&(e=e.parentNode);let t=e.previousSibling;if(aM(t)||aM(t=e.nextSibling))return t}},sJ=e=>sX(e.startContainer,e.startOffset)||sX(e.endContainer,e.endOffset),sQ=(e,t,r)=>{let o=r.getNode(),a=r.getRng();if("IMG"===o.nodeName||aM(o)){let e=o.nodeName;return{name:e,index:sG(r.dom,e,o)}}let n=sJ(a);if(n){let e=n.tagName;return{name:e,index:sG(r.dom,e,n)}}return s$(e,r,t,a)},s1=e=>{let t=e.getRng();return{start:sj(e.dom.getRoot(),sT.fromRangeStart(t)),end:sj(e.dom.getRoot(),sT.fromRangeEnd(t)),forward:e.isForward()}},s0=e=>({rng:e.getRng(),forward:e.isForward()}),s2=(e,t,r)=>{let o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return r?e.create("span",o,"&#xFEFF;"):e.create("span",o)},s4=(e,t)=>{let r=e.dom,o=e.getRng(),a=r.uniqueId(),n=e.isCollapsed(),l=e.getNode(),i=l.nodeName,s=e.isForward();if("IMG"===i)return{name:i,index:sG(r,i,l)};let c=sY(o.cloneRange());if(!n){c.collapse(!1);let e=s2(r,a+"_end",t);sN(r,c,e)}(o=sY(o)).collapse(!0);let d=s2(r,a+"_start",t);return sN(r,o,d),e.moveToBookmark({id:a,keep:!0,forward:s}),{id:a,forward:s}},s3=(e,t,r=!1)=>2===t?sQ(a5,r,e):3===t?s1(e):t?s0(e):s4(e,!1),s5=J(sQ,Y,!0),s6={value:e=>{let t=t=>t(e),r=K(e),o=()=>a,a={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:ea,isError:eo,map:t=>s6.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:r,or:o,getOrThunk:r,orThunk:o,getOrDie:r,each:t=>{t(e)},toOptional:()=>en.some(e)};return a},error:e=>{let t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:eo,isError:ea,map:t,mapError:t=>s6.error(t(e)),bind:t,exists:eo,forall:ea,getOr:Y,or:Y,getOrThunk:et,orThunk:et,getOrDie:ee(String(e)),each:W,toOptional:en.none};return r}},s8=e=>{if(!L(e))throw Error("cases must be an array");if(0===e.length)throw Error("there must be at least one case");let t=[],r={};return ep(e,(o,a)=>{let n=eF(o);if(1!==n.length)throw Error("one and only one name per case");let l=n[0],i=o[l];if(void 0!==r[l])throw Error("duplicate key detected:"+l);if("cata"===l)throw Error("cannot have a case named cata (sorry)");if(!L(i))throw Error("case arguments must be an array");t.push(l),r[l]=(...r)=>{let o=r.length;if(o!==i.length)throw Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,r)},match:e=>{let o=eF(e);if(t.length!==o.length)throw Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!eS(t,e=>em(o,e)))throw Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:l,params:r})}}}}),r};s8([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);let s7=e=>{let t=[],r=[];return ep(e,e=>{e.fold(e=>{t.push(e)},e=>{r.push(e)})}),{errors:t,values:r}},s9=e=>"inline-command"===e.type||"inline-format"===e.type,ce=e=>"block-command"===e.type||"block-format"===e.type,ct=e=>{let t=t=>s6.error({message:t,pattern:e}),r=(r,o,a)=>{if(void 0!==e.format){let a;if(L(e.format)){if(!eS(e.format,R))return t(r+" pattern has non-string items in the `format` array");a=e.format}else{if(!R(e.format))return t(r+" pattern has non-string `format` parameter");a=[e.format]}return s6.value(o(a))}return void 0===e.cmd?t(r+" pattern is missing both `format` and `cmd` parameters"):R(e.cmd)?s6.value(a(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter")};if(!B(e))return t("Raw pattern is not an object");if(!R(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!R(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let o=e.start,a=e.end;return 0===a.length&&(a=o,o=""),r("Inline",e=>({type:"inline-format",start:o,end:a,format:e}),(e,t)=>({type:"inline-command",start:o,end:a,cmd:e,value:t}))}return void 0!==e.replacement?R(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):s6.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):r("Block",t=>({type:"block-format",start:e.start,format:t[0]}),(t,r)=>({type:"block-command",start:e.start,cmd:t,value:r}))},cr=e=>ey(e,ce),co=e=>ey(e,s9),ca=(e,t)=>({inlinePatterns:co(e),blockPatterns:cr(e),dynamicPatternsLookup:t}),cn=e=>{let t=s7(eg(e,ct));return ep(t.errors,e=>console.error(e.message,e.pattern)),t.values},cl=e=>t=>cn(e(t)),ci=tq().deviceType,cs=ci.isTouch(),cc=ib.DOM,cd=e=>ev(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(e,t)=>{let r=t.split("="),o=r[0],a=r.length>1?r[1]:o;return e[tp(o)]=tp(a),e},{}),cm=e=>M(e,RegExp),cu=e=>t=>t.options.get(e),cg=e=>R(e)||B(e),cp=(e,t="")=>r=>{let o=R(r);return o?-1!==r.indexOf("=")?{value:e$(cd(r),e.id).getOr(t),valid:o}:{value:r,valid:o}:{valid:!1,message:"Must be a string."}},ch=e=>{let t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:cp(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:cp(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{let t=R(e)&&ty(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{let t=em(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>P(e)||R(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{let t=!1===e||R(e)||q(e,R);return t?R(e)?{value:eg(e.split(","),tp),valid:t}:L(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:dt(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{let t=R(e)||q(e,R);return t?{value:L(e)?e:eg(e.split(","),tp),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{let t=P(e)||R(e);return t?!1===e||ci.isiPhone()||ci.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!cs}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||R(e)||U(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{let t=!1===e||R(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:cg}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:cg}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:cg}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>R(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>q(e,B)||!1===e?{value:cn(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>U(e)?{value:cl(e),valid:!0}:{valid:!1,message:"Must be a single function"},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>q(e,cm)?{value:e,valid:!0}:cm(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{let t=em(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{let t=em(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("force_hex_color",{processor:e=>{let t=["always","rgb_only","off"],r=em(t,e);return r?{value:e,valid:r}:{valid:!1,message:`Must be one of: ${t.join(", ")}.`}},default:"off"}),t("sandbox_iframes",{processor:"boolean",default:!1}),t("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:iT.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:cc.getAttrib(e.getElement(),"placeholder")})})},cf=cu("iframe_attrs"),cy=cu("doctype"),cb=cu("document_base_url"),cv=cu("body_id"),ck=cu("body_class"),cw=cu("content_security_policy"),c_=cu("br_in_pre"),cx=cu("forced_root_block"),cC=cu("forced_root_block_attrs"),cS=cu("newline_behavior"),cz=cu("br_newline_selector"),cE=cu("no_newline_selector"),cT=cu("keep_styles"),cA=cu("end_container_on_empty_block"),cO=cu("automatic_uploads"),cD=cu("images_reuse_filename"),cN=cu("images_replace_blob_uris"),cM=cu("icons"),cR=cu("icons_url"),cB=cu("images_upload_url"),cF=cu("images_upload_base_path"),cL=cu("images_upload_credentials"),cI=cu("images_upload_handler"),cP=cu("content_css_cors"),cH=cu("referrer_policy"),cj=cu("language"),cV=cu("language_url"),cU=cu("indent_use_margin"),cZ=cu("indentation"),cq=cu("content_css"),cW=cu("content_style"),c$=cu("font_css"),cG=cu("directionality"),cK=cu("inline_boundaries_selector"),cY=cu("object_resizing"),cX=cu("resize_img_proportional"),cJ=cu("placeholder"),cQ=cu("event_root"),c1=cu("service_message"),c0=cu("theme"),c2=cu("theme_url"),c4=cu("model"),c3=cu("model_url"),c5=cu("inline_boundaries"),c6=cu("formats"),c8=cu("preview_styles"),c7=cu("format_empty_lines"),c9=cu("format_noneditable_selector"),de=cu("custom_ui_selector"),dt=cu("inline"),dr=cu("hidden_input"),da=cu("submit_patch"),dn=cu("add_form_submit_trigger"),dl=cu("add_unload_trigger"),di=cu("custom_undo_redo_levels"),ds=cu("disable_nodechange"),dc=cu("readonly"),dd=cu("editable_root"),dm=cu("content_css_cors"),du=cu("plugins"),dg=cu("external_plugins"),dp=cu("block_unsupported_drop"),dh=cu("visual"),df=cu("visual_table_class"),dy=cu("visual_anchor_class"),db=cu("iframe_aria_text"),dv=cu("setup"),dk=cu("init_instance_callback"),dw=cu("urlconverter_callback"),d_=cu("auto_focus"),dx=cu("browser_spellcheck"),dC=cu("protect"),dS=cu("paste_block_drop"),dz=cu("paste_data_images"),dE=cu("paste_preprocess"),dT=cu("paste_postprocess"),dA=cu("newdocument_content"),dO=cu("paste_webkit_styles"),dD=cu("paste_remove_styles_if_webkit"),dN=cu("paste_merge_formats"),dM=cu("smart_paste"),dR=cu("paste_as_text"),dB=cu("paste_tab_spaces"),dF=cu("allow_html_data_urls"),dL=cu("text_patterns"),dI=cu("text_patterns_lookup"),dP=cu("noneditable_class"),dH=cu("editable_class"),dj=cu("noneditable_regexp"),dV=cu("preserve_cdata"),dU=cu("highlight_on_focus"),dZ=cu("xss_sanitization"),dq=cu("init_content_sync"),dW=e=>e.options.isSet("text_patterns_lookup"),d$=e=>t2.explode(e.options.get("font_size_style_values")),dG=e=>t2.explode(e.options.get("font_size_classes")),dK=e=>"xml"===e.options.get("encoding"),dY=e=>t2.explode(e.options.get("images_file_types")),dX=cu("table_tab_navigation"),dJ=cu("details_initial_state"),dQ=cu("details_serialized_state"),d1=cu("force_hex_color"),d0=cu("sandbox_iframes"),d2=e=>{let t=e.parentNode;t&&t.removeChild(e)},d4=e=>{let t=a5(e);return{count:e.length-t.length,text:t}},d3=e=>{let t;for(;-1!==(t=e.data.lastIndexOf("\uFEFF"));)e.deleteData(t,1)},d5=(e,t)=>(mt(e),t),d6=(e,t)=>{let r=d4(e.data.substr(0,t.offset())),o=d4(e.data.substr(t.offset()));return(r.text+o.text).length>0?(d3(e),sT(e,t.offset()-r.count)):t},d8=(e,t)=>{let r=t.container(),o=ed(eM(r.childNodes),e).map(e=>e<t.offset()?sT(r,t.offset()-1):t).getOr(t);return mt(e),o},d7=(e,t)=>aC(e)&&t.container()===e?d6(e,t):d5(e,t),d9=(e,t)=>t.container()===e.parentNode?d8(e,t):d5(e,t),me=(e,t)=>sT.isTextPosition(t)?d7(e,t):d9(e,t),mt=e=>{au(e)&&a9(e)&&(ne(e)?e.removeAttribute("data-mce-caret"):d2(e)),aC(e)&&(d3(e),0===e.data.length&&d2(e))},mr=(e,t,r)=>{let o,a,n=i9(t.getBoundingClientRect(),r);if("BODY"===e.tagName){let t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,a=e.scrollTop||t.scrollTop}else{let t=e.getBoundingClientRect();o=e.scrollLeft-t.left,a=e.scrollTop-t.top}n.left+=o,n.right+=o,n.top+=a,n.bottom+=a,n.width=1;let l=t.offsetWidth-t.clientWidth;return l>0&&(r&&(l*=-1),n.left+=l,n.right+=l),n},mo=e=>{var t,r;let o=ai(rH.fromDom(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<o.length;e++){let a=o[e].dom,n=a.previousSibling;if(nl(n)){let e=n.data;1===e.length?null==(t=n.parentNode)||t.removeChild(n):n.deleteData(e.length-1,1)}nn(n=a.nextSibling)&&(1===n.data.length?null==(r=n.parentNode)||r.removeChild(n):n.deleteData(0,1))}},ma=(e,t,r,o)=>{let a,n,l=iN(),i=cx(e),s=e.dom,c=()=>{mo(t),n&&(mt(n),n=null),l.on(e=>{s.remove(e.caret),l.clear()}),a&&(clearInterval(a),a=void 0)},d=()=>{a=setInterval(()=>{l.on(e=>{o()?s.toggleClass(e.caret,"mce-visual-caret-hidden"):s.addClass(e.caret,"mce-visual-caret-hidden")})},500)};return{show:(e,o)=>{let a;if(c(),aR(o))return null;if(r(o)){let r=na(i,o,e),c=mr(t,o,e);s.setStyle(r,"top",c.top),n=r;let m=s.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});s.setStyles(m,{...c}),s.add(t,m),l.set({caret:m,element:o,before:e}),e&&s.addClass(m,"mce-visual-caret-before"),d(),(a=o.ownerDocument.createRange()).setStart(r,0),a.setEnd(r,0)}else n=nt(o,e),a=o.ownerDocument.createRange(),ml(n.nextSibling)?(a.setStart(n,0),a.setEnd(n,0)):(a.setStart(n,1),a.setEnd(n,1));return a},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(e=>{let r=mr(t,e.element,e.before);s.setStyles(e.caret,{...r})})},destroy:()=>clearInterval(a)}},mn=()=>tJ.browser.isFirefox(),ml=e=>aM(e)||aF(e),mi=e=>(ml(e)||aw(e)&&mn())&&rQ(rH.fromDom(e)).exists(oC),ms=ay("display","block table table-cell table-caption list-item"),mc=e=>e>0,md=e=>e<0,mm=(e,t)=>{let r;for(;r=e(t);)if(!a8(r))return r;return null},mu=(e,t,r,o,a)=>{let n,l=new ac(e,o),i=aM(e)||a8(e);if(md(t)){if(i&&r(n=mm(l.prev.bind(l),!0)))return n;for(;n=mm(l.prev.bind(l),a);)if(r(n))return n}if(mc(t)){if(i&&r(n=mm(l.next.bind(l),!0)))return n;for(;n=mm(l.next.bind(l),a);)if(r(n))return n}return null},mg=(e,t)=>oh(rH.fromDom(e),e=>aN(e.dom),e=>e.dom===t).map(e=>e.dom).getOr(t),mp=(e,t)=>{for(;e&&e!==t;){if(ms(e))return e;e=e.parentNode}return null},mh=(e,t,r)=>mp(e.container(),r)===mp(t.container(),r),mf=(e,t)=>{if(!t)return en.none();let r=t.container(),o=t.offset();return au(r)?en.from(r.childNodes[o+e]):en.none()},my=(e,t)=>{var r;let o=(null!=(r=t.ownerDocument)?r:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},mb=(e,t,r)=>mp(t,e)===mp(r,e),mv=(e,t,r)=>{let o=e?"previousSibling":"nextSibling",a=r;for(;a&&a!==t;){let e=a[o];if(e&&a9(e)&&(e=e[o]),aM(e)||aF(e)){if(mb(t,e,a))return e;break}if(ng(e))break;a=a.parentNode}return null},mk=J(my,!0),mw=J(my,!1),m_=(e,t,r)=>{let o,a=J(mv,!0,t),n=J(mv,!1,t),l=r.startContainer,i=r.startOffset;if(a8(l)){let e=aC(l)?l.parentNode:l,t=e.getAttribute("data-mce-caret");if("before"===t&&mi(o=e.nextSibling))return mk(o);if("after"===t&&mi(o=e.previousSibling))return mw(o)}if(!r.collapsed)return r;if(aC(l)){if(a9(l)){if(1===e){if(o=n(l))return mk(o);if(o=a(l))return mw(o)}if(-1===e){if(o=a(l))return mw(o);if(o=n(l))return mk(o)}return r}if(nl(l)&&i>=l.data.length-1)return 1===e&&(o=n(l))?mk(o):r;if(nn(l)&&i<=1)return -1===e&&(o=a(l))?mw(o):r;if(i===l.data.length)return(o=n(l))?mk(o):r;if(0===i&&(o=a(l)))return mw(o)}return r},mx=(e,t)=>mf(e?0:-1,t).filter(aM),mC=(e,t,r)=>{let o=m_(e,t,r);return -1===e?sT.fromRangeStart(o):sT.fromRangeEnd(o)},mS=e=>en.from(e.getNode()).map(rH.fromDom),mz=e=>en.from(e.getNode(!0)).map(rH.fromDom),mE=(e,t)=>{let r=t;for(;(r=e(r))&&!r.isVisible(););return r},mT=(e,t)=>{let r=mh(e,t);return!!(!r&&aO(e.getNode()))||r};(d=h||(h={}))[d.Backwards=-1]="Backwards",d[d.Forwards=1]="Forwards";let mA=e=>nm(e)||ny(e),mO=(e,t)=>{let r=[],o=e;for(;o&&o!==t;)r.push(o),o=o.parentNode;return r},mD=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,mN=(e,t)=>{if(mc(e)){if(ng(t.previousSibling)&&!aC(t.previousSibling))return sT.before(t);if(aC(t))return sT(t,0)}if(md(e)){if(ng(t.nextSibling)&&!aC(t.nextSibling))return sT.after(t);if(aC(t))return sT(t,t.data.length)}return md(e)?aO(t)?sT.before(t):sT.after(t):sT.before(t)},mM=(e,t)=>{let r=t.nextSibling;return r&&ng(r)?aC(r)?sT(r,0):sT.before(r):mR(h.Forwards,sT.after(t),e)},mR=(e,t,r)=>{let o,a,n,l;if(!au(r)||!t)return null;if(t.isEqual(sT.after(r))&&r.lastChild){if(l=sT.after(r.lastChild),md(e)&&ng(r.lastChild)&&au(r.lastChild))return aO(r.lastChild)?sT.before(r.lastChild):l}else l=t;let i=l.container(),s=l.offset();if(aC(i)){if(md(e)&&s>0)return sT(i,--s);if(mc(e)&&s<i.length)return sT(i,++s);o=i}else{if(md(e)&&s>0&&ng(a=mD(i,s-1)))return!mA(a)&&(n=mu(a,e,nb,a))?aC(n)?sT(n,n.data.length):sT.after(n):aC(a)?sT(a,a.data.length):sT.before(a);if(mc(e)&&s<i.childNodes.length&&ng(a=mD(i,s)))return aO(a)?mM(r,a):!mA(a)&&(n=mu(a,e,nb,a))?aC(n)?sT(n,0):sT.before(n):aC(a)?sT(a,0):sT.after(a);o=a||l.getNode()}if(o&&(mc(e)&&l.isAtEnd()||md(e)&&l.isAtStart())&&nb(o=mu(o,e,ea,r,!0),r))return mN(e,o);a=o?mu(o,e,nb,r):o;let c=e5(ey(mO(i,r),aM));return!c||a&&c.contains(a)?a?mN(e,a):null:l=mc(e)?sT.after(c):sT.before(c)},mB=e=>({next:t=>mR(h.Forwards,t,e),prev:t=>mR(h.Backwards,t,e)}),mF=(e,t,r)=>{let o=e?sT.before(r):sT.after(r);return mU(e,t,o)},mL=e=>aO(e)?sT.before(e):sT.after(e),mI=e=>sT.isTextPosition(e)?0===e.offset():ng(e.getNode()),mP=e=>{if(!sT.isTextPosition(e))return ng(e.getNode(!0));{let t=e.container();return e.offset()===t.data.length}},mH=(e,t)=>!sT.isTextPosition(e)&&!sT.isTextPosition(t)&&e.getNode()===t.getNode(!0),mj=e=>!sT.isTextPosition(e)&&aO(e.getNode()),mV=(e,t,r)=>e?!mH(t,r)&&!mj(t)&&mP(t)&&mI(r):!mH(r,t)&&mI(t)&&mP(r),mU=(e,t,r)=>{let o=mB(t);return en.from(e?o.next(r):o.prev(r))},mZ=(e,t,r)=>mU(e,t,r).bind(o=>mh(r,o,t)&&mV(e,r,o)?mU(e,t,o):en.some(o)),mq=(e,t,r,o)=>mZ(e,t,r).bind(r=>o(r)?mq(e,t,r,o):en.some(r)),mW=(e,t)=>{let r=e?t.firstChild:t.lastChild;return aC(r)?en.some(sT(r,e?0:r.data.length)):r?ng(r)?en.some(e?sT.before(r):mL(r)):mF(e,t,r):en.none()},m$=J(mU,!0),mG=J(mU,!1),mK=J(mW,!0),mY=J(mW,!1),mX="_mce_caret",mJ=e=>au(e)&&e.id===mX,mQ=(e,t)=>{let r=t;for(;r&&r!==e;){if(mJ(r))return r;r=r.parentNode}return null},m1=e=>R(e.start),m0=e=>eG(e,"rng"),m2=e=>eG(e,"id"),m4=e=>eG(e,"name"),m3=e=>t2.isArray(e.start),m5=e=>!(!m4(e)&&P(e.forward))||e.forward,m6=(e,t)=>(au(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),m8=(e,t)=>t6(en.from(sZ(e.getRoot(),t.start)),en.from(sZ(e.getRoot(),t.end)),(r,o)=>{let a=e.createRng();return a.setStart(r.container(),r.offset()),a.setEnd(o.container(),o.offset()),{range:a,forward:m5(t)}}),m7=(e,t)=>{var r;let o=(null!=(r=e.ownerDocument)?r:document).createTextNode("\uFEFF");e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)},m9=e=>!e.hasChildNodes(),ue=(e,t)=>mY(e).fold(eo,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)),ut=(e,t,r)=>!!(m9(t)&&mQ(e,t))&&(m7(t,r),!0),ur=(e,t,r,o)=>{let a=r[t?"start":"end"],n=e.getRoot();if(a){let e=n,r=a[0];for(let t=a.length-1;e&&t>=1;t--){let r=e.childNodes;if(ut(n,e,o))return!0;if(a[t]>r.length-1){if(ut(n,e,o))return!0;return ue(e,o)}e=r[a[t]]}aC(e)&&(r=Math.min(a[0],e.data.length)),au(e)&&(r=Math.min(a[0],e.childNodes.length)),t?o.setStart(e,r):o.setEnd(e,r)}return!0},uo=e=>aC(e)&&e.data.length>0,ua=(e,t,r)=>{let o=e.get(r.id+"_"+t),a=null==o?void 0:o.parentNode,n=r.keep;if(!o||!a)return en.none();{let l,i;if("start"===t?n?o.hasChildNodes()?(l=o.firstChild,i=1):uo(o.nextSibling)?(l=o.nextSibling,i=0):uo(o.previousSibling)?(l=o.previousSibling,i=o.previousSibling.data.length):(l=a,i=e.nodeIndex(o)+1):(l=a,i=e.nodeIndex(o)):n?o.hasChildNodes()?(l=o.firstChild,i=1):uo(o.previousSibling)?(l=o.previousSibling,i=o.previousSibling.data.length):(l=a,i=e.nodeIndex(o)):(l=a,i=e.nodeIndex(o)),!n){let a,n=o.previousSibling,s=o.nextSibling;for(t2.each(t2.grep(o.childNodes),e=>{aC(e)&&(e.data=e.data.replace(/\uFEFF/g,""))});a=e.get(r.id+"_"+t);)e.remove(a,!0);if(aC(s)&&aC(n)&&!tJ.browser.isOpera()){let t=n.data.length;n.appendData(s.data),e.remove(s),l=n,i=t}}return en.some(sT(l,i))}},un=(e,t)=>{let r=e.createRng();return ur(e,!0,t,r)&&ur(e,!1,t,r)?en.some({range:r,forward:m5(t)}):en.none()},ul=(e,t)=>{let r=ua(e,"start",t);return t6(r,ua(e,"end",t).or(r),(r,o)=>{let a=e.createRng();return a.setStart(m6(e,r.container()),r.offset()),a.setEnd(m6(e,o.container()),o.offset()),{range:a,forward:m5(t)}})},ui=(e,t)=>en.from(e.select(t.name)[t.index]).map(t=>{let r=e.createRng();return r.selectNode(t),{range:r,forward:!0}}),us=(e,t)=>{let r=e.dom;if(t){if(m3(t))return un(r,t);else if(m1(t))return m8(r,t);else if(m2(t))return ul(r,t);else if(m4(t))return ui(r,t);else if(m0(t))return en.some({range:t.rng,forward:m5(t)})}return en.none()},uc=(e,t,r)=>s3(e,t,r),ud=(e,t)=>{us(e,t).each(({range:t,forward:r})=>{e.setRng(t,r)})},um=e=>au(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),uu=e=>"\xa0"===e,ug=e=>""!==e&&-1!==" \f\n\r	\v".indexOf(e),up=e=>!ug(e)&&!uu(e)&&!aH(e),uh=e=>{let t=[];if(e)for(let r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));return t},uf=e=>eC(e,e=>{let t=sc(e);return t?[rH.fromDom(t)]:[]}),uy=e=>uh(e).length>1,ub=e=>ey(uf(e),aJ),uv=e=>ai(e,"td[data-mce-selected],th[data-mce-selected]"),uk=(e,t)=>{let r=uv(t);return r.length>0?r:ub(e)},uw=e=>uk(uh(e.selection.getSel()),rH.fromDom(e.getBody())),u_=(e,t)=>ok(e,"table",t),ux=e=>{let t=e.startContainer,r=e.startOffset;return aC(t)?0===r?en.some(rH.fromDom(t)):en.none():en.from(t.childNodes[r]).map(rH.fromDom)},uC=e=>{let t=e.endContainer,r=e.endOffset;return aC(t)?r===t.data.length?en.some(rH.fromDom(t)):en.none():en.from(t.childNodes[r-1]).map(rH.fromDom)},uS=e=>r7(e).fold(K([e]),t=>[e].concat(uS(t))),uz=e=>r9(e).fold(K([e]),t=>"br"===ri(t)?r2(t).map(t=>[e].concat(uz(t))).getOr([]):[e].concat(uz(t))),uE=(e,t)=>t6(ux(t),uC(t),(t,r)=>{let o=ew(uS(e),J(rW,t)),a=ew(uz(e),J(rW,r));return o.isSome()&&a.isSome()}).getOr(!1),uT=(e,t,r,o)=>{let a=new ac(r,r),n=eZ(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!em(["td","th","table"],t.toLowerCase())),l=r;do{if(aC(l)&&0!==t2.trim(l.data).length)return void(o?t.setStart(l,0):t.setEnd(l,l.data.length));if(n[l.nodeName])return void(o?t.setStartBefore(l):"BR"===l.nodeName?t.setEndBefore(l):t.setEndAfter(l))}while(l=o?a.next():a.prev());"BODY"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},uA=e=>{let t=e.selection.getSel();return V(t)&&t.rangeCount>0},uO=(e,t)=>{let r=uw(e);r.length>0?ep(r,r=>{let o=r.dom,a=e.dom.createRng();a.setStartBefore(o),a.setEndAfter(o),t(a,!0)}):t(e.selection.getRng(),!1)},uD=(e,t,r)=>{let o=s4(e,t);r(o),e.moveToBookmark(o)},uN=e=>Z(null==e?void 0:e.nodeType),uM=e=>au(e)&&!um(e)&&!mJ(e)&&!av(e),uR=(e,t)=>{if(!uM(t)||/^(TD|TH)$/.test(t.nodeName))return!1;{let r=parseInt(e.getAttrib(t,"data-mce-selected"),10);return!isNaN(r)&&r>0}},uB=(e,t,r)=>{let{selection:o,dom:a}=e,n=o.getNode(),l=aM(n);uD(o,!0,()=>{t()}),l&&aM(n)&&a.isChildOf(n,e.getBody())?e.selection.select(n):r(o.getStart())&&uF(a,o)},uF=(e,t)=>{var r,o;let a=t.getRng(),{startContainer:n,startOffset:l}=a;if(!uR(e,t.getNode())&&au(n)){let i,s=n.childNodes,c=e.getRoot();if(l<s.length){let t=s[l];i=new ac(t,null!=(r=e.getParent(t,e.isBlock))?r:c)}else{let t=s[s.length-1];(i=new ac(t,null!=(o=e.getParent(t,e.isBlock))?o:c)).next(!0)}for(let r=i.current();r;r=i.next())if("false"===e.getContentEditable(r))return;else if(aC(r)&&!uH(r)){a.setStart(r,0),t.setRng(a);return}}},uL=(e,t,r)=>{if(e){let o=t?"nextSibling":"previousSibling";for(e=r?e:e[o];e;e=e[o])if(au(e)||!uH(e))return e}},uI=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||n2(e,t),uP=(e,t,r)=>e.schema.isValidChild(t,r),uH=(e,t=!1)=>!!(V(e)&&aC(e))&&nk(t?e.data.replace(/ /g,"\xa0"):e.data),uj=e=>V(e)&&aC(e)&&0===e.length,uV=(e,t)=>{let r="[data-mce-cef-wrappable]",o=c9(e),a=tb(o)?r:`${r},${o}`;return rV(rH.fromDom(t),a)},uU=(e,t)=>{let r=e.dom;return uM(t)&&"false"===r.getContentEditable(t)&&uV(e,t)&&0===r.select('[contenteditable="true"]',t).length},uZ=(e,t)=>U(e)?e(t):(V(t)&&(e=e.replace(/%(\w+)/g,(e,r)=>t[r]||e)),e),uq=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),uW=(e,t)=>{if(j(e))return null;{let r=String(e);return("color"===t||"backgroundColor"===t)&&(r=l1(r)),"fontWeight"===t&&700===e&&(r="bold"),"fontFamily"===t&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),r}},u$=(e,t,r)=>uW(e.getStyle(t,r),r),uG=(e,t)=>{let r;return e.getParent(t,t=>!!au(t)&&!!(r=e.getStyle(t,"text-decoration"))&&"none"!==r),r},uK=(e,t,r)=>e.getParents(t,r,e.getRoot()),uY=(e,t,r)=>{let o=e.formatter.get(t);return V(o)&&eu(o,r)},uX=(e,t)=>uY(e,t,e=>{let t=e=>U(e)||e.length>1&&"%"===e.charAt(0);return eu(["styles","attributes"],r=>e$(e,r).exists(e=>eu(L(e)?e:eW(e),t)))}),uJ=(e,t,r)=>{let o=["inline","block","selector","attributes","styles","classes"],a=e=>eZ(e,(e,t)=>eu(o,e=>e===t));return uY(e,t,t=>{let o=a(t);return uY(e,r,e=>eY(o,a(e)))})},uQ=e=>eK(e,"block"),u1=e=>uQ(e)&&!0===e.wrapper,u0=e=>uQ(e)&&!0!==e.wrapper,u2=e=>eK(e,"selector"),u4=e=>eK(e,"inline"),u3=e=>u2(e)&&u4(e)&&t4(e$(e,"mixed"),!0),u5=e=>u2(e)&&!1!==e.expand&&!u4(e),u6=e=>{let t=[],r=e;for(;r;){if(aC(r)&&"\uFEFF"!==r.data||r.childNodes.length>1)return[];au(r)&&t.push(r),r=r.firstChild}return t},u8=e=>u6(e).length>0,u7=e=>mJ(e.dom)&&u8(e.dom),u9=e=>aO(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,ge=(e,t)=>{let r=t;for(;r;){if(au(r)&&e.getContentEditable(r))return"false"===e.getContentEditable(r)?r:t;r=r.parentNode}return t},gt=(e,t,r,o)=>{let a=t.data;if(e){for(let e=r;e>0;e--)if(o(a.charAt(e-1)))return e}else for(let e=r;e<a.length;e++)if(o(a.charAt(e)))return e;return -1},gr=(e,t,r)=>gt(e,t,r,e=>uu(e)||ug(e)),go=(e,t,r)=>gt(e,t,r,up),ga=(e,t,r,o,a,n)=>{let l,i=e.getParent(r,e.isBlock)||t,s=(t,r,o)=>{let n=i6(e),s=a?n.backwards:n.forwards;return en.from(s(t,r,(e,t)=>um(e.parentNode)?-1:(l=e,o(a,e,t)),i))};return s(r,o,gr).bind(e=>n?s(e.container,e.offset+(a?-1:0),go):en.some(e)).orThunk(()=>l?en.some({container:l,offset:a?0:l.length}):en.none())},gn=(e,t,r,o,a)=>{let n=o[a];aC(o)&&tb(o.data)&&n&&(o=n);let l=uK(e,o);for(let o=0;o<l.length;o++)for(let a=0;a<t.length;a++){let n=t[a];if((!V(n.collapsed)||n.collapsed===r.collapsed)&&u2(n)&&e.is(l[o],n.selector))return l[o]}return o},gl=(e,t,r,o)=>{var a;let n=r,l=e.getRoot(),i=t[0];if(uQ(i)&&(n=i.wrapper?null:e.getParent(r,i.block,l)),!n){let t=null!=(a=e.getParent(r,"LI,TD,TH,SUMMARY"))?a:l;n=e.getParent(aC(r)?r.parentNode:r,t=>t!==l&&uI(e.schema,t),t)}if(n&&uQ(i)&&i.wrapper&&(n=uK(e,n,"ul,ol").reverse()[0]||n),!n)for(n=r;n&&n[o]&&!e.isBlock(n[o])&&!uq(n=n[o],"br"););return n||r},gi=(e,t,r,o)=>{let a=r.parentNode;return!V(r[o])&&(!!(a===t||j(a)||e.isBlock(a))||gi(e,t,a,o))},gs=(e,t,r,o,a)=>{let n=r,l=a?"previousSibling":"nextSibling",i=e.getRoot();if(aC(r)&&!uH(r)&&(a?o>0:o<r.data.length))return r;for(;n;){if(!t[0].block_expand&&e.isBlock(n))return n;for(let t=n[l];t;t=t[l]){let r=aC(t)&&!gi(e,i,t,l);if(!um(t)&&!u9(t)&&!uH(t,r))return n}if(n===i||n.parentNode===i){r=n;break}n=n.parentNode}return r},gc=e=>um(e.parentNode)||um(e),gd=(e,t,r,o=!1)=>{let{startContainer:a,startOffset:n,endContainer:l,endOffset:i}=t,s=r[0];return au(a)&&a.hasChildNodes()&&aC(a=sd(a,n))&&(n=0),au(l)&&l.hasChildNodes()&&aC(l=sd(l,t.collapsed?i:i-1))&&(i=l.data.length),a=ge(e,a),l=ge(e,l),gc(a)&&(a=um(a)?a:a.parentNode,aC(a=t.collapsed?a.previousSibling||a:a.nextSibling||a)&&(n=t.collapsed?a.length:0)),gc(l)&&(l=um(l)?l:l.parentNode,aC(l=t.collapsed?l.nextSibling||l:l.previousSibling||l)&&(i=t.collapsed?0:l.length)),t.collapsed&&(ga(e,e.getRoot(),a,n,!0,o).each(({container:e,offset:t})=>{a=e,n=t}),ga(e,e.getRoot(),l,i,!1,o).each(({container:e,offset:t})=>{l=e,i=t})),(u4(s)||s.block_expand)&&(u4(s)&&aC(a)&&0!==n||(a=gs(e,r,a,n,!0)),u4(s)&&aC(l)&&i!==l.data.length||(l=gs(e,r,l,i,!1))),u5(s)&&(a=gn(e,r,t,a,"previousSibling"),l=gn(e,r,t,l,"nextSibling")),(uQ(s)||u2(s))&&(a=gl(e,r,a,"previousSibling"),l=gl(e,r,l,"nextSibling"),uQ(s)&&(e.isBlock(a)||(a=gs(e,r,a,n,!0)),e.isBlock(l)||(l=gs(e,r,l,i,!1)))),au(a)&&a.parentNode&&(n=e.nodeIndex(a),a=a.parentNode),au(l)&&l.parentNode&&(i=e.nodeIndex(l)+1,l=l.parentNode),{startContainer:a,startOffset:n,endContainer:l,endOffset:i}},gm=(e,t,r)=>{var o;let a=t.startOffset,n=sd(t.startContainer,a),l=t.endOffset,i=sd(t.endContainer,l-1),s=e=>{let t=e[0];aC(t)&&t===n&&a>=t.data.length&&e.splice(0,1);let r=e[e.length-1];return 0===l&&e.length>0&&r===i&&aC(r)&&e.splice(e.length-1,1),e},c=(e,t,r)=>{let o=[];for(;e&&e!==r;e=e[t])o.push(e);return o},d=(t,r)=>e.getParent(t,e=>e.parentNode===r,r),m=(e,t,o)=>{let a=o?"nextSibling":"previousSibling";for(let n=e,l=n.parentNode;n&&n!==t;n=l){l=n.parentNode;let t=c(n===e?n:n[a],a);t.length&&(o||t.reverse(),r(s(t)))}};if(n===i)return r(s([n]));let u=null!=(o=e.findCommonAncestor(n,i))?o:e.getRoot();if(e.isChildOf(n,i))return m(n,u,!0);if(e.isChildOf(i,n))return m(i,u);let g=d(n,u)||n,p=d(i,u)||i;m(n,g,!0);let h=c(g===n?g:g.nextSibling,"nextSibling",p===i?p.nextSibling:p);h.length&&r(s(h)),m(i,p)},gu=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],gg=e=>rg(e)&&"\uFEFF"===aV(e),gp=(e,t,r,o)=>rJ(t).fold(()=>"skipping",a=>{if("br"===o||gg(t))return"valid";if(iU(t))return"existing";if(mJ(t.dom))return"caret";if(eu(gu,e=>rV(t,e)))return"valid-block";if(!uP(e,r,o)||!uP(e,ri(a),r))return"invalid-child";else return"valid"}),gh=(e,t)=>{let r=gd(e.dom,t,[{inline:"span"}]);t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)},gf=(e,t,r,o,a,n)=>{let{uid:l=t,...i}=r;rR(e,iB()),rb(e,`${iL()}`,l),rb(e,`${iF()}`,o);let{attributes:s={},classes:c=[]}=a(l,i);if(rv(e,s),iJ(e,c),n){c.length>0&&rb(e,`${iP()}`,c.join(","));let t=eF(s);t.length>0&&rb(e,`${iH()}`,t.join(","))}},gy=e=>{rF(e,iB()),rx(e,`${iL()}`),rx(e,`${iF()}`),rx(e,`${iI()}`);let t=rw(e,`${iH()}`).map(e=>e.split(",")).getOr([]),r=rw(e,`${iP()}`).map(e=>e.split(",")).getOr([]);ep(t,t=>rx(e,t)),iQ(e,r),rx(e,`${iP()}`),rx(e,`${iH()}`)},gb=(e,t,r,o,a)=>{let n=rH.fromTag("span",e);return gf(n,t,r,o,a,!1),n},gv=(e,t,r,o,a,n)=>{let l=[],i=gb(e.getDoc(),r,n,o,a),s=iN(),c=()=>{s.clear()},d=()=>s.get().getOrThunk(()=>{let e=i0(i);return l.push(e),s.set(e),e}),m=e=>{ep(e,u)},u=t=>{switch(gp(e,t,"span",ri(t))){case"invalid-child":c(),m(r6(t)),c();break;case"valid-block":c(),gf(t,r,n,o,a,!0);break;case"valid":oj(t,d())}},g=e=>{m(eg(e,rH.fromDom))};return gm(e.dom,t,e=>{c(),g(e)}),l},gk=(e,t,r,o)=>{e.undoManager.transact(()=>{let a=e.selection,n=a.getRng(),l=uw(e).length>0,i=iX("mce-annotation");if(n.collapsed&&!l&&gh(e,n),a.getRng().collapsed&&!l){let n=gb(e.getDoc(),i,o,t,r.decorate);oY(n,"\xa0"),a.getRng().insertNode(n.dom),a.select(n.dom)}else uD(a,!1,()=>{uO(e,a=>{gv(e,a,i,t,r.decorate,o)})})})},gw=e=>{let t=iK();iG(e,t);let r=i$(e,t),o=rf("span"),a=e=>{ep(e,e=>{o(e)?oW(e):gy(e)})};return{register:(e,r)=>{t.register(e,r)},annotate:(r,o)=>{t.lookup(r).each(t=>{gk(e,r,t,o)})},annotationChanged:(e,t)=>{r.addListener(e,t)},remove:t=>{iV(e,en.some(t)).each(({elements:t})=>{let r=e.selection.getBookmark();a(t),e.selection.moveToBookmark(r)})},removeAll:t=>{let r=e.selection.getBookmark();eI(iW(e,t),(e,t)=>{a(e)}),e.selection.moveToBookmark(r)},getAll:t=>eP(iW(e,t),e=>eg(e,e=>e.dom))}},g_=e=>({getBookmark:J(uc,e),moveToBookmark:J(ud,e)});g_.isBookmarkNode=um;let gx=(e,t,r)=>!r.collapsed&&eu(r.getClientRects(),r=>sa(r,e,t)),gC=(e,t)=>e.dispatch("PreProcess",t),gS=(e,t)=>e.dispatch("PostProcess",t),gz=e=>{e.dispatch("remove")},gE=e=>{e.dispatch("detach")},gT=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},gA=(e,t,r,o,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:r,height:o,origin:a})},gO=(e,t,r,o,a)=>{e.dispatch("ObjectResized",{target:t,width:r,height:o,origin:a})},gD=e=>{e.dispatch("PreInit")},gN=e=>{e.dispatch("PostRender")},gM=e=>{e.dispatch("Init")},gR=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},gB=(e,t,r)=>{e.dispatch(t,r)},gF=(e,t,r,o)=>{e.dispatch("FormatApply",{format:t,node:r,vars:o})},gL=(e,t,r,o)=>{e.dispatch("FormatRemove",{format:t,node:r,vars:o})},gI=(e,t)=>e.dispatch("BeforeSetContent",t),gP=(e,t)=>e.dispatch("SetContent",t),gH=(e,t)=>e.dispatch("BeforeGetContent",t),gj=(e,t)=>e.dispatch("GetContent",t),gV=(e,t)=>{e.dispatch("AutocompleterStart",t)},gU=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},gZ=e=>{e.dispatch("AutocompleterEnd")},gq=(e,t,r)=>e.dispatch("PastePreProcess",{content:t,internal:r}),gW=(e,t,r)=>e.dispatch("PastePostProcess",{node:t,internal:r}),g$=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),gG=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),gK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||gK.metaKeyPressed(e),metaKeyPressed:e=>tJ.os.isMacOS()||tJ.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},gY="data-mce-selected",gX=Math.abs,gJ=Math.round,gQ={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},g1=e=>"longpress"===e.type||0===e.type.indexOf("touch"),g0=(e,t)=>{let r,o,a,n,l,i,s,c,d,m,u,g,p,h,f,y,b,v=t.dom,k=t.getDoc(),w=document,_=t.getBody(),x=e=>V(e)&&(aD(e)||v.is(e,"figure.image")),C=e=>aF(e)||v.hasClass(e,"mce-preview-object"),S=(e,t)=>{if(!g1(e))return x(e.target)&&!gx(e.clientX,e.clientY,t);{let r=e.touches[0];return x(e.target)&&!gx(r.clientX,r.clientY,t)}},z=e=>{let r=e.target;S(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(r)},E=e=>v.hasClass(e,"mce-preview-object")&&V(e.firstElementChild)?[e,e.firstElementChild]:v.is(e,"figure.image")?[e.querySelector("img")]:[e],T=e=>{let r=cY(t);return!!r&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(v.hasClass(e,"mce-preview-object")&&V(e.firstElementChild)?rV(rH.fromDom(e.firstElementChild),r):rV(rH.fromDom(e),r))},A=e=>C(e)?v.create("img",{src:tJ.transparentSrc}):e.cloneNode(!0),O=(e,r,o)=>{V(o)&&ep(E(e),e=>{e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r)?v.setStyle(e,r,o):v.setAttrib(e,r,""+o)})},D=(e,t,r)=>{O(e,"width",t),O(e,"height",r)},N=e=>{let l,k,w,S,z;l=e.screenX-i,k=e.screenY-s,h=l*n[2]+m,f=k*n[3]+u,h=h<5?5:h,f=f<5?5:f,((x(r)||C(r))&&!1!==cX(t)?!gK.modifierPressed(e):gK.modifierPressed(e))&&(gX(l)>gX(k)?(f=gJ(h*g),h=gJ(f/g)):(h=gJ(f/g),f=gJ(h*g))),D(o,h,f),S=n.startPos.x+l,z=n.startPos.y+k,S=S>0?S:0,z=z>0?z:0,v.setStyles(a,{left:S,top:z,display:"block"}),a.innerHTML=h+" &times; "+f,n[2]<0&&o.clientWidth<=h&&v.setStyle(o,"left",c+(m-h)),n[3]<0&&o.clientHeight<=f&&v.setStyle(o,"top",d+(u-f)),(l=_.scrollWidth-y)+(k=_.scrollHeight-b)!=0&&v.setStyles(a,{left:S-l,top:z-k}),p||(gA(t,r,m,u,"corner-"+n.name),p=!0)},M=()=>{let e=p;p=!1,e&&(O(r,"width",h),O(r,"height",f)),v.unbind(k,"mousemove",N),v.unbind(k,"mouseup",M),w!==k&&(v.unbind(w,"mousemove",N),v.unbind(w,"mouseup",M)),v.remove(o),v.remove(a),v.remove(l),R(r),e&&(gO(t,r,h,f,"corner-"+n.name),v.setAttrib(r,"style",v.getAttrib(r,"style"))),t.nodeChanged()},R=e=>{P();let c=v.getPos(e,_),d=c.x,p=c.y,x=e.getBoundingClientRect(),C=x.width||x.right-x.left,S=x.height||x.bottom-x.top;r!==e&&(F(),r=e,h=f=0);let z=t.dispatch("ObjectSelected",{target:e});T(e)&&!z.isDefaultPrevented()?eI(gQ,(e,t)=>{let c=c=>{let h=E(r)[0];i=c.screenX,s=c.screenY,m=h.clientWidth,g=(u=h.clientHeight)/m,(n=e).name=t,n.startPos={x:C*e[0]+d,y:S*e[1]+p},y=_.scrollWidth,b=_.scrollHeight,l=v.add(_,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),v.setStyles(l,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=A(r),v.addClass(o,"mce-clonedresizable"),v.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",v.setStyles(o,{left:d,top:p,margin:0}),D(o,C,S),o.removeAttribute(gY),_.appendChild(o),v.bind(k,"mousemove",N),v.bind(k,"mouseup",M),w!==k&&(v.bind(w,"mousemove",N),v.bind(w,"mouseup",M)),a=v.add(_,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+u)},h=v.get("mceResizeHandle"+t);h&&v.remove(h),h=v.add(_,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),v.bind(h,"mousedown",e=>{e.stopImmediatePropagation(),e.preventDefault(),c(e)}),e.elm=h,v.setStyles(h,{left:C*e[0]+d-h.offsetWidth/2,top:S*e[1]+p-h.offsetHeight/2})}):F(!1)},B=iM(R,0),F=(e=!0)=>{B.cancel(),P(),r&&e&&r.removeAttribute(gY),eI(gQ,(e,t)=>{let r=v.get("mceResizeHandle"+t);r&&(v.unbind(r),v.remove(r))})},L=(e,t)=>v.isChildOf(e,t),I=r=>{if(p||t.removed||t.composing)return;let o="mousedown"===r.type?r.target:e.getNode(),a=o_(rH.fromDom(o),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(e=>e.dom).filter(e=>v.isEditable(e.parentElement)||"IMG"===e.nodeName&&v.isEditable(e)).getOrUndefined(),n=V(a)?v.getAttrib(a,gY,"1"):"1";if(ep(v.select(`img[${gY}],hr[${gY}]`),e=>{e.removeAttribute(gY)}),V(a)&&L(a,_)&&t.hasFocus()&&(H(),L(e.getStart(!0),a)&&L(e.getEnd(!0),a))){v.setAttrib(a,gY,n),B.throttle(a);return}F()},P=()=>{eI(gQ,e=>{e.elm&&(v.unbind(e.elm),delete e.elm)})},H=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",()=>{H(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),t.on("keyup compositionend",e=>{r&&"TABLE"===r.nodeName&&I(e)}),t.on("hide blur",F),t.on("contextmenu longpress",z,!0)}),t.on("remove",P),{isResizable:T,showResizeRect:R,hideResizeRect:F,updateResizeRect:I,destroy:()=>{B.cancel(),r=o=l=null}}},g2=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,r)=>{e.setStart(t.dom,r)},t=>{e.setStartAfter(t.dom)})},g4=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,r)=>{e.setEnd(t.dom,r)},t=>{e.setEndAfter(t.dom)})},g3=(e,t,r)=>{let o=e.document.createRange();return g2(o,t),g4(o,r),o},g5=(e,t,r,o,a)=>{let n=e.document.createRange();return n.setStart(t.dom,r),n.setEnd(o.dom,a),n},g6=s8([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),g8=(e,t,r)=>t(rH.fromDom(r.startContainer),r.startOffset,rH.fromDom(r.endContainer),r.endOffset),g7=(e,t)=>t.match({domRange:e=>({ltr:K(e),rtl:en.none}),relative:(t,r)=>({ltr:e6(()=>g3(e,t,r)),rtl:e6(()=>en.some(g3(e,r,t)))}),exact:(t,r,o,a)=>({ltr:e6(()=>g5(e,t,r,o,a)),rtl:e6(()=>en.some(g5(e,o,a,t,r)))})}),g9=(e,t)=>{let r=t.ltr();return r.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>g6.rtl(rH.fromDom(e.endContainer),e.endOffset,rH.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>g8(e,g6.ltr,r)):g8(e,g6.ltr,r)},pe=(e,t)=>{let r=g7(e,t);return g9(e,r)};g6.ltr,g6.rtl;let pt=(e,t,r,o)=>({start:e,soffset:t,finish:r,foffset:o}),pr=document.caretPositionFromPoint?(e,t,r)=>{var o,a;return en.from(null==(a=(o=e.dom).caretPositionFromPoint)?void 0:a.call(o,t,r)).bind(t=>{if(null===t.offsetNode)return en.none();let r=e.dom.createRange();return r.setStart(t.offsetNode,t.offset),r.collapse(),en.some(r)})}:document.caretRangeFromPoint?(e,t,r)=>{var o,a;return en.from(null==(a=(o=e.dom).caretRangeFromPoint)?void 0:a.call(o,t,r))}:en.none,po=(e,t,r)=>pr(rH.fromDom(e.document),t,r).map(e=>pt(rH.fromDom(e.startContainer),e.startOffset,rH.fromDom(e.endContainer),e.endOffset)),pa=s8([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),pn=pa.before,pl={before:pn,on:pa.on,after:pa.after,getStart:e=>e.fold(Y,Y,Y)},pi=s8([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ps=e=>e.match({domRange:e=>rH.fromDom(e.startContainer),relative:(e,t)=>pl.getStart(e),exact:(e,t,r,o)=>e}),pc=(pi.domRange,pi.relative),pd=pi.exact,pm=e=>rX(ps(e)),pu=(e,t)=>{let r=ri(e);return"input"===r?pl.after(e):em(["br","img"],r)?0===t?pl.before(e):pl.after(e):pl.on(e,t)},pg=(e,t)=>{let r=e.fold(pl.before,pu,pl.after);return pc(r,t.fold(pl.before,pu,pl.after))},pp=(e,t,r,o)=>{let a=pu(e,t);return pc(a,pu(r,o))},ph=e=>e.match({domRange:e=>{let t=rH.fromDom(e.startContainer),r=rH.fromDom(e.endContainer);return pp(t,e.startOffset,r,e.endOffset)},relative:pg,exact:pp}),pf=(e,t)=>{let r=(t||document).createDocumentFragment();return ep(e,e=>{r.appendChild(e.dom)}),rH.fromDom(r)},py=e=>{let t=pm(e).dom,r=(e,r,o,a)=>g5(t,e,r,o,a);return pe(t,ph(e)).match({ltr:r,rtl:r})},pb=(e,t,r)=>po(e,t,r),pv=(e,t,r)=>pb(rX(rH.fromDom(r)).dom,e,t).map(e=>{let t=r.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined(),pk=(e,t)=>V(e)&&V(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,pw=(e,t,r)=>{let o=e;for(;o&&o!==t;){if(r(o))return o;o=o.parentNode}return null},p_=(e,t,r)=>null!==pw(e,t,r),px=(e,t,r)=>p_(e,t,e=>e.nodeName===r),pC=(e,t)=>a9(e)&&!p_(e,t,mJ),pS=(e,t,r)=>{let o=t.parentNode;if(o){let a,n=new ac(t,e.getParent(o,e.isBlock)||e.getRoot());for(;a=n[r?"prev":"next"]();)if(aO(a))return!0}return!1},pz=(e,t)=>{var r;return(null==(r=e.previousSibling)?void 0:r.nodeName)===t},pE=(e,t)=>{let r=t;for(;r&&r!==e;){if(aM(r))return!0;r=r.parentNode}return!1},pT=(e,t,r,o,a)=>{let n,l,i=e.getRoot(),s=e.schema.getNonEmptyElements(),c=a.parentNode;if(!c)return en.none();let d=e.getParent(c,e.isBlock)||i;if(o&&aO(a)&&t&&e.isEmpty(d))return en.some(sT(c,e.nodeIndex(a)));let m=new ac(a,d);for(;l=m[o?"prev":"next"]();){if("false"===e.getContentEditableParent(l)||pC(l,i))return en.none();if(aC(l)&&l.data.length>0){if(!px(l,i,"A"))return en.some(sT(l,o?l.data.length:0));return en.none()}if(e.isBlock(l)||s[l.nodeName.toLowerCase()])return en.none();n=l}return aE(n)?en.none():r&&n?en.some(sT(n,0)):en.none()},pA=(e,t,r,o)=>{let a,n=e.getRoot(),l=!1,i=r?o.startContainer:o.endContainer,s=r?o.startOffset:o.endOffset,c=au(i)&&s===i.childNodes.length,d=e.schema.getNonEmptyElements(),m=r;if(a9(i))return en.none();if(au(i)&&s>i.childNodes.length-1&&(m=!1),aT(i)&&(i=n,s=0),i===n){if(m&&(a=i.childNodes[s>0?s-1:0])&&(a9(a)||d[a.nodeName]||aw(a)))return en.none();if(i.hasChildNodes()){if(s=Math.min(!m&&s>0?s-1:s,i.childNodes.length-1),s=aC(i=i.childNodes[s])&&c?i.data.length:0,!t&&i===n.lastChild&&aw(i)||pE(n,i)||a9(i)||aI(i))return en.none();if(i.hasChildNodes()&&!aw(i)){a=i;let t=new ac(i,n);do{if(aM(a)||a9(a)){l=!1;break}if(aC(a)&&a.data.length>0){s=m?0:a.data.length,i=a,l=!0;break}if(d[a.nodeName.toLowerCase()]&&!aB(a)){s=e.nodeIndex(a),i=a.parentNode,!m&&s++,l=!0;break}}while(a=m?t.next():t.prev())}}}return t&&(aC(i)&&0===s&&pT(e,c,t,!0,i).each(e=>{i=e.container(),s=e.offset(),l=!0}),au(i)&&((a=i.childNodes[s])||(a=i.childNodes[s-1]),a&&aO(a)&&!pz(a,"A")&&!pS(e,a,!1)&&!pS(e,a,!0)&&pT(e,c,t,!0,a).each(e=>{i=e.container(),s=e.offset(),l=!0}))),m&&!t&&aC(i)&&s===i.data.length&&pT(e,c,t,!1,i).each(e=>{i=e.container(),s=e.offset(),l=!0}),l&&i?en.some(sT(i,s)):en.none()},pO=(e,t)=>{let r=t.collapsed,o=t.cloneRange(),a=sT.fromRangeStart(t);return pA(e,r,!0,o).each(e=>{r&&sT.isAbove(a,e)||o.setStart(e.container(),e.offset())}),r||pA(e,r,!1,o).each(e=>{o.setEnd(e.container(),e.offset())}),r&&o.collapse(!0),pk(t,o)?en.none():en.some(o)},pD=(e,t)=>e.splitText(t),pN=e=>{let t=e.startContainer,r=e.startOffset,o=e.endContainer,a=e.endOffset;if(t===o&&aC(t)){if(r>0&&r<t.data.length)if(t=(o=pD(t,r)).previousSibling,a>r){let e=pD(o,a-=r).previousSibling;t=o=e,a=e.data.length,r=0}else a=0}else if(aC(t)&&r>0&&r<t.data.length&&(t=pD(t,r),r=0),aC(o)&&a>0&&a<o.data.length){let e=pD(o,a).previousSibling;o=e,a=e.data.length}return{startContainer:t,startOffset:r,endContainer:o,endOffset:a}},pM=e=>({walk:(t,r)=>gm(e,t,r),split:pN,expand:(t,r={type:"word"})=>{if("word"===r.type){let r=gd(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),o}return t},normalize:t=>pO(e,t).fold(eo,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))});pM.compareRanges=pk,pM.getCaretRangeFromPoint=pv,pM.getSelectedNode=sc,pM.getNode=sd;let pR=((e,t)=>{let r=r=>{let o=t(r);return o<=0||null===o?parseFloat(oD(r,e))||0:o},o=(e,t)=>ev(t,(t,r)=>{let o=oD(e,r),a=void 0===o?0:parseInt(o,10);return isNaN(a)?t:t+a},0);return{set:(t,r)=>{if(!Z(r)&&!r.match(/^[0-9]+$/))throw Error(e+".set accepts only positive integer values. Value was "+r);let o=t.dom;oz(o)&&(o.style[e]=r+"px")},get:r,getOuter:r,aggregate:o,max:(e,t,r)=>{let a=o(e,r);return t>a?t-a:0}}})("height",e=>{let t=e.dom;return og(e)?t.getBoundingClientRect().height:t.offsetHeight}),pB=e=>pR.get(e),pF=()=>rH.fromDom(document),pL=(e,t)=>e.view(t).fold(K([]),t=>{let r=e.owner(t);return[t].concat(pL(e,r))}),pI=(e,t)=>{let r=t.owner(e);return pL(t,r)};var pP=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?en.none():en.from(null==(t=e.dom.defaultView)?void 0:t.frameElement)).map(rH.fromDom)},owner:e=>rK(e)});let pH=e=>{let t=o9(pF()),r=pI(e,pP),o=o7(e),a=eb(r,(e,t)=>{let r=o7(t);return{left:e.left+r.left,top:e.top+r.top}},{left:0,top:0});return o3(a.left+o.left+t.left,a.top+o.top+t.top)},pj=e=>"textarea"===ri(e),pV=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),pU=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},pZ=(e,t)=>{let r=r6(e);if(0===r.length||pj(e))return{element:e,offset:t};{if(t<r.length&&!pj(r[t]))return{element:r[t],offset:0};let o=r[r.length-1];return pj(o)?{element:e,offset:t}:"img"===ri(o)?{element:o,offset:1}:rg(o)?{element:o,offset:aV(o).length}:{element:o,offset:r6(o).length}}},pq=(e,t)=>{let r=o8(e),o=pB(e);return{element:e,bottom:r.top+o,height:o,pos:r,cleanup:t}},pW=(e,t)=>{let r=pZ(e,t),o=rH.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return oL(r.element,o),pq(o,()=>oq(o))},p$=e=>pq(rH.fromDom(e),W),pG=(e,t,r,o)=>{pJ(e,(a,n)=>pY(e,t,r,o),r)},pK=(e,t,r,o,a)=>{let n={elm:o.element.dom,alignToTop:a};if(pV(e,n))return;let l=o9(t).top;r(e,t,l,o,a),pU(e,n)},pY=(e,t,r,o)=>{let a=rH.fromDom(e.getBody()),n=rH.fromDom(e.getDoc());oF(a);let l=pW(rH.fromDom(r.startContainer),r.startOffset);pK(e,n,t,l,o),l.cleanup()},pX=(e,t,r,o)=>{let a=rH.fromDom(e.getDoc());pK(e,a,r,p$(t),o)},pJ=(e,t,r)=>{let o=r.startContainer,a=r.startOffset,n=r.endContainer,l=r.endOffset;t(rH.fromDom(o),rH.fromDom(n));let i=e.dom.createRng();i.setStart(o,a),i.setEnd(n,l),e.selection.setRng(r)},pQ=(e,t,r,o,a)=>{let n=t.pos;if(o)ae(n.left,n.top,a);else{let o=n.top-r+t.height;ae(-e.getBody().getBoundingClientRect().left,o,a)}},p1=(e,t,r,o,a,n)=>{let l=o+r,i=a.pos.top,s=a.bottom,c=s-i>=o;i<r?pQ(e,a,o,!1!==n,t):i>l?pQ(e,a,o,c?!1!==n:!0===n,t):s>l&&!c&&pQ(e,a,o,!0===n,t)},p0=(e,t,r,o,a)=>{let n=rX(t).dom.innerHeight;p1(e,t,r,n,o,a)},p2=(e,t,r,o,a)=>{let n=rX(t).dom.innerHeight;p1(e,t,r,n,o,a);let l=pH(o.element),i=aa(window);l.top<i.y?at(o.element,!1!==a):l.top>i.bottom&&at(o.element,!0===a)},p4=(e,t,r)=>pG(e,p0,t,r),p3=(e,t,r)=>pX(e,t,p0,r),p5=(e,t,r)=>pG(e,p2,t,r),p6=(e,t,r)=>pX(e,t,p2,r),p8=(e,t,r)=>{(e.inline?p3:p6)(e,t,r)},p7=(e,t,r)=>{(e.inline?p4:p5)(e,t,r)},p9=(e,t=!1)=>e.dom.focus({preventScroll:t}),he=e=>{let t=ol(e).dom;return e.dom===t.activeElement},ht=(e=pF())=>en.from(e.dom.activeElement).map(rH.fromDom),hr=e=>ht(ol(e)).filter(t=>e.dom.contains(t.dom)),ho=(e,t)=>{let r=rg(t)?aV(t).length:r6(t).length+1;return e>r?r:e<0?0:e},ha=e=>pt(e.start,ho(e.soffset,e.start),e.finish,ho(e.foffset,e.finish)),hn=(e,t)=>!am(t.dom)&&(r$(e,t)||rW(e,t)),hl=e=>t=>hn(e,t.start)&&hn(e,t.finish),hi=e=>e.inline||tJ.browser.isFirefox(),hs=e=>pt(rH.fromDom(e.startContainer),e.startOffset,rH.fromDom(e.endContainer),e.endOffset),hc=e=>{let t=e.getSelection();return(t&&0!==t.rangeCount?en.from(t.getRangeAt(0)):en.none()).map(hs)},hd=e=>hc(rX(e).dom).filter(hl(e)),hm=(e,t)=>en.from(t).filter(hl(e)).map(ha),hu=e=>{let t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),en.some(t)}catch(e){return en.none()}},hg=e=>{let t=hi(e)?hd(rH.fromDom(e.getBody())):en.none();e.bookmark=t.isSome()?t:e.bookmark},hp=e=>(e.bookmark?e.bookmark:en.none()).bind(t=>hm(rH.fromDom(e.getBody()),t)).bind(hu),hh=e=>{hp(e).each(t=>e.selection.setRng(t))},hf={isEditorUIElement:e=>{let t=e.className.toString();return -1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},hy=(e,t)=>(Z(t)||(t=0),setTimeout(e,t)),hb=(e,t)=>(Z(t)||(t=0),setInterval(e,t)),hv={setEditorTimeout:(e,t,r)=>hy(()=>{e.removed||t()},r),setEditorInterval:(e,t,r)=>{let o=hb(()=>{e.removed?clearInterval(o):t()},r);return o}},hk=e=>"nodechange"===e.type&&e.selectionChange,hw=(e,t)=>{let r=()=>{t.throttle()};ib.DOM.bind(document,"mouseup",r),e.on("remove",()=>{ib.DOM.unbind(document,"mouseup",r)})},h_=(e,t)=>{e.on("mouseup touchend",e=>{t.throttle()})},hx=(e,t)=>{h_(e,t),e.on("keyup NodeChange AfterSetSelectionRange",t=>{hk(t)||hg(e)})},hC=e=>{let t=iM(()=>{hg(e)},0);e.on("init",()=>{e.inline&&hw(e,t),hx(e,t)}),e.on("remove",()=>{t.cancel()})},hS=ib.DOM,hz=e=>au(e)&&hf.isEditorUIElement(e),hE=e=>{let t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},hT=(e,t)=>{let r=de(e);return null!==hS.getParent(t,t=>hz(t)||!!r&&e.dom.is(t,r))},hA=e=>{try{let t=ol(rH.fromDom(e.getElement()));return ht(t).fold(()=>document.body,e=>e.dom)}catch(e){return document.body}},hO=(e,r)=>{let o=r.editor;hC(o);let a=(e,t)=>{dU(e)&&!0!==e.inline&&t(rH.fromDom(e.getContainer()),"tox-edit-focus")};o.on("focusin",()=>{let t=e.focusedEditor;hE(hA(o))&&a(o,rR),t!==o&&(t&&t.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:t}),o.focus(!0))}),o.on("focusout",()=>{hv.setEditorTimeout(o,()=>{let t=e.focusedEditor;hE(hA(o))&&t===o||a(o,rF),hT(o,hA(o))||t!==o||(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),t||(t=t=>{let r=e.activeEditor;r&&om(t).each(t=>{t.ownerDocument!==document||t===document.body||hT(r,t)||e.focusedEditor!==r||(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},hS.bind(document,"focusin",t))},hD=(e,r)=>{e.focusedEditor===r.editor&&(e.focusedEditor=null),!e.activeEditor&&t&&(hS.unbind(document,"focusin",t),t=null)},hN=e=>{e.on("AddEditor",J(hO,e)),e.on("RemoveEditor",J(hD,e))},hM=(e,t)=>e.dom.getParent(t,t=>"true"===e.dom.getContentEditable(t)),hR=e=>e.collapsed?en.from(sd(e.startContainer,e.startOffset)).map(rH.fromDom):en.none(),hB=(e,t)=>hR(t).bind(t=>aX(t)?en.some(t):r$(e,t)?en.none():en.some(e)),hF=(e,t)=>{hB(rH.fromDom(e.getBody()),t).bind(e=>mK(e.dom)).fold(()=>{e.selection.normalize()},t=>e.selection.setRng(t.toRange()))},hL=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},hI=e=>he(e)||hr(e).isSome(),hP=e=>V(e.iframeElement)&&he(rH.fromDom(e.iframeElement)),hH=e=>{let t=e.getBody();return t&&hI(rH.fromDom(t))},hj=e=>ht(ol(rH.fromDom(e.getElement()))).filter(t=>!hE(t.dom)&&hT(e,t.dom)).isSome(),hV=e=>e.inline?hH(e):hP(e),hU=e=>hV(e)||hj(e),hZ=e=>{let t=e.selection,r=e.getBody(),o=t.getRng();e.quirks.refreshContentEditable(),V(e.bookmark)&&!hV(e)&&hp(e).each(t=>{e.selection.setRng(t),o=t});let a=hM(e,t.getNode());if(a&&e.dom.isChildOf(a,r)){hL(a),hF(e,o),hq(e);return}e.inline||(tJ.browser.isOpera()||hL(r),e.getWin().focus()),(tJ.browser.isFirefox()||e.inline)&&(hL(r),hF(e,o)),hq(e)},hq=e=>e.editorManager.setActive(e),hW=(e,t)=>{e.removed||(t?hq(e):hZ(e))},h$=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),hG=(e,t,r,o,a)=>{let n=r?t.startContainer:t.endContainer,l=r?t.startOffset:t.endOffset;return en.from(n).map(rH.fromDom).map(e=>o&&t.collapsed?e:r8(e,a(e,l)).getOr(e)).bind(e=>ru(e)?en.some(e):rJ(e).filter(ru)).map(e=>e.dom).getOr(e)},hK=(e,t,r=!1)=>hG(e,t,!0,r,(e,t)=>Math.min(oe(e),t)),hY=(e,t,r=!1)=>hG(e,t,!1,r,(e,t)=>t>0?t-1:t),hX=(e,t)=>{let r=e;for(;e&&aC(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||r},hJ=(e,t)=>{if(!t)return e;let r=t.startContainer,o=t.endContainer,a=t.startOffset,n=t.endOffset,l=t.commonAncestorContainer;!t.collapsed&&(r===o&&n-a<2&&r.hasChildNodes()&&(l=r.childNodes[a]),aC(r)&&aC(o)&&(r=r.length===a?hX(r.nextSibling,!0):r.parentNode,o=0===n?hX(o.previousSibling,!1):o.parentNode,r&&r===o&&(l=r)));let i=aC(l)?l.parentNode:l;return ag(i)?i:e},hQ=(e,t,r,o)=>{let a=[],n=e.getRoot(),l=e.getParent(r||hK(n,t,t.collapsed),e.isBlock),i=e.getParent(o||hY(n,t,t.collapsed),e.isBlock);if(l&&l!==n&&a.push(l),l&&i&&l!==i){let t,r=new ac(l,n);for(;(t=r.next())&&t!==i;)e.isBlock(t)&&a.push(t)}return i&&l!==i&&i!==n&&a.push(i),a},h1=(e,t,r)=>en.from(t).bind(t=>en.from(t.parentNode).map(o=>{let a=e.nodeIndex(t),n=e.createRng();return n.setStart(o,a),n.setEnd(o,a+1),r&&(uT(e,n,t,!0),uT(e,n,t,!1)),n})),h0=(e,t)=>eg(t,t=>{let r=e.dispatch("GetSelectionRange",{range:t});return r.range!==t?r.range:t}),h2=e=>"img"===ri(e)?1:aU(e).fold(()=>r6(e).length,e=>e.length),h4=e=>aU(e).filter(e=>0!==e.trim().length||e.indexOf("\xa0")>-1).isSome(),h3=e=>rm(e)&&"false"===rk(e,"contenteditable"),h5=["img","br"],h6=e=>h4(e)||em(h5,ri(e))||h3(e),h8=e=>ov(e,h6),h7=e=>h9(e,h6),h9=(e,t)=>{let r=e=>{let o=r6(e);for(let e=o.length-1;e>=0;e--){let a=o[e];if(t(a))return en.some(a);let n=r(a);if(n.isSome())return n}return en.none()};return r(e)},fe="[data-mce-autocompleter]",ft=(e,t)=>{if(fo(rH.fromDom(e.getBody())).isNone()){let r=rH.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());oH(r,rH.fromDom(t.extractContents())),t.insertNode(r.dom),rJ(r).each(e=>e.dom.normalize()),h7(r).map(t=>{e.selection.setCursorLocation(t.dom,h2(t))})}},fr=e=>o_(e,fe),fo=e=>ow(e,fe),fa=(e,t)=>fo(t).each(t=>{let r=e.selection.getBookmark();oW(t),e.selection.moveToBookmark(r)}),fn={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},fl=(e,t,r)=>{let o=r?"lastChild":"firstChild",a=r?"prev":"next";if(e[o])return e[o];if(e!==t){let r=e[a];if(r)return r;for(let o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},fi=e=>{var t;let r=null!=(t=e.value)?t:"";if(!nk(r))return!1;let o=e.parent;return!(o&&("span"!==o.name||o.attr("style"))&&/^[ ]+$/.test(r))},fs=e=>{let t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class fc{static create(e,t){let r=new fc(e,fn[e]||1);return t&&eI(t,(e,t)=>{r.attr(t,e)}),r}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this}attr(e,t){let r=this;if(!R(e))return V(e)&&eI(e,(e,t)=>{r.attr(t,e)}),r;let o=r.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;for(;t--;)if(o[t].name===e){o.splice(t,1);break}}return r}if(e in o.map){let r=o.length;for(;r--;)if(o[r].name===e){o[r].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,r}return o.map[e]}}clone(){let e=new fc(this.name,this.type),t=this.attributes;if(t){let r=[];r.map={};for(let e=0,o=t.length;e<o;e++){let o=t[e];"id"!==o.name&&(r[r.length]={name:o.name,value:o.value},r.map[o.name]=o.value)}e.attributes=r}return e.value=this.value,e}wrap(e){return this.parent&&(this.parent.insert(e,this),e.append(this)),this}unwrap(){for(let e=this.firstChild;e;){let t=e.next;this.insert(e,this,!0),e=t}this.remove()}remove(){let e=this.parent,t=this.next,r=this.prev;return e&&(e.firstChild===this?(e.firstChild=t,t&&(t.prev=null)):r&&(r.next=t),e.lastChild===this?(e.lastChild=r,r&&(r.next=null)):t&&(t.prev=r),this.parent=this.next=this.prev=null),this}append(e){e.parent&&e.remove();let t=this.lastChild;return t?(t.next=e,e.prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e}insert(e,t,r){e.parent&&e.remove();let o=t.parent||this;return r?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){let t=[];for(let r=this.firstChild;r;r=fl(r,this))r.name===e&&t.push(r);return t}children(){let e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){if(this.firstChild){let e=[];for(let t=this.firstChild;t;t=fl(t,this))e.push(t);let t=e.length;for(;t--;){let r=e[t];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return this.firstChild=this.lastChild=null,this}isEmpty(e,t={},r){var o;let a=this.firstChild;if(fs(this))return!1;if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue;if(e[a.name]||fs(a))return!1}if(8===a.type||3===a.type&&!fi(a)||3===a.type&&a.parent&&t[a.parent.name]&&nk(null!=(o=a.value)?o:"")||r&&r(a))return!1}while(a=fl(a,this));return!0}walk(e){return fl(this,null,e)}}let fd=t2.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),fm=e=>R(e.nodeValue)&&e.nodeValue.includes("\uFEFF"),fu=e=>`${0===e.length?"":`${eg(e,e=>`[${e}]`).join(",")},`}[data-mce-bogus="all"]`,fg=(e,t)=>t.querySelectorAll(fu(e)),fp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,e=>fm(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),fh=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,e=>{if(!fm(e))return NodeFilter.FILTER_SKIP;{let t=e.parentNode;return t&&eG(fd,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),ff=e=>null!==fp(e).nextNode(),fy=e=>null!==fh(e).nextNode(),fb=(e,t)=>null!==t.querySelector(fu(e)),fv=(e,t)=>{ep(fg(e,t),t=>{let r=rH.fromDom(t);"all"===rk(r,"data-mce-bogus")?oq(r):ep(e,e=>{r_(r,e)&&rx(r,e)})})},fk=e=>{let t=e.nextNode();for(;null!==t;)t.nodeValue=null,t=e.nextNode()},fw=$(fk,fp),f_=$(fk,fh),fx=(e,t)=>{let r=[{condition:J(fb,t),action:J(fv,t)},{condition:ff,action:fw},{condition:fy,action:f_}],o=e,a=!1;return ep(r,({condition:t,action:r})=>{t(o)&&(a||(o=e.cloneNode(!0),a=!0),r(o))}),o},fC=e=>{ep(ai(e,"[data-mce-bogus]"),e=>{"all"===rk(e,"data-mce-bogus")?oq(e):a$(e)?(oL(e,rH.fromText("\uFEFF")),oq(e)):oW(e)})},fS=e=>{ep(ai(e,"input"),e=>{rx(e,"name")})},fz=(e,t)=>{let r=cx(e),o=RegExp(`^(<${r}[^>]*>(&nbsp;|&#160;|\\s|\u00a0|<br \\/>|)<\\/${r}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(o,"")},fE=(e,t)=>{let r=e.getDoc(),o=ol(rH.fromDom(e.getBody())),a=rH.fromTag("div",r);rb(a,"data-mce-bogus","all"),oO(a,{position:"fixed",left:"-9999999px",top:"0"}),oY(a,t.innerHTML),fC(a),fS(a),oH(os(o),a);let n=a5(a.dom.innerText);return oq(a),n},fT=(e,t,r)=>{let o;return o="raw"===t.format?t2.trim(a5(fx(r,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?fE(e,r):"tree"===t.format?e.serializer.serialize(r,t):fz(e,e.serializer.serialize(r,t)),"text"!==t.format&&!aQ(rH.fromDom(r))&&R(o)?t2.trim(o):o},fA=(e,t)=>en.from(e.getBody()).fold(K("tree"===t.format?new fc("body",11):""),r=>fT(e,t,r)),fO=t2.makeMap,fD=e=>{let t=[],r=(e=e||{}).indent,o=fO(e.indent_before||""),a=fO(e.indent_after||""),n=lC.getEncodeFunc(e.entity_encoding||"raw",e.entities),l="xhtml"!==e.element_format;return{start:(e,i,s)=>{if(r&&o[e]&&t.length>0){let e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),i)for(let e=0,r=i.length;e<r;e++){let r=i[e];t.push(" ",r.name,'="',n(r.value,!0),'"')}if(!s||l?t[t.length]=">":t[t.length]=" />",s&&r&&a[e]&&t.length>0){let e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let o;t.push("</",e,">"),r&&a[e]&&t.length>0&&(o=t[t.length-1]).length>0&&"\n"!==o&&t.push("\n")},text:(e,r)=>{e.length>0&&(t[t.length]=r?e:n(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",n(o),"?>"):t.push("<?",e,"?>"),r&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",r?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},fN=(e={},t=lU())=>{let r=fD(e);return e.validate=!("validate"in e)||e.validate,{serialize:o=>{let a=e.validate,n={3:e=>{var t;r.text(null!=(t=e.value)?t:"",e.raw)},8:e=>{var t;r.comment(null!=(t=e.value)?t:"")},7:e=>{r.pi(e.name,e.value)},10:e=>{var t;r.doctype(null!=(t=e.value)?t:"")},4:e=>{var t;r.cdata(null!=(t=e.value)?t:"")},11:e=>{let t=e;if(t=t.firstChild)do l(t);while(t=t.next)}};r.reset();let l=e=>{var o;let i=n[e.type];if(i)i(e);else{let n=e.name,i=n in t.getVoidElements(),s=e.attributes;if(a&&s&&s.length>1){let r=[];r.map={};let o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){let t=o.attributesOrder[e];if(t in s.map){let e=s.map[t];r.map[t]=e,r.push({name:t,value:e})}}for(let e=0,t=s.length;e<t;e++){let t=s[e].name;if(!(t in r.map)){let e=s.map[t];r.map[t]=e,r.push({name:t,value:e})}}s=r}}if(r.start(n,s,i),nF(n))R(e.value)&&r.text(e.value,!0),r.end(n);else if(!i){let t=e.firstChild;if(t){("pre"===n||"textarea"===n)&&3===t.type&&(null==(o=t.value)?void 0:o[0])==="\n"&&r.text("\n",!0);do l(t);while(t=t.next)}r.end(n)}}};return 1!==o.type||e.inner?3===o.type?n[3](o):n[11](o):l(o),r.getContent()}}},fM=new Set;ep(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{fM.add(e)});let fR=["font","text-decoration","text-emphasis"],fB=(e,t)=>eF(e.parseStyle(e.getAttrib(t,"style"))),fF=e=>fM.has(e),fL=(e,t)=>eS(fB(e,t),e=>!fF(e)),fI=e=>ey(e,e=>eu(fR,t=>tm(e,t))),fP=(e,t,r)=>{let o=fB(e,t),a=fB(e,r),n=o=>{var a,n;let l=null!=(a=e.getStyle(t,o))?a:"",i=null!=(n=e.getStyle(r,o))?n:"";return ty(l)&&ty(i)&&l!==i};return eu(o,e=>{let t=t=>eu(t,t=>t===e);return!t(a)&&t(fR)?eu(fI(a),n):n(e)})},fH=(e,t,r)=>en.from(r.container()).filter(aC).exists(o=>t(o.data.charAt(r.offset()+(e?0:-1)))),fj=J(fH,!0,ug),fV=J(fH,!1,ug),fU=e=>{let t=e.container();return aC(t)&&(0===t.data.length||aH(t.data)&&g_.isBookmarkNode(t.parentNode))},fZ=(e,t)=>r=>mf(e?0:-1,r).filter(t).isSome(),fq=e=>aD(e)&&"block"===oD(rH.fromDom(e),"display"),fW=e=>aM(e)&&!ak(e),f$=fZ(!0,fq),fG=fZ(!1,fq),fK=fZ(!0,aF),fY=fZ(!1,aF),fX=fZ(!0,aw),fJ=fZ(!1,aw),fQ=fZ(!0,fW),f1=fZ(!1,fW),f0=e=>e.slice(0,-1),f2=(e,t,r)=>r$(t,e)?f0(r1(e,e=>r(e)||rW(e,t))):[],f4=(e,t)=>f2(e,t,eo),f3=(e,t)=>[e].concat(f4(e,t)),f5=(e,t,r)=>mq(e,t,r,fU),f6=e=>t=>e.isBlock(ri(t)),f8=(e,t,r)=>ew(f3(rH.fromDom(t.container()),e),f6(r)),f7=(e,t,r,o)=>f5(e,t.dom,r).forall(e=>f8(t,r,o).fold(()=>!mh(e,r,t.dom),o=>!mh(e,r,t.dom)&&r$(o,rH.fromDom(e.container())))),f9=(e,t,r,o)=>f8(t,r,o).fold(()=>f5(e,t.dom,r).forall(e=>!mh(e,r,t.dom)),t=>f5(e,t.dom,r).isNone()),ye=J(f9,!1),yt=J(f9,!0),yr=J(f7,!1),yo=J(f7,!0),ya=e=>mS(e).exists(a$),yn=(e,t,r,o)=>mU(e,eD(ey(f3(rH.fromDom(r.container()),t),e=>o.isBlock(ri(e)))).getOr(t).dom,r).filter(ya),yl=(e,t,r)=>mS(t).exists(a$)||yn(!0,e,t,r).isSome(),yi=(e,t,r)=>mz(t).exists(a$)||yn(!1,e,t,r).isSome(),ys=J(yn,!1),yc=J(yn,!0),yd=e=>sT.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),ym=(e,t,r)=>eD(ey(f3(rH.fromDom(t.container()),e),e=>r.isBlock(ri(e)))).getOr(e),yu=(e,t,r)=>yd(t)?fV(t):fV(t)||mG(ym(e,t,r).dom,t).exists(fV),yg=(e,t,r)=>yd(t)?fj(t):fj(t)||m$(ym(e,t,r).dom,t).exists(fj),yp=e=>em(["pre","pre-wrap"],e),yh=e=>mS(e).bind(e=>of(e,ru)).exists(e=>yp(oD(e,"white-space"))),yf=(e,t)=>mG(e.dom,t).isNone(),yy=(e,t)=>m$(e.dom,t).isNone(),yb=(e,t,r)=>yf(e,t)||yy(e,t)||ye(e,t,r)||yt(e,t,r)||yi(e,t,r)||yl(e,t,r),yv=e=>V(e)&&aM(e)&&ms(e),yk=(e,t)=>r=>yv(new ac(r,e)[t]()),yw=(e,t)=>{let r=m$(e.dom,t).getOr(t),o=yk(e.dom,"next");return t.isAtEnd()&&(o(t.container())||o(r.container()))},y_=(e,t)=>{let r=mG(e.dom,t).getOr(t),o=yk(e.dom,"prev");return t.isAtStart()&&(o(t.container())||o(r.container()))},yx=(e,t,r)=>!yh(t)&&(yb(e,t,r)||yu(e,t,r)||yg(e,t,r)),yC=(e,t,r)=>!yh(t)&&(ye(e,t,r)||yr(e,t,r)||yi(e,t,r)||yu(e,t,r)||y_(e,t)),yS=e=>{let t=e.container(),r=e.offset();return aC(t)&&r<t.data.length?sT(t,r+1):e},yz=(e,t,r)=>!yh(t)&&(yt(e,t,r)||yo(e,t,r)||yl(e,t,r)||yg(e,t,r)||yw(e,t)),yE=(e,t,r)=>yC(e,t,r)||yz(e,yS(t),r),yT=(e,t)=>uu(e.charAt(t)),yA=(e,t)=>ug(e.charAt(t)),yO=e=>{let t=e.container();return aC(t)&&td(t.data,"\xa0")},yD=e=>{let t=e.split("");return eg(t,(e,r)=>uu(e)&&r>0&&r<t.length-1&&up(t[r-1])&&up(t[r+1])?" ":e).join("")},yN=(e,t,r,o)=>{let a=t.data,n=sT(t,0);return!r&&yT(a,0)&&!yE(e,n,o)?(t.data=" "+a.slice(1),!0):!!(r&&yA(a,0)&&yC(e,n,o))&&(t.data="\xa0"+a.slice(1),!0)},yM=e=>{let t=e.data,r=yD(t);return r!==t&&(e.data=r,!0)},yR=(e,t,r,o)=>{let a=t.data,n=sT(t,a.length-1);return!r&&yT(a,a.length-1)&&!yE(e,n,o)?(t.data=a.slice(0,-1)+" ",!0):!!(r&&yA(a,a.length-1)&&yz(e,n,o))&&(t.data=a.slice(0,-1)+"\xa0",!0)},yB=(e,t,r)=>{let o=t.container();return aC(o)?yO(t)?t7(yN(e,o,!1,r)||yM(o)||yR(e,o,!1,r),t):yE(e,t,r)?t7(yN(e,o,!0,r)||yR(e,o,!0,r),t):en.none():en.none()},yF=e=>{let t=rH.fromDom(e.getBody());e.selection.isCollapsed()&&yB(t,sT.fromRangeStart(e.selection.getRng()),e.schema).each(t=>{e.selection.setRng(t.toRange())})},yL=(e,t,r,o)=>{if(0===r)return;let a=rH.fromDom(e),n=oh(a,e=>o.isBlock(ri(e))).getOr(a),l=e.data.slice(t,t+r),i=t+r>=e.data.length&&yz(n,sT(e,e.data.length),o),s=0===t&&yC(n,sT(e,0),o);e.replaceData(t,r,nS(l,4,s,i))},yI=(e,t,r)=>{let o=e.data.slice(t);yL(e,t,o.length-th(o).length,r)},yP=(e,t,r)=>{let o=e.data.slice(0,t),a=o.length-tf(o).length;yL(e,t-a,a,r)},yH=(e,t,r,o,a=!0)=>{let n=tf(e.data).length,l=a?e:t,i=a?t:e;return a?l.appendData(i.data):l.insertData(0,i.data),oq(rH.fromDom(i)),o&&yI(l,n,r),l},yj=(e,t)=>{let r=e.container(),o=e.offset();return!sT.isTextPosition(e)&&r===t.parentNode&&o>sT.before(t).offset()},yV=(e,t)=>yj(t,e)?sT(t.container(),t.offset()-1):t,yU=e=>aC(e)?sT(e,0):sT.before(e),yZ=e=>aC(e)?sT(e,e.data.length):sT.after(e),yq=e=>ng(e.previousSibling)?en.some(yZ(e.previousSibling)):e.previousSibling?mY(e.previousSibling):en.none(),yW=e=>ng(e.nextSibling)?en.some(yU(e.nextSibling)):e.nextSibling?mK(e.nextSibling):en.none(),y$=(e,t)=>en.from(t.previousSibling?t.previousSibling:t.parentNode).bind(t=>mG(e,sT.before(t))).orThunk(()=>m$(e,sT.after(t))),yG=(e,t)=>m$(e,sT.after(t)).orThunk(()=>mG(e,sT.before(t))),yK=(e,t)=>yq(t).orThunk(()=>yW(t)).orThunk(()=>y$(e,t)),yY=(e,t)=>yW(t).orThunk(()=>yq(t)).orThunk(()=>yG(e,t)),yX=(e,t,r)=>e?yY(t,r):yK(t,r),yJ=(e,t,r)=>yX(e,t,r).map(J(yV,r)),yQ=(e,t,r)=>{r.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},y1=e=>t=>t.dom===e,y0=(e,t)=>t&&eG(e.schema.getBlockElements(),ri(t)),y2=(e,t)=>{if(!nB(e))return en.none();{let r=rH.fromHtml('<br data-mce-bogus="1">');return t?ep(r6(e),e=>{u7(e)||oq(e)}):oZ(e),oH(e,r),en.some(sT.before(r.dom))}},y4=(e,t,r,o)=>{let a=r2(e).filter(rg),n=r4(e).filter(rg);return oq(e),t8(a,n,t,(e,t,a)=>{let n=e.dom,l=t.dom,i=n.data.length;return yH(n,l,r,o),a.container()===l?sT(n,i):a}).orThunk(()=>(o&&(a.each(e=>yP(e.dom,e.dom.length,r)),n.each(e=>yI(e.dom,0,r))),t))},y3=(e,t)=>eG(e.schema.getTextInlineElements(),ri(t)),y5=(e,t,r,o=!0,a=!1)=>{let n=yJ(t,e.getBody(),r.dom),l=oh(r,J(y0,e),y1(e.getBody())),i=y4(r,n,e.schema,y3(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):l.bind(e=>y2(e,a)).fold(()=>{o&&yQ(e,t,i)},r=>{o&&yQ(e,t,en.some(r))})},y6=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,y8=e=>y6.test(e),y7=(e,t)=>rV(rH.fromDom(t),cK(e))&&!n2(e.schema,t)&&e.dom.isEditable(t),y9=e=>{var t;return"rtl"===ib.DOM.getStyle(e,"direction",!0)||y8(null!=(t=e.textContent)?t:"")},be=(e,t,r)=>ey(ib.DOM.getParents(r.container(),"*",t),e),bt=(e,t,r)=>{let o=be(e,t,r);return en.from(o[o.length-1])},br=(e,t,r)=>{let o=mp(t,e),a=mp(r,e);return V(o)&&o===a},bo=e=>nr(e)||no(e),ba=(e,t)=>{let r=t.container(),o=t.offset();if(e)if(!a7(r))return nr(t)?sT(r,o+1):t;else if(aC(r.nextSibling))return sT(r.nextSibling,0);else return sT.after(r);return a7(r)?aC(r.previousSibling)?sT(r.previousSibling,r.previousSibling.data.length):sT.before(r):no(t)?sT(r,o-1):t},bn=J(ba,!0),bl=J(ba,!1),bi=(e,t)=>{let r=e=>e.stopImmediatePropagation();e.on("beforeinput input",r,!0),e.getDoc().execCommand(t),e.off("beforeinput input",r)},bs=e=>{e.execCommand("delete")},bc=e=>bi(e,"Delete"),bd=e=>bi(e,"ForwardDelete"),bm=e=>t=>t4(rJ(t),e,rW),bu=e=>aG(e)||aY(e),bg=(e,t)=>r$(e,t)?of(t,bu,bm(e)):en.none(),bp=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},bh=(e,t,r)=>t6(mK(r),mY(r),(o,a)=>{let n=ba(!0,o),l=ba(!1,a),i=ba(!1,t);return e?m$(r,i).exists(e=>e.isEqual(l)&&t.isEqual(n)):mG(r,i).exists(e=>e.isEqual(n)&&t.isEqual(l))}).getOr(!0),bf=e=>(rd(e)?r2(e):r9(e)).bind(bf).orThunk(()=>en.some(e)),by=(e,t,r,o=!0)=>{var a;t.deleteContents();let n=bf(r).getOr(r),l=rH.fromDom(null!=(a=e.dom.getParent(n.dom,e.dom.isBlock))?a:r.dom);l.dom===e.getBody()?bp(e,o):nB(l)&&(a4(l),o&&e.selection.setCursorLocation(l.dom,0)),rW(r,l)||ep((t4(rJ(l),r)?[]:r0(l)).concat(r6(r)),e=>{!rW(e,l)&&!r$(e,l)&&nB(e)&&oq(e)})},bb=(e,t,r)=>oh(e,t,r).isSome(),bv=(e,t)=>oy(e,t).isSome(),bk=(e,t)=>ov(e,t).isSome(),bw=e=>t=>rW(e,t),b_=e=>ai(e,"td,th"),bx=(e,t)=>u_(rH.fromDom(e),t),bC=e=>t6(e.startTable,e.endTable,(t,r)=>{let o=bk(t,e=>rW(e,r)),a=bk(r,e=>rW(e,t));return o||a?{...e,startTable:o?en.none():e.startTable,endTable:a?en.none():e.endTable,isSameTable:!1,isMultiTable:!1}:e}).getOr(e),bS=e=>bC(e),bz=(e,t)=>{let r=bx(e.startContainer,t),o=bx(e.endContainer,t),a=r.isSome(),n=o.isSome(),l=t6(r,o,rW).getOr(!1),i=!l&&a&&n;return bS({startTable:r,endTable:o,isStartInTable:a,isEndInTable:n,isSameTable:l,isMultiTable:i})},bE=(e,t)=>({start:e,end:t}),bT=(e,t,r)=>({rng:e,table:t,cells:r}),bA=s8([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),bO=(e,t)=>o_(rH.fromDom(e),"td,th",t),bD=e=>!rW(e.start,e.end),bN=(e,t)=>u_(e.start,t).bind(r=>u_(e.end,t).bind(e=>t7(rW(r,e),r))),bM=(e,t)=>!bD(e)&&bN(e,t).exists(e=>{let t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}),bR=(e,t)=>t6(bO(e.startContainer,t),bO(e.endContainer,t),bE),bB=e=>t=>u_(t,e).bind(e=>eN(b_(e)).map(e=>bE(t,e))),bF=e=>t=>u_(t,e).bind(e=>eD(b_(e)).map(e=>bE(e,t))),bL=e=>t=>bN(t,e).map(e=>bT(t,e,b_(e))),bI=(e,t,r,o)=>{if(r.collapsed||!e.forall(bD))return en.none();if(t.isSameTable){let t=e.bind(bL(o));return en.some({start:t,end:t})}{let e=bO(r.startContainer,o),t=bO(r.endContainer,o),a=e.bind(bB(o)).bind(bL(o)),n=t.bind(bF(o)).bind(bL(o));return en.some({start:a,end:n})}},bP=(e,t)=>e_(e,e=>rW(e,t)),bH=e=>t6(bP(e.cells,e.rng.start),bP(e.cells,e.rng.end),(t,r)=>e.cells.slice(t,r+1)),bj=(e,t,r)=>e.exists(e=>bM(e,r)&&uE(e.start,t)),bV=(e,t)=>{let{startTable:r,endTable:o}=t,a=e.cloneRange();return r.each(e=>a.setStartAfter(e.dom)),o.each(e=>a.setEndBefore(e.dom)),a},bU=(e,t,r,o)=>bI(e,t,r,o).bind(({start:e,end:t})=>e.or(t)).bind(e=>{let{isSameTable:o}=t,a=bH(e).getOr([]);if(o&&e.cells.length===a.length)return en.some(bA.fullTable(e.table));if(!(a.length>0))return en.none();if(o)return en.some(bA.partialTable(a,en.none()));{let e=bV(r,t);return en.some(bA.partialTable(a,en.some({...t,rng:e})))}}),bZ=(e,t,r,o)=>bI(e,t,r,o).bind(({start:e,end:o})=>{let a=e.bind(bH).getOr([]),n=o.bind(bH).getOr([]);if(!(a.length>0)||!(n.length>0))return en.none();{let e=bV(r,t);return en.some(bA.multiTable(a,n,e))}}),bq=(e,t)=>{let r=bw(e),o=bR(t,r),a=bz(t,r);return bj(o,t,r)?o.map(e=>bA.singleCellTable(t,e.start)):a.isMultiTable?bZ(o,a,t,r):bU(o,a,t,r)},bW=e=>ep(e,e=>{rx(e,"contenteditable"),a4(e)}),b$=(e,t)=>en.from(e.dom.getParent(t,e.dom.isBlock)).map(rH.fromDom),bG=(e,t,r)=>{r.each(r=>{t?oq(r):(a4(r),e.selection.setCursorLocation(r.dom,0))})},bK=(e,t,r,o)=>{let a=r.cloneRange();o?(a.setStart(r.startContainer,r.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(r.endContainer,r.endOffset)),bQ(e,a,t,!1).each(e=>e())},bY=e=>{let t=uw(e),r=rH.fromDom(e.selection.getNode());aR(r.dom)&&nB(r)?e.selection.setCursorLocation(r.dom,0):e.selection.collapse(!0),t.length>1&&eu(t,e=>rW(e,r))&&rb(r,"data-mce-selected","1")},bX=(e,t,r)=>en.some(()=>{let o=e.selection.getRng();bW(r.bind(({rng:r,isStartInTable:a})=>{let n=b$(e,a?r.endContainer:r.startContainer);r.deleteContents(),bG(e,a,n.filter(nB));let l=a?t[0]:t[t.length-1];return(bK(e,l,o,a),nB(l))?en.none():en.some(a?t.slice(1):t.slice(0,-1))}).getOr(t)),bY(e)}),bJ=(e,t,r,o)=>en.some(()=>{let a=e.selection.getRng(),n=t[0],l=r[r.length-1];bK(e,n,a,!0),bK(e,l,a,!1);let i=nB(n)?t:t.slice(1),s=nB(l)?r:r.slice(0,-1);bW(i.concat(s)),o.deleteContents(),bY(e)}),bQ=(e,t,r,o=!0)=>en.some(()=>{by(e,t,r,o)}),b1=(e,t)=>en.some(()=>y5(e,!1,t)),b0=(e,t,r)=>bq(t,r).bind(t=>t.fold(J(bQ,e),J(b1,e),J(bX,e),J(bJ,e))),b2=(e,t)=>b7(e,t),b4=(e,t,r,o)=>b6(t,o).fold(()=>b0(e,t,r),t=>b2(e,t)),b3=(e,t,r)=>{let o=rH.fromDom(e.getBody()),a=e.selection.getRng();return 0!==r.length?bX(e,r,en.none()):b4(e,o,a,t)},b5=(e,t)=>ew(f3(t,e),aJ),b6=(e,t)=>ew(f3(t,e),rf("caption")),b8=(e,t,r,o,a)=>mZ(r,e.getBody(),a).bind(e=>b5(t,rH.fromDom(e.getNode())).bind(e=>rW(e,o)?en.none():en.some(W))),b7=(e,t)=>en.some(()=>{a4(t),e.selection.setCursorLocation(t.dom,0)}),b9=(e,t,r,o)=>mK(e.dom).bind(a=>mY(e.dom).map(e=>t?r.isEqual(a)&&o.isEqual(e):r.isEqual(e)&&o.isEqual(a))).getOr(!0),ve=(e,t)=>b7(e,t),vt=(e,t,r)=>b6(e,rH.fromDom(r.getNode())).fold(()=>en.some(W),e=>t7(!rW(e,t),W)),vr=(e,t,r,o,a)=>mZ(r,e.getBody(),a).fold(()=>en.some(W),n=>b9(o,r,a,n)?ve(e,o):vt(t,o,n)),vo=(e,t,r,o)=>{let a=sT.fromRangeStart(e.selection.getRng());return b5(r,o).bind(o=>nB(o)?b7(e,o):b8(e,r,t,o,a))},va=(e,t,r,o)=>{let a=sT.fromRangeStart(e.selection.getRng());return nB(o)?b7(e,o):vr(e,r,t,o,a)},vn=(e,t)=>e?fX(t):fJ(t),vl=(e,t)=>{let r=sT.fromRangeStart(e.selection.getRng());return vn(t,r)||mU(t,e.getBody(),r).exists(e=>vn(t,e))},vi=(e,t,r)=>{let o=rH.fromDom(e.getBody());return b6(o,r).fold(()=>vo(e,t,o,r).orThunk(()=>t7(vl(e,t),W)),r=>va(e,t,o,r))},vs=(e,t)=>{let r=rH.fromDom(e.selection.getStart(!0)),o=uw(e);return e.selection.isCollapsed()&&0===o.length?vi(e,t,r):b3(e,r,o)},vc=(e,t)=>{let r=t;for(;r&&r!==e;){if(aN(r)||aM(r))return r;r=r.parentNode}return null},vd=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],vm=t2.each,vu=e=>{let t=e.dom,r=new Set(e.serializer.getTempAttrs()),o=e=>eu(vd,t=>tm(e,t))||r.has(e);return{compare:(e,r)=>{if(e.nodeName!==r.nodeName||e.nodeType!==r.nodeType)return!1;let a=e=>{let r={};return vm(t.getAttribs(e),a=>{let n=a.nodeName.toLowerCase();"style"===n||o(n)||(r[n]=t.getAttrib(e,n))}),r},n=(e,t)=>{for(let r in e)if(eG(e,r)){let o=t[r];if(H(o)||e[r]!==o)return!1;delete t[r]}for(let e in t)if(eG(t,e))return!1;return!0};return(!(au(e)&&au(r))||!!n(a(e),a(r))&&!!n(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(r,"style"))))&&!um(e)&&!um(r)},isAttributeInternal:o}},vg=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),vp=e=>"summary"===e.name,vh=(e,t)=>{let r=e;for(;r=r.walk();)t(r)},vf=(e,t,r,o)=>{let a=r.name;for(let t=0,n=e.length;t<n;t++){let n=e[t];if(n.name===a){let e=o.nodes[a];e?e.nodes.push(r):o.nodes[a]={filter:n,nodes:[r]}}}if(r.attributes)for(let e=0,a=t.length;e<a;e++){let a=t[e],n=a.name;if(n in r.attributes.map){let e=o.attributes[n];e?e.nodes.push(r):o.attributes[n]={filter:a,nodes:[r]}}}},vy=(e,t,r)=>{let o={nodes:{},attributes:{}};return r.firstChild&&vh(r,r=>{vf(e,t,r,o)}),o},vb=(e,t)=>{let r=(e,r)=>{eI(e,e=>{let o=eM(e.nodes);ep(e.filter.callbacks,a=>{for(let t=o.length-1;t>=0;t--){let a=o[t];(!(r?void 0!==a.attr(e.filter.name):a.name===e.filter.name)||j(a.parent))&&o.splice(t,1)}o.length>0&&a(o,e.filter.name,t)})})};r(e.nodes,!1),r(e.attributes,!0)},vv=(e,t,r,o={})=>{vb(vy(e,t,r),o)},vk=(e,t,r,o)=>{if((e.pad_empty_with_br||t.insert)&&r(o)){let e=new fc("br",1);t.insert&&e.attr("data-mce-bogus","1"),o.empty().append(e)}else o.empty().append(new fc("#text",3)).value="\xa0"},vw=e=>{var t;return v_(e,"#text")&&(null==(t=null==e?void 0:e.firstChild)?void 0:t.value)==="\xa0"},v_=(e,t)=>{let r=null==e?void 0:e.firstChild;return V(r)&&r===e.lastChild&&r.name===t},vx=(e,t)=>{let r=e.getElementRule(t.name);return(null==r?void 0:r.paddEmpty)===!0},vC=(e,t,r,o)=>o.isEmpty(t,r,t=>vx(e,t)),vS=(e,t)=>V(e)&&(t(e)||"br"===e.name),vz=e=>{let t;for(let r=e;r;r=r.parent){let e=r.attr("contenteditable");if("false"===e)break;"true"===e&&(t=r)}return en.from(t)},vE=(e,t,r=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{for(let o of e.children())r&&!t.isValidChild(r.name,o.name)&&vE(o,t,r);e.unwrap()}},vT=(e,t,r,o=W)=>{let a=t.getTextBlockElements(),n=t.getNonEmptyElements(),l=t.getWhitespaceElements(),i=t2.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),s=new Set,c=e=>e!==r&&!i[e.name];for(let r=0;r<e.length;r++){let i,d,m,u=e[r];if(!u.parent||s.has(u))continue;if(a[u.name]&&"li"===u.parent.name){let e=u.next;for(;e&&a[e.name];)e.name="li",s.add(e),u.parent.insert(e,u.parent),e=e.next;u.unwrap();continue}let g=[u];for(i=u.parent;i&&!t.isValidChild(i.name,u.name)&&c(i);i=i.parent)g.push(i);if(i&&g.length>1)if(vO(t,u,i))vE(u,t);else{g.reverse(),o(d=g[0].clone());let e=d;for(let r=0;r<g.length-1;r++){t.isValidChild(e.name,g[r].name)&&r>0?(o(m=g[r].clone()),e.append(m)):m=e;for(let e=g[r].firstChild;e&&e!==g[r+1];){let t=e.next;m.append(e),e=t}e=m}vC(t,n,l,d)?i.insert(u,g[0],!0):(i.insert(d,g[0],!0),i.insert(u,d)),(vC(t,n,l,i=g[0])||v_(i,"br"))&&i.empty().remove()}else if(u.parent){if("li"===u.name){let e=u.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(u);continue}if((e=u.next)&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(u,e.firstChild,!0);continue}let t=new fc("ul",1);o(t),u.wrap(t);continue}if(t.isValidChild(u.parent.name,"div")&&t.isValidChild("div",u.name)){let e=new fc("div",1);o(e),u.wrap(e)}else vE(u,t)}}},vA=(e,t)=>{let r=e;for(;r;){if(r.name===t)return!0;r=r.parent}return!1},vO=(e,t,r=t.parent)=>!!r&&(!!(e.children[t.name]&&!e.isValidChild(r.name,t.name)||"a"===t.name&&vA(r,"a"))||!!(vp(r)&&vg(t))&&((null==r?void 0:r.firstChild)!==t||(null==r?void 0:r.lastChild)!==t)),vD=(e,t,r,o)=>{let a=document.createRange();return a.setStart(e,t),a.setEnd(r,o),a},vN=e=>{let t=sT.fromRangeStart(e),r=sT.fromRangeEnd(e),o=e.commonAncestorContainer;return mU(!1,o,r).map(a=>!mh(t,r,o)&&mh(t,a,o)?vD(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},vM=e=>e.collapsed?e:vN(e),vR=e=>V(e.firstChild)&&e.firstChild===e.lastChild,vB=e=>"br"===e.name||"\xa0"===e.value,vF=(e,t)=>e.getBlockElements()[t.name]&&vR(t)&&vB(t.firstChild),vL=(e,t)=>{let r=e.getNonEmptyElements();return V(t)&&(t.isEmpty(r)||vF(e,t))},vI=(e,t)=>{let r=t.firstChild,o=t.lastChild;return r&&"meta"===r.name&&(r=r.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),vL(e,o)&&(o=null==o?void 0:o.prev),!!r&&r===o&&("ul"===r.name||"ol"===r.name)},vP=e=>{var t,r;let o=e.firstChild,a=e.lastChild;return o&&"META"===o.nodeName&&(null==(t=o.parentNode)||t.removeChild(o)),a&&"mce_marker"===a.id&&(null==(r=a.parentNode)||r.removeChild(a)),e},vH=(e,t,r)=>{let o=t.serialize(r);return vP(e.createFragment(o))},vj=e=>{var t;return ey(null!=(t=null==e?void 0:e.childNodes)?t:[],e=>"LI"===e.nodeName)},vV=e=>"\xa0"===e.data||aO(e),vU=e=>V(null==e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&vV(e.firstChild),vZ=e=>!e.firstChild||vU(e),vq=e=>e.length>0&&vZ(e[e.length-1])?e.slice(0,-1):e,vW=(e,t)=>{let r=e.getParent(t,e.isBlock);return r&&"LI"===r.nodeName?r:null},v$=(e,t)=>!!vW(e,t),vG=(e,t)=>{let r=t.cloneRange(),o=t.cloneRange();return r.setStartBefore(e),o.setEndAfter(e),[r.cloneContents(),o.cloneContents()]},vK=(e,t)=>{let r=sT.before(e),o=mB(t).next(r);return o?o.toRange():null},vY=(e,t)=>{let r=sT.after(e),o=mB(t).prev(r);return o?o.toRange():null},vX=(e,t,r,o)=>{let a=vG(e,o),n=e.parentNode;return n&&(n.insertBefore(a[0],e),t2.each(t,t=>{n.insertBefore(t,e)}),n.insertBefore(a[1],e),n.removeChild(e)),vY(t[t.length-1],r)},vJ=(e,t,r)=>{let o=e.parentNode;return o&&t2.each(t,t=>{o.insertBefore(t,e)}),vK(e,r)},vQ=(e,t,r,o)=>(o.insertAfter(t.reverse(),e),vY(t[0],r)),v1=(e,t,r,o)=>{let a=vH(t,e,o),n=vW(t,r.startContainer),l=vq(vj(a.firstChild)),i=t.getRoot(),s=e=>{let o=sT.fromRangeStart(r),a=mB(t.getRoot()),l=1===e?a.prev(o):a.next(o),i=null==l?void 0:l.getNode();return!i||vW(t,i)!==n};return n?s(1)?vJ(n,l,i):s(2)?vQ(n,l,i,t):vX(n,l,i,r):null},v0=["pre"],v2=(e,t,r,o)=>{var a;let n=t.firstChild,l=t.lastChild,i=n===("bookmark"===l.attr("data-mce-type")?l.prev:l),s=em(v0,n.name);if(!i||!s)return!1;{let t="false"!==n.attr("contenteditable"),l=(null==(a=e.getParent(r,e.isBlock))?void 0:a.nodeName.toLowerCase())===n.name,i=en.from(vc(o,r)).forall(aN);return t&&l&&i}},v4=(e,t,r)=>!!V(r)&&r===e.getParent(t.endContainer,aR)&&uE(rH.fromDom(r),t),v3=(e,t,r)=>{var o;if("all"===r.getAttribute("data-mce-bogus"))null==(o=r.parentNode)||o.insertBefore(e.dom.createFragment(t),r);else{let o=r.firstChild,a=r.lastChild;o&&(o!==a||"BR"!==o.nodeName)?e.selection.setContent(t,{no_events:!0}):e.dom.setHTML(r,t)}},v5=(e,t,r)=>{en.from(e.getParent(t,"td,th")).map(rH.fromDom).each(e=>a3(e,r))},v6=(e,t)=>{let r=e.schema.getTextInlineElements(),o=e.dom;if(t){let t=e.getBody(),a=vu(e);t2.each(o.select("*[data-mce-fragment]"),e=>{if(V(r[e.nodeName.toLowerCase()])&&fL(o,e)){for(let r=e.parentElement;V(r)&&r!==t&&!fP(o,e,r);r=r.parentElement)if(a.compare(r,e)){o.remove(e,!0);break}}})}},v8=e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},v7=e=>{t2.each(e.getElementsByTagName("*"),e=>{e.removeAttribute("data-mce-fragment")})},v9=e=>!!e.getAttribute("data-mce-fragment"),ke=(e,t)=>V(t)&&!e.schema.getVoidElements()[t.nodeName],kt=(e,t)=>{var r,o,a,n;let l,i=e.dom,s=e.selection;if(!t)return;s.scrollIntoView(t);let c=vc(e.getBody(),t);if(c&&"false"===i.getContentEditable(c)){i.remove(t),s.select(c);return}let d=i.createRng(),m=t.previousSibling;if(aC(m)){d.setStart(m,null!=(o=null==(r=m.nodeValue)?void 0:r.length)?o:0);let e=t.nextSibling;aC(e)&&(m.appendData(e.data),null==(a=e.parentNode)||a.removeChild(e))}else d.setStartBefore(t),d.setEndBefore(t);let u=i.getParent(t,i.isBlock);if(i.remove(t),u&&i.isEmpty(u)){let t,r=aR(u);oZ(rH.fromDom(u)),d.setStart(u,0),d.setEnd(u,0),!r&&!v9(u)&&(n=d,t=sT.fromRangeStart(n),l=null==(t=mB(e.getBody()).next(t))?void 0:t.toRange())?(d=l,i.remove(u)):i.add(u,i.create("br",r?{}:{"data-mce-bogus":"1"}))}s.setRng(d)},kr=e=>{let t=e.dom,r=vM(e.selection.getRng());e.selection.setRng(r);let o=t.getParent(r.startContainer,aR);v4(t,r,o)?bQ(e,r,rH.fromDom(o)):r.startContainer===r.endContainer&&r.endOffset-r.startOffset==1&&aC(r.startContainer.childNodes[r.startOffset])?r.deleteContents():e.getDoc().execCommand("Delete",!1)},ko=e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return en.some(t);return en.none()},ka=(e,t,r)=>{var o;return eu(r.children(),vg)&&(null==(o=e.getParent(t,e.isBlock))?void 0:o.nodeName)==="SUMMARY"},kn=(e,t,r)=>{var o,a;let n=e.selection,l=e.dom,i=e.parser,s=r.merge,c=fN({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';r.preserve_zwsp||(t=a5(t)),-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);let m=n.getRng(),u=m.startContainer,g=e.getBody();u===g&&n.isCollapsed()&&l.isBlock(g.firstChild)&&ke(e,g.firstChild)&&l.isEmpty(g.firstChild)&&((m=l.createRng()).setStart(g.firstChild,0),m.setEnd(g.firstChild,0),n.setRng(m)),n.isCollapsed()||kr(e);let p=n.getNode(),h={context:p.nodeName.toLowerCase(),data:r.data,insert:!0},f=i.parse(t,h);if(!0===r.paste&&vI(e.schema,f)&&v$(l,p))return(m=v1(c,l,n.getRng(),f))&&n.setRng(m),t;!0===r.paste&&v2(l,f,p,e.getBody())&&(null==(o=f.firstChild)||o.unwrap()),v8(f);let y=f.lastChild;if(y&&"mce_marker"===y.attr("id")){let t=y;for(y=y.prev;y;y=y.walk(!0))if(3===y.type||!l.isBlock(y.name)){y.parent&&e.schema.isValidChild(y.parent.name,"span")&&y.parent.insert(t,y,"br"===y.name);break}}if(e._selectionOverrides.showBlockCaretContainer(p),h.invalid||ka(l,p,f)){let r;e.selection.setContent(d);let o=n.getNode(),s=e.getBody();for(aT(o)?o=r=s:r=o;r&&r!==s;)o=r,r=r.parentNode;t=o===s?s.innerHTML:l.getOuterHTML(o);let m=i.parse(t),u=ko(m),g=u.bind(vz).getOr(m);u.each(e=>e.replace(f));let p=f.children(),h=null!=(a=f.parent)?a:m;f.unwrap(),vT(ey(p,t=>vO(e.schema,t,h)),e.schema,g),vv(i.getNodeFilters(),i.getAttributeFilters(),m),t=c.serialize(m),o===s?l.setHTML(s,t):l.setOuterHTML(o,t)}else v3(e,t=c.serialize(f),p);return v6(e,s),kt(e,l.get("mce_marker")),v7(e.getBody()),v5(l,n.getStart(),e.schema),nJ(e.schema,e.getBody(),n.getStart()),t},kl=e=>e instanceof fc,ki=e=>{hV(e)&&mK(e.getBody()).each(t=>{let r=t.getNode(),o=aw(r)?mK(r).getOr(t):t;e.selection.setRng(o.toRange())})},ks=(e,t,r)=>{e.dom.setHTML(e.getBody(),t),!0!==r&&ki(e)},kc=(e,t,r,o)=>{if(0===(r=a5(r)).length||/^\s+$/.test(r)){let a='<br data-mce-bogus="1">';"TABLE"===t.nodeName?r="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+a+"</li>");let n=cx(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),n.toLowerCase())?(r=a,r=e.dom.createHTML(n,cC(e),r)):r||(r=a),ks(e,r,o.no_selection),{content:r,html:r}}{"raw"!==o.format&&(r=fN({validate:!1},e.schema).serialize(e.parser.parse(r,{isRootContent:!0,insert:!0})));let a=aQ(rH.fromDom(t))?r:t2.trim(r);return ks(e,a,o.no_selection),{content:a,html:a}}},kd=(e,t,r,o)=>{vv(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r);let a=fN({validate:!1},e.schema).serialize(r),n=a5(aQ(rH.fromDom(t))?a:t2.trim(a));return ks(e,n,o.no_selection),{content:r,html:n}},km=(e,t,r)=>en.from(e.getBody()).map(o=>kl(t)?kd(e,o,t,r):kc(e,o,t,r)).getOr({content:t,html:kl(r.content)?"":r.content}),ku=e=>U(e)?e:eo,kg=(e,t,r)=>{let o=e.dom,a=ku(r);for(;o.parentNode;){o=o.parentNode;let e=rH.fromDom(o),r=t(e);if(r.isSome())return r;if(a(e))break}return en.none()},kp=(e,t,r)=>{let o=t(e),a=ku(r);return o.orThunk(()=>a(e)?en.none():kg(e,t,a))},kh=(e,t,r)=>{let o=e.formatter.get(r);if(o)for(let r=0;r<o.length;r++){let a=o[r];if(u2(a)&&!1===a.inherit&&e.dom.is(t,a.selector))return!0}return!1},kf=(e,t,r,o,a)=>{let n=e.dom.getRoot();if(t===n)return!1;let l=e.dom.getParent(t,t=>!!kh(e,t,r)||t.parentNode===n||!!kv(e,t,r,o,!0));return!!kv(e,l,r,o,a)},ky=(e,t,r)=>!!(u4(r)&&uq(t,r.inline)||uQ(r)&&uq(t,r.block))||!!u2(r)&&au(t)&&e.is(t,r.selector),kb=(e,t,r,o,a,n)=>{let l=r[o],i="attributes"===o;if(U(r.onmatch))return r.onmatch(t,r,o);if(l){if(eJ(l))for(let r=0;r<l.length&&(i?!e.getAttrib(t,l[r]):!u$(e,t,l[r]));r++);else for(let o in l)if(eG(l,o)){let s=i?e.getAttrib(t,o):u$(e,t,o),c=uZ(l[o],n),d=j(s)||tb(s);if(d&&j(c))continue;if(a&&d&&!r.exact||(!a||r.exact)&&!uq(s,uW(c,o)))return!1}}return!0},kv=(e,t,r,o,a)=>{let n=e.formatter.get(r),l=e.dom;if(n&&au(t))for(let r=0;r<n.length;r++){let i=n[r];if(ky(e.dom,t,i)&&kb(l,t,i,"attributes",a,o)&&kb(l,t,i,"styles",a,o)){let r=i.classes;if(r){for(let a=0;a<r.length;a++)if(!e.dom.hasClass(t,uZ(r[a],o)))return}return i}}},kk=(e,t,r,o,a)=>{if(o)return kf(e,o,t,r,a);if(o=e.selection.getNode(),kf(e,o,t,r,a))return!0;let n=e.selection.getStart();return!!(n!==o&&kf(e,n,t,r,a))},kw=(e,t,r)=>{let o=[],a={},n=e.selection.getStart();return e.dom.getParent(n,n=>{for(let l=0;l<t.length;l++){let i=t[l];!a[i]&&kv(e,n,i,r)&&(a[i]=!0,o.push(i))}},e.dom.getRoot()),o},k_=(e,t)=>{let r=t=>rW(t,rH.fromDom(e.getBody())),o=(t,r)=>kv(e,t.dom,r)?en.some(r):en.none();return en.from(e.selection.getStart(!0)).bind(e=>kp(rH.fromDom(e),e=>eR(t,t=>o(e,t)),r)).getOrNull()},kx=(e,t)=>{let r=e.formatter.get(t),o=e.dom;if(r&&e.selection.isEditable()){let t=uK(o,e.selection.getStart());for(let e=r.length-1;e>=0;e--){let a=r[e];if(!u2(a))return!0;for(let e=t.length-1;e>=0;e--)if(o.is(t[e],a.selector))return!0}}return!1},kC=(e,t,r)=>ev(r,(r,o)=>{let a=uX(e,o);return e.formatter.matchNode(t,o,{},a)?r.concat([o]):r},[]),kS=(e,t)=>e.importNode(t,!0),kz=e=>{if(e){let t=new ac(e,e);for(let e=t.current();e;e=t.next())if(aC(e))return e}return null},kE=e=>{let t=rH.fromTag("span");return rv(t,{id:mX,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&oH(t,rH.fromText("\uFEFF")),t},kT=e=>{let t=kz(e);return t&&"\uFEFF"===t.data.charAt(0)&&t.deleteData(0,1),t},kA=(e,t,r)=>{let o=e.dom,a=e.selection;if(u8(t))y5(e,!1,rH.fromDom(t),r,!0);else{let e=a.getRng(),r=o.getParent(t,o.isBlock),n=e.startContainer,l=e.startOffset,i=e.endContainer,s=e.endOffset,c=kT(t);o.remove(t,!0),n===c&&l>0&&e.setStart(c,l-1),i===c&&s>0&&e.setEnd(c,s-1),r&&o.isEmpty(r)&&a4(rH.fromDom(r)),a.setRng(e)}},kO=(e,t,r)=>{let o=e.dom,a=e.selection;if(t)kA(e,t,r);else if(!(t=mQ(e.getBody(),a.getStart())))for(;t=o.get(mX);)kA(e,t,r)},kD=(e,t,r)=>{var o,a;let n=e.dom,l=n.getParent(r,J(uI,e.schema));l&&n.isEmpty(l)?null==(o=r.parentNode)||o.replaceChild(t,r):(a0(rH.fromDom(r)),n.isEmpty(r)?null==(a=r.parentNode)||a.replaceChild(t,r):n.insertAfter(t,r))},kN=(e,t)=>(e.appendChild(t),t),kM=(e,t)=>{var r;let o=eb(e,(e,t)=>kN(e,t.cloneNode(!1)),t),a=null!=(r=o.ownerDocument)?r:document;return kN(o,a.createTextNode("\uFEFF"))},kR=(e,t,r,o,a,n)=>{let l=e.formatter,i=e.dom,s=kC(e,r,ey(eF(l.get()),e=>e!==o&&!td(e,"removeformat")));if(!(ey(s,t=>!uJ(e,t,o)).length>0))return en.none();{let e=r.cloneNode(!1);return i.add(t,e),l.remove(o,a,e,n),i.remove(e),en.some(e)}},kB=(e,t,r)=>{let o,a=e.selection,n=e.formatter.get(t);if(!n)return;let l=a.getRng(),i=l.startOffset,s=l.startContainer.nodeValue;o=mQ(e.getBody(),a.getStart());let c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(s&&i>0&&i<s.length&&c.test(s.charAt(i))&&c.test(s.charAt(i-1))){let o=a.getBookmark();l.collapse(!0);let i=gd(e.dom,l,n);i=pN(i),e.formatter.apply(t,r,i),a.moveToBookmark(o)}else{let n=o?kz(o):null;o&&(null==n?void 0:n.data)==="\uFEFF"||(n=(o=kS(e.getDoc(),kE(!0).dom)).firstChild,l.insertNode(o),i=1),e.formatter.apply(t,r,o),a.setCursorLocation(n,i)}},kF=(e,t,r,o)=>{let a,n=e.dom,l=e.selection,i=!1,s=e.formatter.get(t);if(!s)return;let c=l.getRng(),d=c.startContainer,m=c.startOffset,u=d;aC(d)&&(m!==d.data.length&&(i=!0),u=u.parentNode);let g=[];for(;u;){if(kv(e,u,t,r,o)){a=u;break}u.nextSibling&&(i=!0),g.push(u),u=u.parentNode}if(a)if(i){let a=l.getBookmark();c.collapse(!0);let i=gd(n,c,s,!0);i=pN(i),e.formatter.remove(t,r,i,o),l.moveToBookmark(a)}else{let i=mQ(e.getBody(),a),s=V(i)?n.getParents(a.parentNode,ea,i):[],c=kE(!1).dom;kD(e,c,null!=i?i:a);let d=kM([...g,...kR(e,c,a,t,r,o).toArray(),...s],c);i&&kA(e,i,V(i)),l.setCursorLocation(d,1),n.isEmpty(a)&&n.remove(a)}},kL=(e,t,r)=>{let o=e.selection,a=e.getBody();kO(e,null,r),(8===t||46===t)&&o.isCollapsed()&&"\uFEFF"===o.getStart().innerHTML&&kO(e,mQ(a,o.getStart()),!0),(37===t||39===t)&&kO(e,mQ(a,o.getStart()),!0)},kI=e=>aC(e)&&tu(e.data,"\xa0"),kP=e=>{e.on("mouseup keydown",t=>{kL(e,t.keyCode,kI(e.selection.getRng().endContainer))})},kH=e=>{let t=kE(!1),r=kM(e,t.dom);return{caretContainer:t,caretPosition:sT(r,0)}},kj=(e,t)=>{let{caretContainer:r,caretPosition:o}=kH(t);return oL(rH.fromDom(e),r),oq(rH.fromDom(e)),o},kV=(e,t)=>{let{caretContainer:r,caretPosition:o}=kH(t);return e.insertNode(r.dom),o},kU=(e,t)=>!mJ(t.dom)&&eG(e.schema.getTextInlineElements(),ri(t))&&!mJ(t.dom)&&!av(t.dom),kZ={},kq=af(["pre"]),kW=(e,t)=>{eG(kZ,e)&&ep(kZ[e],e=>{e(t)})};kZ.pre||(kZ.pre=[]),kZ.pre.push(e=>{let t=e.selection.getRng(),r=(e,t)=>{let r=rH.fromDom(t),o=rK(r).dom;oq(r),oU(rH.fromDom(e),[rH.fromTag("br",o),rH.fromTag("br",o),...r6(r)])};if(!t.collapsed){let t=e.selection.getSelectedBlocks();ep(ey(ey(t,kq),e=>{let r=e.previousSibling;return kq(r)&&em(t,r)}),e=>{r(e.previousSibling,e)})}});let k$=["fontWeight","fontStyle","color","fontSize","fontFamily"],kG=e=>B(e.styles)&&eu(eF(e.styles),e=>em(k$,e)),kK=e=>ew(e,e=>u4(e)&&"span"===e.inline&&kG(e)),kY=(e,t)=>{let r=e.get(t);return L(r)?kK(r):en.none()},kX=(e,t)=>mG(t,sT.fromRangeStart(e)).isNone(),kJ=(e,t)=>!1===m$(t,sT.fromRangeEnd(e)).exists(e=>!aO(e.getNode())||m$(t,e).isSome()),kQ=e=>t=>aL(t)&&e.isEditable(t),k1=e=>{let t=e.getSelectedBlocks(),r=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return kX(r,t[0])&&kJ(r,t[0])?t:[];{let e=eD(t).filter(e=>kX(r,e)).toArray(),o=eN(t).filter(e=>kJ(r,e)).toArray(),a=t.slice(1,-1);return e.concat(a).concat(o)}},k0=e=>ey(k1(e),kQ(e.dom)),k2=e=>ey(e.getSelectedBlocks(),kQ(e.dom)),k4=t2.each,k3=e=>au(e)&&!um(e)&&!mJ(e)&&!av(e),k5=(e,t)=>{for(let r=e;r&&!(aC(r)&&ty(r.data));r=r[t])if(au(r)&&!um(r))return r;return e},k6=(e,t,r)=>{let o=vu(e),a=ag(t)&&e.dom.isEditable(t),n=ag(r)&&e.dom.isEditable(r);if(a&&n){let a=k5(t,"previousSibling"),n=k5(r,"nextSibling");if(o.compare(a,n)){for(let e=a.nextSibling;e&&e!==n;){let t=e;e=e.nextSibling,a.appendChild(t)}return e.dom.remove(n),t2.each(t2.grep(n.childNodes),e=>{a.appendChild(e)}),a}}return r},k8=(e,t,r,o)=>{var a;if(o&&!1!==t.merge_siblings){let t=null!=(a=k6(e,uL(o),o))?a:o;k6(e,t,uL(t,!0))}},k7=(e,t,r)=>{if(t.clear_child_styles){let o=t.links?"*:not(a)":"*";k4(e.select(o,r),r=>{k3(r)&&e.isEditable(r)&&k4(t.styles,(t,o)=>{e.setStyle(r,o,"")})})}},k9=(e,t,r)=>{k4(e.childNodes,e=>{k3(e)&&(t(e)&&r(e),e.hasChildNodes()&&k9(e,t,r))})},we=(e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},wt=(e,t)=>r=>!!(r&&u$(e,r,t)),wr=(e,t,r)=>o=>{e.setStyle(o,t,r),""===o.getAttribute("style")&&o.removeAttribute("style"),we(e,o)},wo=s8([{keep:[]},{rename:["name"]},{removed:[]}]),wa=/^(src|href|style)$/,wn=t2.each,wl=e=>/^(TR|TH|TD)$/.test(e.nodeName),wi=(e,t,r)=>e.isChildOf(t,r)&&t!==r&&!e.isBlock(r),ws=(e,t,r)=>{let o=t[r?"startContainer":"endContainer"],a=t[r?"startOffset":"endOffset"];if(au(o)){let e=o.childNodes.length-1;!r&&a&&a--,o=o.childNodes[a>e?e:a]}return aC(o)&&r&&a>=o.data.length&&(o=new ac(o,e.getBody()).next()||o),aC(o)&&!r&&0===a&&(o=new ac(o,e.getBody()).prev()||o),o},wc=(e,t)=>{let r=t?"firstChild":"lastChild",o=e[r];if(wl(e)&&o)if("TR"===e.nodeName)return o[r]||o;else return o;return e},wd=(e,t,r,o)=>{var a;let n=e.create(r,o);return null==(a=t.parentNode)||a.insertBefore(n,t),n.appendChild(t),n},wm=(e,t,r,o,a)=>{let n=rH.fromDom(t),l=rH.fromDom(e.create(o,a));return oU(l,r?r5(n):r3(n)),r?(oL(n,l),oP(l,n)):(oI(n,l),oH(l,n)),l.dom},wu=(e,t)=>t.links&&"A"===e.nodeName,wg=(e,t,r)=>{let o,a=t.parentNode,n=e.dom,l=cx(e);!uQ(r)||a!==n.getRoot()||r.list_block&&uq(t,r.list_block)||ep(eM(t.childNodes),t=>{uP(e,l,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=wd(n,t,l),n.setAttribs(o,cC(e))):o=null}),(!u3(r)||uq(r.inline,t))&&n.remove(t,!0)},wp=(e,t,r)=>Z(e)?{name:t,value:null}:{name:e,value:uZ(t,r)},wh=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},wf=(e,t,r,o,a)=>{let n=!1;wn(r.styles,(l,i)=>{let{name:s,value:c}=wp(i,l,o),d=uW(c,s);(r.remove_similar||I(c)||!au(a)||uq(u$(e,a,s),d))&&e.setStyle(t,s,""),n=!0}),n&&wh(e,t)},wy=(e,t,r)=>{"removeformat"===t?ep(k2(e.selection),t=>{ep(k$,r=>e.dom.setStyle(t,r,"")),wh(e.dom,t)}):kY(e.formatter,t).each(t=>{ep(k2(e.selection),o=>wf(e.dom,o,t,r,null))})},wb=(e,t,r,o,a)=>{let n=e.dom,l=vu(e),i=e.schema;if(u4(t)&&n1(i,t.inline)&&n2(i,o)&&o.parentElement===e.getBody())return wg(e,o,t),wo.removed();if(!t.ceFalseOverride&&o&&"false"===n.getContentEditableParent(o)||o&&!ky(n,o,t)&&!wu(o,t))return wo.keep();let s=t.preserve_attributes;if(u4(t)&&"all"===t.remove&&L(s)){let e=ey(n.getAttribs(o),e=>em(s,e.name.toLowerCase()));if(n.removeAllAttribs(o),ep(e,e=>n.setAttrib(o,e.name,e.value)),e.length>0)return wo.rename("span")}if("all"!==t.remove){wf(n,o,t,r,a),wn(t.attributes,(e,l)=>{let{name:i,value:s}=wp(l,e,r);if(t.remove_similar||I(s)||!au(a)||uq(n.getAttrib(a,i),s)){if("class"===i){let e=n.getAttrib(o,i);if(e){let t="";if(ep(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)}),t)return void n.setAttrib(o,i,t)}}if(wa.test(i)&&o.removeAttribute("data-mce-"+i),"style"===i&&af(["li"])(o)&&"none"===n.getStyle(o,"list-style-type")){o.removeAttribute(i),n.setStyle(o,"list-style-type","none");return}"class"===i&&o.removeAttribute("className"),o.removeAttribute(i)}}),wn(t.classes,e=>{e=uZ(e,r),(!au(a)||n.hasClass(a,e))&&n.removeClass(o,e)});let e=n.getAttribs(o);for(let t=0;t<e.length;t++){let r=e[t].nodeName;if(!l.isAttributeInternal(r))return wo.keep()}}return"none"!==t.remove?(wg(e,o,t),wo.removed()):wo.keep()},wv=(e,t,r,o,a)=>{let n;return t.parentNode&&ep(uK(e.dom,t.parentNode).reverse(),t=>{if(!n&&au(t)&&"_start"!==t.id&&"_end"!==t.id){let l=kv(e,t,r,o,a);l&&!1!==l.split&&(n=t)}}),n},wk=(e,t,r,o)=>wb(e,t,r,o,o).fold(K(o),t=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,t)),K(null)),ww=(e,t,r,o,a,n,l,i)=>{var s,c;let d,m,u=e.dom;if(r){let g=r.parentNode;for(let r=o.parentNode;r&&r!==g;r=r.parentNode){let o=u.clone(r,!1);for(let r=0;r<t.length&&null!==(o=wk(e,t[r],i,o));r++);o&&(d&&o.appendChild(d),m||(m=o),d=o)}!n||l.mixed&&u.isBlock(r)||(o=null!=(s=u.split(r,o))?s:o),d&&m&&(null==(c=a.parentNode)||c.insertBefore(d,a),m.appendChild(a),u4(l)&&k8(e,l,i,d))}return o},w_=(e,t,r,o,a)=>{let n=e.formatter.get(t),l=n[0],i=e.dom,s=e.selection,c=o=>{let i=wv(e,o,t,r,a);return ww(e,n,i,o,o,!0,l,r)},d=e=>um(e)&&au(e)&&("_start"===e.id||"_end"===e.id),m=t=>eu(n,o=>wC(e,o,r,t,t)),u=t=>{let r=eM(t.childNodes),o=m(t)||eu(n,e=>ky(i,t,e)),a=t.parentNode;if(!o&&V(a)&&u5(l)&&m(a),l.deep&&r.length)for(let e=0;e<r.length;e++)u(r[e]);ep(["underline","line-through","overline"],r=>{au(t)&&e.dom.getStyle(t,"text-decoration")===r&&t.parentNode&&uG(i,t.parentNode)===r&&wC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:r}},void 0,t)})},g=e=>{let t=i.get(e?"_start":"_end");if(!t)return null;{let r=t[e?"firstChild":"lastChild"];return d(r)&&(r=r[e?"firstChild":"lastChild"]),aC(r)&&0===r.data.length&&(r=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),i.remove(t,!0),r}},p=t=>{let r,o,a=gd(i,t,n,t.collapsed);if(l.split){if((r=ws(e,a=pN(a),!0))!==(o=ws(e,a))){if(wi(i,r=wc(r,!0),o=wc(o,!1))){c(wm(i,en.from(r.firstChild).getOr(r),!0,"span",{id:"_start","data-mce-type":"bookmark"})),g(!0);return}if(wi(i,o,r)){c(wm(i,en.from(o.lastChild).getOr(o),!1,"span",{id:"_end","data-mce-type":"bookmark"})),g(!1);return}r=wd(i,r,"span",{id:"_start","data-mce-type":"bookmark"}),o=wd(i,o,"span",{id:"_end","data-mce-type":"bookmark"});let e=i.createRng();e.setStartAfter(r),e.setEndBefore(o),gm(i,e,e=>{ep(e,e=>{um(e)||um(e.parentNode)||c(e)})}),c(r),c(o),r=g(!0),o=g()}else r=o=c(r);a.startContainer=r.parentNode?r.parentNode:r,a.startOffset=i.nodeIndex(r),a.endContainer=o.parentNode?o.parentNode:o,a.endOffset=i.nodeIndex(o)+1}gm(i,a,e=>{ep(e,u)})};if(o){if(uN(o)){let e=i.createRng();e.setStartBefore(o),e.setEndAfter(o),p(e)}else p(o);gL(e,t,o,r);return}s.isCollapsed()&&u4(l)&&!uw(e).length?kF(e,t,r,a):(uB(e,()=>uO(e,p),o=>u4(l)&&kk(e,t,r,o)),e.nodeChanged()),wy(e,t,r),gL(e,t,o,r)},wx=(e,t,r,o,a)=>{(o||e.selection.isEditable())&&w_(e,t,r,o,a)},wC=(e,t,r,o,a)=>wb(e,t,r,o,a).fold(eo,t=>(e.dom.rename(o,t),!0),ea),wS=t2.each,wz=(e,t,r,o)=>{let a=t=>{if(ag(t)&&au(t.parentNode)&&e.isEditable(t)){let r=uG(e,t.parentNode);e.getStyle(t,"color")&&r?e.setStyle(t,"text-decoration",r):e.getStyle(t,"text-decoration")===r&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(t2.walk(o,a,"childNodes"),a(o))},wE=(e,t,r,o)=>{if(t.styles&&t.styles.backgroundColor){let a=wt(e,"fontSize");k9(o,t=>a(t)&&e.isEditable(t),wr(e,"backgroundColor",uZ(t.styles.backgroundColor,r)))}},wT=(e,t,r,o)=>{if(u4(t)&&("sub"===t.inline||"sup"===t.inline)){let r=wt(e,"fontSize");k9(o,t=>r(t)&&e.isEditable(t),wr(e,"fontSize",""));let a=ey(e.select("sup"===t.inline?"sub":"sup",o),e.isEditable);e.remove(a,!0)}},wA=(e,t,r,o)=>{wS(t,t=>{u4(t)&&wS(e.dom.select(t.inline,o),o=>{k3(o)&&wC(e,t,r,o,t.exact?o:null)}),k7(e.dom,t,o)})},wO=(e,t,r,o,a)=>{let n=a.parentNode;!(kv(e,n,r,o)&&wC(e,t,o,a))&&t.merge_with_parents&&n&&e.dom.getParent(n,n=>!!kv(e,n,r,o)&&(wC(e,t,o,a),!0))},wD=t2.each,wN=(e,t,r,o)=>{if(!(c7(e)&&u4(t))||!r.parentNode)return!1;{let t=lj(e.schema),a=bv(rH.fromDom(r),e=>mJ(e.dom));return eK(t,o)&&nB(rH.fromDom(r.parentNode),!1)&&!a}},wM=(e,t,r,o)=>{if(wD(r.styles,(r,a)=>{e.setStyle(t,a,uZ(r,o))}),r.styles){let r=e.getAttrib(t,"style");r&&e.setAttrib(t,"data-mce-style",r)}},wR=(e,t,r,o)=>{let a=e.formatter.get(t),n=a[0],l=!o&&e.selection.isCollapsed(),i=e.dom,s=e.selection,c=(e,t=n)=>{U(t.onformat)&&t.onformat(e,t,r,o),wM(i,e,t,r),wD(t.attributes,(t,o)=>{i.setAttrib(e,o,uZ(t,r))}),wD(t.classes,t=>{let o=uZ(t,r);i.hasClass(e,o)||i.addClass(e,o)})},d=(e,t)=>{let r=!1;return wD(e,e=>!!u2(e)&&(!!("false"===i.getContentEditable(t)&&!e.ceFalseOverride||V(e.collapsed)&&e.collapsed!==l)||!i.is(t,e.selector)||!!mJ(t)||(c(t,e),r=!0,!1))),r},m=e=>{if(!R(e))return null;{let t=i.create(e);return c(t),t}},u=(o,l,i)=>{let s=[],u=!0,g=n.inline||n.block,p=m(g),h=o=>u1(n)&&kv(e,o,t,r),f=(t,r,o)=>{let a=u0(n)&&uI(e.schema,t)&&uP(e,r,g);return o&&a},y=(t,r,a,l)=>{let s=uP(e,g,t.nodeName.toLowerCase())&&uP(e,r,g),c=!i&&aC(t)&&aH(t.data),d=mJ(t),m=!u4(n)||!o.isBlock(t);return(a||l)&&s&&!c&&!d&&m};gm(o,l,t=>{let r,l=t=>{let i=!1,m=u,b=!1,v=t.parentNode,k=v.nodeName.toLowerCase(),w=o.getContentEditable(t);V(w)&&(m=u,u="true"===w,i=!0,b=uU(e,t));let _=u&&!i;if(aO(t)&&!wN(e,n,t,k)){r=null,uQ(n)&&o.remove(t);return}if(h(t)){r=null;return}if(f(t,k,_)){let e=o.rename(t,g);c(e),s.push(e),r=null;return}if(u2(n)){let e=d(a,t);if(!e&&V(v)&&u5(n)&&(e=d(a,v)),!u4(n)||e){r=null;return}}V(p)&&y(t,k,_,b)?(r||(r=o.clone(p,!1),v.insertBefore(r,t),s.push(r)),b&&i&&(u=m),r.appendChild(t)):(r=null,ep(eM(t.childNodes),l),i&&(u=m),r=null)};ep(t,l)}),!0===n.links&&ep(s,e=>{let t=e=>{"A"===e.nodeName&&c(e,n),ep(eM(e.childNodes),t)};t(e)}),ep(s,l=>{let i,d=(i=0,ep(l.childNodes,e=>{!uj(e)&&!um(e)&&i++}),i);if((s.length>1||!o.isBlock(l))&&0===d)return void o.remove(l,!0);if(u4(n)||uQ(n)&&n.wrapper){var m;n.exact||1!==d||(l=ew((m=l).childNodes,uM).filter(e=>"false"!==o.getContentEditable(e)&&ky(o,e,n)).map(e=>{let t=o.clone(e,!1);return c(t),o.replace(t,m,!0),o.remove(e,!0),t}).getOr(m)),wA(e,a,r,l),wO(e,n,t,r,l),wE(o,n,r,l),wz(o,n,r,l),wT(o,n,r,l),k8(e,n,r,l)}})},g=uN(o)?o:s.getNode();if("false"===i.getContentEditable(g)&&!uU(e,g)){d(a,o=g),gF(e,t,o,r);return}if(n){if(o)if(uN(o)){if(!d(a,o)){let e=i.createRng();e.setStartBefore(o),e.setEndAfter(o),u(i,gd(i,e,a),!0)}}else u(i,o,!0);else l&&u4(n)&&!uw(e).length?kB(e,t,r):(s.setRng(vM(s.getRng())),uB(e,()=>{uO(e,(e,t)=>{let r=t?e:gd(i,e,a);u(i,r,!1)})},ea),e.nodeChanged()),kY(e.formatter,t).each(t=>{ep(k0(e.selection),e=>wM(i,e,t,r))});kW(t,e)}gF(e,t,o,r)},wB=(e,t,r,o)=>{(o||e.selection.isEditable())&&wR(e,t,r,o)},wF=e=>eG(e,"vars"),wL=(e,t)=>{e.set({}),t.on("NodeChange",r=>{wj(t,r.element,e.get())}),t.on("FormatApply FormatRemove",r=>{let o=en.from(r.node).map(e=>uN(e)?e:e.startContainer).bind(e=>au(e)?en.some(e):en.from(e.parentElement)).getOrThunk(()=>wI(t));wj(t,o,e.get())})},wI=e=>e.selection.getStart(),wP=(e,t,r,o,a)=>ek(t,t=>!H(e.formatter.matchNode(t,r,null!=a?a:{},o)),t=>!!kh(e,t,r)||!o&&V(e.formatter.matchNode(t,r,a,!0))),wH=(e,t)=>{let r=null!=t?t:wI(e);return ey(uK(e.dom,r),e=>au(e)&&!av(e))},wj=(e,t,r)=>{let o=wH(e,t);eI(r,(r,a)=>{let n=r=>{let n=wP(e,o,a,r.similar,wF(r)?r.vars:void 0),l=n.isSome();if(r.state.get()!==l){r.state.set(l);let e=n.getOr(t);wF(r)?r.callback(l,{node:e,format:a,parents:o}):ep(r.callbacks,t=>t(l,{node:e,format:a,parents:o}))}};ep([r.withSimilar,r.withoutSimilar],n),ep(r.withVars,n)})},wV=(e,t,r,o,a,n)=>{let l=t.get();ep(r.split(","),t=>{let r=e$(l,t).getOrThunk(()=>{let e={withSimilar:{state:iw(!1),similar:!0,callbacks:[]},withoutSimilar:{state:iw(!1),similar:!1,callbacks:[]},withVars:[]};return l[t]=e,e}),i=()=>{let r=wH(e);return wP(e,r,t,a,n).isSome()};if(H(n)){let e=a?r.withSimilar:r.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(i())}else r.withVars.push({state:iw(i()),similar:a,vars:n,callback:o})}),t.set(l)},wU=(e,t,r)=>{let o=e.get();ep(t.split(","),e=>e$(o,e).each(t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:ey(t.withSimilar.callbacks,e=>e!==r)},withoutSimilar:{...t.withoutSimilar,callbacks:ey(t.withoutSimilar.callbacks,e=>e!==r)},withVars:ey(t.withVars,e=>e.callback!==r)}})),e.set(o)},wZ=(e,t,r,o,a,n)=>(wV(e,t,r,o,a,n),{unbind:()=>wU(t,r,o)}),wq=(e,t,r,o)=>{let a=e.formatter.get(t);a&&(!kk(e,t,r,o)||"toggle"in a[0]&&!a[0].toggle?wB(e,t,r,o):wx(e,t,r,o))},wW=t2.explode,w$=()=>{let e={};return{addFilter:(t,r)=>{ep(wW(t),t=>{eG(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(r)})},getFilters:()=>eW(e),removeFilter:(t,r)=>{ep(wW(t),t=>{if(eG(e,t))if(V(r)){let o=e[t],a=ey(o.callbacks,e=>e!==r);a.length>0?o.callbacks=a:delete e[t]}else delete e[t]})}}},wG=(e,t)=>{ep(t,t=>{e.attr(t,null)})},wK=(e,t,r)=>{e.addNodeFilter("font",e=>{ep(e,e=>{let o=t.parse(e.attr("style")),a=e.attr("color"),n=e.attr("face"),l=e.attr("size");a&&(o.color=a),n&&(o["font-family"]=n),l&&tk(l).each(e=>{o["font-size"]=r[e-1]}),e.name="span",e.attr("style",t.serialize(o)),wG(e,["color","face","size"])})})},wY=(e,t,r)=>{e.addNodeFilter("strike",e=>{let o="html4"!==t.type;ep(e,e=>{if(o)e.name="s";else{let t=r.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",r.serialize(t))}})})},wX=(e,t,r)=>{var o;let a=l0();t.convert_fonts_to_spans&&wK(e,a,t2.explode(null!=(o=t.font_size_legacy_values)?o:"")),wY(e,r,a)},wJ=(e,t,r)=>{t.inline_styles&&wX(e,t,r)},wQ=(e,t,r)=>{t.addNodeFilter("br",(t,o,a)=>{let n=t2.extend({},r.getBlockElements()),l=r.getNonEmptyElements(),i=r.getWhitespaceElements();n.body=1;let s=e=>e.name in n||n3(r,e);for(let o=0,c=t.length;o<c;o++){let c=t[o],d=c.parent;if(d&&s(d)&&c===d.lastChild){let t=c.prev;for(;t;){let e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(c=null);break}t=t.prev}if(c&&(c.remove(),vC(r,l,i,d))){let t=r.getElementRule(d.name);t&&(t.removeEmpty?d.remove():t.paddEmpty&&vk(e,a,s,d))}}else{let e=c;for(;d&&d.firstChild===e&&d.lastChild===e&&(e=d,!n[d.name]);)d=d.parent;if(e===d){let e=new fc("#text",3);e.value="\xa0",c.replace(e)}}}})},w1=e=>fetch(e).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),w0=e=>{let t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},w2=e=>{let[t,...r]=e.split(","),o=r.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(!a)return en.none();{let e=";base64"===a[2],t=e?w0(o):decodeURIComponent(o);return en.some({type:a[1],data:t,base64Encoded:e})}},w4=(e,t,r=!0)=>{let o=t;if(r)try{o=atob(t)}catch(e){return en.none()}let a=new Uint8Array(o.length);for(let e=0;e<a.length;e++)a[e]=o.charCodeAt(e);return en.some(new Blob([a],{type:e}))},w3=e=>new Promise((t,r)=>{w2(e).bind(({type:e,data:t,base64Encoded:r})=>w4(e,t,r)).fold(()=>r("Invalid data URI"),t)}),w5=e=>tm(e,"blob:")?w1(e):tm(e,"data:")?w3(e):Promise.reject("Unknown URI format"),w6=e=>new Promise((t,r)=>{let o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;r(null==(e=o.error)?void 0:e.message)},o.readAsDataURL(e)}),w8=0,w7=e=>(e||"blobid")+w8++,w9=(e,t,r)=>w2(e).bind(({data:e,type:o,base64Encoded:a})=>t&&!a?en.none():r(a?e:btoa(e),o)),_e=(e,t,r)=>{let o=e.create(w7(),t,r);return e.add(o),o},_t=(e,t,r=!1)=>w9(t,r,(t,r)=>en.from(e.getByData(t,r)).orThunk(()=>w4(r,t).map(r=>_e(e,r,t)))),_r=(e,t)=>{let r=()=>Promise.reject("Invalid data URI");if(tm(t,"blob:")){let o=e.getByUri(t);return V(o)?Promise.resolve(o):w5(t).then(t=>w6(t).then(o=>w9(o,!1,r=>en.some(_e(e,t,r))).getOrThunk(r)))}return tm(t,"data:")?_t(e,t).fold(r,e=>Promise.resolve(e)):Promise.reject("Unknown image data format")},_o=e=>V(e.attr("data-mce-bogus")),_a=e=>e.attr("src")===tJ.transparentSrc||V(e.attr("data-mce-placeholder")),_n=(e,t)=>{let{blob_cache:r}=t;if(r){let t=e=>{let t=e.attr("src");_a(e)||_o(e)||j(t)||_t(r,t,!0).each(t=>{e.attr("src",t.blobUri())})};e.addAttributeFilter("src",e=>ep(e,t))}},_l=(e,t)=>tm(e,`${t}/`),_i=(e,t,r,o,a)=>{let n,l=new fc(n=H(e)?"iframe":_l(e,"image")?"img":_l(e,"video")?"video":_l(e,"audio")?"audio":"iframe",1);return l.attr("audio"===n?{src:t}:{src:t,width:r,height:o}),("audio"===n||"video"===n)&&l.attr("controls",""),"iframe"===n&&a&&l.attr("sandbox",""),l},_s=(e,t)=>{let r=e.schema;t.remove_trailing_brs&&wQ(t,e,r),e.addAttributeFilter("href",e=>{let r=e.length,o=e=>e.split(" ").filter(e=>e.length>0).concat(["noopener"]).sort().join(" "),a=e=>{let t=e?t2.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)for(;r--;){let t=e[r];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",a(t.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",e=>{let t=e.length,r,o,a,n;for(;t--;)if("a"===(n=e[t]).name&&n.firstChild&&!n.attr("href"))for(a=n.parent,r=n.lastChild;r&&a;)o=r.prev,a.insert(r,n),r=o}),t.fix_list_elements&&e.addNodeFilter("ul,ol",e=>{let t=e.length,r,o;for(;t--;)if((o=(r=e[t]).parent)&&("ul"===o.name||"ol"===o.name))if(r.prev&&"li"===r.prev.name)r.prev.append(r);else{let e=new fc("li",1);e.attr("style","list-style-type: none"),r.wrap(e)}});let o=r.getValidClasses();t.validate&&o&&e.addAttributeFilter("class",e=>{var t;let r=e.length;for(;r--;){let a=e[r],n=null!=(t=a.attr("class"))?t:"",l=t2.explode(n," "),i="";for(let e=0;e<l.length;e++){let t=l[e],r=!1,n=o["*"];n&&n[t]&&(r=!0),n=o[a.name],!r&&n&&n[t]&&(r=!0),r&&(i&&(i+=" "),i+=t)}i.length||(i=null),a.attr("class",i)}}),_n(e,t),t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",e=>ep(e,e=>{e.replace(_i(e.attr("type"),"object"===e.name?e.attr("data"):e.attr("src"),e.attr("width"),e.attr("height"),t.sandbox_iframes))})),t.sandbox_iframes&&e.addNodeFilter("iframe",e=>ep(e,e=>e.attr("sandbox","")))},{entries:_c,setPrototypeOf:_d,isFrozen:_m,getPrototypeOf:_u,getOwnPropertyDescriptor:_g}=Object,{freeze:_p,seal:_h,create:_f}=Object,{apply:_y,construct:_b}="undefined"!=typeof Reflect&&Reflect;_p||(_p=function(e){return e}),_h||(_h=function(e){return e}),_y||(_y=function(e,t,r){return e.apply(t,r)}),_b||(_b=function(e,t){return new e(...t)});let _v=_D(Array.prototype.forEach),_k=_D(Array.prototype.pop),_w=_D(Array.prototype.push),__=_D(String.prototype.toLowerCase),_x=_D(String.prototype.toString),_C=_D(String.prototype.match),_S=_D(String.prototype.replace),_z=_D(String.prototype.indexOf),_E=_D(String.prototype.trim),_T=_D(Object.prototype.hasOwnProperty),_A=_D(RegExp.prototype.test),_O=(c=TypeError,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _b(c,t)});function _D(e){return function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return _y(e,t,o)}}function _N(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:__;_d&&_d(e,null);let o=t.length;for(;o--;){let a=t[o];if("string"==typeof a){let e=r(a);e!==a&&(_m(t)||(t[o]=e),a=e)}e[a]=!0}return e}function _M(e){let t=_f(null);for(let[r,o]of _c(e))_T(e,r)&&(Array.isArray(o)?t[r]=function(e){for(let t=0;t<e.length;t++)_T(e,t)||(e[t]=null);return e}(o):o&&"object"==typeof o&&o.constructor===Object?t[r]=_M(o):t[r]=o);return t}function _R(e,t){for(;null!==e;){let r=_g(e,t);if(r){if(r.get)return _D(r.get);if("function"==typeof r.value)return _D(r.value)}e=_u(e)}return function(){return null}}let _B=_p(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_F=_p(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_L=_p(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_I=_p(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_P=_p(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_H=_p(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_j=_p(["#text"]),_V=_p(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),_U=_p(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_Z=_p(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_q=_p(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_W=_h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_$=_h(/<%[\w\W]*|[\w\W]*%>/gm),_G=_h(/\${[\w\W]*}/gm),_K=_h(/^data-[\-\w.\u00B7-\uFFFF]/),_Y=_h(/^aria-[\-\w]+$/),_X=_h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_J=_h(/^(?:\w+script|data):/i),_Q=_h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_1=_h(/^html$/i);var _0=Object.freeze({__proto__:null,MUSTACHE_EXPR:_W,ERB_EXPR:_$,TMPLIT_EXPR:_G,DATA_ATTR:_K,ARIA_ATTR:_Y,IS_ALLOWED_URI:_X,IS_SCRIPT_OR_DATA:_J,ATTR_WHITESPACE:_Q,DOCTYPE_NAME:_1,CUSTOM_ELEMENT:_h(/^[a-z][.\w]*(-[.\w]+)+$/i)});let _2={element:1,text:3,progressingInstruction:7,comment:8,document:9},_4=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(r=t.getAttribute(o));let a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};var _3=function e(){let t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,o=t=>e(t);if(o.version="3.1.7",o.removed=[],!r||!r.document||r.document.nodeType!==_2.document)return o.isSupported=!1,o;let{document:a}=r,n=a,l=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:c,Element:d,NodeFilter:m,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:g,DOMParser:p,trustedTypes:h}=r,f=d.prototype,y=_R(f,"cloneNode"),b=_R(f,"remove"),v=_R(f,"nextSibling"),k=_R(f,"childNodes"),w=_R(f,"parentNode");if("function"==typeof s){let e=a.createElement("template");e.content&&e.content.ownerDocument&&(a=e.content.ownerDocument)}let _="",{implementation:x,createNodeIterator:C,createDocumentFragment:S,getElementsByTagName:z}=a,{importNode:E}=n,T={};o.isSupported="function"==typeof _c&&"function"==typeof w&&x&&void 0!==x.createHTMLDocument;let{MUSTACHE_EXPR:A,ERB_EXPR:O,TMPLIT_EXPR:D,DATA_ATTR:N,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:F}=_0,{IS_ALLOWED_URI:L}=_0,I=null,P=_N({},[..._B,..._F,..._L,..._P,..._j]),H=null,j=_N({},[..._V,..._U,..._Z,..._q]),V=Object.seal(_f(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,Z=null,q=!0,W=!0,$=!1,G=!0,K=!1,Y=!0,X=!1,J=!1,Q=!1,ee=!1,et=!1,er=!1,eo=!0,ea=!1,en=!0,el=!1,ei={},es=null,ec=_N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ed=null,em=_N({},["audio","video","img","source","image","track"]),eu=null,eg=_N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ep="http://www.w3.org/1998/Math/MathML",eh="http://www.w3.org/2000/svg",ef="http://www.w3.org/1999/xhtml",ey=ef,eb=!1,ev=null,ek=_N({},[ep,eh,ef],_x),ew=null,e_=["application/xhtml+xml","text/html"],ex=null,eC=null,eS=a.createElement("form"),ez=function(e){return e instanceof RegExp||e instanceof Function},eE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!eC||eC!==e){if(e&&"object"==typeof e||(e={}),e=_M(e),ex="application/xhtml+xml"===(ew=-1===e_.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?_x:__,I=_T(e,"ALLOWED_TAGS")?_N({},e.ALLOWED_TAGS,ex):P,H=_T(e,"ALLOWED_ATTR")?_N({},e.ALLOWED_ATTR,ex):j,ev=_T(e,"ALLOWED_NAMESPACES")?_N({},e.ALLOWED_NAMESPACES,_x):ek,eu=_T(e,"ADD_URI_SAFE_ATTR")?_N(_M(eg),e.ADD_URI_SAFE_ATTR,ex):eg,ed=_T(e,"ADD_DATA_URI_TAGS")?_N(_M(em),e.ADD_DATA_URI_TAGS,ex):em,es=_T(e,"FORBID_CONTENTS")?_N({},e.FORBID_CONTENTS,ex):ec,U=_T(e,"FORBID_TAGS")?_N({},e.FORBID_TAGS,ex):{},Z=_T(e,"FORBID_ATTR")?_N({},e.FORBID_ATTR,ex):{},ei=!!_T(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,$=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,K=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,et=e.RETURN_DOM_FRAGMENT||!1,er=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,eo=!1!==e.SANITIZE_DOM,ea=e.SANITIZE_NAMED_PROPS||!1,en=!1!==e.KEEP_CONTENT,el=e.IN_PLACE||!1,L=e.ALLOWED_URI_REGEXP||_X,ey=e.NAMESPACE||ef,V=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ez(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ez(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(W=!1),et&&(ee=!0),ei&&(I=_N({},_j),H=[],!0===ei.html&&(_N(I,_B),_N(H,_V)),!0===ei.svg&&(_N(I,_F),_N(H,_U),_N(H,_q)),!0===ei.svgFilters&&(_N(I,_L),_N(H,_U),_N(H,_q)),!0===ei.mathMl&&(_N(I,_P),_N(H,_Z),_N(H,_q))),e.ADD_TAGS&&(I===P&&(I=_M(I)),_N(I,e.ADD_TAGS,ex)),e.ADD_ATTR&&(H===j&&(H=_M(H)),_N(H,e.ADD_ATTR,ex)),e.ADD_URI_SAFE_ATTR&&_N(eu,e.ADD_URI_SAFE_ATTR,ex),e.FORBID_CONTENTS&&(es===ec&&(es=_M(es)),_N(es,e.FORBID_CONTENTS,ex)),en&&(I["#text"]=!0),X&&_N(I,["html","head","body"]),I.table&&(_N(I,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw _O('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw _O('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=(t=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===t&&(t=_4(h,l)),null!==t&&"string"==typeof _&&(_=t.createHTML(""));_p&&_p(e),eC=e}},eT=_N({},["mi","mo","mn","ms","mtext"]),eA=_N({},["annotation-xml"]),eO=_N({},["title","style","font","a","script"]),eD=_N({},[..._F,..._L,..._I]),eN=_N({},[..._P,..._H]),eM=function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:ey,tagName:"template"});let r=__(e.tagName),o=__(t.tagName);return!!ev[e.namespaceURI]&&(e.namespaceURI===eh?t.namespaceURI===ef?"svg"===r:t.namespaceURI===ep?"svg"===r&&("annotation-xml"===o||eT[o]):!!eD[r]:e.namespaceURI===ep?t.namespaceURI===ef?"math"===r:t.namespaceURI===eh?"math"===r&&eA[o]:!!eN[r]:e.namespaceURI===ef?(t.namespaceURI!==eh||!!eA[o])&&(t.namespaceURI!==ep||!!eT[o])&&!eN[r]&&(eO[r]||!eD[r]):"application/xhtml+xml"===ew&&!!ev[e.namespaceURI])},eR=function(e){_w(o.removed,{element:e});try{w(e).removeChild(e)}catch(t){b(e)}},eB=function(e,t){try{_w(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_w(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!H[e])if(ee||et)try{eR(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},eF=function(e){let r=null,o=null;if(Q)e="<remove></remove>"+e;else{let t=_C(e,/^[\r\n\t ]+/);o=t&&t[0]}"application/xhtml+xml"===ew&&ey===ef&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let n=t?t.createHTML(e):e;if(ey===ef)try{r=new p().parseFromString(n,ew)}catch(e){}if(!r||!r.documentElement){r=x.createDocument(ey,"template",null);try{r.documentElement.innerHTML=eb?_:n}catch(e){}}let l=r.body||r.documentElement;return(e&&o&&l.insertBefore(a.createTextNode(o),l.childNodes[0]||null),ey===ef)?z.call(r,X?"html":"body")[0]:X?r.documentElement:l},eL=function(e){return C.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},eI=function(e){return e instanceof g&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},eP=function(e){return"function"==typeof c&&e instanceof c},eH=function(e,t,r){T[e]&&_v(T[e],e=>{e.call(o,t,r,eC)})},ej=function(e){let t=null;if(eH("beforeSanitizeElements",e,null),eI(e))return eR(e),!0;let r=ex(e.nodeName);if(eH("uponSanitizeElement",e,{tagName:r,allowedTags:I}),e.hasChildNodes()&&!eP(e.firstElementChild)&&_A(/<[/\w]/g,e.innerHTML)&&_A(/<[/\w]/g,e.textContent)||e.nodeType===_2.progressingInstruction||Y&&e.nodeType===_2.comment&&_A(/<[/\w]/g,e.data))return eR(e),!0;if(!I[r]||U[r]){if(!U[r]&&eU(r)&&(V.tagNameCheck instanceof RegExp&&_A(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r)))return!1;if(en&&!es[r]){let t=w(e)||e.parentNode,r=k(e)||e.childNodes;if(r&&t){let o=r.length;for(let a=o-1;a>=0;--a){let o=y(r[a],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,v(e))}}}return eR(e),!0}return e instanceof d&&!eM(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&_A(/<\/no(script|embed|frames)/i,e.innerHTML)?(eR(e),!0):(K&&e.nodeType===_2.text&&(t=e.textContent,_v([A,O,D],e=>{t=_S(t,e," ")}),e.textContent!==t&&(_w(o.removed,{element:e.cloneNode()}),e.textContent=t)),eH("afterSanitizeElements",e,null),!1)},eV=function(e,t,r){if(eo&&("id"===t||"name"===t)&&(r in a||r in eS))return!1;if(W&&!Z[t]&&_A(N,t));else if(q&&_A(M,t));else if(!H[t]||Z[t]){if(!(eU(e)&&(V.tagNameCheck instanceof RegExp&&_A(V.tagNameCheck,e)||V.tagNameCheck instanceof Function&&V.tagNameCheck(e))&&(V.attributeNameCheck instanceof RegExp&&_A(V.attributeNameCheck,t)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(t))||"is"===t&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&_A(V.tagNameCheck,r)||V.tagNameCheck instanceof Function&&V.tagNameCheck(r))))return!1}else if(eu[t]);else if(_A(L,_S(r,B,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===_z(r,"data:")&&ed[e]);else if($&&!_A(R,_S(r,B,"")));else if(r)return!1;return!0},eU=function(e){return"annotation-xml"!==e&&_C(e,F)},eZ=function(e){eH("beforeSanitizeAttributes",e,null);let{attributes:r}=e;if(!r)return;let a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H},n=r.length;for(;n--;){let{name:l,namespaceURI:i,value:s}=r[n],c=ex(l),d="value"===l?s:_E(s),m=d;if(a.attrName=c,a.attrValue=d,a.keepAttr=!0,a.forceKeepAttr=void 0,eH("uponSanitizeAttribute",e,a),d=a.attrValue,a.forceKeepAttr)continue;if(!a.keepAttr||!G&&_A(/\/>/i,d)){eB(l,e);continue}K&&_v([A,O,D],e=>{d=_S(d,e," ")});let u=ex(e.nodeName);if(!eV(u,c,d)||(ea&&("id"===c||"name"===c)&&(eB(l,e),d="user-content-"+d),Y&&_A(/((--!?|])>)|<\/(style|title)/i,d))){eB(l,e);continue}if(t&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(i);else switch(h.getAttributeType(u,c)){case"TrustedHTML":d=t.createHTML(d);break;case"TrustedScriptURL":d=t.createScriptURL(d)}if(d!==m)try{i?e.setAttributeNS(i,l,d):e.setAttribute(l,d),eI(e)?eR(e):_k(o.removed)}catch(e){}}eH("afterSanitizeAttributes",e,null)},eq=function e(t){let r=null,o=eL(t);for(eH("beforeSanitizeShadowDOM",t,null);r=o.nextNode();)eH("uponSanitizeShadowNode",r,null),ej(r)||(r.content instanceof i&&e(r.content),eZ(r));eH("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null,l=null,s=null,d=null;if((eb=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!eP(e))if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw _O("dirty is not a string, aborting")}else throw _O("toString is not a function");if(!o.isSupported)return e;if(J||eE(r),o.removed=[],"string"==typeof e&&(el=!1),el){if(e.nodeName){let t=ex(e.nodeName);if(!I[t]||U[t])throw _O("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)(l=(a=eF("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType===_2.element&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return t&&er?t.createHTML(e):e;if(!(a=eF(e)))return ee?null:er?_:""}a&&Q&&eR(a.firstChild);let m=eL(el?e:a);for(;s=m.nextNode();)ej(s)||(s.content instanceof i&&eq(s.content),eZ(s));if(el)return e;if(ee){if(et)for(d=S.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return(H.shadowroot||H.shadowrootmode)&&(d=E.call(n,d,!0)),d}let u=X?a.outerHTML:a.innerHTML;return X&&I["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&_A(_1,a.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+u),K&&_v([A,O,D],e=>{u=_S(u,e," ")}),t&&er?t.createHTML(u):u},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};eE(e),J=!0},o.clearConfig=function(){eC=null,J=!1},o.isValidAttribute=function(e,t,r){return eC||eE({}),eV(ex(e),ex(t),r)},o.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],_w(T[e],t))},o.removeHook=function(e){if(T[e])return _k(T[e])},o.removeHooks=function(e){T[e]&&(T[e]=[])},o.removeAllHooks=function(){T={}},o}();let _5=t2.each,_6=t2.trim,_8=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_7={ftp:21,http:80,https:443,mailto:25},_9=["img","video"],xe=(e,t)=>V(e)?!e:!V(t)||!em(_9,t),xt=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}},xr=(e,t,r)=>{let o=xt(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?xe(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class xo{static parseDataUri(e){let t,r=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(r[0]);return o&&(t=o[1]),{type:t,data:r[1]}}static isDomSafe(e,t,r={}){return!!r.allow_script_urls||!xr(r,lC.decode(e).replace(/[\s\u0000-\u001F]+/g,""),t)}static getDocumentBaseUrl(e){var t;let r;return r=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!=(t=e.href)?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(e,t={}){this.path="",this.directory="",e=_6(e),this.settings=t;let r=t.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){o.source=e;return}let a=0===e.indexOf("//");if(0!==e.indexOf("/")||a||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){let t=r?r.path:new xo(document.location.href).directory;if((null==r?void 0:r.protocol)==="")e="//mce_host"+o.toAbsPath(t,e);else{let a=/([^#?]*)([#?]?.*)/.exec(e);a&&(e=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(t,a[1])+a[2])}}e=e.replace(/@@/g,"(mce_at)");let n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);n&&_5(_8,(e,t)=>{let r=n[t];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[e]=r}),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),a&&(o.protocol="")}setPath(e){let t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;let t=new xo(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();let r=this.getURI(),o=t.getURI();if(r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o)return r;let a=this.toRelPath(this.path,t.path);return t.query&&(a+="?"+t.query),t.anchor&&(a+="#"+t.anchor),a}toAbsolute(e,t){let r=new xo(e,{base_uri:this});return r.getURI(t&&this.isSameOrigin(r))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;let t=this.protocol?_7[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let r=0,o="",a,n,l=e.substring(0,e.lastIndexOf("/")).split("/"),i=t.split("/");if(l.length>=i.length){for(a=0,n=l.length;a<n;a++)if(a>=i.length||l[a]!==i[a]){r=a+1;break}}if(l.length<i.length){for(a=0,n=i.length;a<n;a++)if(a>=l.length||l[a]!==i[a]){r=a+1;break}}if(1===r)return t;for(a=0,n=l.length-(r-1);a<n;a++)o+="../";for(a=r-1,n=i.length;a<n;a++)a!==r-1?o+="/"+i[a]:o+=i[a];return o}toAbsPath(e,t){let r,o=0,a=/\/$/.test(t)?"/":"",n=e.split("/"),l=t.split("/"),i=[];_5(n,e=>{e&&i.push(e)});let s=[];for(let e=l.length-1;e>=0;e--)if(0!==l[e].length&&"."!==l[e]){if(".."===l[e]){o++;continue}if(o>0){o--;continue}s.push(l[e])}let c=i.length-o;return 0!==(r=c<=0?ez(s).join("/"):i.slice(0,c).join("/")+"/"+ez(s).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r}getURI(e=!1){let t;return(!this.source||e)&&(t="",!e&&(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}let xa=t2.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),xn="data-mce-type",xl=0,xi=(e,t,r,o,a)=>{var n,l,i,s;let c=t.validate,d=r.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!=(n=e.nodeValue)?n:"")&&(e.nodeValue=" "+e.nodeValue);let m=null!=(l=null==a?void 0:a.tagName)?l:e.nodeName.toLowerCase();if("html"!==o&&r.isValid(o)){V(a)&&(a.allowedTags[m]=!0);return}if(1!==e.nodeType||"body"===m)return;let u=rH.fromDom(e),g=r_(u,xn),p=rk(u,"data-mce-bogus");if(!g&&R(p))return void("all"===p?oq(u):oW(u));let h=r.getElementRule(m);if(c&&!h)return void(eG(d,m)?oq(u):oW(u));if(V(a)&&(a.allowedTags[m]=!0),c&&h&&!g){if(ep(null!=(i=h.attributesForced)?i:[],e=>{rb(u,e.name,"{$uid}"===e.value?`mce_${xl++}`:e.value)}),ep(null!=(s=h.attributesDefault)?s:[],e=>{r_(u,e.name)||rb(u,e.name,"{$uid}"===e.value?`mce_${xl++}`:e.value)}),h.attributesRequired&&!eu(h.attributesRequired,e=>r_(u,e))||h.removeEmptyAttrs&&rC(u))return void oW(u);h.outputName&&h.outputName!==m&&i3(u,h.outputName)}},xs=(e,t,r,o,a)=>{let n=e.tagName.toLowerCase(),{attrName:l,attrValue:i}=a;a.keepAttr=xc(t,r,o,n,l,i),a.keepAttr?(a.allowedAttributes[l]=!0,xm(l,r)&&(a.attrValue=l),t.allow_svg_data_urls&&tm(i,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):xd(e,l)&&(a.forceKeepAttr=!0)},xc=(e,t,r,o,a,n)=>!("html"===r||nF(o))||!(a in xa&&xr(e,n,o))&&(!e.validate||t.isValid(o,a)||tm(a,"data-")||tm(a,"aria-")),xd=(e,t)=>e.hasAttribute(xn)&&("id"===t||"class"===t||"style"===t),xm=(e,t)=>e in t.getBoolAttrs(),xu=(e,t,r,o)=>{let{attributes:a}=e;for(let n=a.length-1;n>=0;n--){let l=a[n],i=l.name,s=l.value;xc(t,r,o,e.tagName.toLowerCase(),i,s)||xd(e,i)?xm(i,r)&&e.setAttribute(i,i):e.removeAttribute(i)}},xg=(e,t,r)=>{let o=_3();return o.addHook("uponSanitizeElement",(o,a)=>{xi(o,e,t,r.track(o),a)}),o.addHook("uponSanitizeAttribute",(o,a)=>{xs(o,e,t,r.current(),a)}),o},xp=(e,t)=>{let r={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},xh=e=>{let t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(e=>`xlink:${e}`);return _3().sanitize(e,{IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t}),e.innerHTML},xf=(e,t)=>{let r=nH();if(!e.sanitize)return{sanitizeHtmlElement:(o,a)=>{let n,l=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);for(;n=l.nextNode();){let o=r.track(n);xi(n,e,t,o),au(n)&&xu(n,e,t,o)}r.reset()},sanitizeNamespaceElement:W};{let o=xg(e,t,r);return{sanitizeHtmlElement:(t,a)=>{o.sanitize(t,xp(e,a)),o.removed=[],r.reset()},sanitizeNamespaceElement:xh}}},xy=t2.makeMap,xb=t2.extend,xv=(e,t,r,o)=>{let a=e.name,n=a in r&&"title"!==a&&"textarea"!==a&&"noscript"!==a,l=t.childNodes;for(let t=0,a=l.length;t<a;t++){let a=l[t],i=new fc(a.nodeName.toLowerCase(),a.nodeType);if(au(a)){let e=a.attributes;for(let t=0,r=e.length;t<r;t++){let r=e[t];i.attr(r.name,r.value)}nF(i.name)&&(o(a),i.value=a.innerHTML)}else aC(a)?(i.value=a.data,n&&(i.raw=!0)):(aE(a)||aS(a)||az(a))&&(i.value=a.data);nF(i.name)||xv(i,a,r,o),e.append(i)}},xk=(e,t,r)=>{let o=[];for(let r=e,a=r;r;a=r,r=r.walk()){let n=r;ep(t,e=>e(n)),j(n.parent)&&n!==e?r=a:o.push(n)}for(let e=o.length-1;e>=0;e--){let t=o[e];ep(r,e=>e(t))}},xw=(e,t,r,o)=>{let a=r.validate,n=t.getNonEmptyElements(),l=t.getWhitespaceElements(),i=xb(xy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),s=lj(t),c=/[ \t\r\n]+/g,d=/^[ \t\r\n]+/,m=/[ \t\r\n]+$/,u=e=>{let t=e.parent;for(;V(t);)if(t.name in l)return!0;else t=t.parent;return!1},g=e=>{let r=e;for(;V(r);)if(r.name in s)return vC(t,n,l,r);else r=r.parent;return!1},p=r=>r.name in i||n3(t,r)||nF(r.name)&&r.parent===e,h=(t,r)=>!(V(r?t.prev:t.next)||j(t.parent))&&p(t.parent)&&(t.parent!==e||!0===o.isRootContent);return[e=>{var t;if(3===e.type&&!u(e)){let r=null!=(t=e.value)?t:"";r=r.replace(c," "),(vS(e.prev,p)||h(e,!0))&&(r=r.replace(d,"")),0===r.length?e.remove():e.value=r}},e=>{var i;if(1===e.type){let i=t.getElementRule(e.name);if(a&&i){let a=vC(t,n,l,e);i.paddInEmptyBlock&&a&&g(e)?vk(r,o,p,e):i.removeEmpty&&a?p(e)?e.remove():e.unwrap():i.paddEmpty&&(a||vw(e))&&vk(r,o,p,e)}}else if(3===e.type&&!u(e)){let t=null!=(i=e.value)?i:"";(e.next&&p(e.next)||h(e,!1))&&(t=t.replace(m,"")),0===t.length?e.remove():e.value=t}}]},x_=(e,t)=>{var r;let o=null!=(r=t.forced_root_block)?r:e.forced_root_block;return!1===o?"":!0===o?"p":o},xx=(e={},t=lU())=>{let r=w$(),o=w$(),a={validate:!0,root_name:"body",sanitize:!0,...e},n=new DOMParser,l=xf(a,t),i=(e,r,o="html")=>{let a="xhtml"===o?"application/xhtml+xml":"text/html",i=eG(t.getSpecialElements(),r.toLowerCase()),s=i?`<${r}>${e}</${r}>`:e,c="xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${s}</body></html>`:`<body>${s}</body>`,d=n.parseFromString(c,a).body;return l.sanitizeHtmlElement(d,a),i?d.firstChild:d},s=r.addFilter,c=r.getFilters,d=r.removeFilter,m=o.addFilter,u=o.getFilters,g=o.removeFilter,p=(e,r)=>{vO(t,e)&&r.push(e)},h=(e,r)=>{let o=R(r.attr(xn)),a=1===r.type&&!eG(e,r.name)&&!n3(t,r)&&!nF(r.name);return 3===r.type||a&&!o},f=(e,r)=>{let o=xb(xy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),n=/^[ \t\r\n]+/,l=/[ \t\r\n]+$/,i=e.firstChild,s=null,c=e=>{var t,r;e&&((i=e.firstChild)&&3===i.type&&(i.value=null==(t=i.value)?void 0:t.replace(n,"")),(i=e.lastChild)&&3===i.type&&(i.value=null==(r=i.value)?void 0:r.replace(l,"")))};if(t.isValidChild(e.name,r.toLowerCase())){for(;i;){let t=i.next;h(o,i)?(s||((s=new fc(r,1)).attr(a.forced_root_block_attrs),e.insert(s,i)),s.append(i)):(c(s),s=null),i=t}c(s)}},y={schema:t,addAttributeFilter:m,getAttributeFilters:u,removeAttributeFilter:g,addNodeFilter:s,getNodeFilters:c,removeNodeFilter:d,parse:(e,r={})=>{var o;let n=a.validate,s=null!=(o=r.context)?o:a.root_name,d=i(e,s,r.format);nY(t,d);let m=new fc(s,11);xv(m,d,t.getSpecialElements(),l.sanitizeNamespaceElement),d.innerHTML="";let[g,h]=xw(m,t,a,r),y=[],b={nodes:{},attributes:{}},v=e=>vf(c(),u(),e,b);if(xk(m,[g,v],[h,n?e=>p(e,y):W]),y.reverse(),n&&y.length>0)if(r.context){let{pass:e,fail:o}=ef(y,e=>e.parent===m);vT(o,t,m,v),r.invalid=e.length>0}else vT(y,t,m,v);let k=x_(a,r);return k&&("body"===m.name||r.isRootContent)&&f(m,k),r.invalid||vb(b,r),m}};return _s(y,a),wJ(y,a,t),y},xC=e=>kl(e)?fN({validate:!1}).serialize(e):e,xS=(e,t,r)=>{let o=xC(e),a=t(o);if(a.isDefaultPrevented()||!kl(e))return a;if(a.content===o)return{...a,content:e};{let t=xx({validate:!1,forced_root_block:!1,...r}).parse(a.content,{context:e.name});return{...a,content:t}}},xz=(e,t)=>{if(t.no_events)return s6.value(t);{let r=gH(e,t);return r.isDefaultPrevented()?s6.error(gj(e,{content:"",...r}).content):s6.value(r)}},xE=(e,t,r)=>r.no_events?t:xS(t,t=>gj(e,{...r,content:t}),{sanitize:dZ(e),sandbox_iframes:d0(e)}).content,xT=(e,t)=>{if(t.no_events)return s6.value(t);{let r=xS(t.content,r=>gI(e,{...t,content:r}),{sanitize:dZ(e),sandbox_iframes:d0(e)});return r.isDefaultPrevented()?(gP(e,r),s6.error(void 0)):s6.value(r)}},xA=(e,t,r)=>{r.no_events||gP(e,{...r,content:t})},xO=(e,t,r)=>({element:e,width:t,rows:r}),xD=(e,t)=>({element:e,cells:t}),xN=(e,t)=>({x:e,y:t}),xM=(e,t)=>rw(e,t).bind(tk).getOr(1),xR=(e,t,r,o,a)=>{let n=xM(a,"rowspan"),l=xM(a,"colspan"),i=e.rows;for(let e=r;e<r+n;e++){i[e]||(i[e]=xD(i2(o),[]));for(let o=t;o<t+l;o++)i[e].cells[o]=e===r&&o===t?a:i0(a)}},xB=(e,t,r)=>{let o=e.rows;return!!(o[r]?o[r].cells:[])[t]},xF=(e,t,r)=>{for(;xB(e,t,r);)t++;return t},xL=e=>ev(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),xI=(e,t)=>{let r=e.rows;for(let e=0;e<r.length;e++){let o=r[e].cells;for(let r=0;r<o.length;r++)if(rW(o[r],t))return en.some(xN(r,e))}return en.none()},xP=(e,t,r,o,a)=>{let n=[],l=e.rows;for(let e=r;e<=a;e++){let r=l[e].cells,a=t<o?r.slice(t,o+1):r.slice(o,t+1);n.push(xD(l[e].element,a))}return n},xH=(e,t,r)=>{let o=t.x,a=t.y,n=r.x,l=r.y,i=a<l?xP(e,o,a,n,l):xP(e,o,l,n,a);return xO(e.element,xL(i),i)},xj=(e,t)=>{let r=i0(e.element),o=rH.fromTag("tbody");return oU(o,t),oH(r,o),r},xV=e=>eg(e.rows,e=>{let t=eg(e.cells,e=>{let t=i2(e);return rx(t,"colspan"),rx(t,"rowspan"),t}),r=i0(e.element);return oU(r,t),r}),xU=e=>{let t=xO(i0(e),0,[]);return ep(ai(e,"tr"),(e,r)=>{ep(ai(e,"td,th"),(o,a)=>{xR(t,xF(t,a,r),r,e,o)})}),xO(t.element,xL(t.rows),t.rows)},xZ=e=>xj(e,xV(e)),xq=(e,t,r)=>xI(e,t).bind(t=>xI(e,r).map(r=>xH(e,t,r))),xW=e=>ew(e,e=>"ul"===ri(e)||"ol"===ri(e)),x$=(e,t)=>ew(e,e=>"li"===ri(e)&&uE(e,t)).fold(K([]),t=>xW(e).map(e=>{let t=rH.fromTag(ri(e));return oO(t,eZ(oR(e),(e,t)=>tm(t,"list-style"))),[rH.fromTag("li"),t]}).getOr([])),xG=(e,t)=>{let r=ev(t,(e,t)=>(oH(t,e),t),e);return t.length>0?pf([r]):r},xK=e=>aY(e)?rJ(e).filter(aK).fold(K([]),t=>[e,t]):aK(e)?[e]:[],xY=(e,t,r)=>{let o=rH.fromDom(t.commonAncestorContainer),a=f3(o,e),n=ey(a,e=>r.isWrapper(ri(e))),l=x$(a,t);return eg(n.concat(l.length?l:xK(o)),i0)},xX=()=>pf([]),xJ=(e,t,r)=>xG(rH.fromDom(t.cloneContents()),xY(e,t,r)),xQ=(e,t)=>ok(t,"table",J(rW,e)),x1=(e,t)=>xQ(e,t[0]).bind(e=>{let r=t[0],o=t[t.length-1];return xq(xU(e),r,o).map(e=>pf([xZ(e)]))}).getOrThunk(xX),x0=(e,t,r)=>t.length>0&&t[0].collapsed?xX():xJ(e,t[0],r),x2=(e,t,r)=>{let o=uk(t,e);return o.length>0?x1(e,o):x0(e,t,r)},x4=(e,t)=>t>=0&&t<e.length&&ug(e.charAt(t)),x3=e=>a5(e.innerText),x5=e=>e.map(e=>e.nodeName).getOr("div").toLowerCase(),x6=e=>en.from(e.selection.getRng()).map(t=>{var r;let o=en.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),n=x5(o),l=rH.fromDom(t.cloneContents());fC(l),fS(l);let i=e.dom.add(a,n,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},l.dom),s=x3(i),c=a5(null!=(r=i.textContent)?r:"");if(e.dom.remove(i),!(x4(c,0)||x4(c,c.length-1)))return s;{let e=x3(o.getOr(a)),t=e.indexOf(s);if(-1===t)return s;{let r=x4(e,t-1),o=x4(e,t+s.length);return(r?" ":"")+s+(o?" ":"")}}}).getOr(""),x8=(e,t)=>{let r=e.selection.getRng(),o=e.dom.create("body"),a=e.selection.getSel(),n=h0(e,uh(a)),l=t.contextual?x2(rH.fromDom(e.getBody()),n,e.schema).dom:r.cloneContents();return l&&o.appendChild(l),e.selection.serializer.serialize(o,t)},x7=(e,t)=>{if("text"===t.format)return x6(e);{let r=x8(e,t);return"tree"===t.format?r:e.selection.isCollapsed()?"":r}},x9=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),Ce=(e,t,r={})=>xz(e,x9(r,t)).fold(Y,t=>{let r=x7(e,t);return xE(e,r,t)}),Ct=(e,t)=>{let r=e.length+t.length+2,o=Array(r),a=Array(r),n=(e,t,r)=>({start:e,end:t,diag:r}),l=(r,o,a,n,i)=>{let c=s(r,o,a,n);if(null===c||c.start===o&&c.diag===o-n||c.end===r&&c.diag===r-a){let l=r,s=a;for(;l<o||s<n;)l<o&&s<n&&e[l]===t[s]?(i.push([0,e[l]]),++l,++s):o-r>n-a?(i.push([2,e[l]]),++l):(i.push([1,t[s]]),++s)}else{l(r,c.start,a,c.start-c.diag,i);for(let t=c.start;t<c.end;++t)i.push([0,e[t]]);l(c.end,o,c.end-c.diag,n,i)}},i=(r,o,a,l)=>{let i=r;for(;i-o<l&&i<a&&e[i]===t[i-o];)++i;return n(r,i,o)},s=(r,n,l,s)=>{let c,d,m,u,g,p=n-r,h=s-l;if(0===p||0===h)return null;let f=p-h,y=h+p,b=(y%2==0?y:y+1)/2;for(c=0,o[1+b]=r,a[1+b]=n+1;c<=b;++c){for(d=-c;d<=c;d+=2){for(m=d+b,d===-c||d!==c&&o[m-1]<o[m+1]?o[m]=o[m+1]:o[m]=o[m-1]+1,g=(u=o[m])-r+l-d;u<n&&g<s&&e[u]===t[g];)o[m]=++u,++g;if(f%2!=0&&f-c<=d&&d<=f+c&&a[m-f]<=o[m])return i(a[m-f],d+r-l,n,s)}for(d=f-c;d<=f+c;d+=2){for(m=d+b-f,d===f-c||d!==f+c&&a[m+1]<=a[m-1]?a[m]=a[m+1]-1:a[m]=a[m-1],g=(u=a[m]-1)-r+l-d;u>=r&&g>=l&&e[u]===t[g];)a[m]=u--,g--;if(f%2==0&&-c<=d&&d<=c&&a[m]<=o[m+f])return i(a[m],d+r-l,n,s)}}return null},c=[];return l(0,e.length,0,t.length,c),c},Cr=e=>au(e)?e.outerHTML:aC(e)?lC.encodeRaw(e.data,!1):aE(e)?"\x3c!--"+e.data+"--\x3e":"",Co=e=>{let t,r=document.createElement("div"),o=document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)o.appendChild(t);return o},Ca=(e,t,r)=>{let o=Co(t);if(e.hasChildNodes()&&r<e.childNodes.length){let t=e.childNodes[r];e.insertBefore(o,t)}else e.appendChild(o)},Cn=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){let r=e.childNodes[t];e.removeChild(r)}},Cl=(e,t)=>{let r=0;ep(e,e=>{0===e[0]?r++:1===e[0]?(Ca(t,e[1],r),r++):2===e[0]&&Cn(t,r)})},Ci=(e,t)=>ey(eg(eM(e.childNodes),t?$(a5,Cr):Cr),e=>e.length>0),Cs=(e,t)=>(Cl(Ct(eg(eM(t.childNodes),Cr),e),t),t),Cc=e6(()=>document.implementation.createHTMLDocument("undo")),Cd=e=>null!==e.querySelector("iframe"),Cm=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),Cu=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Cg=e=>{let t=e.serializer.getTempAttrs(),r=fx(e.getBody(),t);return Cd(r)?Cm(Ci(r,!0)):Cu(a5(r.innerHTML))},Cp=(e,t,r)=>{let o=r?t.beforeBookmark:t.bookmark;"fragmented"===t.type?Cs(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!(V(o)&&m3(o))||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},Ch=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Cf=e=>{let t=rH.fromTag("body",Cc());return oY(t,Ch(e)),ep(ai(t,"*[data-mce-bogus]"),oW),oK(t)},Cy=(e,t)=>Ch(e)===Ch(t),Cb=(e,t)=>Cf(e)===Cf(t),Cv=(e,t)=>!!e&&!!t&&(!!Cy(e,t)||Cb(e,t)),Ck=e=>0===e.get(),Cw=(e,t,r)=>{Ck(r)&&(e.typing=t)},C_=(e,t)=>{e.typing&&(Cw(e,!1,t),e.add())},Cx=e=>{e.typing&&(e.typing=!1,e.add())},CC=(e,t,r)=>{Ck(t)&&r.set(s5(e.selection))},CS=(e,t,r,o,a,n,l)=>{let i=Cg(e),s=t2.extend(n||{},i);if(!Ck(o)||e.removed)return null;let c=t.data[r.get()];if(e.dispatch("BeforeAddUndo",{level:s,lastLevel:c,originalEvent:l}).isDefaultPrevented()||c&&Cv(c,s))return null;t.data[r.get()]&&a.get().each(e=>{t.data[r.get()].beforeBookmark=e});let d=di(e);if(d&&t.data.length>d){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,r.set(t.data.length)}s.bookmark=s5(e.selection),r.get()<t.data.length-1&&(t.data.length=r.get()+1),t.data.push(s),r.set(t.data.length-1);let m={level:s,lastLevel:c,originalEvent:l};return r.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",m),e.dispatch("change",m)):e.dispatch("AddUndo",m),s},Cz=(e,t,r)=>{t.data=[],r.set(0),t.typing=!1,e.dispatch("ClearUndos")},CE=(e,t,r,o,a)=>{if(t.transact(o)){let o=t.data[r.get()].bookmark;Cp(e,t.data[r.get()-1],!0),t.transact(a)&&(t.data[r.get()-1].beforeBookmark=o)}},CT=(e,t,r)=>{let o;return t.get()<r.length-1&&(t.set(t.get()+1),Cp(e,o=r[t.get()],!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o},CA=(e,t,r,o)=>{let a;return t.typing&&(t.add(),t.typing=!1,Cw(t,!1,r)),o.get()>0&&(o.set(o.get()-1),Cp(e,a=t.data[o.get()],!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},CO=e=>{e.clear(),e.add()},CD=(e,t,r)=>r.get()>0||t.typing&&t.data[0]&&!Cv(Cg(e),t.data[0]),CN=(e,t)=>t.get()<e.data.length-1&&!e.typing,CM=(e,t,r)=>(C_(e,t),e.beforeChange(),e.ignore(r),e.add()),CR=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},CB=(e,t)=>{let r=e.dom,o=V(t)?t:e.getBody();ep(r.select("table,a",o),t=>{switch(t.nodeName){case"TABLE":let o=df(e),a=r.getAttrib(t,"border");(!a||"0"===a)&&e.hasVisual?r.addClass(t,o):r.removeClass(t,o);break;case"A":if(!r.getAttrib(t,"href")){let o=r.getAttrib(t,"name")||t.id,a=dy(e);o&&e.hasVisual?r.addClass(t,a):r.removeClass(t,a)}}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},CF=e=>({init:{bindEvents:W},undoManager:{beforeChange:(t,r)=>CC(e,t,r),add:(t,r,o,a,n,l)=>CS(e,t,r,o,a,n,l),undo:(t,r,o)=>CA(e,t,r,o),redo:(t,r)=>CT(e,t,r),clear:(t,r)=>Cz(e,t,r),reset:e=>CO(e),hasUndo:(t,r)=>CD(e,t,r),hasRedo:(e,t)=>CN(e,t),transact:(e,t,r)=>CM(e,t,r),ignore:(e,t)=>CR(e,t),extra:(t,r,o,a)=>CE(e,t,r,o,a)},formatter:{match:(t,r,o,a)=>kk(e,t,r,o,a),matchAll:(t,r)=>kw(e,t,r),matchNode:(t,r,o,a)=>kv(e,t,r,o,a),canApply:t=>kx(e,t),closest:t=>k_(e,t),apply:(t,r,o)=>wB(e,t,r,o),remove:(t,r,o,a)=>wx(e,t,r,o,a),toggle:(t,r,o)=>wq(e,t,r,o),formatChanged:(t,r,o,a,n)=>wZ(e,t,r,o,a,n)},editor:{getContent:t=>fA(e,t),setContent:(t,r)=>km(e,t,r),insertContent:(t,r)=>kn(e,t,r),addVisual:t=>CB(e,t)},selection:{getContent:(t,r)=>Ce(e,t,r)},autocompleter:{addDecoration:t=>ft(e,t),removeDecoration:()=>fa(e,rH.fromDom(e.getBody()))},raw:{getModel:()=>en.none()}}),CL=e=>{let t=e=>B(e)?e:{},{init:r,undoManager:o,formatter:a,editor:n,selection:l,autocompleter:i,raw:s}=e;return{init:{bindEvents:r.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,r)=>o.transact(r),ignore:(e,t)=>o.ignore(t),extra:(e,t,r,a)=>o.extra(r,a)},formatter:{match:(e,r,o,n)=>a.match(e,t(r),n),matchAll:a.matchAll,matchNode:a.matchNode,canApply:e=>a.canApply(e),closest:e=>a.closest(e),apply:(e,r,o)=>a.apply(e,t(r)),remove:(e,r,o,n)=>a.remove(e,t(r)),toggle:(e,r,o)=>a.toggle(e,t(r)),formatChanged:(e,t,r,o,n)=>a.formatChanged(t,r,o,n)},editor:{getContent:e=>n.getContent(e),setContent:(e,t)=>({content:n.setContent(e,t),html:""}),insertContent:(e,t)=>(n.insertContent(e),""),addVisual:n.addVisual},selection:{getContent:(e,t)=>l.getContent(t)},autocompleter:{addDecoration:i.addDecoration,removeDecoration:i.removeDecoration},raw:{getModel:()=>en.some(s.getRawModel())}}},CI=()=>{let e=K(null),t=K("");return{init:{bindEvents:W},undoManager:{beforeChange:W,add:e,undo:e,redo:e,clear:W,reset:W,hasUndo:eo,hasRedo:eo,transact:e,ignore:W,extra:W},formatter:{match:eo,matchAll:K([]),matchNode:K(void 0),canApply:eo,closest:t,apply:W,remove:W,toggle:W,formatChanged:K({unbind:W})},editor:{getContent:t,setContent:K({content:"",html:""}),insertContent:K(""),addVisual:W},selection:{getContent:t},autocompleter:{addDecoration:W,removeDecoration:W},raw:{getModel:K(en.none())}}},CP=e=>eG(e.plugins,"rtc"),CH=e=>e$(e.plugins,"rtc").bind(e=>en.from(e.setup)),Cj=e=>CH(e).fold(()=>(e.rtcInstance=CF(e),en.none()),t=>(e.rtcInstance=CI(),en.some(()=>t().then(t=>(e.rtcInstance=CL(t),t.rtc.isRemote))))),CV=e=>e.rtcInstance?e.rtcInstance:CF(e),CU=e=>{let t=e.rtcInstance;if(t)return t;throw Error("Failed to get RTC instance not yet initialized.")},CZ=(e,t,r)=>{CU(e).undoManager.beforeChange(t,r)},Cq=(e,t,r,o,a,n,l)=>CU(e).undoManager.add(t,r,o,a,n,l),CW=(e,t,r,o)=>CU(e).undoManager.undo(t,r,o),C$=(e,t,r)=>CU(e).undoManager.redo(t,r),CG=(e,t,r)=>{CU(e).undoManager.clear(t,r)},CK=(e,t)=>{CU(e).undoManager.reset(t)},CY=(e,t,r)=>CU(e).undoManager.hasUndo(t,r),CX=(e,t,r)=>CU(e).undoManager.hasRedo(t,r),CJ=(e,t,r,o)=>CU(e).undoManager.transact(t,r,o),CQ=(e,t,r)=>{CU(e).undoManager.ignore(t,r)},C1=(e,t,r,o,a)=>{CU(e).undoManager.extra(t,r,o,a)},C0=(e,t,r,o,a)=>CU(e).formatter.match(t,r,o,a),C2=(e,t,r)=>CU(e).formatter.matchAll(t,r),C4=(e,t,r,o,a)=>CU(e).formatter.matchNode(t,r,o,a),C3=(e,t)=>CU(e).formatter.canApply(t),C5=(e,t)=>CU(e).formatter.closest(t),C6=(e,t,r,o)=>{CU(e).formatter.apply(t,r,o)},C8=(e,t,r,o,a)=>{CU(e).formatter.remove(t,r,o,a)},C7=(e,t,r,o)=>{CU(e).formatter.toggle(t,r,o)},C9=(e,t,r,o,a,n)=>CU(e).formatter.formatChanged(t,r,o,a,n),Se=(e,t)=>CV(e).editor.getContent(t),St=(e,t,r)=>CV(e).editor.setContent(t,r),Sr=(e,t,r)=>CV(e).editor.insertContent(t,r),So=(e,t,r)=>CU(e).selection.getContent(t,r),Sa=(e,t)=>CU(e).editor.addVisual(t),Sn=e=>CU(e).init.bindEvents(),Sl=(e,t)=>CU(e).autocompleter.addDecoration(t),Si=e=>CU(e).autocompleter.removeDecoration(),Ss=(e,t={})=>So(e,t.format?t.format:"html",t),Sc=e=>0===e.dom.length?(oq(e),en.none()):en.some(e),Sd=(e,t)=>e.filter(e=>g_.isBookmarkNode(e.dom)).bind(t?r4:r2),Sm=(e,t,r,o,a)=>{let n=e.dom,l=t.dom,i=o?n.length:l.length;o?(yH(n,l,a,!1,!o),r.setStart(l,i)):(yH(l,n,a,!1,!o),r.setEnd(l,i))},Su=(e,t,r)=>{rJ(e).each(o=>{let a=e.dom;t&&yC(o,sT(a,0),r)?yI(a,0,r):!t&&yz(o,sT(a,a.length),r)&&yP(a,a.length,r)})},Sg=(e,t,r,o,a)=>{e.bind(e=>((o?yP:yI)(e.dom,o?e.dom.length:0,a),t.filter(rg).map(t=>Sm(e,t,r,o,a)))).orThunk(()=>Sd(t,o).or(t).filter(rg).map(e=>Su(e,o,a)))},Sp=(e,t,r)=>{let o=en.from(t.firstChild).map(rH.fromDom),a=en.from(t.lastChild).map(rH.fromDom);e.deleteContents(),e.insertNode(t);let n=o.bind(r2).filter(rg).bind(Sc),l=a.bind(r4).filter(rg).bind(Sc);Sg(n,o,e,!0,r),Sg(l,a,e,!1,r),e.collapse(!1)},Sh=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),Sf=(e,t)=>{if("raw"===t.format)return t.content;{let r=e.selection.getRng(),o=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock),a=o?{context:o.nodeName.toLowerCase()}:{},n=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return fN({validate:!1},e.schema).serialize(n)}},Sy=(e,t,r={})=>{xT(e,Sh(r,t)).each(t=>{let r=Sf(e,t),o=e.selection.getRng();Sp(o,o.createContextualFragment(r),e.schema),e.selection.setRng(o),p7(e,o),xA(e,r,t)})},Sb=(e,t,r)=>{if(eG(e,t)){let o=ey(e[t],e=>e!==r);0===o.length?delete e[t]:e[t]=o}};var Sv=(e,t)=>{let r,o,a=(t,r)=>ew(r,r=>e.is(r,t)),n=t=>e.getParents(t,void 0,e.getRoot()),l=()=>{r={},o={},t.on("NodeChange",e=>{let t=e.element,l=n(t),i={};eI(r,(e,t)=>{a(t,l).each(r=>{o[t]||(ep(e,e=>{e(!0,{node:r,selector:t,parents:l})}),o[t]=e),i[t]=e})}),eI(o,(e,r)=>{i[r]||(delete o[r],ep(e,e=>{e(!1,{node:t,selector:r,parents:l})}))})})};return{selectorChangedWithUnbind:(e,i)=>(r||l(),r[e]||(r[e]=[]),r[e].push(i),a(e,n(t.selection.getStart())).each(()=>{o[e]=r[e]}),{unbind:()=>{Sb(r,e,i),Sb(o,e,i)}})}};let Sk=e=>!!(e&&e.ownerDocument)&&r$(rH.fromDom(e.ownerDocument),rH.fromDom(e)),Sw=e=>!!e&&Sk(e.startContainer)&&Sk(e.endContainer),S_=(e,t,r,o)=>{let a,n,{selectorChangedWithUnbind:l}=Sv(e,o),i=(e,t)=>Sy(o,e,t),s=e=>{let t=d();t.collapse(!!e),m(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,d=()=>{let r,l=(e,t,r)=>{try{return t.compareBoundaryPoints(e,r)}catch(e){return -1}},i=t.document;if(V(o.bookmark)&&!hV(o)){let e=hp(o);if(e.isSome())return e.map(e=>h0(o,[e])[0]).getOr(i.createRange())}try{let e=c();e&&!am(e.anchorNode)&&(r=e.rangeCount>0?e.getRangeAt(0):i.createRange(),r=h0(o,[r])[0])}catch(e){}if(r||(r=i.createRange()),aT(r.startContainer)&&r.collapsed){let t=e.getRoot();r.setStart(t,0),r.setEnd(t,0)}return a&&n&&(0===l(r.START_TO_START,r,a)&&0===l(r.END_TO_END,r,a)?r=n:(a=null,n=null)),r},m=(e,t)=>{if(!Sw(e))return;let r=c();if(e=o.dispatch("SetSelectionRange",{range:e,forward:t}).range,r){n=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),a=r.rangeCount>0?r.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==r?void 0:r.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){let t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),(r.anchorNode!==e.startContainer||r.focusNode!==e.endContainer)&&r.setBaseAndExtent(t,0,t,1))}o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},u=()=>{let t=c(),r=null==t?void 0:t.anchorNode,o=null==t?void 0:t.focusNode;if(!t||!r||!o||am(r)||am(o))return!0;let a=e.createRng(),n=e.createRng();try{a.setStart(r,t.anchorOffset),a.collapse(!0),n.setStart(o,t.focusOffset),n.collapse(!0)}catch(e){return!0}return 0>=a.compareBoundaryPoints(a.START_TO_START,n)},g={dom:e,win:t,serializer:r,editor:o,expand:(t={type:"word"})=>m(pM(e).expand(d(),t)),collapse:s,setCursorLocation:(t,r)=>{let a=e.createRng();V(t)&&V(r)?(a.setStart(t,r),a.setEnd(t,r),m(a),s(!1)):(uT(e,a,o.getBody(),!0),m(a))},getContent:e=>Ss(o,e),setContent:i,getBookmark:(e,t)=>p.getBookmark(e,t),moveToBookmark:e=>p.moveToBookmark(e),select:(t,r)=>(h1(e,t,r).each(m),t),isCollapsed:()=>{let e=d(),t=c();return!!e&&!e.item&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{let t=d(),r=o.getBody().querySelectorAll('[data-mce-selected="1"]');return r.length>0?eS(r,t=>e.isEditable(t.parentElement)):h$(e,t)},isForward:u,setNode:t=>(i(e.getOuterHTML(t)),t),getNode:()=>hJ(o.getBody(),d()),getSel:c,setRng:m,getRng:d,getStart:e=>hK(o.getBody(),d(),e),getEnd:e=>hY(o.getBody(),d(),e),getSelectedBlocks:(t,r)=>hQ(e,d(),t,r),normalize:()=>{let t=d();if(!uy(c())&&uA(o)){let r=pO(e,t);return r.each(e=>{m(e,u())}),r.getOr(t)}return t},selectorChanged:(e,t)=>(l(e,t),g),selectorChangedWithUnbind:l,getScrollContainer:()=>{let t,r=e.getRoot();for(;r&&"BODY"!==r.nodeName;){if(r.scrollHeight>r.clientHeight){t=r;break}r=r.parentNode}return t},scrollIntoView:(e,t)=>{V(e)?p8(o,e,t):p7(o,d(),t)},placeCaretAt:(e,t)=>m(pv(e,t,o.getDoc())),getBoundingClientRect:()=>{let e=d();return e.collapsed?sT.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=a=n=null,h.destroy()}},p=g_(g),h=g0(g,o);return g.bookmarkManager=p,g.controlSelection=h,g},Sx=(e,t,r)=>{e.addAttributeFilter("data-mce-tabindex",(e,t)=>{let r=e.length;for(;r--;){let o=e[r];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}}),e.addAttributeFilter("src,href,style",(e,o)=>{let a="data-mce-"+o,n=t.url_converter,l=t.url_converter_scope,i=e.length;for(;i--;){let t=e[i],s=t.attr(a);void 0!==s?(t.attr(o,s.length>0?s:null),t.attr(a,null)):(s=t.attr(o),"style"===o?s=r.serializeStyle(r.parseStyle(s),t.name):n&&(s=n.call(l,s,o,t.name)),t.attr(o,s.length>0?s:null))}}),e.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){let r=e[t],o=r.attr("class");o&&(o=o.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",o.length>0?o:null))}}),e.addAttributeFilter("data-mce-type",(e,t,r)=>{let o=e.length;for(;o--;){let t=e[o];"bookmark"!==t.attr("data-mce-type")||r.cleanup||(en.from(t.firstChild).exists(e=>{var t;return!aH(null!=(t=e.value)?t:"")})?t.unwrap():t.remove())}}),e.addNodeFilter("script,style",(e,r)=>{var o;let a=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,""),n=e.length;for(;n--;){let l=e[n],i=l.firstChild,s=null!=(o=null==i?void 0:i.value)?o:"";if("script"===r){let e=l.attr("type");e&&l.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&i&&s.length>0&&(i.value="// <![CDATA[\n"+a(s)+"\n// ]]>")}else"xhtml"===t.element_format&&i&&s.length>0&&(i.value="\x3c!--\n"+a(s)+"\n--\x3e")}}),e.addNodeFilter("#comment",e=>{let o=e.length;for(;o--;){let a=e[o],n=a.value;t.preserve_cdata&&(null==n?void 0:n.indexOf("[CDATA["))===0?(a.name="#cdata",a.type=4,a.value=r.decode(n.replace(/^\[CDATA\[|\]\]$/g,""))):(null==n?void 0:n.indexOf("mce:protected "))===0&&(a.name="#text",a.type=3,a.raw=!0,a.value=unescape(n).substr(14))}}),e.addNodeFilter("xml:namespace,input",(e,t)=>{let r=e.length;for(;r--;){let o=e[r];7===o.type?o.remove():1!==o.type||"input"!==t||o.attr("type")||o.attr("type","text")}}),e.addAttributeFilter("data-mce-type",t=>{ep(t,t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}),t.remove_trailing_brs&&wQ(t,e,e.schema)},SC=e=>{let t=e=>(null==e?void 0:e.name)==="br",r=e.lastChild;if(t(r)){let e=r.prev;t(e)&&(r.remove(),e.remove())}},SS=(e,t,r)=>{let o,a=e.dom,n=t.cloneNode(!0),l=document.implementation;if(l.createHTMLDocument){let e=l.createHTMLDocument("");t2.each("BODY"===n.nodeName?n.childNodes:[n],t=>{e.body.appendChild(e.importNode(t,!0))}),n="BODY"!==n.nodeName?e.body.firstChild:e.body,o=a.doc,a.doc=e}return gC(e,{...r,node:n}),o&&(a.doc=o),n},Sz=(e,t)=>V(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,SE=(e,t,r)=>Sz(e,r)?SS(e,t,r):t,ST=(e,t,r)=>{-1===t2.inArray(t,r)&&(e.addAttributeFilter(r,(e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}),t.push(r))},SA=(e,t,r)=>!t.no_events&&e?gS(e,{...t,content:r}).content:r,SO=(e,t,r)=>{let o=a5(r.getInner?t.innerHTML:e.getOuterHTML(t));return r.selection||aQ(rH.fromDom(t))?o:t2.trim(o)},SD=(e,t,r)=>{let o=r.selection?{forced_root_block:!1,...r}:r,a=e.parse(t,o);return SC(a),a},SN=(e,t,r)=>fN(e,t).serialize(r),SM=(e,t,r,o,a)=>SA(e,a,SN(t,r,o)),SR=(e,t)=>{let r=["data-mce-selected"],o={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:ib.DOM,n=t&&t.schema?t.schema:lU(o),l=xx(o,n);return Sx(l,o,a),{schema:n,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:(e,r={})=>{let i={format:"html",...r},s=SD(l,SO(a,SE(t,e,i),i),i);return"tree"===i.format?s:SM(t,o,n,s,i)},addRules:n.addValidElements,setRules:n.setValidElements,addTempAttr:J(ST,l,r),getTempAttrs:K(r),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter}},SB=(e,t)=>{let r=SR(e,t);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}},SF=(e,t)=>({...e,format:t,get:!0,getInner:!0}),SL=(e,t={})=>{let r=t.format?t.format:"html";return xz(e,SF(t,r)).fold(Y,t=>{let r=Se(e,t);return xE(e,r,t)})},SI=(e,t)=>({format:"html",...e,set:!0,content:t}),SP=(e,t,r={})=>xT(e,SI(r,t)).map(t=>{let r=St(e,t.content,t);return xA(e,r.html,t),r.content}).getOr(t),SH="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Sj="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),SV="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),SU=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],SZ=(e,t)=>eA(ey(t,t=>eG(e,t))),Sq=e=>{let t=SZ(e,SH),r=e.forced_root_block;return(!1===r||""===r)&&t.push("forced_root_block (false only)"),eA(t)},SW=e=>SZ(e,Sj),S$=(e,t)=>{let r=t2.makeMap(e.plugins," ");return eA(ey(t,e=>eG(r,e)))},SG=e=>S$(e,SV),SK=e=>S$(e,SU.map(e=>e.name)),SY=(e,t)=>{let r=Sq(e),o=SG(t),a=o.length>0,n=r.length>0,l="mobile"===t.theme;(a||n||l)&&console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+(l?`

Themes:
- mobile`:"")+(a?`

Plugins:
- ${o.join("\n- ")}`:"")+(n?`

Options:
- ${r.join("\n- ")}`:""))},SX=e=>ew(SU,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),SJ=(e,t)=>{let r=SW(e),o=SK(t),a=o.length>0,n=r.length>0;(a||n)&&console.warn("The following deprecated features are currently enabled but will be removed soon."+(a?`

Plugins:
- ${o.map(SX).join("\n- ")}`:"")+(n?`

Options:
- ${r.join("\n- ")}`:""))},SQ=(e,t)=>{SY(e,t),SJ(e,t)},S1=ib.DOM,S0=e=>{S1.setStyle(e.id,"display",e.orgDisplay)},S2=e=>en.from(e).each(e=>e.destroy()),S4=e=>{e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null;let t=e.selection;if(t){let r=t.dom;e.selection=t.win=t.dom=r.doc=null}},S3=e=>{let t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),S1.unbind(t,"submit reset",e.formEventDelegate))},S5=e=>{if(!e.removed){let{_selectionOverrides:t,editorUpload:r}=e,o=e.getBody(),a=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&V(null==a?void 0:a.nextSibling)&&S1.remove(a.nextSibling),gz(e),e.editorManager.remove(e),!e.inline&&o&&S0(e),gE(e),S1.remove(e.getContainer()),S2(t),S2(r),e.destroy()}},S6=(e,t)=>{let{selection:r,dom:o}=e;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),S2(r),S2(o)),S3(e),S4(e),e.destroyed=!0}},S8=(()=>{let e={};return{add:(t,r)=>{e[t]=r},get:t=>e[t]?e[t]:{icons:{}},has:t=>eG(e,t)}})(),S7=iA.ModelManager,S9=(e,t)=>t.dom[e],ze=(e,t)=>parseInt(oD(t,e),10),zt=J(S9,"clientWidth"),zr=J(S9,"clientHeight"),zo=J(ze,"margin-top"),za=J(ze,"margin-left"),zn=e=>e.dom.getBoundingClientRect(),zl=(e,t,r)=>{let o=zt(e),a=zr(e);return t>=0&&r>=0&&t<=o&&r<=a},zi=(e,t,r,o)=>{let a=zn(t),n=e?a.left+t.dom.clientLeft+za(t):0;return{x:r-n,y:o-(e?a.top+t.dom.clientTop+zo(t):0)}},zs=(e,t,r)=>{let o=rH.fromDom(e.getBody()),a=e.inline?o:rY(o),n=zi(e.inline,a,t,r);return zl(a,n.x,n.y)},zc=e=>en.from(e).map(rH.fromDom),zd=e=>zc(e.inline?e.getBody():e.getContentAreaContainer()).map(og).getOr(!1);var zm=()=>{let e=()=>{throw Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};let zu=e=>{let t=[],r=()=>{let t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():zm()},o=()=>en.from(t[0]),a=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout,n=()=>{ep(t,e=>{e.reposition()})},l=e=>{t.push(e)},i=e=>{e_(t,t=>t===e).each(e=>{t.splice(e,1)})},s=(s,c=!0)=>e.removed||!zd(e)?{}:(c&&e.dispatch("BeforeOpenNotification",{notification:s}),ew(t,e=>a(r().getArgs(e),s)).getOrThunk(()=>{e.editorManager.setActive(e);let t=r().open(s,()=>{i(t),n(),hU(e)&&o().fold(()=>e.focus(),e=>p9(rH.fromDom(e.getEl())))});return l(t),n(),e.dispatch("OpenNotification",{notification:{...t}}),t})),c=K(t);return e.on("SkinLoaded",()=>{let t=c1(e);t&&s({text:t,type:"warning",timeout:0},!1),n()}),e.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(n)}),e.on("remove",()=>{ep(t.slice(),e=>{r().close(e)})}),{open:s,close:()=>{o().each(e=>{r().close(e),i(e),n()})},getNotifications:c}},zg=iA.PluginManager,zp=iA.ThemeManager;var zh=()=>{let e=()=>{throw Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};let zf=e=>{let t=[],r=()=>{let t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():zh()},o=(e,t)=>(...r)=>t?t.apply(e,r):void 0,a=t=>{e.dispatch("OpenWindow",{dialog:t})},n=t=>{e.dispatch("CloseWindow",{dialog:t})},l=e=>{t.push(e),a(e)},i=r=>{n(r),0===(t=ey(t,e=>e!==r)).length&&e.focus()},s=()=>en.from(t[t.length-1]),c=t=>{e.editorManager.setActive(e),hg(e),e.ui.show();let r=t();return l(r),r};return e.on("remove",()=>{ep(t,e=>{r().close(e)})}),{open:(e,t)=>c(()=>r().open(e,t,i)),openUrl:e=>c(()=>r().openUrl(e,i)),alert:(e,t,a)=>{let n=r();n.alert(e,o(a||n,t))},confirm:(e,t,a)=>{let n=r();n.confirm(e,o(a||n,t))},close:()=>{s().each(e=>{r().close(e),i(e)})}}},zy=(e,t)=>{e.notificationManager.open({type:"error",text:t})},zb=(e,t)=>{e._skinLoaded?zy(e,t):e.on("SkinLoaded",()=>{zy(e,t)})},zv=(e,t)=>{zb(e,iT.translate(["Failed to upload image: {0}",t]))},zk=(e,t,r)=>{gB(e,t,{message:r}),console.error(r)},zw=(e,t,r)=>r?`Failed to load ${e}: ${r} from url ${t}`:`Failed to load ${e} url: ${t}`,z_=(e,t,r)=>{zk(e,"PluginLoadError",zw("plugin",t,r))},zx=(e,t,r)=>{zk(e,"IconsLoadError",zw("icons",t,r))},zC=(e,t,r)=>{zk(e,"LanguageLoadError",zw("language",t,r))},zS=(e,t,r)=>{zk(e,"ThemeLoadError",zw("theme",t,r))},zz=(e,t,r)=>{zk(e,"ModelLoadError",zw("model",t,r))},zE=(e,t,r)=>{let o=iT.translate(["Failed to initialize plugin: {0}",t]);gB(e,"PluginLoadError",{message:o}),zT(o,r),zb(e,o)},zT=(e,...t)=>{let r=window.console;r&&(r.error?r.error(e,...t):r.log(e,...t))},zA=e=>/^[a-z0-9\-]+$/i.test(e),zO=e=>"content/"+e+"/content.css",zD=e=>tinymce.Resource.has(zO(e)),zN=e=>zR(e,cq(e)),zM=e=>zR(e,c$(e)),zR=(e,t)=>{let r=e.editorManager.baseURL+"/skins/content",o=e.editorManager.suffix,a=`content${o}.css`;return eg(t,t=>zD(t)?t:zA(t)&&!e.inline?`${r}/${t}/${a}`:e.documentBaseURI.toAbsolute(t))},zB=e=>{e.contentCSS=e.contentCSS.concat(zN(e),zM(e))},zF=e=>e?eM(e.getElementsByTagName("img")):[],zL=(e,t)=>{let r={};return{findAll:(o,a=ea)=>Promise.all(eg(ey(zF(o),t=>{let r=t.src;return!(t.hasAttribute("data-mce-bogus")||t.hasAttribute("data-mce-placeholder"))&&!!r&&r!==tJ.transparentSrc&&(tm(r,"blob:")?!e.isUploaded(r)&&a(t):!!tm(r,"data:")&&a(t))}),e=>{let o=e.src;if(eG(r,o))return r[o].then(t=>R(t)?t:{image:e,blobInfo:t.blobInfo});{let a=_r(t,o).then(t=>(delete r[o],{image:e,blobInfo:t})).catch(e=>(delete r[o],e));return r[o]=a,a}}))}},zI=()=>{let e={},t=(e,t)=>({status:e,resultUri:t}),r=t=>t in e;return{hasBlobUri:r,getResultUri:t=>{let r=e[t];return r?r.resultUri:null},isPending:t=>!!r(t)&&1===e[t].status,isUploaded:t=>!!r(t)&&2===e[t].status,markPending:r=>{e[r]=t(1,null)},markUploaded:(r,o)=>{e[r]=t(2,o)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}},zP=0,zH=()=>{let e=()=>Math.round(0xffffffff*Math.random()).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},zj=e=>e+zP+++zH(),zV=()=>{let e=[],t=e=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[e.toLowerCase()]||"dat",r=e=>{if(!e.blob||!e.base64)throw Error("blob and base64 representations of the image are required for BlobInfo to be created");let r=e.id||zj("blobid"),o=e.name||r,a=e.blob;return{id:K(r),name:K(o),filename:K(e.filename||o+"."+t(a.type)),blob:K(a),base64:K(e.base64),blobUri:K(e.blobUri||URL.createObjectURL(a)),uri:K(e.uri)}},o=t=>ew(e,t).getOrUndefined(),a=e=>o(t=>t.id()===e);return{create:(e,t,o,a,n)=>{if(R(e))return r({id:e,name:a,filename:n,blob:t,base64:o});if(B(e))return r(e);throw Error("Unknown input type")},add:t=>{a(t.id())||e.push(t)},get:a,getByUri:e=>o(t=>t.blobUri()===e),getByData:(e,t)=>o(r=>r.base64()===e&&r.blob().type===t),findFirst:o,removeByUri:t=>{e=ey(e,e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1))},destroy:()=>{ep(e,e=>{URL.revokeObjectURL(e.blobUri())}),e=[]}}},zU=(e,t)=>{let r={},o=(e,t)=>e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t,a=(e,r)=>new Promise((a,n)=>{let l=new XMLHttpRequest;l.open("POST",t.url),l.withCredentials=t.credentials,l.upload.onprogress=e=>{r(e.loaded/e.total*100)},l.onerror=()=>{n("Image upload failed due to a XHR Transport error. Code: "+l.status)},l.onload=()=>{if(l.status<200||l.status>=300)return void n("HTTP Error: "+l.status);let e=JSON.parse(l.responseText);if(!e||!R(e.location))return void n("Invalid JSON: "+l.responseText);a(o(t.basePath,e.location))};let i=new FormData;i.append("file",e.blob(),e.filename()),l.send(i)}),n=U(t.handler)?t.handler:a,l=()=>new Promise(e=>{e([])}),i=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),c=(e,t)=>{t2.each(r[e],e=>{e(t)}),delete r[e]},d=(t,r,o)=>(e.markPending(t.blobUri()),new Promise(a=>{let n,l;try{let d=()=>{n&&(n.close(),l=W)},m=r=>{d(),e.removeFailed(t.blobUri()),c(t.blobUri(),s(t,r)),a(s(t,r))};l=e=>{e<0||e>100||en.from(n).orThunk(()=>en.from(o).map(et)).each(t=>{n=t,t.progressBar.value(e)})},r(t,l).then(r=>{d(),e.markUploaded(t.blobUri(),r),c(t.blobUri(),i(t,r)),a(i(t,r))},e=>{m(R(e)?{message:e}:e)})}catch(e){a(s(t,e))}})),m=e=>e===a,u=e=>{let t=e.blobUri();return new Promise(e=>{r[t]=r[t]||[],r[t].push(e)})},g=(t,r)=>(t=t2.grep(t,t=>!e.isUploaded(t.blobUri())),Promise.all(t2.map(t,t=>e.isPending(t.blobUri())?u(t):d(t,n,r))));return{upload:(e,r)=>!t.url&&m(n)?l():g(e,r)}},zZ=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),zq=(e,t)=>zU(t,{url:cB(e),basePath:cF(e),credentials:cL(e),handler:cI(e)}),zW=(e,t)=>e.dom.isEmpty(t.dom)&&V(e.schema.getTextBlockElements()[ri(t)]),z$=e=>t=>{zW(e,t)&&oH(t,rH.fromHtml('<br data-mce-bogus="1" />'))},zG=e=>{let t,r,o=zV(),a=zI(),n=[],l=t=>r=>e.selection?t(r):[],i=e=>e+(-1===e.indexOf("?")?"?":"&")+new Date().getTime(),s=(e,t,r)=>{let o=0;do -1!==(o=e.indexOf(t,o))&&(e=e.substring(0,o)+r+e.substr(o+t.length),o+=r.length-t.length+1);while(-1!==o);return e},c=(e,t,r)=>(e=s(e,`src="${t}"`,`src="${r}"${r===tJ.transparentSrc?' data-mce-placeholder="1"':""}`),e=s(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')),d=(t,r)=>{ep(e.undoManager.data,e=>{"fragmented"===e.type?e.fragments=eg(e.fragments,e=>c(e,t,r)):e.content=c(e.content,t,r)})},m=(t,r)=>{let o=e.convertURL(r,"src");d(t.src,r),rv(rH.fromDom(t),{src:cD(e)?i(r):r,"data-mce-src":o})},u=()=>(t||(t=zq(e,a)),h().then(l(r=>{let a=eg(r,e=>e.blobInfo);return t.upload(a,zZ(e)).then(l(t=>{let a=[],n=!1,l=eg(t,(t,l)=>{let{blobInfo:i,image:s}=r[l],c=!1;return t.status&&cN(e)?(t.url&&!td(s.src,t.url)&&(n=!0),o.removeByUri(s.src),CP(e)||m(s,t.url)):t.error&&(t.error.remove&&(d(s.src,tJ.transparentSrc),a.push(s),c=!0),zv(e,t.error.message)),{element:s,status:t.status,uploadUri:t.url,blobInfo:i,removed:c}});return a.length>0&&!CP(e)?e.undoManager.transact(()=>{ep(oG(a),t=>{let r=rJ(t);oq(t),r.each(z$(e)),o.removeByUri(t.dom.src)})}):n&&e.undoManager.dispatchChange(),l}))}))),g=()=>cO(e)?u():Promise.resolve([]),p=e=>eS(n,t=>t(e)),h=()=>(r||(r=zL(a,o)),r.findAll(e.getBody(),p).then(l(t=>{let r=ey(t,t=>R(t)?(zb(e,t),!1):"blob"!==t.uriType);return CP(e)||ep(r,e=>{d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),r}))),f=t=>t.replace(/src="(blob:[^"]+)"/g,(t,r)=>{let n=a.getResultUri(r);if(n)return'src="'+n+'"';let l=o.getByUri(r);return(l||(l=ev(e.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r),void 0)),l)?'src="data:'+l.blob().type+";base64,"+l.base64()+'"':t});return e.on("SetContent",()=>{cO(e)?g():h()}),e.on("RawSaveContent",e=>{e.content=f(e.content)}),e.on("GetContent",e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=f(e.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",e=>{ep(e,e=>{let t=e.attr("src");if(!t||o.getByUri(t))return;let r=a.getResultUri(t);r&&e.attr("src",r)})})}),{blobCache:o,addFilter:e=>{n.push(e)},uploadImages:u,uploadImagesAuto:g,scanForImages:h,destroy:()=>{o.destroy(),a.destroy(),r=t=null}}},zK=e=>{let t=e.dom,r=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{let e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==r?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,r)=>au(e)&&e.hasAttribute("href"),onformat:(e,r,o)=>{t2.each(o,(r,o)=>{t.setAttrib(e,o,r)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!=(t=null==e?void 0:e.customValue)?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return t2.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),e=>{o[e]={block:e,remove:"all"}}),o},zY={remove_similar:!0,inherit:!1},zX={selector:"td,th",...zY},zJ=K({tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...zX},tablecellverticalalign:{styles:{"vertical-align":"%value"},...zX},tablecellbordercolor:{styles:{borderColor:"%value"},...zX},tablecellclass:{classes:["%value"],...zX},tableclass:{selector:"table",classes:["%value"],...zY},tablecellborderstyle:{styles:{borderStyle:"%value"},...zX},tablecellborderwidth:{styles:{borderWidth:"%value"},...zX}}),zQ=e=>{let t={},r=(e,o)=>{e&&(R(e)?(L(o)||(o=[o]),ep(o,e=>{H(e.deep)&&(e.deep=!u2(e)),H(e.split)&&(e.split=!u2(e)||u4(e)),H(e.remove)&&u2(e)&&!u4(e)&&(e.remove="none"),u2(e)&&u4(e)&&(e.mixed=!0,e.block_expand=!0),R(e.classes)&&(e.classes=e.classes.split(/\s+/))}),t[e]=o):eI(e,(e,t)=>{r(t,e)}))};return r(zK(e)),r(zJ()),r(c6(e)),{get:e=>V(e)?t[e]:t,has:e=>eG(t,e),register:r,unregister:e=>(e&&t[e]&&delete t[e],t)}},z1=t2.each,z0=ib.DOM,z2=e=>V(e)&&B(e),z4=(e,t)=>{let r=t&&t.schema||lU({}),o=(e,t)=>{t.classes.length>0&&z0.addClass(e,t.classes.join(" ")),z0.setAttribs(e,t.attrs)},a=e=>{let t=R(e)?{name:e,classes:[],attrs:{}}:e,r=z0.create(t.name);return o(r,t),r},n=(e,t)=>{let o=r.getElementRule(e.nodeName.toLowerCase()),a=null==o?void 0:o.parentsRequired;return!!a&&!!a.length&&(t&&em(a,t)?t:a[0])},l=(e,t,r)=>{let o,i=t[0],s=z2(i)?i.name:void 0,c=n(e,s);if(c)s===c?(o=i,t=t.slice(1)):o=c;else if(i)o=i,t=t.slice(1);else if(!r)return e;let d=o?a(o):z0.create("div");return d.appendChild(e),r&&t2.each(r,t=>{let r=a(t);d.insertBefore(r,e)}),l(d,t,z2(o)?o.siblings:void 0)},i=z0.create("div");if(e.length>0){let t=e[0],r=a(t),o=z2(t)?t.siblings:void 0;i.appendChild(l(r,e.slice(1),o))}return i},z3=e=>{e=t2.trim(e);let t="div",r={name:t,classes:[],attrs:{},selector:e};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,o,a,n)=>{switch(t){case"#":r.attrs.id=o;break;case".":r.classes.push(o);break;case":":-1!==t2.inArray("checked disabled enabled read-only required".split(" "),o)&&(r.attrs[o]=o)}if("["===a){let e=n.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(r.attrs[e[1]]=e[2])}return""})),r.name=t||"div",r},z5=e=>R(e)?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t2.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{let t=t2.map(e.split(/(?:~\+|~|\+)/),z3),r=t.pop();return t.length&&(r.siblings=t),r}).reverse()):[],z6=(e,t)=>{let r,o="",a=c8(e);if(""===a)return"";let n=e=>R(e)?e.replace(/%(\w+)/g,""):"",l=(t,r)=>z0.getStyle(null!=r?r:e.getBody(),t,!0);if(R(t)){let r=e.formatter.get(t);if(!r)return"";t=r[0]}if("preview"in t){let e=t.preview;if(!1===e)return"";a=e||a}let i=t.block||t.inline||"span",s=z5(t.selector);s.length>0?(s[0].name||(s[0].name=i),i=t.selector,r=z4(s,e)):r=z4([i],e);let c=z0.select(i,r)[0]||r.firstChild;z1(t.styles,(e,t)=>{let r=n(e);r&&z0.setStyle(c,t,r)}),z1(t.attributes,(e,t)=>{let r=n(e);r&&z0.setAttrib(c,t,r)}),z1(t.classes,e=>{let t=n(e);z0.hasClass(c,t)||z0.addClass(c,t)}),e.dispatch("PreviewFormats"),z0.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r);let d=l("fontSize"),m=/px$/.test(d)?parseInt(d,10):0;return z1(a.split(" "),e=>{let t=l(e,c);if((!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t))||"#ffffff"!==l1(t=l(e)).toLowerCase())&&("color"!==e||"#000000"!==l1(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===m)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*m+"px"}"border"===e&&t&&(o+="padding:0 2px;"),o+=e+":"+t+";"}}),e.dispatch("AfterPreviewFormats"),z0.remove(r),o},z8=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},z7=e=>{let t=zQ(e),r=iw({});return z8(e),kP(e),CP(e)||wL(r,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,r,o)=>{C6(e,t,r,o)},remove:(t,r,o,a)=>{C8(e,t,r,o,a)},toggle:(t,r,o)=>{C7(e,t,r,o)},match:(t,r,o,a)=>C0(e,t,r,o,a),closest:t=>C5(e,t),matchAll:(t,r)=>C2(e,t,r),matchNode:(t,r,o,a)=>C4(e,t,r,o,a),canApply:t=>C3(e,t),formatChanged:(t,o,a,n)=>C9(e,r,t,o,a,n),getCssText:J(z6,e)}},z9=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Ee=(e,t,r)=>{let o=iw(!1),a=e=>{Cw(t,!1,r),t.add({},e)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",e=>{z9(e.command)||(C_(t,r),t.beforeChange())}),e.on("ExecCommand",e=>{z9(e.command)||a(e)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",r=>{let n=r.keyCode;if(r.isDefaultPrevented())return;let l=tJ.os.isMacOS()&&"Meta"===r.key;(n>=33&&n<=36||n>=37&&n<=40||45===n||r.ctrlKey||l)&&(a(),e.nodeChanged()),(46===n||8===n)&&e.nodeChanged(),o.get()&&t.typing&&!Cv(Cg(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged())}),e.on("keydown",e=>{let n=e.keyCode;if(e.isDefaultPrevented())return;if(n>=33&&n<=36||n>=37&&n<=40||45===n){t.typing&&a(e);return}let l=e.ctrlKey&&!e.altKey||e.metaKey;if((n<16||n>20)&&224!==n&&91!==n&&!t.typing&&!l){t.beforeChange(),Cw(t,!0,r),t.add({},e),o.set(!0);return}(tJ.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&t.beforeChange()}),e.on("mousedown",e=>{t.typing&&a(e)});let n=e=>"insertReplacementText"===e.inputType,l=e=>"insertText"===e.inputType&&null===e.data,i=e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType;e.on("input",e=>{e.inputType&&(n(e)||l(e)||i(e))&&a(e)}),e.on("AddUndo Undo Redo ClearUndos",t=>{t.isDefaultPrevented()||e.nodeChanged()})},Et=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Er=e=>{let t=iN(),r=iw(0),o=iw(0),a={data:[],typing:!1,beforeChange:()=>{CZ(e,r,t)},add:(n,l)=>Cq(e,a,o,r,t,n,l),dispatchChange:()=>{e.setDirty(!0);let t=Cg(e);t.bookmark=s5(e.selection),e.dispatch("change",{level:t,lastLevel:eO(a.data,o.get()).getOrUndefined()})},undo:()=>CW(e,a,r,o),redo:()=>C$(e,o,a.data),clear:()=>{CG(e,a,o)},reset:()=>{CK(e,a)},hasUndo:()=>CY(e,a,o),hasRedo:()=>CX(e,a,o),transact:t=>CJ(e,a,r,t),ignore:t=>{CQ(e,r,t)},extra:(t,r)=>{C1(e,a,o,t,r)}};return CP(e)||Ee(e,a,r),Et(e),a},Eo=[9,27,gK.HOME,gK.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,gK.DOWN,gK.UP,gK.LEFT,gK.RIGHT].concat(tJ.browser.isFirefox()?[224]:[]),Ea="data-mce-placeholder",En=e=>"keydown"===e.type||"keyup"===e.type,El=e=>{let t=e.keyCode;return t===gK.BACKSPACE||t===gK.DELETE},Ei=e=>{if(!En(e))return!1;{let t=e.keyCode;return!El(e)&&(gK.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||em(Eo,t))}},Es=e=>En(e)&&!(El(e)||"keyup"===e.type&&229===e.keyCode),Ec=(e,t,r)=>{if(!nB(rH.fromDom(t),!1))return!1;{let o=t.firstElementChild;return!o||!(e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right"))&&r===o.nodeName.toLowerCase()}},Ed=e=>{var t;let r=e.dom,o=cx(e),a=null!=(t=cJ(e))?t:"",n=(t,l)=>{if(Ei(t))return;let i=e.getBody(),s=!Es(t)&&Ec(r,i,o);(""!==r.getAttrib(i,Ea)!==s||l)&&(r.setAttrib(i,Ea,s?a:null),r.setAttrib(i,"aria-placeholder",s?a:null),gR(e,s),e.on(s?"keydown":"keyup",n),e.off(s?"keyup":"keydown",n))};ty(a)&&e.on("init",t=>{n(t,!0),e.on("change SetContent ExecCommand",n),e.on("paste",t=>hv.setEditorTimeout(e,()=>n(t)))})},Em=(e,t)=>({block:e,position:t}),Eu=(e,t)=>({from:e,to:t}),Eg=(e,t)=>bg(rH.fromDom(e),rH.fromDom(t.container())).map(e=>Em(e,t)),Ep=e=>!rW(e.from.block,e.to.block),Eh=(e,t)=>of(t,e=>aJ(e)||aN(e.dom),t=>rW(t,e)).filter(ru).getOr(e),Ef=(e,t)=>{let r=rH.fromDom(e);return rW(Eh(r,t.from.block),Eh(r,t.to.block))},Ey=e=>!1===aM(e.from.block.dom)&&!1===aM(e.to.block.dom),Eb=e=>{let t=e=>aG(e)||nQ(e.dom);return t(e.from.block)&&t(e.to.block)},Ev=(e,t,r)=>aO(r.position.getNode())&&!nB(r.block)?mW(!1,r.block.dom).bind(o=>o.isEqual(r.position)?mU(t,e,o).bind(t=>Eg(e,t)):en.some(r)).getOr(r):r,Ek=(e,t,r)=>{let o=Eg(e,sT.fromRangeStart(r)),a=o.bind(r=>mU(t,e,r.position).bind(r=>Eg(e,r).map(r=>Ev(e,t,r))));return t6(o,a,Eu).filter(t=>Ep(t)&&Ef(e,t)&&Ey(t)&&Eb(t))},Ew=(e,t,r)=>r.collapsed?Ek(e,t,r):en.none(),E_=(e,t)=>{let r=r6(e);return e_(r,e=>t.isBlock(ri(e))).fold(K(r),e=>r.slice(0,e))},Ex=(e,t)=>{let r=E_(e,t);return ep(r,oq),r},EC=(e,t)=>ew(f3(t,e).reverse(),e=>nB(e)).each(oq),ES=e=>0===ey(r3(e),e=>!nB(e)).length,Ez=(e,t,r,o,a)=>{if(nB(r))return a4(r),mK(r.dom);ES(a)&&nB(t)&&oL(a,rH.fromTag("br"));let n=mG(r.dom,sT.before(a.dom));return ep(Ex(t,o),e=>{oL(a,e)}),EC(e,t),n},EE=(e,t)=>e.isInline(ri(t)),ET=(e,t,r,o)=>{if(nB(r)){if(nB(t)){let e=eb((e=>{let t=(e,r)=>r7(e).fold(()=>r,e=>EE(o,e)?t(e,r.concat(i0(e))):r);return t(e,[])})(r),(e,t)=>(oj(e,t),t),a2());oZ(t),oH(t,e)}return oq(r),mK(t.dom)}let a=mY(r.dom);return ep(Ex(t,o),e=>{oH(r,e)}),EC(e,t),a},EA=(e,t)=>{let r=f3(t,e);return en.from(r[r.length-1])},EO=(e,t)=>r$(t,e)?EA(t,e):en.none(),ED=(e,t)=>{mW(e,t.dom).bind(e=>en.from(e.getNode())).map(rH.fromDom).filter(a$).each(oq)},EN=(e,t,r,o)=>(ED(!0,t),ED(!1,r),EO(t,r).fold(J(ET,e,t,r,o),J(Ez,e,t,r,o))),EM=(e,t,r,o,a)=>t?EN(e,o,r,a):EN(e,r,o,a),ER=(e,t)=>{let r=rH.fromDom(e.getBody());return Ew(r.dom,t,e.selection.getRng()).map(o=>()=>{EM(r,t,o.from.block,o.to.block,e.schema).each(t=>{e.selection.setRng(t.toRange())})})},EB=(e,t,r)=>{let o=t.getRng();return t6(bg(e,rH.fromDom(o.startContainer)),bg(e,rH.fromDom(o.endContainer)),(a,n)=>rW(a,n)?en.none():en.some(()=>{o.deleteContents(),EM(e,!0,a,n,r).each(e=>{t.setRng(e.toRange())})})).getOr(en.none())},EF=(e,t)=>oh(rH.fromDom(t),aJ,J(rW,e)).isSome(),EL=(e,t)=>EF(e,t.startContainer)||EF(e,t.endContainer),EI=(e,t)=>{let r=mG(e.dom,sT.fromRangeStart(t)).isNone(),o=m$(e.dom,sT.fromRangeEnd(t)).isNone();return!EL(e,t)&&r&&o},EP=e=>en.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),EH=e=>{let t=rH.fromDom(e.getBody());return EI(t,e.selection.getRng())?EP(e):EB(t,e.selection,e.schema)},Ej=(e,t)=>e.selection.isCollapsed()?en.none():EH(e),EV=(e,t,r,o,a)=>en.from(t._selectionOverrides.showCaret(e,r,o,a)),EU=e=>{let t=e.ownerDocument.createRange();return t.selectNode(e),t},EZ=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?en.none():en.some(EU(t)),Eq=(e,t,r)=>{let o=m_(1,e.getBody(),t),a=sT.fromRangeStart(o),n=a.getNode();if(ml(n))return EV(1,e,n,!a.isAtEnd(),!1);let l=a.getNode(!0);if(ml(l))return EV(1,e,l,!1,!1);let i=vc(e.dom.getRoot(),a.getNode());return ml(i)?EV(1,e,i,!1,r):en.none()},EW=(e,t,r)=>t.collapsed?Eq(e,t,r).getOr(t):t,E$=e=>fQ(e)||fK(e),EG=e=>f1(e)||fY(e),EK=(e,t)=>{aC(t)&&0===t.data.length&&e.remove(t)},EY=(e,t,r,o,a,n)=>{EV(o,e,n.getNode(!a),a,!0).each(r=>{if(t.collapsed){let e=t.cloneRange();a?e.setEnd(r.startContainer,r.startOffset):e.setStart(r.endContainer,r.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(r)}),EK(e.dom,r)},EX=(e,t)=>{let r=e.selection.getRng();if(!aC(r.commonAncestorContainer))return en.none();let o=t?h.Forwards:h.Backwards,a=mB(e.getBody()),n=J(mE,t?a.next:a.prev),l=t?E$:EG,i=mC(o,e.getBody(),r),s=n(i),c=s?ba(t,s):s;if(!c||!mT(i,c))return en.none();if(l(c))return en.some(()=>EY(e,r,i.getNode(),o,t,c));let d=n(c);return d&&l(d)&&mT(c,d)?en.some(()=>EY(e,r,i.getNode(),o,t,d)):en.none()},EJ=(e,t)=>EX(e,t),EQ=(e,t)=>{let r=e.getBody();return t?mK(r).filter(fQ):mY(r).filter(f1)},E1=e=>{let t=e.selection.getRng();return!t.collapsed&&(EQ(e,!0).exists(e=>e.isEqual(sT.fromRangeStart(t)))||EQ(e,!1).exists(e=>e.isEqual(sT.fromRangeEnd(t))))},E0=e=>V(e)&&(aJ(rH.fromDom(e))||aY(rH.fromDom(e))),E2=s8([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),E4=(e,t)=>{let r=t.getNode(!e);return au(r)&&r.getAttribute("data-mce-caret")===(e?"after":"before")},E3=(e,t,r,o,a)=>{let n=t=>a.isInline(t.nodeName.toLowerCase())&&!mh(r,o,e);return mx(!t,r).fold(()=>mx(t,o).fold(eo,n),n)},E5=(e,t,r,o)=>{let a=o.getNode(!t);return bg(rH.fromDom(e),rH.fromDom(r.getNode())).map(e=>nB(e)?E2.remove(e.dom):E2.moveToElement(a)).orThunk(()=>en.some(E2.moveToElement(a)))},E6=(e,t,r,o)=>mU(t,e,r).bind(a=>{if(E0(a.getNode())||E3(e,t,r,a,o))return en.none();if(t&&aM(a.getNode()))return E5(e,t,r,a);if(!t&&aM(a.getNode(!0)))return E5(e,t,r,a);if(t&&f1(r))return en.some(E2.moveToPosition(a));else if(!t&&fQ(r))return en.some(E2.moveToPosition(a));else return en.none()}),E8=(e,t)=>j(t)?en.none():e&&aM(t.nextSibling)?en.some(E2.moveToElement(t.nextSibling)):!e&&aM(t.previousSibling)?en.some(E2.moveToElement(t.previousSibling)):en.none(),E7=(e,t,r)=>r.fold(e=>en.some(E2.remove(e)),e=>en.some(E2.moveToElement(e)),r=>mh(t,r,e)?en.none():en.some(E2.moveToPosition(r))),E9=(e,t,r,o)=>E4(t,r)?E8(t,r.getNode(!t)).orThunk(()=>E6(e,t,r,o)):E6(e,t,r,o).bind(t=>E7(e,r,t)),Te=(e,t,r,o)=>{let a=m_(t?1:-1,e,r),n=sT.fromRangeStart(a),l=rH.fromDom(e);return!t&&f1(n)?en.some(E2.remove(n.getNode(!0))):t&&fQ(n)?en.some(E2.remove(n.getNode())):!t&&fQ(n)&&yi(l,n,o)?ys(l,n,o).map(e=>E2.remove(e.getNode())):t&&f1(n)&&yl(l,n,o)?yc(l,n,o).map(e=>E2.remove(e.getNode())):E9(e,t,n,o)},Tt=(e,t)=>r=>(e._selectionOverrides.hideFakeCaret(),y5(e,t,rH.fromDom(r)),!0),Tr=(e,t)=>r=>{let o=t?sT.before(r):sT.after(r);return e.selection.setRng(o.toRange()),!0},To=e=>t=>(e.selection.setRng(t.toRange()),!0),Ta=(e,t)=>en.from(vc(e.getBody(),t)),Tn=(e,t)=>{let r=e.selection.getNode();return Ta(e,r).filter(aM).fold(()=>Te(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(Tt(e,t),Tr(e,t),To(e))),()=>en.some(W))},Tl=e=>{ep(ai(e,".mce-offscreen-selection"),oq)},Ti=(e,t)=>{let r=e.selection.getNode();return aM(r)&&!aR(r)?Ta(e,r.parentNode).filter(aM).fold(()=>en.some(()=>{Tl(rH.fromDom(e.getBody())),y5(e,t,rH.fromDom(e.selection.getNode())),bp(e)}),()=>en.some(W)):E1(e)?en.some(()=>{by(e,e.selection.getRng(),rH.fromDom(e.getBody()))}):en.none()},Ts=e=>{let t=e.dom,r=e.selection,o=vc(e.getBody(),r.getNode());if(aN(o)&&t.isBlock(o)&&t.isEmpty(o)){let e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),r.setRng(sT.before(e).toRange())}return!0},Tc=(e,t)=>e.selection.isCollapsed()?Tn(e,t):Ti(e,t),Td=(e,t)=>{let r=sT.fromRangeStart(e.selection.getRng());return mU(t,e.getBody(),r).filter(e=>t?f$(e):fG(e)).bind(e=>mf(t?0:-1,e)).map(t=>()=>e.selection.select(t))},Tm=(e,t)=>e.selection.isCollapsed()?Td(e,t):en.none(),Tu=e=>aC(e)&&"\uFEFF"===e.data[0],Tg=e=>aC(e)&&"\uFEFF"===e.data[e.data.length-1],Tp=e=>{var t;return(null!=(t=e.ownerDocument)?t:document).createTextNode("\uFEFF")},Th=e=>{var t;if(aC(e.previousSibling))if(Tg(e.previousSibling))return e.previousSibling;else return e.previousSibling.appendData("\uFEFF"),e.previousSibling;if(aC(e))if(Tu(e))return e;else return e.insertData(0,"\uFEFF"),e;{let r=Tp(e);return null==(t=e.parentNode)||t.insertBefore(r,e),r}},Tf=e=>{var t,r;if(aC(e.nextSibling))if(Tu(e.nextSibling))return e.nextSibling;else return e.nextSibling.insertData(0,"\uFEFF"),e.nextSibling;if(aC(e))if(Tg(e))return e;else return e.appendData("\uFEFF"),e;{let o=Tp(e);return e.nextSibling?null==(t=e.parentNode)||t.insertBefore(o,e.nextSibling):null==(r=e.parentNode)||r.appendChild(o),o}},Ty=(e,t)=>e?Th(t):Tf(t),Tb=J(Ty,!0),Tv=J(Ty,!1),Tk=(e,t)=>aC(e.container())?Ty(t,e.container()):Ty(t,e.getNode()),Tw=(e,t)=>{let r=t.get();return r&&e.container()===r&&a7(r)},T_=(e,t)=>t.fold(t=>{mt(e.get());let r=Tb(t);return e.set(r),en.some(sT(r,r.length-1))},t=>mK(t).map(t=>{if(Tw(t,e))return sT(e.get(),1);{mt(e.get());let r=Tk(t,!0);return e.set(r),sT(r,1)}}),t=>mY(t).map(t=>{if(Tw(t,e)){let t=e.get();return sT(t,t.length-1)}{mt(e.get());let r=Tk(t,!1);return e.set(r),sT(r,r.length-1)}}),t=>{mt(e.get());let r=Tv(t);return e.set(r),en.some(sT(r,1))}),Tx=(e,t)=>{for(let r=0;r<e.length;r++){let o=e[r].apply(null,t);if(o.isSome())return o}return en.none()},TC=s8([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),TS=(e,t)=>mp(t,e)||e,Tz=(e,t,r)=>{let o=bn(r),a=TS(t,o.container());return bt(e,a,o).fold(()=>m$(a,o).bind(J(bt,e,a)).map(e=>TC.before(e)),en.none)},TE=(e,t)=>null===mQ(e,t),TT=(e,t,r)=>bt(e,t,r).filter(J(TE,t)),TA=(e,t,r)=>{let o=bl(r);return TT(e,t,o).bind(e=>mG(e,o).isNone()?en.some(TC.start(e)):en.none())},TO=(e,t,r)=>{let o=bn(r);return TT(e,t,o).bind(e=>m$(e,o).isNone()?en.some(TC.end(e)):en.none())},TD=(e,t,r)=>{let o=bl(r),a=TS(t,o.container());return bt(e,a,o).fold(()=>mG(a,o).bind(J(bt,e,a)).map(e=>TC.after(e)),en.none)},TN=e=>!y9(TR(e)),TM=(e,t,r)=>Tx([Tz,TA,TO,TD],[e,t,r]).filter(TN),TR=e=>e.fold(Y,Y,Y,Y),TB=e=>e.fold(K("before"),K("start"),K("end"),K("after")),TF=e=>e.fold(TC.before,TC.before,TC.after,TC.after),TL=e=>e.fold(TC.start,TC.start,TC.end,TC.end),TI=(e,t)=>TB(e)===TB(t)&&TR(e)===TR(t),TP=(e,t,r,o,a,n)=>t6(bt(t,r,o),bt(t,r,a),(t,o)=>t!==o&&br(r,t,o)?TC.after(e?t:o):n).getOr(n),TH=(e,t)=>e.fold(ea,e=>!TI(e,t)),Tj=(e,t,r,o,a)=>{let n=ba(e,a);return mU(e,r,n).map(J(ba,e)).fold(()=>o.map(TF),a=>TM(t,r,a).map(J(TP,e,t,r,n,a)).filter(J(TH,o))).filter(TN)},TV=(e,t)=>e?t.fold($(en.some,TC.start),en.none,$(en.some,TC.after),en.none):t.fold(en.none,$(en.some,TC.before),en.none,$(en.some,TC.end)),TU=(e,t,r,o)=>{let a=ba(e,o),n=TM(t,r,a);return TM(t,r,a).bind(J(TV,e)).orThunk(()=>Tj(e,t,r,n,o))},TZ=e=>U(e.selection.getSel().modify),Tq=(e,t,r)=>(t.setRng(sT(r.container(),r.offset()+(e?1:-1)).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0),TW=(e,t)=>{let r=t.selection.getRng(),o=e?sT.fromRangeEnd(r):sT.fromRangeStart(r);return!!TZ(t)&&(e&&nr(o)?Tq(!0,t.selection,o):!!(!e&&no(o))&&Tq(!1,t.selection,o))};(m=f||(f={}))[m.Br=0]="Br",m[m.Block=1]="Block",m[m.Wrap=2]="Wrap",m[m.Eol=3]="Eol";let T$=(e,t)=>e===h.Backwards?ez(t):t,TG=(e,t,r)=>e===h.Forwards?t.next(r):t.prev(r),TK=(e,t,r,o)=>aO(o.getNode(t===h.Forwards))?f.Br:!1===mh(r,o)?f.Block:f.Wrap,TY=(e,t,r,o)=>{let a=mB(r),n=o,l=[];for(;n;){let o=TG(t,a,n);if(!o)break;if(aO(o.getNode(!1)))if(t===h.Forwards)return{positions:T$(t,l).concat([o]),breakType:f.Br,breakAt:en.some(o)};else return{positions:T$(t,l),breakType:f.Br,breakAt:en.some(o)};if(!o.isVisible()){n=o;continue}if(e(n,o)){let e=TK(r,t,n,o);return{positions:T$(t,l),breakType:e,breakAt:en.some(o)}}l.push(o),n=o}return{positions:T$(t,l),breakType:f.Eol,breakAt:en.none()}},TX=(e,t,r,o)=>t(r,o).breakAt.map(o=>{let a=t(r,o).positions;return e===h.Backwards?a.concat(o):[o].concat(a)}).getOr([]),TJ=(e,t)=>ev(e,(e,r)=>e.fold(()=>en.some(r),o=>t6(eD(o.getClientRects()),eD(r.getClientRects()),(e,a)=>{let n=Math.abs(t-e.left);return Math.abs(t-a.left)<=n?r:o}).or(e)),en.none()),TQ=(e,t)=>eD(t.getClientRects()).bind(t=>TJ(e,t.left)),T1=J(TY,sT.isAbove,-1),T0=J(TY,sT.isBelow,1),T2=J(TX,-1,T1),T4=J(TX,1,T0),T3=(e,t)=>T1(e,t).breakAt.isNone(),T5=(e,t)=>T0(e,t).breakAt.isNone(),T6=e=>mK(e).map(t=>[t].concat(T0(e,t).positions)).getOr([]),T8=e=>mY(e).map(t=>T1(e,t).positions.concat(t)).getOr([]),T7=(e,t)=>TQ(T2(e,t),t),T9=(e,t)=>TQ(T4(e,t),t),Ae=(e,t)=>Math.abs(e.left-t),At=(e,t)=>Math.abs(e.right-t),Ar=e=>eK(e,"node"),Ao=(e,t)=>e4(e,(e,r)=>{let o=Math.min(Ae(e,t),At(e,t)),a=Math.min(Ae(r,t),At(r,t));return a===o&&Ar(r)&&aM(r.node)||a<o?r:e}),Aa=e=>{let t=t=>eg(t,t=>{let r=i7(t);return r.node=e,r});if(au(e))return t(e.getClientRects());if(!aC(e))return[];{let r=e.ownerDocument.createRange();return r.setStart(e,0),r.setEnd(e,e.data.length),t(r.getClientRects())}},An=e=>eC(e,Aa);(u=y||(y={}))[u.Up=-1]="Up",u[u.Down=1]="Down";let Al=(e,t,r,o)=>{let a=o;for(;a=mu(a,e,nb,t);)if(r(a))return},Ai=(e,t,r,o,a,n)=>{let l=0,i=[],s=o=>{let n=An([o]);-1===e&&(n=n.reverse());for(let e=0;e<n.length;e++){let o=n[e];if(!r(o,c)){if(i.length>0&&t(o,e5(i))&&l++,o.line=l,a(o))return!0;i.push(o)}}return!1},c=e5(n.getClientRects());if(!c)return i;let d=n.getNode();return d&&(s(d),Al(e,o,s,d)),i},As=(e,t)=>t.line>e,Ac=(e,t)=>t.line===e,Ad=J(Ai,y.Up,sr,so),Am=J(Ai,y.Down,so,sr),Au=e=>e5(e.getClientRects()),Ag=(e,t,r,o)=>{let a,n,l,i,s=mB(t),c=[],d=0;1===e?(a=s.next,n=so,l=sr,i=sT.after(o)):(a=s.prev,n=sr,l=so,i=sT.before(o));let m=Au(i);do{if(!i.isVisible())continue;let e=Au(i);if(l(e,m))continue;c.length>0&&n(e,e5(c))&&d++;let t=i7(e);if(t.position=i,t.line=d,r(t))break;c.push(t)}while(i=a(i));return c},Ap=e=>t=>As(e,t),Ah=e=>t=>Ac(e,t),Af=(e,t)=>{e.selection.setRng(t),p7(e,e.selection.getRng())},Ay=(e,t,r)=>en.some(EW(e,t,r)),Ab=(e,t,r,o,a,n)=>{let l=t===h.Forwards,i=mB(e.getBody()),s=J(mE,l?i.next:i.prev),c=l?o:a;if(!r.collapsed){let o=sc(r);if(n(o))return EV(t,e,o,t===h.Backwards,!1);if(E1(e)){let e=r.cloneRange();return e.collapse(t===h.Backwards),en.from(e)}}let d=mC(t,e.getBody(),r);if(c(d))return EZ(e,d.getNode(!l));let m=s(d),u=nc(r);if(!m)return u?en.some(r):en.none();if(c(m=ba(l,m)))return EV(t,e,m.getNode(!l),l,!1);let g=s(m);return g&&c(g)&&mT(m,g)?EV(t,e,g.getNode(!l),l,!1):u?Ay(e,m.toRange(),!1):en.none()},Av=(e,t,r,o,a,n)=>{let l,i=mC(t,e.getBody(),r),s=e5(i.getClientRects()),c=t===y.Down,d=e.getBody();if(!s)return en.none();if(E1(e)){let e=c?sT.fromRangeEnd(r):sT.fromRangeStart(r);return(c?T9:T7)(d,e).orThunk(()=>en.from(e)).map(e=>e.toRange())}let m=ey((c?Am:Ad)(d,Ap(1),i),Ah(1)),u=s.left,g=Ao(m,u);if(g&&n(g.node)){let r=Math.abs(u-g.left),o=Math.abs(u-g.right);return EV(t,e,g.node,r<o,!1)}if(l=o(i)?i.getNode():a(i)?i.getNode(!0):sc(r)){let r=Ag(t,d,Ap(1),l),o=Ao(ey(r,Ah(1)),u);if(o||(o=e5(ey(r,Ah(0)))))return Ay(e,o.position.toRange(),!1)}return 0===m.length?Ak(e,c).filter(c?a:o).map(t=>EW(e,t.toRange(),!1)):en.none()},Ak=(e,t)=>{let r=e.selection.getRng(),o=t?sT.fromRangeEnd(r):sT.fromRangeStart(r),a=mg(o.container(),e.getBody());return t?eN(T0(a,o).positions):eD(T1(a,o).positions)},Aw=(e,t,r)=>Ak(e,t).filter(r).exists(t=>(e.selection.setRng(t.toRange()),!0)),A_=(e,t)=>{let r=e.dom.createRng();r.setStart(t.container(),t.offset()),r.setEnd(t.container(),t.offset()),e.selection.setRng(r)},Ax=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},AC=(e,t,r)=>T_(t,r).map(t=>(A_(e,t),r)),AS=(e,t,r)=>{let o=sT.fromRangeStart(e);if(e.collapsed)return o;{let a=sT.fromRangeEnd(e);return r?mG(t,a).getOr(a):m$(t,o).getOr(o)}},Az=(e,t,r)=>{let o=e.getBody(),a=AS(e.selection.getRng(),o,r);return TU(r,J(y7,e),o,a).bind(r=>AC(e,t,r))},AE=(e,t,r)=>{let o=ey(eg(ai(rH.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),e=>e.dom),e),a=ey(r,e);ep(eE(o,a),J(Ax,!1)),ep(eE(a,o),J(Ax,!0))},AT=(e,t)=>{let r=t.get();if(e.selection.isCollapsed()&&!e.composing&&r){let o=sT.fromRangeStart(e.selection.getRng());sT.isTextPosition(o)&&!bo(o)&&(A_(e,me(r,o)),t.set(null))}},AA=(e,t,r,o)=>{t.selection.isCollapsed()&&ep(ey(o,e),o=>{let a=sT.fromRangeStart(t.selection.getRng());TM(e,t.getBody(),a).bind(e=>AC(t,r,e))})},AO=(e,t,r)=>!!c5(e)&&Az(e,t,r).isSome(),AD=(e,t,r)=>!!c5(t)&&TW(e,t),AN=e=>{let t=iw(null),r=J(y7,e);return e.on("NodeChange",o=>{c5(e)&&(AE(r,e.dom,o.parents),AT(e,t),AA(r,e,t,o.parents))}),t},AM=J(AD,!0),AR=J(AD,!1),AB=(e,t,r)=>{if(!c5(e))return!1;{let o=Ak(e,t).getOrThunk(()=>{let r=e.selection.getRng();return t?sT.fromRangeEnd(r):sT.fromRangeStart(r)});return TM(J(y7,e),e.getBody(),o).exists(t=>T_(r,TF(t)).exists(t=>(A_(e,t),!0)))}},AF=(e,t)=>{let r=document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},AL=e=>t6(mK(e),mY(e),(t,r)=>{let o=ba(!0,t),a=ba(!1,r);return m$(e,o).forall(e=>e.isEqual(a))}).getOr(!0),AI=(e,t)=>r=>T_(t,r).map(t=>()=>A_(e,t)),AP=(e,t,r,o)=>{let a=e.getBody(),n=J(y7,e);e.undoManager.ignore(()=>{e.selection.setRng(AF(r,o)),bc(e),TM(n,a,sT.fromRangeStart(e.selection.getRng())).map(TL).bind(AI(e,t)).each(er)}),e.nodeChanged()},AH=(e,t)=>mp(t,e)||e,Aj=(e,t,r,o)=>{let a=AH(e.getBody(),o.container()),n=J(y7,e),l=TM(n,a,o);return l.bind(e=>r?e.fold(K(en.some(TL(e))),en.none,K(en.some(TF(e))),en.none):e.fold(en.none,K(en.some(TF(e))),en.none,K(en.some(TL(e))))).map(AI(e,t)).getOrThunk(()=>{let i=mZ(r,a,o),s=i.bind(e=>TM(n,a,e));return t6(l,s,()=>bt(n,a,o).bind(t=>AL(t)?en.some(()=>{y5(e,r,rH.fromDom(t))}):en.none())).getOrThunk(()=>s.bind(()=>i.map(a=>()=>{r?AP(e,t,o,a):AP(e,t,a,o)})))})},AV=(e,t,r)=>{if(e.selection.isCollapsed()&&c5(e)){let o=sT.fromRangeStart(e.selection.getRng());return Aj(e,t,r,o)}return en.none()},AU=e=>oe(e)>1,AZ=(e,t)=>{let r=rH.fromDom(e.getBody()),o=f3(rH.fromDom(e.selection.getStart()),r);return e_(o,t).fold(K(o),e=>o.slice(0,e))},Aq=e=>1===oe(e),AW=e=>AZ(e,t=>e.schema.isBlock(ri(t))||AU(t)),A$=e=>AZ(e,t=>e.schema.isBlock(ri(t))),AG=(e,t)=>{let r=J(kU,e);return eC(t,e=>r(e)?[e.dom]:[])},AK=e=>{let t=A$(e);return AG(e,t)},AY=(e,t,r,o)=>{let a=AG(t,o);if(0===a.length)y5(t,e,r);else{let e=kj(r.dom,a);t.selection.setRng(e.toRange())}},AX=(e,t)=>{let r=ey(AW(e),Aq);return eN(r).bind(o=>bh(t,sT.fromRangeStart(e.selection.getRng()),o.dom)&&!u7(o)?en.some(()=>AY(t,e,o,r)):en.none())},AJ=(e,t)=>{let r=t.parentElement;return aO(t)&&!I(r)&&e.dom.isEmpty(r)},AQ=e=>u7(rH.fromDom(e)),A1=(e,t)=>{let r=e.selection.getStart(),o=AJ(e,r)||AQ(r)?kj(r,t):kV(e.selection.getRng(),t);e.selection.setRng(o.toRange())},A0=(e,t)=>{let r=eE(t,AK(e));r.length>0&&A1(e,r)},A2=e=>aC(e.startContainer),A4=e=>0===e.startOffset&&A2(e),A3=(e,t)=>{let r=t.startContainer.parentElement;return!I(r)&&kU(e,rH.fromDom(r))},A5=e=>{let t=e.startContainer.parentNode,r=e.endContainer.parentNode;return!I(t)&&!I(r)&&t.isEqualNode(r)},A6=e=>{let t=e.endContainer;return e.endOffset===(aC(t)?t.length:t.childNodes.length)},A8=e=>A5(e)&&A6(e),A7=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),A9=e=>A8(e)||A7(e),Oe=e=>{let t=e.selection.getRng();return A4(t)&&A3(e,t)&&A9(t)},Ot=e=>{if(!Oe(e))return en.none();{let t=AK(e);return en.some(()=>{bc(e),A0(e,t)})}},Or=(e,t)=>e.selection.isCollapsed()?AX(e,t):Ot(e),Oo=(e,t)=>bb(e,e=>mJ(e.dom),e=>t.isBlock(ri(e))),Oa=e=>Oo(rH.fromDom(e.selection.getStart()),e.schema),On=e=>{let t=e.selection.getRng();return t.collapsed&&(A2(t)||e.dom.isEmpty(t.startContainer))&&!Oa(e)},Ol=e=>(On(e)&&A1(e,[]),!0),Oi=(e,t,r)=>V(r)?en.some(()=>{e._selectionOverrides.hideFakeCaret(),y5(e,t,rH.fromDom(r))}):en.none(),Os=(e,t)=>{let r=t?fK:fY,o=mC(t?h.Forwards:h.Backwards,e.getBody(),e.selection.getRng());return r(o)?Oi(e,t,o.getNode(!t)):en.from(ba(t,o)).filter(e=>r(e)&&mT(o,e)).bind(r=>Oi(e,t,r.getNode(!t)))},Oc=(e,t)=>{let r=e.selection.getNode();return aF(r)?Oi(e,t,r):en.none()},Od=(e,t)=>e.selection.isCollapsed()?Os(e,t):Oc(e,t),Om=e=>of(e,e=>aN(e.dom)||aM(e.dom)).exists(e=>aN(e.dom)),Ou=e=>tk(null!=e?e:"").getOr(0),Og=(e,t)=>(e||aW(t)?"margin":"padding")+("rtl"===oD(t,"direction")?"-right":"-left"),Op=(e,t,r,o,a,n)=>{let l=Og(r,rH.fromDom(n)),i=Ou(e.getStyle(n,l));if("outdent"===t){let t=Math.max(0,i-o);e.setStyle(n,l,t?t+a:"")}else e.setStyle(n,l,i+o+a)},Oh=(e,t)=>eS(t,t=>{let r=Og(cU(e),t),o=oM(t,r).map(Ou).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&o>0}),Of=e=>{let t=Ov(e);return!e.mode.isReadOnly()&&(t.length>1||Oh(e,t))},Oy=e=>aK(e)||aY(e),Ob=e=>rJ(e).exists(Oy),Ov=e=>ey(oG(e.selection.getSelectedBlocks()),e=>!Oy(e)&&!Ob(e)&&Om(e)),Ok=(e,t)=>{var r,o;let{dom:a}=e,n=cZ(e),l=null!=(o=null==(r=/[a-z%]+$/i.exec(n))?void 0:r[0])?o:"px",i=Ou(n),s=cU(e);ep(Ov(e),e=>{Op(a,t,s,i,l,e.dom)})},Ow=e=>Ok(e,"indent"),O_=e=>Ok(e,"outdent"),Ox=e=>{if(e.selection.isCollapsed()&&Of(e)){let t=e.dom,r=e.selection.getRng(),o=sT.fromRangeStart(r),a=t.getParent(r.startContainer,t.isBlock);if(null!==a&&ye(rH.fromDom(a),o,e.schema))return en.some(()=>O_(e))}return en.none()},OC=(e,t,r)=>eR([Ox,Tc,EJ,(e,r)=>AV(e,t,r),ER,vs,Tm,Od,Ej,Or],t=>t(e,r)).filter(t=>e.selection.isEditable()),OS=(e,t)=>{OC(e,t,!1).fold(()=>{e.selection.isEditable()&&(bc(e),bp(e))},er)},Oz=(e,t)=>{OC(e,t,!0).fold(()=>{e.selection.isEditable()&&bd(e)},er)},OE=(e,t)=>{e.addCommand("delete",()=>{OS(e,t)}),e.addCommand("forwardDelete",()=>{Oz(e,t)})},OT=e=>void 0===e.touches||1!==e.touches.length?en.none():en.some(e.touches[0]),OA=(e,t)=>{let r=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return r>5||o>5},OO=e=>{let t=iN(),r=iw(!1),o=iR(t=>{e.dispatch("longpress",{...t,type:"longpress"}),r.set(!0)},400);e.on("touchstart",e=>{OT(e).each(a=>{o.cancel();let n={x:a.clientX,y:a.clientY,target:e.target};o.throttle(e),r.set(!1),t.set(n)})},!0),e.on("touchmove",a=>{o.cancel(),OT(a).each(o=>{t.on(a=>{OA(o,a)&&(t.clear(),r.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{o.cancel(),"touchcancel"!==a.type&&t.get().filter(e=>e.target.isEqualNode(a.target)).each(()=>{r.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},OD=(e,t)=>eG(e,t.nodeName),ON=(e,t)=>!!aC(t)||!!au(t)&&!OD(e.getBlockElements(),t)&&!um(t)&&!n2(e,t)&&!nL(t),OM=(e,t,r)=>eu(f4(rH.fromDom(r),rH.fromDom(t)),t=>OD(e,t.dom)),OR=(e,t)=>{if(aC(t)){if(0===t.data.length)return!0;else if(/^\s+$/.test(t.data))return!t.nextSibling||OD(e,t.nextSibling)||nL(t.nextSibling)}return!1},OB=e=>e.dom.create(cx(e),cC(e)),OF=e=>{let t,r,o=e.dom,a=e.selection,n=e.schema,l=n.getBlockElements(),i=a.getStart(),s=e.getBody(),c=!1,d=cx(e);if(!i||!au(i))return;let m=s.nodeName.toLowerCase();if(!n.isValidChild(m,d.toLowerCase())||OM(l,s,i))return;let u=a.getRng(),{startContainer:g,startOffset:p,endContainer:h,endOffset:f}=u,y=hV(e),b=s.firstChild;for(;b;)if(au(b)&&nX(n,b),ON(n,b)){if(OR(l,b)){r=b,b=b.nextSibling,o.remove(r);continue}t||(t=OB(e),s.insertBefore(t,b),c=!0),r=b,b=b.nextSibling,t.appendChild(r)}else t=null,b=b.nextSibling;c&&y&&(u.setStart(g,p),u.setEnd(h,f),a.setRng(u),e.nodeChanged())},OL=(e,t,r)=>{let o=rH.fromDom(OB(e)),a=a2();oH(o,a),r(t,o);let n=document.createRange();return n.setStartBefore(a.dom),n.setEndBefore(a.dom),n},OI=e=>{e.on("NodeChange",J(OF,e))},OP=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),OH=(e,t,r)=>function(o){let a=arguments,n=a[a.length-2],l=n>0?t.charAt(n-1):"";if('"'===l)return o;if(">"===l){let e=t.lastIndexOf("<",n);if(-1!==e&&-1!==t.substring(e,n).indexOf('contenteditable="false"'))return o}return'<span class="'+r+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode("string"==typeof a[1]?a[1]:a[0])+"</span>"},Oj=(e,t,r)=>{let o=t.length,a=r.content;if("raw"!==r.format){for(;o--;)a=a.replace(t[o],OH(e,a,dP(e)));r.content=a}},OV=(e,t)=>eS(e,e=>{let r=t.match(e);return null!==r&&r[0].length===t.length}),OU=e=>{let t="contenteditable",r=" "+t2.trim(dH(e))+" ",o=" "+t2.trim(dP(e))+" ",a=OP(r),n=OP(o),l=dj(e);l.length>0&&e.on("BeforeSetContent",t=>{Oj(e,l,t)}),e.parser.addAttributeFilter("class",e=>{let r=e.length;for(;r--;){let o=e[r];a(o)?o.attr(t,"true"):n(o)&&o.attr(t,"false")}}),e.serializer.addAttributeFilter(t,e=>{let r=e.length;for(;r--;){let o=e[r];if(!a(o)&&!n(o))continue;let i=o.attr("data-mce-content");l.length>0&&i?OV(l,i)?(o.name="#text",o.type=3,o.raw=!0,o.value=i):o.remove():o.attr(t,null)}})},OZ=e=>ow(rH.fromDom(e.getBody()),"*[data-mce-caret]").map(e=>e.dom).getOrNull(),Oq=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ns(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},OW=(e,t)=>{let r=OZ(e);if(r){if("compositionstart"===t.type){t.preventDefault(),t.stopPropagation(),Oq(e,r);return}ne(r)&&(Oq(e,r),e.undoManager.add())}},O$=e=>{e.on("keyup compositionstart",J(OW,e))},OG=(e,t,r)=>Ab(t,e,r,fQ,f1,aM),OK=(e,t,r)=>Av(t,e,r,e=>fQ(e)||fX(e),e=>f1(e)||fJ(e),aM),OY=e=>{let t=e.dom.create(cx(e));return t.innerHTML='<br data-mce-bogus="1">',t},OX=(e,t,r)=>{let o=mB(e.getBody()),a=J(mE,1===t?o.next:o.prev);if(r.collapsed){let o=e.dom.getParent(r.startContainer,"PRE");if(!o)return;if(!a(sT.fromRangeStart(r))){let r=rH.fromDom(OY(e));1===t?oI(rH.fromDom(o),r):oL(rH.fromDom(o),r),e.selection.select(r.dom,!0),e.selection.collapse()}}},OJ=(e,t)=>{let r=t?h.Forwards:h.Backwards,o=e.selection.getRng();return OG(r,e,o).orThunk(()=>(OX(e,r,o),en.none()))},OQ=(e,t)=>{let r=t?1:-1,o=e.selection.getRng();return OK(r,e,o).orThunk(()=>(OX(e,r,o),en.none()))},O1=(e,t)=>y9(t?e.getEnd(!0):e.getStart(!0))?!t:t,O0=(e,t)=>OJ(e,O1(e.selection,t)).exists(t=>(Af(e,t),!0)),O2=(e,t)=>OQ(e,t).exists(t=>(Af(e,t),!0)),O4=(e,t)=>Aw(e,t,t?f1:fQ),O3=(e,t)=>EQ(e,!t).map(r=>{let o=r.toRange(),a=e.selection.getRng();return t?o.setStart(a.startContainer,a.startOffset):o.setEnd(a.endContainer,a.endOffset),o}).exists(t=>(Af(e,t),!0)),O5=e=>em(["figcaption"],ri(e)),O6=(e,t,r)=>{let o=J(rW,t);return of(rH.fromDom(e.container()),e=>r.isBlock(ri(e)),o).filter(O5)},O8=(e,t,r)=>t?T5(e.dom,r):T3(e.dom,r),O7=(e,t)=>{let r=rH.fromDom(e.getBody()),o=sT.fromRangeStart(e.selection.getRng());return O6(o,r,e.schema).exists(()=>{if(!O8(r,t,o))return!1;{let o=OL(e,r,t?oH:oP);return e.selection.setRng(o),!0}})},O9=(e,t)=>!!e.selection.isCollapsed()&&O7(e,t),De=(e,t,r)=>{let o=e.selection.getRng(),a=sT.fromRangeStart(o);return!!(e.getBody().firstChild===t&&T3(r,a))&&(e.execCommand("InsertNewBlockBefore"),!0)},Dt=(e,t)=>{let r=e.selection.getRng(),o=sT.fromRangeStart(r);return!!(e.getBody().lastChild===t&&T5(t,o))&&(e.execCommand("InsertNewBlockAfter"),!0)},Dr=(e,t)=>t?en.from(e.dom.getParent(e.selection.getNode(),"details")).map(t=>Dt(e,t)).getOr(!1):en.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(t=>en.from(e.dom.getParent(t,"details")).map(r=>De(e,r,t))).getOr(!1),Do=(e,t)=>Dr(e,t),Da={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Dn=e=>eg(e,e=>({...Da,...e})),Dl=e=>eg(e,e=>({...Da,...e})),Di=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Ds=(e,t)=>eC(Dn(e),e=>Di(e,t)?[e]:[]),Dc=(e,t)=>eC(Dl(e),e=>Di(e,t)?[e]:[]),Dd=(e,...t)=>()=>e.apply(null,t),Dm=(e,t)=>ew(Ds(e,t),e=>e.action()),Du=(e,t)=>eR(Dc(e,t),e=>e.action()),Dg=(e,t)=>{let r=t?h.Forwards:h.Backwards,o=e.selection.getRng();return Ab(e,r,o,fK,fY,aF).exists(t=>(Af(e,t),!0))},Dp=(e,t)=>{let r=e.selection.getRng();return Av(e,t?1:-1,r,fK,fY,aF).exists(t=>(Af(e,t),!0))},Dh=(e,t)=>Aw(e,t,t?fY:fK),Df=s8([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Dy={...Df,none:e=>Df.none(e)},Db=(e,t)=>Dv(e,t,ea),Dv=(e,t,r)=>eC(r6(e),e=>rV(e,t)?r(e)?[e]:[]:Dv(e,t,r)),Dk=(e,t,r=eo)=>r(t)?en.none():em(e,ri(t))?en.some(t):ok(t,e.join(","),e=>rV(e,"table")||r(e)),Dw=(e,t)=>Dk(["td","th"],e,t),D_=e=>Db(e,"th,td"),Dx=(e,t)=>o_(e,"table",t),DC=(e,t,r,o,a=ea)=>{let n=1===o;if(!n&&r<=0)return Dy.first(e[0]);{if(n&&r>=e.length-1)return Dy.last(e[e.length-1]);let l=r+o,i=e[l];return a(i)?Dy.middle(t,i):DC(e,t,l,o,a)}},DS=(e,t)=>Dx(e,t).bind(t=>{let r=D_(t);return e_(r,t=>rW(e,t)).map(e=>({index:e,all:r}))}),Dz=(e,t,r)=>DS(e,r).fold(()=>Dy.none(e),r=>DC(r.all,e,r.index,1,t)),DE=(e,t,r)=>DS(e,r).fold(()=>Dy.none(),r=>DC(r.all,e,r.index,-1,t)),DT=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}),DA=(e,t)=>eC(t,t=>{let r=DT(i7(t.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]}),DO=(e,t,r)=>ev(e,(e,o)=>e.fold(()=>en.some(o),e=>{let a=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-r)),n=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-r));return en.some(n<a?o:e)}),en.none()),DD=(e,t,r,o,a)=>DO(ey(DA(e,ai(rH.fromDom(r),"td,th,caption").map(e=>e.dom)),e=>t(e,a)),o,a).map(e=>e.cell),DN=J(DD,e=>e.bottom,(e,t)=>e.y<t),DM=J(DD,e=>e.top,(e,t)=>e.y>t),DR=(e,t)=>eD(t.getClientRects()).bind(t=>DN(e,t.left,t.top)).bind(e=>TQ(T8(e),t)),DB=(e,t)=>eN(t.getClientRects()).bind(t=>DM(e,t.left,t.top)).bind(e=>TQ(T6(e),t)),DF=(e,t,r)=>r.breakAt.exists(r=>e(t,r).breakAt.isSome()),DL=e=>e.breakType===f.Wrap&&0===e.positions.length,DI=e=>e.breakType===f.Br&&1===e.positions.length,DP=(e,t,r)=>{let o=e(t,r);return DL(o)||!aO(r.getNode())&&DI(o)?!DF(e,t,o):o.breakAt.isNone()},DH=J(DP,T1),Dj=J(DP,T0),DV=(e,t,r)=>{let o=sT.fromRangeStart(t);return mW(!e,r).exists(e=>e.isEqual(o))},DU=(e,t,r,o)=>{let a=e.selection.getRng();return!!(mn()&&DV(t,a,r))&&(EV(t?1:-1,e,r,!t,!1).each(t=>{Af(e,t)}),!0)},DZ=(e,t,r)=>DR(t,r).orThunk(()=>eD(r.getClientRects()).bind(r=>TJ(T2(e,sT.before(t)),r.left))).getOr(sT.before(t)),Dq=(e,t,r)=>DB(t,r).orThunk(()=>eD(r.getClientRects()).bind(r=>TJ(T4(e,sT.after(t)),r.left))).getOr(sT.after(t)),DW=(e,t)=>{let r=t.getNode(e);return aw(r)?en.some(r):en.none()},D$=(e,t,r)=>{t.undoManager.transact(()=>{let o=OL(t,rH.fromDom(r),e?oI:oL);Af(t,o)})},DG=(e,t,r)=>{let o=t?DW(!0,r):DW(!1,r),a=!1===t;o.fold(()=>Af(e,r.toRange()),o=>mW(a,e.getBody()).filter(e=>e.isEqual(r)).fold(()=>Af(e,r.toRange()),r=>D$(t,e,o)))},DK=(e,t,r,o)=>{let a=e.selection.getRng(),n=sT.fromRangeStart(a),l=e.getBody();return!t&&DH(o,n)?(DG(e,t,DZ(l,r,n)),!0):!!(t&&Dj(o,n))&&(DG(e,t,Dq(l,r,n)),!0)},DY=(e,t,r)=>en.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(o=>en.from(e.dom.getParent(o,"table")).map(a=>r(e,t,a,o))).getOr(!1),DX=(e,t)=>DY(e,t,DU),DJ=(e,t)=>DY(e,t,DK),DQ=e=>py(pd(e,0,e,0)),D1=(e,t,r)=>r.fold(en.none,en.none,(e,t)=>h8(t).map(e=>DQ(e)),r=>(e.execCommand("mceTableInsertRowAfter"),D0(e,t,r))),D0=(e,t,r)=>D1(e,t,Dz(r,oC)),D2=(e,t,r)=>D1(e,t,DE(r,oC)),D4=(e,t)=>{let r=["table","li","dl"],o=rH.fromDom(e.getBody()),a=e=>{let t=ri(e);return rW(e,o)||em(r,t)},n=e.selection.getRng();return Dw(rH.fromDom(t?n.endContainer:n.startContainer),a).map(r=>(Dx(r,a).each(t=>{e.model.table.clearSelectedCells(t.dom)}),e.selection.collapse(!t),(t?D0:D2)(e,a,r).each(t=>{e.selection.setRng(t)}),!0)).getOr(!1)},D3=(e,t,r)=>{let o=tJ.os.isMacOS()||tJ.os.isiOS();Dm([{keyCode:gK.RIGHT,action:Dd(O0,e,!0)},{keyCode:gK.LEFT,action:Dd(O0,e,!1)},{keyCode:gK.UP,action:Dd(O2,e,!1)},{keyCode:gK.DOWN,action:Dd(O2,e,!0)},...o?[{keyCode:gK.UP,action:Dd(O3,e,!1),metaKey:!0,shiftKey:!0},{keyCode:gK.DOWN,action:Dd(O3,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:gK.RIGHT,action:Dd(DX,e,!0)},{keyCode:gK.LEFT,action:Dd(DX,e,!1)},{keyCode:gK.UP,action:Dd(DJ,e,!1)},{keyCode:gK.DOWN,action:Dd(DJ,e,!0)},{keyCode:gK.UP,action:Dd(DJ,e,!1)},{keyCode:gK.UP,action:Dd(Do,e,!1)},{keyCode:gK.DOWN,action:Dd(Do,e,!0)},{keyCode:gK.RIGHT,action:Dd(Dg,e,!0)},{keyCode:gK.LEFT,action:Dd(Dg,e,!1)},{keyCode:gK.UP,action:Dd(Dp,e,!1)},{keyCode:gK.DOWN,action:Dd(Dp,e,!0)},{keyCode:gK.RIGHT,action:Dd(AO,e,t,!0)},{keyCode:gK.LEFT,action:Dd(AO,e,t,!1)},{keyCode:gK.RIGHT,ctrlKey:!o,altKey:o,action:Dd(AM,e,t)},{keyCode:gK.LEFT,ctrlKey:!o,altKey:o,action:Dd(AR,e,t)},{keyCode:gK.UP,action:Dd(O9,e,!1)},{keyCode:gK.DOWN,action:Dd(O9,e,!0)}],r).each(e=>{r.preventDefault()})},D5=(e,t)=>{e.on("keydown",r=>{r.isDefaultPrevented()||D3(e,t,r)})},D6=(e,t)=>({container:e,offset:t}),D8=ib.DOM,D7=e=>t=>e===t?-1:0,D9=e=>t=>e.isBlock(t)||em(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t),Ne=(e,t,r)=>{if(aC(e)&&t>=0)return en.some(D6(e,t));{let o=i6(D8);return en.from(o.backwards(e,t,D7(e),r)).map(e=>D6(e.container,e.container.data.length))}},Nt=(e,t,r)=>{if(aC(e)&&t>=e.length)return en.some(D6(e,t));{let o=i6(D8);return en.from(o.forwards(e,t,D7(e),r)).map(e=>D6(e.container,0))}},Nr=(e,t,r)=>{if(!aC(e))return en.none();let o=e.data;if(t>=0&&t<=o.length)return en.some(D6(e,t));{let o=i6(D8);return en.from(o.backwards(e,t,D7(e),r)).bind(e=>{let o=e.container.data;return Nr(e.container,t+o.length,r)})}},No=(e,t,r)=>{if(!aC(e))return en.none();let o=e.data;if(t<=o.length)return en.some(D6(e,t));{let a=i6(D8);return en.from(a.forwards(e,t,D7(e),r)).bind(e=>No(e.container,t-o.length,r))}},Na=(e,t,r,o,a)=>{let n=i6(e,D9(e));return en.from(n.backwards(t,r,o,a))},Nn=e=>e.collapsed&&aC(e.startContainer),Nl=e=>a5(e.toString().replace(/\u00A0/g," ")),Ni=e=>""!==e&&-1!==" \xa0\f\n\r	\v".indexOf(e),Ns=(e,t)=>e.substring(t.length),Nc=(e,t,r)=>{let o,a=r.charAt(0);for(o=t-1;o>=0;o--){let n=e.charAt(o);if(Ni(n))return en.none();if(a===n&&td(e,r,o,t))break}return en.some(o)},Nd=(e,t,r,o=0)=>{if(!Nn(t))return en.none();let a={text:"",offset:0},n=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Na(e,t.startContainer,t.startOffset,(e,t,o)=>(a.text=o+a.text,a.offset+=t,Nc(a.text,a.offset,r).getOr(t)),n).bind(e=>{let a=t.cloneRange();if(a.setStart(e.container,e.offset),a.setEnd(t.endContainer,t.endOffset),a.collapsed)return en.none();let n=Nl(a);return 0!==n.lastIndexOf(r)||Ns(n,r).length<o?en.none():en.some({text:Ns(n,r),range:a,trigger:r})})},Nm=(e,t,r,o=0)=>fr(rH.fromDom(t.startContainer)).fold(()=>Nd(e,t,r,o),t=>{let o=e.createRng();o.selectNode(t.dom);let a=Nl(o);return en.some({range:o,text:Ns(a,r),trigger:r})}),Nu=e=>3===e.nodeType,Ng=e=>1===e.nodeType,Np=e=>{if(Nu(e))return D6(e,e.data.length);{let t=e.childNodes;return t.length>0?Np(t[t.length-1]):D6(e,t.length)}},Nh=(e,t)=>{let r=e.childNodes;return r.length>0&&t<r.length?Nh(r[t],0):r.length>0&&Ng(e)&&r.length===t?Np(r[r.length-1]):D6(e,t)},Nf=(e,t)=>{var r;let o=null!=(r=e.getParent(t.container,e.isBlock))?r:e.getRoot();return Na(e,t.container,t.offset,(e,t)=>0===t?-1:t,o).filter(e=>!Ni(e.container.data.charAt(e.offset-1))).isSome()},Ny=e=>t=>!Nf(e,Nh(t.startContainer,t.startOffset)),Nb=(e,t,r)=>eR(r.triggers,r=>Nm(e,t,r)),Nv=(e,t)=>{let r=t(),o=e.selection.getRng();return Nb(e.dom,o,r).bind(r=>Nk(e,t,r))},Nk=(e,t,r,o={})=>{var a;let n=t(),l=null!=(a=e.selection.getRng().startContainer.nodeValue)?a:"",i=ey(n.lookupByTrigger(r.trigger),t=>r.text.length>=t.minChars&&t.matches.getOrThunk(()=>Ny(e.dom))(r.range,l,r.text));if(0===i.length)return en.none();let s=Promise.all(eg(i,e=>e.fetch(r.text,e.maxResults,o).then(t=>({matchText:r.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))));return en.some({lookupData:s,context:r})};(g=b||(b={}))[g.Error=0]="Error",g[g.Value=1]="Value";let Nw=(e,t,r)=>e.stype===b.Error?t(e.serror):r(e.svalue),N_={toResult:e=>Nw(e,s6.error,s6.value),svalue:e=>({stype:b.Value,svalue:e}),partition:e=>{let t=[],r=[];return ep(e,e=>{Nw(e,e=>r.push(e),e=>t.push(e))}),{values:t,errors:r}},serror:e=>({stype:b.Error,serror:e}),bindError:(e,t)=>e.stype===b.Error?t(e.serror):e,map:(e,t)=>e.stype===b.Value?{stype:b.Value,svalue:t(e.svalue)}:e,mapError:(e,t)=>e.stype===b.Error?{stype:b.Error,serror:t(e.serror)}:e,fold:Nw},Nx=e=>B(e)&&eF(e).length>100?" removed due to size":JSON.stringify(e,null,2),NC=e=>eg(e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:K("... (only showing first ten failures)")}]):e,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()),NS=(e,t)=>N_.serror([{path:e,getErrorInfo:t}]),Nz=(e,t,r)=>NS(e,()=>'Could not find valid *required* value for "'+t+'" in '+Nx(r)),NE=(e,t)=>NS(e,()=>'Choice schema did not contain choice key: "'+t+'"'),NT=(e,t,r)=>NS(e,()=>'The chosen schema: "'+r+'" did not exist in branches: '+Nx(t)),NA=(e,t)=>NS(e,K(t)),NO=(e,t,r,o)=>e$(r,o).fold(()=>NT(e,r,o),r=>r.extract(e.concat(["branch: "+o]),t)),ND=(e,t)=>({extract:(r,o)=>e$(o,e).fold(()=>NE(r,e),e=>NO(r,o,t,e)),toString:()=>"chooseOn("+e+"). Possible values: "+eF(t)}),NN=e=>(...t)=>{if(0===t.length)throw Error("Can't merge zero objects");let r={};for(let o=0;o<t.length;o++){let a=t[o];for(let t in a)eG(a,t)&&(r[t]=e(r[t],a[t]))}return r},NM=NN((e,t)=>F(e)&&F(t)?NM(e,t):t),NR=NN((e,t)=>t),NB=()=>({tag:"required",process:{}}),NF=e=>({tag:"defaultedThunk",process:e}),NL=e=>NF(K(e)),NI=()=>({tag:"option",process:{}}),NP=e=>$(N_.serror,ex)(e),NH=e=>{let t=N_.partition(e);return t.errors.length>0?NP(t.errors):N_.svalue(t.values)},Nj=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},NV=e=>({extract:(t,r)=>N_.bindError(e(r),e=>NA(t,e)),toString:K("val")}),NU=NV(N_.svalue),NZ=(e,t,r,o)=>e$(t,r).fold(()=>Nz(e,r,t),o),Nq=(e,t,r,o)=>o(e$(e,t).getOrThunk(()=>r(e))),NW=(e,t,r)=>r(e$(e,t)),N$=(e,t,r,o)=>o(e$(e,t).map(t=>!0===t?r(e):t)),NG=(e,t,r,o,a)=>{let n=e=>a.extract(t.concat([o]),e),l=e=>e.fold(()=>N_.svalue(en.none()),e=>{let r=a.extract(t.concat([o]),e);return N_.map(r,en.some)});switch(e.tag){case"required":return NZ(t,r,o,n);case"defaultedThunk":return Nq(r,o,e.process,n);case"option":return NW(r,o,l);case"defaultedOptionThunk":return N$(r,o,e.process,l);case"mergeWithThunk":return Nq(r,o,K({}),t=>n(NM(e.process(r),t)))}},NK=(e,t,r)=>{let o={},a=[];for(let n of r)Nj(n,(r,n,l,i)=>{let s=NG(l,e,t,r,i);N_.fold(s,e=>{a.push(...e)},e=>{o[n]=e})},(e,r)=>{o[e]=r(t)});return a.length>0?N_.serror(a):N_.svalue(o)},NY=e=>({extract:(t,r)=>NK(t,r,e),toString:()=>"obj{\n"+eg(e,e=>Nj(e,(e,t,r,o)=>e+" -> "+o.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}),NX=e=>({extract:(t,r)=>NH(eg(r,(r,o)=>e.extract(t.concat(["["+o+"]"]),r))),toString:()=>"array("+e.toString()+")"}),NJ=e=>NV(t=>e(t).fold(N_.serror,N_.svalue)),NQ=(e,t,r)=>{let o=t.extract([e],r);return N_.mapError(o,e=>({input:r,errors:e}))},N1=(e,t,r)=>N_.toResult(NQ(e,t,r)),N0=e=>"Errors: \n"+NC(e.errors).join("\n")+"\n\nInput object: "+Nx(e.input),N2=(e,t)=>ND(e,eP(t,NY)),N4=K(NU),N3=(e,t)=>NV(r=>{let o=typeof r;return e(r)?N_.svalue(r):N_.serror(`Expected type: ${t} but got: ${o}`)}),N5=N3(Z,"number"),N6=N3(R,"string"),N8=N3(P,"boolean"),N7=N3(U,"function"),N9=(e,t,r,o)=>({tag:"field",key:e,newKey:t,presence:r,prop:o}),Me=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),Mt=e=>NJ(t=>em(e,t)?s6.value(t):s6.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),Mr=(e,t)=>N9(e,e,NB(),t),Mo=e=>Mr(e,N6),Ma=e=>Mr(e,N7),Mn=(e,t)=>N9(e,e,NI(),t),Ml=e=>Mn(e,N6),Mi=(e,t,r)=>N9(e,e,NL(t),r),Ms=(e,t)=>Mi(e,t,N5),Mc=(e,t)=>Mi(e,t,N6),Md=(e,t,r)=>Mi(e,t,Mt(r)),Mm=(e,t)=>Mi(e,t,N8),Mu=(e,t)=>Mi(e,t,N7),Mg=Mo("type"),Mp=Ma("fetch"),Mh=Ma("onAction"),Mf=Mu("onSetup",()=>W),My=Ml("text"),Mb=Ml("icon"),Mv=Ml("tooltip"),Mk=Ml("label"),Mw=Mm("active",!1),M_=Mm("enabled",!0),Mx=Mm("primary",!1),MC=e=>Mc("type",e),MS=NY([Mg,Mo("trigger"),Ms("minChars",1),N9(s="columns",s,NL(1),N4()),Ms("maxResults",10),Mn("matches",N7),Mp,Mh,Mi("highlightOn",[],NX(N6))]),Mz=e=>N1("Autocompleter",MS,{trigger:e.ch,...e}),ME=[M_,Mv,Mb,My,Mf],MT=[Mw].concat(ME),MA=[Mu("predicate",eo),Md("scope","node",["node","editor"]),Md("position","selection",["node","selection","line"])],MO=ME.concat([MC("contextformbutton"),Mx,Mh,Me("original",Y)]),MD=MT.concat([MC("contextformbutton"),Mx,Mh,Me("original",Y)]),MN=ME.concat([MC("contextformbutton")]),MM=MT.concat([MC("contextformtogglebutton")]),MR=N2("type",{contextformbutton:MO,contextformtogglebutton:MD});NY([MC("contextform"),Mu("initValue",K("")),Mk,N9(l="commands",l,NB(),NX(MR)),Mn("launch",N2("type",{contextformbutton:MN,contextformtogglebutton:MM}))].concat(MA));let MB=e=>{let t=eP(e.ui.registry.getAll().popups,e=>Mz(e).fold(e=>{throw Error(N0(e))},Y)),r=eX(eq(t,e=>e.trigger)),o=eW(t);return{dataset:t,triggers:r,lookupByTrigger:e=>ey(o,t=>t.trigger===e)}},MF=(e,t)=>{let r=iR(t.load,50);e.on("keypress compositionend",e=>{27!==e.which&&r.throttle()}),e.on("keydown",e=>{let o=e.which;8===o?r.throttle():27===o&&t.cancelIfNecessary()}),e.on("remove",r.cancel)},ML=e=>{let t=iN(),r=iw(!1),o=t.isSet,a=()=>{o()&&(Si(e),gZ(e),r.set(!1),t.clear())},n=r=>{o()||(Sl(e,r.range),t.set({trigger:r.trigger,matchLength:r.text.length}))},l=e6(()=>MB(e)),i=r=>t.get().map(t=>Nm(e.dom,e.selection.getRng(),t.trigger).bind(t=>Nk(e,l,t,r))).getOrThunk(()=>Nv(e,l)),s=o=>{i(o).fold(a,o=>{n(o.context),o.lookupData.then(n=>{t.get().map(l=>{let i=o.context;l.trigger===i.trigger&&(i.text.length-l.matchLength>=10?a():(t.set({...l,matchLength:i.text.length}),r.get()?gU(e,{lookupData:n}):(r.set(!0),gV(e,{lookupData:n}))))})})})};e.addCommand("mceAutocompleterReload",(e,t)=>{s(B(t)?t.fetchOptions:{})}),e.addCommand("mceAutocompleterClose",a),MF(e,{cancelIfNecessary:a,load:s})},MI=tq().browser.isSafari(),MP=e=>a4(rH.fromDom(e)),MH=(e,t)=>{var r;return 0===e.startOffset&&e.endOffset===(null==(r=t.textContent)?void 0:r.length)},Mj=(e,t)=>en.from(e.getParent(t.container(),"details")),MV=(e,t)=>Mj(e,t).isSome(),MU=(e,t)=>{let r=en.from(e.getParent(t.startContainer,"details")),o=en.from(e.getParent(t.endContainer,"details"));if(!(r.isSome()||o.isSome()))return en.none();{let t=r.bind(t=>en.from(e.select("summary",t)[0]));return en.some({startSummary:t,startDetails:r,endDetails:o})}},MZ=(e,t)=>mK(t).exists(t=>t.isEqual(e)),Mq=(e,t)=>mY(t).exists(r=>aO(r.getNode())&&mG(t,r).exists(t=>t.isEqual(e))||r.isEqual(e)),MW=(e,t)=>t.startSummary.exists(t=>MZ(e,t)),M$=(e,t)=>t.startSummary.exists(t=>Mq(e,t)),MG=(e,t)=>t.startDetails.exists(r=>mG(r,e).forall(r=>t.startSummary.exists(t=>!t.contains(e.container())&&t.contains(r.container())))),MK=(e,t,r)=>r.startDetails.exists(r=>m$(e,t).forall(e=>!r.contains(e.container()))),MY=(e,t)=>{let r=t.getNode();H(r)||e.selection.setCursorLocation(r,t.offset())},MX=(e,t,r)=>{let o=e.dom.getParent(t.container(),"details");if(o&&!o.open){let t=e.dom.select("summary",o)[0];t&&(r?mK(t):mY(t)).each(t=>MY(e,t))}else MY(e,t)},MJ=(e,t)=>{let r=t.startSummary.exists(t=>t.contains(e.startContainer)),o=t.startSummary.exists(t=>t.contains(e.endContainer)),a=t.startDetails.forall(e=>t.endDetails.forall(t=>e!==t));return(r||o)&&!(r&&o)||a},MQ=(e,t,r)=>{let{dom:o,selection:a}=e,n=e.getBody();if("character"!==r)return!1;{let r=sT.fromRangeStart(a.getRng()),l=o.getParent(r.container(),o.isBlock),i=Mj(o,r),s=l&&o.isEmpty(l),c=I(null==l?void 0:l.previousSibling),d=I(null==l?void 0:l.nextSibling);return!!(s&&(t?d:c)&&mZ(!t,n,r).exists(e=>MV(o,e)&&!t3(i,Mj(o,e))))||mZ(t,n,r).fold(eo,r=>{let a=Mj(o,r);if(!MV(o,r)||t3(i,a))return!1;if(t||MX(e,r,!1),l&&s){if(t&&c||!t&&d)return!0;MX(e,r,t),e.dom.remove(l)}return!0})}},M1=(e,t,r,o)=>{let a=e.selection.getRng(),n=sT.fromRangeStart(a),l=e.getBody();return"selection"===o?MJ(a,t):r?M$(n,t)||MK(l,n,t):MW(n,t)||MG(n,t)},M0=(e,t,r)=>MU(e.dom,e.selection.getRng()).fold(()=>MQ(e,t,r),o=>M1(e,o,t,r)||MQ(e,t,r)),M2=(e,t,r)=>{let o=e.selection,a=o.getNode(),n=o.getRng(),l=sT.fromRangeStart(n);return!!aP(a)&&("selection"===r&&MH(n,a)||bh(t,l,a)?MP(a):e.undoManager.transact(()=>{let n=o.getSel(),{anchorNode:l,anchorOffset:i,focusNode:s,focusOffset:c}=null!=n?n:{},d=()=>{V(l)&&V(i)&&V(s)&&V(c)&&(null==n||n.setBaseAndExtent(l,i,s,c))},m=(e,t)=>{ep(e.childNodes,e=>{uN(e)&&t.appendChild(e)})},u=e.dom.create("span",{"data-mce-bogus":"1"});m(a,u),a.appendChild(u),d(),("word"===r||"line"===r)&&(null==n||n.modify("extend",t?"right":"left",r)),!o.isCollapsed()&&MH(o.getRng(),u)?MP(a):(e.execCommand(t?"ForwardDelete":"Delete"),l=null==n?void 0:n.anchorNode,i=null==n?void 0:n.anchorOffset,s=null==n?void 0:n.focusNode,c=null==n?void 0:n.focusOffset,m(u,a),d()),e.dom.remove(u)}),!0)},M4=(e,t,r)=>M0(e,t,r)||MI&&M2(e,t,r)?en.some(W):en.none(),M3=e=>(t,r,o={})=>{let a=t.getBody(),n={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:W,inputType:r},l=l6(new InputEvent(e));return t.dispatch(e,{...l,...n,...o})},M5=M3("input"),M6=M3("beforeinput"),M8=tq(),M7=M8.os,M9=M7.isMacOS()||M7.isiOS(),Re=M8.browser.isFirefox(),Rt=(e,t,r)=>{let o=r.keyCode===gK.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),n=a?"character":"selection",l=e=>a?e?"word":"line":"selection";Du([{keyCode:gK.BACKSPACE,action:Dd(Ox,e)},{keyCode:gK.BACKSPACE,action:Dd(Tc,e,!1)},{keyCode:gK.DELETE,action:Dd(Tc,e,!0)},{keyCode:gK.BACKSPACE,action:Dd(EJ,e,!1)},{keyCode:gK.DELETE,action:Dd(EJ,e,!0)},{keyCode:gK.BACKSPACE,action:Dd(AV,e,t,!1)},{keyCode:gK.DELETE,action:Dd(AV,e,t,!0)},{keyCode:gK.BACKSPACE,action:Dd(vs,e,!1)},{keyCode:gK.DELETE,action:Dd(vs,e,!0)},{keyCode:gK.BACKSPACE,action:Dd(M4,e,!1,n)},{keyCode:gK.DELETE,action:Dd(M4,e,!0,n)},...M9?[{keyCode:gK.BACKSPACE,altKey:!0,action:Dd(M4,e,!1,l(!0))},{keyCode:gK.DELETE,altKey:!0,action:Dd(M4,e,!0,l(!0))},{keyCode:gK.BACKSPACE,metaKey:!0,action:Dd(M4,e,!1,l(!1))}]:[{keyCode:gK.BACKSPACE,ctrlKey:!0,action:Dd(M4,e,!1,l(!0))},{keyCode:gK.DELETE,ctrlKey:!0,action:Dd(M4,e,!0,l(!0))}],{keyCode:gK.BACKSPACE,action:Dd(Tm,e,!1)},{keyCode:gK.DELETE,action:Dd(Tm,e,!0)},{keyCode:gK.BACKSPACE,action:Dd(Od,e,!1)},{keyCode:gK.DELETE,action:Dd(Od,e,!0)},{keyCode:gK.BACKSPACE,action:Dd(Ej,e,!1)},{keyCode:gK.DELETE,action:Dd(Ej,e,!0)},{keyCode:gK.BACKSPACE,action:Dd(ER,e,!1)},{keyCode:gK.DELETE,action:Dd(ER,e,!0)},{keyCode:gK.BACKSPACE,action:Dd(Or,e,!1)},{keyCode:gK.DELETE,action:Dd(Or,e,!0)}],r).filter(t=>e.selection.isEditable()).each(t=>{r.preventDefault(),M6(e,o).isDefaultPrevented()||(t(),M5(e,o))})},Rr=(e,t,r)=>Dm([{keyCode:gK.BACKSPACE,action:Dd(Ts,e)},{keyCode:gK.DELETE,action:Dd(Ts,e)},...M9?[{keyCode:gK.BACKSPACE,altKey:!0,action:Dd(Ol,e)},{keyCode:gK.DELETE,altKey:!0,action:Dd(Ol,e)},...r?[{keyCode:Re?224:91,action:Dd(Ol,e)}]:[]]:[{keyCode:gK.BACKSPACE,ctrlKey:!0,action:Dd(Ol,e)},{keyCode:gK.DELETE,ctrlKey:!0,action:Dd(Ol,e)}]],t),Ro=(e,t)=>{let r=!1;e.on("keydown",o=>{r=o.keyCode===gK.BACKSPACE,o.isDefaultPrevented()||Rt(e,t,o)}),e.on("keyup",t=>{t.isDefaultPrevented()||Rr(e,t,r),r=!1})},Ra=e=>{for(;e;){if(au(e)||aC(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Rn=(e,t)=>{let r=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){let e=Ra(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(r.doc.createTextNode("\xa0"),t.firstChild)}let a=r.createRng();if(t.normalize(),t.hasChildNodes()){let e,r=new ac(t,t),n=t;for(;e=r.current();){if(aC(e)){a.setStart(e,0),a.setEnd(e,0);break}if(o[e.nodeName.toLowerCase()]){a.setStartBefore(e),a.setEndBefore(e);break}n=e,e=r.next()}e||(a.setStart(n,0),a.setEnd(n,0))}else aO(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),p7(e,a)},Rl=(e,t)=>{let r,o=e.getRoot(),a=t;for(;a!==o&&a&&"false"!==e.getContentEditable(a);){if("true"===e.getContentEditable(a)){r=a;break}a=a.parentNode}return a!==o?r:o},Ri=e=>en.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Rs=e=>Ri(e).fold(K(""),e=>e.nodeName.toUpperCase()),Rc=e=>Ri(e).filter(e=>aY(rH.fromDom(e))).isSome(),Rd=e=>{e.innerHTML='<br data-mce-bogus="1">'},Rm=(e,t,r)=>{let o=e.dom;en.from(r.style).map(o.parseStyle).each(e=>{let r={...oR(rH.fromDom(t)),...e};o.setStyles(t,r)}),t6(en.from(r.class).map(e=>e.split(/\s+/)),en.from(t.className).map(e=>ey(e.split(/\s+/),e=>""!==e)),(e,r)=>{let a=ey(r,t=>!em(e,t)),n=[...e,...a];o.setAttrib(t,"class",n.join(" "))});let a=["style","class"],n=eZ(r,(e,t)=>!em(a,t));o.setAttribs(t,n)},Ru=(e,t)=>{if(cx(e).toLowerCase()===t.tagName.toLowerCase()){let r=cC(e);Rm(e,t,r)}},Rg=(e,t,r,o,a=!0,n,l)=>{let i,s=e.dom,c=e.schema,d=cx(e),m=r?r.nodeName.toUpperCase():"",u=t,g=c.getTextInlineElements(),p=i=n||"TABLE"===m||"HR"===m?s.create(n||d,l||{}):r.cloneNode(!1);if(a)do if(g[u.nodeName]){if(mJ(u)||um(u))continue;let e=u.cloneNode(!1);s.setAttrib(e,"id",""),i.hasChildNodes()?e.appendChild(i.firstChild):p=e,i.appendChild(e)}while((u=u.parentNode)&&u!==o);else s.setAttrib(i,"style",null),s.setAttrib(i,"class",null);return Ru(e,i),Rd(p),i},Rp=(e,t)=>e.dom.getParent(t,aI),Rh=(e,t,r)=>{let o=t;for(;o&&o!==e&&I(o.nextSibling);){let e=o.parentElement;if(!e||!r(e))return aI(e);o=e}return!1},Rf=(e,t,r)=>!t&&r.nodeName.toLowerCase()===cx(e)&&e.dom.isEmpty(r)&&Rh(e.getBody(),r,t=>eG(e.schema.getTextBlockElements(),t.nodeName.toLowerCase())),Ry=(e,t,r)=>{var o,a,n;let l=t(cx(e)),i=Rp(e,r);i&&(e.dom.insertAfter(l,i),Rn(e,l),(null!=(n=null==(a=null==(o=r.parentElement)?void 0:o.childNodes)?void 0:a.length)?n:0)>1&&e.dom.remove(r))},Rb=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Rv=e=>{var t;return(null==(t=e.parentNode)?void 0:t.firstChild)===e},Rk=(e,t)=>{let r=null==e?void 0:e.parentNode;return V(r)&&r.nodeName===t},Rw=e=>V(e)&&/^(OL|UL|LI)$/.test(e.nodeName),R_=e=>V(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Rx=e=>Rw(e)&&Rw(e.parentNode),RC=e=>{let t=e.parentNode;return R_(t)?t:e},RS=(e,t,r)=>{let o=e[r?"firstChild":"lastChild"];for(;o&&!au(o);)o=o[r?"nextSibling":"previousSibling"];return o===t},Rz=e=>ev(eq(oR(rH.fromDom(e)),(e,t)=>`${t}: ${e};`),(e,t)=>e+t,""),RE=(e,t,r,o,a)=>{let n=e.dom,l=e.selection.getRng(),i=r.parentNode;if(r===e.getBody()||!i)return;Rx(r)&&(a="LI");let s=R_(o)?Rz(o):void 0,c=R_(o)&&s?t(a,{style:Rz(o)}):t(a);if(RS(r,o,!0)&&RS(r,o,!1))if(Rk(r,"LI")){let e=RC(r);n.insertAfter(c,e),Rv(r)?n.remove(e):n.remove(r)}else n.replace(c,r);else if(RS(r,o,!0))Rk(r,"LI")?(n.insertAfter(c,RC(r)),c.appendChild(n.doc.createTextNode(" ")),c.appendChild(r)):i.insertBefore(c,r),n.remove(o);else if(RS(r,o,!1))n.insertAfter(c,RC(r)),n.remove(o);else{r=RC(r);let e=l.cloneRange();e.setStartAfter(o),e.setEndAfter(r);let t=e.extractContents();if("LI"===a&&Rb(t,"LI")){let e=ey(eg(c.children,rH.fromDom),Q(rf("br")));c=t.firstChild,n.insertAfter(t,r),ep(e,e=>oP(rH.fromDom(c),e)),s&&c.setAttribute("style",s)}else n.insertAfter(t,r),n.insertAfter(c,r);n.remove(o)}Rn(e,c)},RT=e=>{ep(al(rH.fromDom(e),rg),e=>{let t=e.dom;t.nodeValue=a5(t.data)})},RA=(e,t)=>{let r=e.dom.getParent(t,"ol,ul,dl");return null!==r&&"false"===e.dom.getContentEditableParent(r)},RO=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),RD=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,RN=(e,t)=>V(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),RM=(e,t,r)=>{var o;let a=[];if(!r)return;let n=r;for(;n=n.firstChild;){if(e.isBlock(n))return;au(n)&&!t[n.nodeName.toLowerCase()]&&a.push(n)}let l=a.length;for(;l--;)(n=a[l]).hasChildNodes()&&(n.firstChild!==n.lastChild||(null==(o=n.firstChild)?void 0:o.nodeValue)!=="")?RO(e,n)&&e.remove(n):e.remove(n)},RR=(e,t,r)=>aC(t)?e?1===r&&"\uFEFF"===t.data.charAt(r-1)?0:r:r===t.data.length-1&&"\uFEFF"===t.data.charAt(r)?t.data.length:r:r,RB=e=>{let t=e.cloneRange();return t.setStart(e.startContainer,RR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,RR(!1,e.endContainer,e.endOffset)),t},RF=e=>{let t=e;do aC(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},RL=(e,t,r,o,a)=>{var n,l;let i=e.dom,s=null!=(n=Rl(i,o))?n:i.getRoot(),c=i.getParent(o,i.isBlock);if(!c||!RN(i,c)){let n;if(!(c=c||s).hasChildNodes()){let o=i.create(t);return Ru(e,o),c.appendChild(o),r.setStart(o,0),r.setEnd(o,0),o}let d=o;for(;d&&d.parentNode!==c;)d=d.parentNode;for(;d&&!i.isBlock(d);)n=d,d=d.previousSibling;let m=null==(l=null==n?void 0:n.parentElement)?void 0:l.nodeName;if(n&&m&&e.schema.isValidChild(m,t.toLowerCase())){let l=n.parentNode,s=i.create(t);for(Ru(e,s),l.insertBefore(s,n),d=n;d&&!i.isBlock(d);){let e=d.nextSibling;s.appendChild(d),d=e}r.setStart(o,a),r.setEnd(o,a)}}return o},RI=(e,t)=>{t.normalize();let r=t.lastChild;(!r||au(r)&&/^(left|right)$/gi.test(e.getStyle(r,"float",!0)))&&e.add(t,"br")},RP=(e,t)=>{let r=cA(e);return!j(t)&&(R(r)?em(t2.explode(r),t.nodeName.toLowerCase()):r)},RH={insert:(e,t)=>{let r,o,a,n,l,i=!1,s=e.dom,c=e.schema.getNonEmptyElements(),d=e.selection.getRng(),m=cx(e),u=rH.fromDom(d.startContainer),g=r8(u,d.startOffset),p=g.exists(e=>rm(e)&&!oC(e)),h=d.collapsed&&p,f=(t,o)=>Rg(e,r,_,w,cT(e),t,o),y=e=>{let t,a=RR(e,r,o);if(aC(r)&&(e?a>0:a<r.data.length))return!1;if(r.parentNode===_&&i&&!e||e&&au(r)&&r===_.firstChild)return!0;if(RD(r,"TABLE")||RD(r,"HR"))return i&&!e||!i&&e;let n=new ac(r,_);for(aC(r)&&(e&&0===a?n.prev():e||a!==r.data.length||n.next());t=n.current();){if(au(t)){if(!t.getAttribute("data-mce-bogus")){let e=t.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(aC(t)&&!nk(t.data))return!1;e?n.prev():n.next()}return!0},b=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(a)&&"HGROUP"!==x?f(m):f(),RP(e,n)&&RN(s,n)&&s.isEmpty(_,void 0,{includeZwsp:!0})?t=s.split(n,_):s.insertAfter(t,_),Rn(e,t),t};pO(s,d).each(e=>{d.setStart(e.startContainer,e.startOffset),d.setEnd(e.endContainer,e.endOffset)}),r=d.startContainer,o=d.startOffset;let v=!!(t&&t.shiftKey),k=!!(t&&t.ctrlKey);au(r)&&r.hasChildNodes()&&!h&&(i=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=i&&aC(r)?r.data.length:0);let w=Rl(s,r);if(!w||RA(e,r))return;v||(r=RL(e,m,d,r,o));let _=s.getParent(r,s.isBlock)||s.getRoot();n=V(null==_?void 0:_.parentNode)?s.getParent(_.parentNode,s.isBlock):null,a=_?_.nodeName.toUpperCase():"";let x=n?n.nodeName.toUpperCase():"";if("LI"===x&&!k){let e=n;_=e,n=e.parentNode,a=x}if(au(n)&&Rf(e,v,_))return Ry(e,f,_);if(/^(LI|DT|DD)$/.test(a)&&au(n)&&s.isEmpty(_))return void RE(e,f,n,_,m);if(!h&&(_===e.getBody()||!RN(s,_)))return;let C=_.parentNode;if(h)l=f(m),g.fold(()=>{oH(u,rH.fromDom(l))},e=>{oL(e,rH.fromDom(l))}),e.selection.setCursorLocation(l,0);else if(a8(_))l=ns(_),s.isEmpty(_)&&Rd(_),Ru(e,l),Rn(e,l);else if(y(!1))l=b();else if(y(!0)&&C){l=C.insertBefore(f(),_);let t=ot(rH.fromDom(d.startContainer))&&d.collapsed;Rn(e,RD(_,"HR")||t?l:_)}else{let t=RB(d).cloneRange();t.setEndAfter(_);let r=t.extractContents();RT(r),RF(r),l=r.firstChild,s.insertAfter(r,_),RM(s,c,l),RI(s,_),s.isEmpty(_)&&Rd(_),l.normalize(),s.isEmpty(l)?(s.remove(l),b()):(Ru(e,l),Rn(e,l))}s.setAttrib(l,"id",""),e.dispatch("NewBlock",{newBlock:l})},fakeEventName:"insertParagraph"},Rj=(e,t,r)=>{let o,a=new ac(t,r),n=e.getNonEmptyElements();for(;o=a.next();)if(n[o.nodeName.toLowerCase()]||aC(o)&&o.length>0)return!0;return!1},RV=(e,t,r)=>{let o=e.dom.createRng();r?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),p7(e,o)},RU=(e,t)=>{let r,o=e.selection,a=e.dom,n=o.getRng(),l=!1;pO(a,n).each(e=>{n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset)});let i=n.startOffset,s=n.startContainer;if(au(s)&&s.hasChildNodes()){let e=i>s.childNodes.length-1;s=s.childNodes[Math.min(i,s.childNodes.length-1)]||s,i=e&&aC(s)?s.data.length:0}let c=a.getParent(s,a.isBlock),d=c&&c.parentNode?a.getParent(c.parentNode,a.isBlock):null,m=d?d.nodeName.toUpperCase():"",u=!!(t&&t.ctrlKey);"LI"!==m||u||(c=d),aC(s)&&i>=s.data.length&&!Rj(e.schema,s,c||a.getRoot())&&(r=a.create("br"),n.insertNode(r),n.setStartAfter(r),n.setEndAfter(r),l=!0),r=a.create("br"),sN(a,n,r),RV(e,r,l),e.undoManager.add()},RZ=(e,t)=>{let r=rH.fromTag("br");oL(rH.fromDom(t),r),e.undoManager.add()},Rq=(e,t)=>{R$(e.getBody(),t)||oI(rH.fromDom(t),rH.fromTag("br"));let r=rH.fromTag("br");oI(rH.fromDom(t),r),RV(e,r.dom,!1),e.undoManager.add()},RW=e=>aO(e.getNode()),R$=(e,t)=>!!RW(sT.after(t))||m$(e,sT.after(t)).map(e=>aO(e.getNode())).getOr(!1),RG=e=>e&&"A"===e.nodeName&&"href"in e,RK=e=>e.fold(eo,RG,RG,eo),RY=e=>{let t=J(y7,e),r=sT.fromRangeStart(e.selection.getRng());return TM(t,e.getBody(),r).filter(RK)},RX=(e,t)=>{t.fold(W,J(RZ,e),J(Rq,e),W)},RJ={insert:(e,t)=>{let r=RY(e);r.isSome()?r.each(J(RX,e)):RU(e,t)},fakeEventName:"insertLineBreak"},RQ=(e,t)=>Ri(e).filter(e=>t.length>0&&rV(rH.fromDom(e),t)).isSome(),R1=e=>RQ(e,cz(e)),R0=e=>RQ(e,cE(e)),R2=s8([{br:[]},{block:[]},{none:[]}]),R4=(e,t)=>R0(e),R3=e=>(t,r)=>Rc(t)===e,R5=(e,t)=>(r,o)=>Rs(r)===e.toUpperCase()===t,R6=e=>j(Rl(e.dom,e.selection.getStart())),R8=e=>R5("pre",e),R7=()=>R5("summary",!0),R9=e=>(t,r)=>c_(t)===e,Be=(e,t)=>R1(e),Bt=(e,t)=>t,Br=e=>{let t=cx(e),r=Rl(e.dom,e.selection.getStart());return V(r)&&e.schema.isValidChild(r.nodeName,t)},Bo=e=>{let t=e.selection.getRng(),r=r8(rH.fromDom(t.startContainer),t.startOffset).map(e=>rm(e)&&!oC(e));return t.collapsed&&r.getOr(!0)},Ba=(e,t)=>(r,o)=>ev(e,(e,t)=>e&&t(r,o),!0)?en.some(t):en.none(),Bn=(e,t)=>Tx([Ba([R4],R2.none()),Ba([R8(!0),R6],R2.none()),Ba([R7()],R2.br()),Ba([R8(!0),R9(!1),Bt],R2.br()),Ba([R8(!0),R9(!1)],R2.block()),Ba([R8(!0),R9(!0),Bt],R2.block()),Ba([R8(!0),R9(!0)],R2.br()),Ba([R3(!0),Bt],R2.br()),Ba([R3(!0)],R2.block()),Ba([Be],R2.br()),Ba([Bt],R2.br()),Ba([Br],R2.block()),Ba([Bo],R2.block())],[e,!!(t&&t.shiftKey)]).getOr(R2.none()),Bl=(e,t,r)=>{t.selection.isCollapsed()||bs(t),!(V(r)&&M6(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,r),V(r)&&M5(t,e.fakeEventName))},Bi=(e,t)=>{let r=()=>Bl(RJ,e,t),o=()=>Bl(RH,e,t),a=Bn(e,t);switch(cS(e)){case"linebreak":a.fold(r,r,W);break;case"block":a.fold(o,o,W);break;case"invert":a.fold(o,r,W);break;default:a.fold(r,o,W)}},Bs=tq(),Bc=Bs.os.isiOS()&&Bs.browser.isSafari(),Bd=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),Cx(e.undoManager),e.undoManager.transact(()=>{Bi(e,t)}))},Bm=e=>{if(!e.collapsed)return!1;let t=e.startContainer;if(!aC(t))return!1;{let r=t.data.charAt(e.startOffset-1);return/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/.test(r)}},Bu=e=>{let t=en.none(),r=e=>{t=en.some(e.selection.getBookmark()),e.undoManager.add()},o=(e,r)=>{e.undoManager.undo(),t.fold(W,t=>e.selection.moveToBookmark(t)),Bd(e,r),t=en.none()};e.on("keydown",t=>{t.keyCode===gK.ENTER&&(Bc&&Bm(e.selection.getRng())?r(e):Bd(e,t))}),e.on("keyup",r=>{r.keyCode===gK.ENTER&&t.each(()=>o(e,r))})},Bg=(e,t,r)=>{let o=tJ.os.isMacOS()||tJ.os.isiOS();Dm([{keyCode:gK.END,action:Dd(O4,e,!0)},{keyCode:gK.HOME,action:Dd(O4,e,!1)},...!o?[{keyCode:gK.HOME,action:Dd(O3,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:gK.END,action:Dd(O3,e,!0),ctrlKey:!0,shiftKey:!0}]:[],{keyCode:gK.END,action:Dd(Dh,e,!0)},{keyCode:gK.HOME,action:Dd(Dh,e,!1)},{keyCode:gK.END,action:Dd(AB,e,!0,t)},{keyCode:gK.HOME,action:Dd(AB,e,!1,t)}],r).each(e=>{r.preventDefault()})},Bp=(e,t)=>{e.on("keydown",r=>{r.isDefaultPrevented()||Bg(e,t,r)})},Bh=e=>{e.on("input",t=>{t.isComposing||yF(e)})},Bf=tq(),By=(e,t,r)=>{Dm([{keyCode:gK.PAGE_UP,action:Dd(AB,e,!1,t)},{keyCode:gK.PAGE_DOWN,action:Dd(AB,e,!0,t)}],r)},Bb=e=>e.stopImmediatePropagation(),Bv=e=>e.keyCode===gK.PAGE_UP||e.keyCode===gK.PAGE_DOWN,Bk=(e,t,r)=>{r&&!e.get()?t.on("NodeChange",Bb,!0):!r&&e.get()&&t.off("NodeChange",Bb),e.set(r)},Bw=(e,t)=>{if(Bf.os.isMacOS())return;let r=iw(!1);e.on("keydown",t=>{Bv(t)&&Bk(r,e,!0)}),e.on("keyup",o=>{o.isDefaultPrevented()||By(e,t,o),Bv(o)&&r.get()&&(Bk(r,e,!1),e.nodeChanged())})},B_=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||eu(t.getTargetRanges(),t=>!h$(e.dom,t)))&&t.preventDefault()})},Bx=(e,t)=>{let r=t.container(),o=t.offset();return aC(r)?(r.insertData(o,e),en.some(sT(r,o+e.length))):mS(t).map(r=>{let o=rH.fromText(e);return t.isAtEnd()?oI(r,o):oL(r,o),sT(o.dom,e.length)})},BC=J(Bx,"\xa0"),BS=J(Bx," "),Bz=(e,t,r)=>yx(e,t,r)?BC(t):BS(t),BE=e=>t=>t.fold(t=>mG(e.dom,sT.before(t)),e=>mK(e),e=>mY(e),t=>m$(e.dom,sT.after(t))),BT=(e,t,r)=>o=>yx(e,o,r)?BC(t):BS(t),BA=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},BO=(e,t)=>e.isEditable(e.getParent(t,"summary")),BD=e=>{let t=sT.fromRangeStart(e.selection.getRng()),r=rH.fromDom(e.getBody());if(!e.selection.isCollapsed())return en.none();{let o=J(y7,e),a=sT.fromRangeStart(e.selection.getRng());return TM(o,e.getBody(),a).bind(BE(r)).map(o=>()=>BT(r,t,e.schema)(o).each(BA(e)))}},BN=e=>t7(tJ.browser.isFirefox()&&e.selection.isEditable()&&BO(e.dom,e.selection.getRng().startContainer),()=>{let t=rH.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete"),Bz(t,sT.fromRangeStart(e.selection.getRng()),e.schema).each(BA(e))}),BM=(e,t)=>{Du([{keyCode:gK.SPACEBAR,action:Dd(BD,e)},{keyCode:gK.SPACEBAR,action:Dd(BN,e)}],t).each(r=>{t.preventDefault(),M6(e,"insertText",{data:" "}).isDefaultPrevented()||(r(),M5(e,"insertText",{data:" "}))})},BR=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||BM(e,t)})},BB=e=>dX(e)?[{keyCode:gK.TAB,action:Dd(D4,e,!0)},{keyCode:gK.TAB,shiftKey:!0,action:Dd(D4,e,!1)}]:[],BF=(e,t)=>{Dm([...BB(e)],t).each(e=>{t.preventDefault()})},BL=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||BF(e,t)})},BI=e=>{if(e.addShortcut("Meta+P","","mcePrint"),ML(e),CP(e))return iw(null);{let t=AN(e);return B_(e),O$(e),D5(e,t),Ro(e,t),Bu(e),BR(e),Bh(e),BL(e),Bp(e,t),Bw(e,t),t}};class BP{constructor(e){let t;this.lastPath=[],this.editor=e;let r=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",r=>{let o=e.selection.getRng(),a={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==r.type&&pk(a,t)||e.dispatch("SelectionChange"),t=a}),e.on("contextmenu",()=>{e.dispatch("SelectionChange")}),e.on("SelectionChange",()=>{let t=e.selection.getStart(!0);t&&uA(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",t=>{!t.isDefaultPrevented()&&uA(e)&&("IMG"===e.selection.getNode().nodeName?hv.setEditorTimeout(e,()=>{e.nodeChanged()}):e.nodeChanged())})}nodeChanged(e={}){let t,r=this.editor.selection;if(this.editor.initialized&&r&&!ds(this.editor)&&!this.editor.mode.isReadOnly()){let o=this.editor.getBody();(t=r.getStart(!0)||o).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,o)||(t=o);let a=[];this.editor.dom.getParent(t,e=>e===o||(a.push(e),!1)),this.editor.dispatch("NodeChange",{...e,element:t,parents:a})}}isSameElementPath(e){let t,r=this.editor,o=ez(r.dom.getParents(e,ea,r.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}let BH=iX("image"),Bj=e=>en.from(e[BH]),BV=(e,t)=>{e[BH]=t},BU=iX("event"),BZ=e=>en.from(e[BU]),Bq=e=>t=>{t[BU]=e},BW=(e,t)=>Bq(t)(e),B$=Bq(0),BG=Bq(2),BK=Bq(1),BY=e=>en.from(e[BU]).exists(e=>0===e),BX=()=>Object.freeze({length:0,item:e=>null}),BJ=iX("mode"),BQ=e=>en.from(e[BJ]),B1=e=>t=>{t[BJ]=e},B0=(e,t)=>B1(t)(e),B2=B1(0),B4=B1(2),B3=B1(1),B5=e=>t=>en.from(t[BJ]).exists(t=>t===e),B6=B5(0),B8=B5(1),B7=(e,t)=>({...t,get length(){return t.length},add:(r,o)=>{if(B6(e)){if(!R(r))return t.add(r);else if(!H(o))return t.add(r,o)}return null},remove:r=>{B6(e)&&t.remove(r)},clear:()=>{B6(e)&&t.clear()}}),B9=["none","copy","link","move"],Fe=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Ft=()=>{let e=new window.DataTransfer,t="move",r="all",o={get dropEffect(){return t},set dropEffect(effect){em(B9,effect)&&(t=effect)},get effectAllowed(){return r},set effectAllowed(allowed){BY(o)&&em(Fe,allowed)&&(r=allowed)},get items(){return B7(o,e.items)},get files(){if(B8(o))return BX();return e.files},get types(){return e.types},setDragImage:(t,r,a)=>{B6(o)&&(BV(o,{image:t,x:r,y:a}),e.setDragImage(t,r,a))},getData:t=>B8(o)?"":e.getData(t),setData:(t,r)=>{B6(o)&&e.setData(t,r)},clearData:t=>{B6(o)&&e.clearData(t)}};return B2(o),o},Fr=e=>{let t=Ft(),r=BQ(e);return B4(e),B$(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Bj(e).each(e=>t.setDragImage(e.image,e.x,e.y)),ep(e.types,r=>{"Files"!==r&&t.setData(r,e.getData(r))}),ep(e.files,e=>t.items.add(e)),BZ(e).each(e=>{BW(t,e)}),r.each(r=>{B0(e,r),B0(t,r)}),t},Fo=e=>{let t=e.getData("text/html");return""===t?en.none():en.some(t)},Fa=(e,t)=>e.setData("text/html",t),Fn="x-tinymce/html",Fl=K(Fn),Fi="\x3c!-- "+Fn+" --\x3e",Fs=e=>Fi+e,Fc=e=>e.replace(Fi,""),Fd=e=>-1!==e.indexOf(Fi),Fm=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Fu=(e,t)=>{let r="<"+e,o=eq(t,(e,t)=>t+'="'+lC.encodeAllRaw(e)+'"');return o.length&&(r+=" "+o.join(" ")),r+">"},Fg=(e,t,r)=>{let o=e.split(/\n\n/),a=Fu(t,r),n="</"+t+">",l=eg(o,e=>e.split(/\n/).join("<br />"));return 1===l.length?l[0]:eg(l,e=>a+e+n).join("")},Fp="%MCEPASTEBIN%",Fh=(e,t)=>{let{dom:r,selection:o}=e,a=e.getBody();t.set(o.getRng());let n=r.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Fp);tJ.browser.isFirefox()&&r.setStyle(n,"left","rtl"===r.getStyle(a,"direction",!0)?65535:-65535),r.bind(n,"beforedeactivate focusin focusout",e=>{e.stopPropagation()}),n.focus(),o.select(n,!0)},Ff=(e,t)=>{let r=e.dom;if(Fy(e)){let o,a=t.get();for(;o=Fy(e);)r.remove(o),r.unbind(o);a&&e.selection.setRng(a)}t.set(null)},Fy=e=>e.dom.get("mcepastebin"),Fb=e=>V(e)&&"mcepastebin"===e.id,Fv=e=>{let t=e.dom,r=(e,r)=>{e.appendChild(r),t.remove(r,!0)},[o,...a]=ey(e.getBody().childNodes,Fb);ep(a,e=>{r(o,e)});let n=t.select("div[id=mcepastebin]",o);for(let e=n.length-1;e>=0;e--){let a=t.create("div");o.insertBefore(a,n[e]),r(a,n[e])}return o?o.innerHTML:""},Fk=e=>e===Fp,Fw=e=>{let t=iw(null);return{create:()=>Fh(e,t),remove:()=>Ff(e,t),getEl:()=>Fy(e),getHtml:()=>Fv(e),getLastRng:t.get}},F_=(e,t)=>(t2.each(t,t=>{e=M(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])}),e),Fx=e=>{let t=lU(),r=xx({},t),o="",a=t.getVoidElements(),n=t2.makeMap("script noscript style textarea video audio iframe object"," "),l=t.getBlockElements(),i=e=>{let r=e.name;if("br"===r){o+="\n";return}if("wbr"!==r){if(a[r]&&(o+=" "),n[r]){o+=" ";return}if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do i(t);while(t=t.next)}l[r]&&e.next&&(o+="\n","p"===r&&(o+="\n"))}};return e=F_(e,[/<!\[[^\]]+\]>/g]),i(r.parse(e)),o},FC=e=>e=F_(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,r)=>t||r?"\xa0":" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),FS=e=>{let t=e.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return t2.hasOwn(r,t)?"image/"+r[t]:"image/"+t},Fz=(e,t)=>{let r=xx({sanitize:dZ(e),sandbox_iframes:d0(e)},e.schema);r.addNodeFilter("meta",e=>{t2.each(e,e=>{e.remove()})});let o=r.parse(t,{forced_root_block:!1,isRootContent:!0});return fN({validate:!0},e.schema).serialize(o)},FE=(e,t)=>({content:e,cancelled:t}),FT=(e,t,r)=>{let o=e.dom.create("div",{style:"display:none"},t),a=gW(e,o,r);return FE(a.node.innerHTML,a.isDefaultPrevented())},FA=(e,t,r)=>{let o=gq(e,t,r),a=Fz(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?FT(e,a,r):FE(a,o.isDefaultPrevented())},FO=(e,t,r)=>FA(e,t,r),FD=(e,t)=>(e.insertContent(t,{merge:dN(e),paste:!0}),!0),FN=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),FM=(e,t)=>FN(t)&&eu(dY(e),e=>tu(t.toLowerCase(),`.${e.toLowerCase()}`)),FR=(e,t,r)=>(e.undoManager.extra(()=>{r(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),FB=(e,t,r)=>(e.undoManager.extra(()=>{r(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),FF=(e,t,r)=>!!(!e.selection.isCollapsed()&&FN(t))&&FB(e,t,r),FL=(e,t,r)=>!!FM(e,t)&&FR(e,t,r),FI=(e,t)=>{t2.each([FF,FL,FD],r=>!r(e,t,FD))},FP=(e,t,r)=>{r||!dM(e)?FD(e,t):FI(e,t)},FH=(i=0,()=>"mceclip"+i++),Fj=e=>{let t=Ft();return Fa(t,e),B4(t),t},FV=(e,t,r,o,a)=>{let n=FO(e,t,r);if(!n.cancelled){let t=n.content,r=()=>FP(e,t,o);a?M6(e,"insertFromPaste",{dataTransfer:Fj(t)}).isDefaultPrevented()||(r(),M5(e,"insertFromPaste")):r()}},FU=(e,t,r,o)=>{let a=r||Fd(t);FV(e,Fc(t),a,!1,o)},FZ=(e,t,r)=>{let o=Fg(nS(e.dom.encode(t).replace(/\r\n/g,"\n"),dB(e)),cx(e),cC(e));FV(e,o,!1,!0,r)},Fq=e=>{let t={};if(e&&e.types)for(let r=0;r<e.types.length;r++){let o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}return t},FW=(e,t)=>t in e&&e[t].length>0,F$=e=>FW(e,"text/html")||FW(e,"text/plain"),FG=(e,t)=>{let r=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return V(r)?e.dom.encode(r[1]):void 0},FK=(e,t,r,o)=>{let a=FH(),n=cD(e)&&V(r.name),l=n?FG(e,r.name):a,i=n?r.name:void 0,s=t.create(a,r,o,l,i);return t.add(s),s},FY=(e,t)=>{w2(t.uri).each(({data:r,type:o,base64Encoded:a})=>{let n=a?r:btoa(r),l=t.file,i=e.editorUpload.blobCache,s=i.getByData(n,o),c=null!=s?s:FK(e,i,l,n);FU(e,`<img src="${c.blobUri()}">`,!1,!0)})},FX=e=>"paste"===e.type,FJ=e=>Promise.all(eg(e,e=>w6(e).then(t=>({file:e,uri:t})))),FQ=e=>{let t=dY(e);return e=>tm(e.type,"image/")&&eu(t,t=>FS(t)===e.type)},F1=(e,t)=>{let r=t.items?eC(eM(t.items),e=>"file"===e.kind?[e.getAsFile()]:[]):[],o=t.files?eM(t.files):[];return ey(r.length>0?r:o,FQ(e))},F0=(e,t,r)=>{let o=FX(t)?t.clipboardData:t.dataTransfer;if(dz(e)&&o){let a=F1(e,o);if(a.length>0)return t.preventDefault(),FJ(a).then(t=>{r&&e.selection.setRng(r),ep(t,t=>{FY(e,t)})}),!0}return!1},F2=e=>{var t,r;return tJ.os.isAndroid()&&(null==(r=null==(t=e.clipboardData)?void 0:t.items)?void 0:r.length)===0},F4=e=>gK.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode,F3=(e,t,r,o,a)=>{let n=FC(r),l=FW(t,Fl())||Fd(r),i=!l&&Fm(n),s=FN(n);(Fk(n)||!n.length||i&&!s)&&(o=!0),(o||s)&&(n=FW(t,"text/plain")&&i?t["text/plain"]:Fx(n)),Fk(n)||(o?FZ(e,n,a):FU(e,n,l,a))},F5=(e,t,r)=>{let o,a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",e=>{F4(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)}),e.on("paste",n=>{if(n.isDefaultPrevented()||F2(n))return;let l="text"===r.get()||o;o=!1;let i=Fq(n.clipboardData);!F$(i)&&F0(e,n,a())||(FW(i,"text/html")?(n.preventDefault(),F3(e,i,i["text/html"],l,!0)):FW(i,"text/plain")&&FW(i,"text/uri-list")?(n.preventDefault(),F3(e,i,i["text/plain"],l,!0)):(t.create(),hv.setEditorTimeout(e,()=>{let r=t.getHtml();t.remove(),F3(e,i,r,l,!1)},0)))})},F6=e=>{let t=e=>tm(e,"webkit-fake-url"),r=e=>tm(e,"data:"),o=e=>{var t;return(null==(t=e.data)?void 0:t.paste)===!0};e.parser.addNodeFilter("img",(a,n,l)=>{if(!dz(e)&&o(l))for(let o of a){let a=o.attr("src");R(a)&&!o.attr("data-mce-object")&&a!==tJ.transparentSrc&&(t(a)?o.remove():!dF(e)&&r(a)&&o.remove())}})},F8=(e,t,r)=>{F5(e,t,r),F6(e)},F7=(e,t)=>{"text"===t.get()?(t.set("html"),g$(e,!1)):(t.set("text"),g$(e,!0)),e.focus()},F9=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{F7(e,t)}),e.addCommand("mceInsertClipboardContent",(t,r)=>{r.html&&FU(e,r.html,r.internal,!1),r.text&&FZ(e,r.text,!1)})},Le=(e,t,r)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",r),e.setData(Fl(),t),!0}catch(e){return!1}},Lt=(e,t,r,o)=>{Le(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):r(t.html,o)},Lr=e=>(t,r)=>{let{dom:o,selection:a}=e,n=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),l=o.create("div",{contenteditable:"true"},t);o.setStyles(n,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),n.appendChild(l),o.add(e.getBody(),n);let i=a.getRng();l.focus();let s=o.createRng();s.selectNodeContents(l),a.setRng(s),hv.setEditorTimeout(e,()=>{a.setRng(i),o.remove(n),r()},0)},Lo=e=>({html:Fs(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),La=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),Ln=e=>!e.selection.isCollapsed()||La(e),Ll=e=>t=>{!t.isDefaultPrevented()&&Ln(e)&&e.selection.isEditable()&&Lt(t,Lo(e),Lr(e),()=>{if(tJ.browser.isChromium()||tJ.browser.isFirefox()){let t=e.selection.getRng();hv.setEditorTimeout(e,()=>{e.selection.setRng(t),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Li=e=>t=>{!t.isDefaultPrevented()&&Ln(e)&&Lt(t,Lo(e),Lr(e),W)},Ls=e=>{e.on("cut",Ll(e)),e.on("copy",Li(e))},Lc=(e,t)=>{var r,o;return pM.getCaretRangeFromPoint(null!=(r=t.clientX)?r:0,null!=(o=t.clientY)?o:0,e.getDoc())},Ld=e=>{let t=e["text/plain"];return!!t&&0===t.indexOf("file://")},Lm=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Lu=e=>eu(e.files,e=>/^image\//.test(e.type)),Lg=(e,t,r,o)=>{let a=e.getParent(r,e=>n2(t,e));return!I(e.getParent(r,"summary"))||!!(a&&eG(o,"text/html"))&&!I(new DOMParser().parseFromString(o["text/html"],"text/html").body.querySelector(a.nodeName.toLowerCase()))},Lp=e=>{e.on("input",t=>{"deleteByDrag"===t.inputType&&ep(ey(e.dom.select("details"),e=>I(e.querySelector("summary"))),t=>{aO(t.firstChild)&&t.firstChild.remove();let r=e.dom.create("summary");r.appendChild(a2().dom),t.prepend(r)})})},Lh=(e,t)=>{dS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",e=>{e.preventDefault(),e.stopPropagation()}),dz(e)||e.on("drop",e=>{let t=e.dataTransfer;t&&Lu(t)&&e.preventDefault()}),e.on("drop",r=>{if(r.isDefaultPrevented())return;let o=Lc(e,r);if(j(o))return;let a=Fq(r.dataTransfer),n=FW(a,Fl());if((!F$(a)||Ld(a))&&F0(e,r,o))return;let l=a[Fl()],i=l||a["text/html"]||a["text/plain"],s=Lg(e.dom,e.schema,o.startContainer,a),c=t.get();(!c||s)&&i&&(r.preventDefault(),hv.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(l||c&&s)&&e.execCommand("Delete"),Lm(e,o);let t=FC(i);a["text/html"]?FU(e,t,n,!0):FZ(e,t,!0)})}))}),e.on("dragstart",e=>{t.set(!0)}),e.on("dragover dragend",r=>{dz(e)&&!t.get()&&(r.preventDefault(),Lm(e,Lc(e,r))),"dragend"===r.type&&t.set(!1)}),Lp(e)},Lf=e=>{let t=t=>r=>{t(e,r)},r=dE(e);U(r)&&e.on("PastePreProcess",t(r));let o=dT(e);U(o)&&e.on("PastePostProcess",t(o))},Ly=(e,t)=>{e.on("PastePreProcess",r=>{r.content=t(e,r.content,r.internal)})},Lb=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Lv=e=>t2.trim(e).replace(Lb,l1).toLowerCase(),Lk=(e,t,r)=>{let o=dO(e);if(r||"all"===o||!dD(e))return t;let a=o?o.split(/[, ]/):[];if(a&&"none"!==o){let r=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,n,l)=>{let i=r.parseStyle(r.decode(n)),s={};for(let e=0;e<a.length;e++){let t=i[a[e]],n=t,l=r.getStyle(o,a[e],!0);/color/.test(a[e])&&(n=Lv(n),l=Lv(l)),l!==n&&(s[a[e]]=t)}let c=r.serializeStyle(s,"span");return c?t+' style="'+c+'"'+l:t+l})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,r,o)=>t+' style="'+r+'"'+o)},Lw=e=>{(tJ.browser.isChromium()||tJ.browser.isSafari())&&Ly(e,Lk)},L_=e=>{let t=iw(!1),r=iw(dR(e)?"text":"html"),o=Fw(e);Lw(e),F9(e,r),Lf(e),e.on("PreInit",()=>{Ls(e),Lh(e,t),F8(e,o,r)})},Lx=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},LC=e=>{e.parser.addNodeFilter("details",t=>{let r=dJ(e);ep(t,e=>{"expanded"===r?e.attr("open","open"):"collapsed"===r&&e.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{let r=dQ(e);ep(t,e=>{"expanded"===r?e.attr("open","open"):"collapsed"===r&&e.attr("open",null)})})},LS=e=>{Lx(e),LC(e)},Lz=e=>aM(e.dom),LE=e=>aN(e.dom),LT=e=>t=>rW(rH.fromDom(e),t),LA=(e,t,r)=>of(rH.fromDom(e),e=>LE(e)||r.isBlock(ri(e)),LT(t)).getOr(rH.fromDom(t)).dom,LO=(e,t)=>of(rH.fromDom(e),Lz,LT(t)),LD=(e,t,r)=>{let o=new ac(e,t),a=r?o.next.bind(o):o.prev.bind(o),n=e;for(let t=r?e:a();t&&!aO(t);t=a())ng(t)&&(n=t);return n},LN=(e,t,r)=>{let o=sT.fromRangeStart(e).getNode(),a=LA(o,t,r),n=LD(o,a,!1),l=LD(o,a,!0),i=document.createRange();return LO(n,a).fold(()=>{aC(n)?i.setStart(n,0):i.setStartBefore(n)},e=>i.setStartBefore(e.dom)),LO(l,a).fold(()=>{aC(l)?i.setEnd(l,l.data.length):i.setEndAfter(l)},e=>i.setEndAfter(e.dom)),i},LM=e=>{let t=LN(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(vM(t))},LR=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),LM(e))})};(p=v||(v={})).Before="before",p.After="after";let LB=(e,t)=>Math.abs(e.left-t),LF=(e,t)=>Math.abs(e.right-t),LL=(e,t)=>e>=t.top&&e<=t.bottom,LI=(e,t)=>e.top<t.bottom&&e.bottom>t.top,LP=(e,t)=>{let r=si(e,t)/Math.min(e.height,t.height);return LI(e,t)&&r>.5},LH=(e,t)=>sn(ey(e,e=>LL(t,e))).fold(()=>[[],e],t=>{let{pass:r,fail:o}=ef(e,e=>LP(e,t));return[r,o]}),Lj=(e,t)=>({node:e.node,position:LB(e,t)<LF(e,t)?v.Before:v.After}),LV=(e,t,r)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),LU=(e,t,r,o)=>{let a=e=>ng(e.node)?en.some(e):au(e.node)?LU(eM(e.node.childNodes),t,r,!1):en.none(),n=(e,o,n)=>a(o).filter(o=>2>Math.abs(n(e,t,r)-n(o,t,r))&&aC(o.node)),l=(e,l)=>{let i=eA(e,(e,o)=>l(e,t,r)-l(o,t,r));return eR(i,a).map(e=>o&&!aC(e.node)&&i.length>1?n(e,i[1],l).getOr(e):e)},[i,s]=LH(An(e),r),{pass:c,fail:d}=ef(s,e=>e.top<r);return l(i,LV).orThunk(()=>l(d,sl)).orThunk(()=>l(c,sl))},LZ=(e,t,r,o)=>{let a=(t,n)=>{let l=ey(t.dom.childNodes,Q(e=>au(e)&&e.classList.contains("mce-drag-container")));return n.fold(()=>LU(l,r,o,!0),e=>LU(ey(l,t=>t!==e.dom),r,o,!0)).orThunk(()=>(rW(t,e)?en.none():rQ(t)).bind(e=>a(e,en.some(t))))};return a(t,en.none())},Lq=(e,t,r)=>{let o=rH.fromDom(e),a=rK(o),n=rH.fromPoint(a,t,r).filter(e=>r$(o,e)).getOr(o);return LZ(o,n,t,r)},LW=(e,t,r)=>Lq(e,t,r).filter(e=>mi(e.node)).map(e=>Lj(e,t)),L$=e=>{var t,r;let o=e.getBoundingClientRect(),a=e.ownerDocument,n=a.documentElement,l=a.defaultView;return{top:o.top+(null!=(t=null==l?void 0:l.scrollY)?t:0)-n.clientTop,left:o.left+(null!=(r=null==l?void 0:l.scrollX)?r:0)-n.clientLeft}},LG=e=>e.inline?L$(e.getBody()):{left:0,top:0},LK=e=>{let t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},LY=e=>{let t=e.getBody(),r=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop};return e.inline?o:a},LX=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){let r=L$(e.getContentAreaContainer()),o=LY(e);return{left:t.pageX-r.left+o.left,top:t.pageY-r.top+o.top}}return{left:t.pageX,top:t.pageY}},LJ=(e,t,r)=>({pageX:r.left-e.left+t.left,pageY:r.top-e.top+t.top}),LQ=(e,t)=>LJ(LG(e),LK(e),LX(e,t)),L1=e=>({target:e,srcElement:e}),L0=(e,t,r,o)=>({...t,dataTransfer:o,type:e,...L1(r)}),L2=(e,t,r)=>{let o=ee("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:W,stopImmediatePropagation:W,stopPropagation:W,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:r,...L1(t)}},L4=(e,t)=>{let r=Fr(e);return"dragstart"===t?(B$(r),B2(r)):"drop"===t?(BG(r),B4(r)):(BK(r),B3(r)),r},L3=(e,t,r,o)=>{let a=L4(r,e);return H(o)?L2(e,t,a):L0(e,o,t,a)},L5=((...e)=>t=>{for(let r=0;r<e.length;r++)if(e[r](t))return!0;return!1})(aM,aN),L6=(e,t,r)=>aM(r)&&r!==t&&e.isEditable(r.parentElement),L8=(e,t,r)=>!j(t)&&!(t===r||e.dom.isChildOf(t,r))&&e.dom.isEditable(t),L7=(e,t,r,o)=>{let a=e.dom,n=t.cloneNode(!0);a.setStyles(n,{width:r,height:o}),a.setAttrib(n,"data-mce-selected",null);let l=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:o}),a.setStyles(n,{margin:0,boxSizing:"border-box"}),l.appendChild(n),l},L9=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},Ie=(e,t)=>r=>()=>{let o="left"===e?r.scrollX:r.scrollY;r.scroll({[e]:o+t,behavior:"smooth"})},It=Ie("left",-32),Ir=Ie("left",32),Io=Ie("top",-32),Ia=Ie("top",32),In=(e,t,r,o,a,n,l,i,s,c,d,m)=>{let u=0,g=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+r>a&&(u=t.pageX+r-a),t.pageY+o>n&&(g=t.pageY+o-n),e.style.width=r-u+"px",e.style.height=o-g+"px";let p=s.clientHeight,h=s.clientWidth,f=l+s.getBoundingClientRect().top,y=i+s.getBoundingClientRect().left;d.on(e=>{e.intervalId.clear(),e.dragging&&m&&(l+8>=p?e.intervalId.set(Ia(c)):l-8<=0?e.intervalId.set(Io(c)):i+8>=h?e.intervalId.set(Ir(c)):i-8<=0?e.intervalId.set(It(c)):f+16>=window.innerHeight?e.intervalId.set(Ia(window)):f-16<=0?e.intervalId.set(Io(window)):y+16>=window.innerWidth?e.intervalId.set(Ir(window)):y-16<=0&&e.intervalId.set(It(window)))})},Il=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Ii=(e,t)=>{let r=e.getParent(t.parentNode,e.isBlock);Il(t),r&&r!==e.getRoot()&&e.isEmpty(r)&&a4(rH.fromDom(r))},Is=e=>0===e.button,Ic=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Id=(e,t)=>r=>{if(Is(r)){let o=ew(t.dom.getParents(r.target),L5).getOr(null);if(V(o)&&L6(t.dom,t.getBody(),o)){let a=t.dom.getPos(o),n=t.getBody(),l=t.getDoc().documentElement;e.set({element:o,dataTransfer:Ft(),dragging:!1,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?n.scrollWidth:l.offsetWidth)-2,maxY:(t.inline?n.scrollHeight:l.offsetHeight)-2,relX:r.pageX-a.x,relY:r.pageY-a.y,width:o.offsetWidth,height:o.offsetHeight,ghost:L7(t,o,o.offsetWidth,o.offsetHeight),intervalId:iD(100)})}}},Im=(e,t,r)=>{e._selectionOverrides.hideFakeCaret(),LW(e.getBody(),t,r).fold(()=>e.selection.placeCaretAt(t,r),o=>{let a=e._selectionOverrides.showCaret(1,o.node,o.position===v.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,r)})},Iu=(e,t,r,o,a)=>{"dragstart"===t&&Fa(o,e.dom.getOuterHTML(r));let n=L3(t,r,o,a);return e.dispatch(t,n)},Ig=(e,t)=>{let r=iM((e,r)=>Im(t,e,r),0);return t.on("remove",r.cancel),o=>e.on(a=>{let n=Math.max(Math.abs(o.screenX-a.screenX),Math.abs(o.screenY-a.screenY));if(!a.dragging&&n>10){let e=Iu(t,"dragstart",a.element,a.dataTransfer,o);if(V(e.dataTransfer)&&(a.dataTransfer=e.dataTransfer),e.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){let n=o.currentTarget===t.getDoc().documentElement,l=Ic(a,LQ(t,o));L9(a.ghost,t.getBody()),In(a.ghost,l,a.width,a.height,a.maxX,a.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),e,n),r.throttle(o.clientX,o.clientY)}})},Ip=e=>{let t=e.getSel();if(!V(t))return null;{let e=t.getRangeAt(0).startContainer;return aC(e)?e.parentNode:e}},Ih=(e,t)=>r=>{e.on(e=>{var o;if(e.intervalId.clear(),e.dragging){if(L8(t,Ip(t.selection),e.element)){let a=null!=(o=t.getDoc().elementFromPoint(r.clientX,r.clientY))?o:t.getBody();Iu(t,"drop",a,e.dataTransfer,r).isDefaultPrevented()||t.undoManager.transact(()=>{Ii(t.dom,e.element),Fo(e.dataTransfer).each(e=>t.insertContent(e)),t._selectionOverrides.hideFakeCaret()})}Iu(t,"dragend",t.getBody(),e.dataTransfer,r)}}),Ib(e)},If=(e,t,r)=>{e.on(e=>{e.intervalId.clear(),e.dragging&&r.fold(()=>Iu(t,"dragend",e.element,e.dataTransfer),r=>Iu(t,"dragend",e.element,e.dataTransfer,r))}),Ib(e)},Iy=(e,t)=>r=>If(e,t,en.some(r)),Ib=e=>{e.on(e=>{e.intervalId.clear(),Il(e.ghost)}),e.clear()},Iv=e=>{let t=iN(),r=ib.DOM,o=document,a=Id(t,e),n=Ig(t,e),l=Ih(t,e),i=Iy(t,e);e.on("mousedown",a),e.on("mousemove",n),e.on("mouseup",l),r.bind(o,"mousemove",n),r.bind(o,"mouseup",i),e.on("remove",()=>{r.unbind(o,"mousemove",n),r.unbind(o,"mouseup",i)}),e.on("keydown",r=>{r.keyCode===gK.ESC&&If(t,e,en.none())})},Ik=e=>{let t=t=>{if(!t.isDefaultPrevented()){let r=t.dataTransfer;r&&(em(r.types,"Files")||r.files.length>0)&&(t.preventDefault(),"drop"===t.type&&zb(e,"Dropped file type is not supported"))}},r=r=>{hT(e,r.target)&&t(r)},o=()=>{let o=ib.DOM,a=e.dom,n=document,l=e.inline?e.getBody():e.getDoc(),i=["drop","dragover"];ep(i,e=>{o.bind(n,e,r),a.bind(l,e,t)}),e.on("remove",()=>{ep(i,e=>{o.unbind(n,e,r),a.unbind(l,e,t)})})};e.on("init",()=>{hv.setEditorTimeout(e,o,0)})},Iw=e=>{Iv(e),dp(e)&&Ik(e)},I_=e=>{let t=iM(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){let t=e.selection.getRng();if(t.collapsed){let r=EW(e,t,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Ix=e=>{e.on("init",()=>{e.on("focusin",t=>{let r=t.target;if(aF(r)){let t=vc(e.getBody(),r),o=aM(t)?t:r;e.selection.getNode()!==o&&EZ(e,o).each(t=>e.selection.setRng(t))}})})},IC=(e,t)=>vc(e.getBody(),t),IS=e=>{let t,r=e.selection,o=e.dom,a=e.getBody(),n=ma(e,a,o.isBlock,()=>hV(e)),l="sel-"+o.uniqueId(),i="data-mce-selected",s=e=>V(e)&&o.hasClass(e,"mce-offscreen-selection"),c=e=>e!==a&&(aM(e)||aF(e))&&o.isChildOf(e,a)&&o.isEditable(e.parentNode),d=e=>{e&&r.setRng(e)},m=(t,o,a,l=!0)=>e.dispatch("ShowCaret",{target:o,direction:t,before:a}).isDefaultPrevented()?null:(l&&r.scrollIntoView(o,-1===t),n.show(a,o)),u=e=>a9(e)||nn(e)||nl(e),g=e=>u(e.startContainer)||u(e.endContainer),p=t=>{let r=e.schema.getVoidElements(),a=o.createRng(),n=t.startContainer,l=t.startOffset,i=t.endContainer,s=t.endOffset;return eG(r,n.nodeName.toLowerCase())?0===l?a.setStartBefore(n):a.setStartAfter(n):a.setStart(n,l),eG(r,i.nodeName.toLowerCase())?0===s?a.setEndBefore(i):a.setEndAfter(i):a.setEnd(i,s),a},h=(t,a)=>{let n=rH.fromDom(e.getBody()),i=e.getDoc(),s=ow(n,"#"+l).getOrThunk(()=>{let e=rH.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',i);return rb(e,"id",l),oH(n,e),e}),c=o.createRng();oZ(s),oU(s,[rH.fromText("\xa0",i),rH.fromDom(a),rH.fromText("\xa0",i)]),c.setStart(s.dom.firstChild,1),c.setEnd(s.dom.lastChild,0),oO(s,{top:o.getPos(t,e.getBody()).y+"px"}),p9(s);let d=r.getSel();return d&&(d.removeAllRanges(),d.addRange(c)),c},f=r=>{let a=r.cloneNode(!0),n=e.dispatch("ObjectSelected",{target:r,targetClone:a});if(n.isDefaultPrevented())return null;let l=h(r,n.targetClone),s=rH.fromDom(r);return ep(ai(rH.fromDom(e.getBody()),`*[${i}]`),e=>{rW(s,e)||rx(e,i)}),o.getAttrib(r,i)||r.setAttribute(i,"1"),t=r,k(),l},y=(e,t)=>{if(!e)return null;if(e.collapsed){if(!g(e)){let r=t?1:-1,n=mC(r,a,e),l=n.getNode(!t);if(V(l)){if(mi(l))return m(r,l,!!t&&!n.isAtEnd(),!1);if(a7(l)&&aM(l.nextSibling)){let e=o.createRng();return e.setStart(l,0),e.setEnd(l,0),e}}let i=n.getNode(t);if(V(i)){if(mi(i))return m(r,i,!t&&!n.isAtEnd(),!1);if(a7(i)&&aM(i.previousSibling)){let e=o.createRng();return e.setStart(i,1),e.setEnd(i,1),e}}}return null}let r=e.startContainer,n=e.startOffset,l=e.endOffset;if(aC(r)&&0===n&&aM(r.parentNode)&&(r=r.parentNode,n=o.nodeIndex(r),r=r.parentNode),!au(r))return null;if(l===n+1&&r===e.endContainer){let e=r.childNodes[n];if(c(e))return f(e)}return null},b=()=>{t&&t.removeAttribute(i),ow(rH.fromDom(e.getBody()),"#"+l).each(oq),t=null},k=()=>{n.hide()};return CP(e)||(()=>{e.on("click",t=>{o.isEditable(t.target)||(t.preventDefault(),e.focus())}),e.on("blur NewBlock",b),e.on("ResizeWindow FullscreenStateChanged",n.reposition),e.on("tap",t=>{let r=t.target,o=IC(e,r);aM(o)?(t.preventDefault(),EZ(e,o).each(y)):c(r)&&EZ(e,r).each(y)},!0),e.on("mousedown",t=>{let r=t.target;if(r!==a&&"HTML"!==r.nodeName&&!o.isChildOf(r,a)||!zs(e,t.clientX,t.clientY))return;b(),k();let n=IC(e,r);aM(n)?(t.preventDefault(),EZ(e,n).each(y)):LW(a,t.clientX,t.clientY).each(r=>{t.preventDefault(),d(m(1,r.node,r.position===v.Before,!1)),ag(n)?n.focus():e.getBody().focus()})}),e.on("keypress",e=>{!gK.modifierPressed(e)&&aM(r.getNode())&&e.preventDefault()}),e.on("GetSelectionRange",e=>{let r=e.range;if(t){if(!t.parentNode){t=null;return}(r=r.cloneRange()).selectNode(t),e.range=r}}),e.on("SetSelectionRange",e=>{e.range=p(e.range);let t=y(e.range,e.forward);t&&(e.range=t)});let l=e=>au(e)&&"mcepastebin"===e.id;e.on("AfterSetSelectionRange",e=>{let t=e.range,r=t.startContainer.parentElement;g(t)||l(r)||k(),s(r)||b()}),Iw(e),I_(e),Ix(e)})(),{showCaret:m,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(ns(e),r.scrollIntoView(e))},hideFakeCaret:k,destroy:()=>{n.destroy(),t=null}}},Iz=(e,t)=>{let r=t;for(let t=e.previousSibling;aC(t);t=t.previousSibling)r+=t.data.length;return r},IE=(e,t,r,o,a)=>{if(aC(r)&&(o<0||o>r.data.length))return[];let n=a&&aC(r)?[Iz(r,o)]:[o],l=r;for(;l!==t&&l.parentNode;)n.push(e.nodeIndex(l,a)),l=l.parentNode;return l===t?n.reverse():[]},IT=(e,t,r,o,a,n,l=!1)=>({start:IE(e,t,r,o,l),end:IE(e,t,a,n,l)}),IA=(e,t)=>{let r=t.slice(),o=r.pop();return Z(o)?ev(r,(e,t)=>e.bind(e=>en.from(e.childNodes[t])),en.some(e)).bind(e=>aC(e)&&(o<0||o>e.data.length)?en.none():en.some({node:e,offset:o})):en.none()},IO=(e,t)=>IA(e,t.start).bind(({node:r,offset:o})=>IA(e,t.end).map(({node:e,offset:t})=>{let a=document.createRange();return a.setStart(r,o),a.setEnd(e,t),a})),ID=(e,t,r,o=!1)=>IT(e,t,r.startContainer,r.startOffset,r.endContainer,r.endOffset,o),IN=(e,t,r)=>{if(t&&e.isEmpty(t)&&!r(t)){let o=t.parentNode;e.remove(t,aC(t.firstChild)&&nk(t.firstChild.data)),IN(e,o,r)}},IM=(e,t,r,o=!0)=>{let a=t.startContainer.parentNode,n=t.endContainer.parentNode;t.deleteContents(),o&&!r(t.startContainer)&&(aC(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),aC(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),IN(e,a,r),a!==n&&IN(e,n,r))},IR=(e,t)=>en.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),IB=(e,t,r)=>{let o=e.dynamicPatternsLookup({text:r,block:t});return{...e,blockPatterns:cr(o).concat(e.blockPatterns),inlinePatterns:co(o).concat(e.inlinePatterns)}},IF=(e,t,r,o)=>{let a=e.createRng();return a.setStart(t,0),a.setEnd(r,o),a.toString()},IL=e=>/^\s[^\s]/.test(e),II=(e,t,r)=>{Nt(t,0,t).each(o=>{let a=o.container;No(a,r.start.length,t).each(r=>{let o=e.createRng();o.setStart(a,0),o.setEnd(r.container,r.offset),IM(e,o,e=>e===t)});let n=rH.fromDom(a),l=aV(n);IL(l)&&aZ(n,l.slice(1))})},IP=(e,t)=>{let r=e.dom,o=t.pattern,a=IO(r.getRoot(),t.range).getOrDie("Unable to resolve path range"),n=(e,t)=>{let r=t.get(e);return L(r)&&eD(r).exists(e=>eG(e,"block"))};return IR(e,a).each(t=>{"block-format"===o.type?n(o.format,e.formatter)&&e.undoManager.transact(()=>{II(e.dom,t,o),e.formatter.apply(o.format)}):"block-command"===o.type&&e.undoManager.transact(()=>{II(e.dom,t,o),e.execCommand(o.cmd,!1,o.value)})}),!0},IH=e=>eA(e,(e,t)=>t.start.length-e.start.length),Ij=(e,t)=>{let r=IH(e),o=t.replace("\xa0"," ");return ew(r,e=>0===t.indexOf(e.start)||0===o.indexOf(e.start))},IV=(e,t,r,o)=>{var a;let n=e.dom,l=cx(e);if(!n.is(t,l))return[];let i=null!=(a=t.textContent)?a:"";return Ij(r.blockPatterns,i).map(e=>t2.trim(i).length===e.start.length?[]:[{pattern:e,range:IT(n,n.getRoot(),t,0,t,0,o)}]).getOr([])},IU=(e,t)=>{if(0===t.length)return;let r=e.selection.getBookmark();ep(t,t=>IP(e,t)),e.selection.moveToBookmark(r)},IZ=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Iq=(e,t)=>{let r=e.createRng();return r.setStartAfter(t.start),r.setEndBefore(t.end),r},IW=(e,t,r)=>{let o=IO(e.getRoot(),r).getOrDie("Unable to resolve path range"),a=o.startContainer,n=o.endContainer,l=0===o.endOffset?n:n.splitText(o.endOffset),i=0===o.startOffset?a:a.splitText(o.startOffset),s=i.parentNode;return{prefix:t,end:l.parentNode.insertBefore(IZ(e,t+"-end"),l),start:s.insertBefore(IZ(e,t+"-start"),i)}},I$=(e,t,r)=>{IN(e,e.get(t.prefix+"-end"),r),IN(e,e.get(t.prefix+"-start"),r)},IG=e=>0===e.start.length,IK=e=>(t,r)=>{let o=t.data.substring(0,r),a=o.lastIndexOf(e.charAt(e.length-1)),n=o.lastIndexOf(e);return -1!==n?n+e.length:-1!==a?a+1:-1},IY=(e,t,r,o)=>{let a=t.start;return Na(e,o.container,o.offset,IK(a),r).bind(o=>{var n,l;let i=null!=(l=null==(n=r.textContent)?void 0:n.indexOf(a))?l:-1;if(-1!==i&&o.offset>=i+a.length){let t=e.createRng();return t.setStart(o.container,o.offset-a.length),t.setEnd(o.container,o.offset),en.some(t)}{let n=o.offset-a.length;return Nr(o.container,n,r).map(t=>{let r=e.createRng();return r.setStart(t.container,t.offset),r.setEnd(o.container,o.offset),r}).filter(e=>e.toString()===a).orThunk(()=>IY(e,t,r,D6(o.container,0)))}})},IX=(e,t,r,o,a,n=!1)=>{if(0===t.start.length&&!n){let t=e.createRng();return t.setStart(r,o),t.setEnd(r,o),en.some(t)}return Ne(r,o,a).bind(r=>IY(e,t,a,r).bind(e=>{var t;if(n){if(e.endContainer===r.container&&e.endOffset===r.offset)return en.none();else if(0===r.offset&&(null==(t=e.endContainer.textContent)?void 0:t.length)===e.endOffset)return en.none()}return en.some(e)}))},IJ=(e,t,r,o)=>{let a=e.dom,n=a.getRoot(),l=r.pattern,i=r.position.container,s=r.position.offset;return Nr(i,s-r.pattern.end.length,t).bind(c=>{let d=IT(a,n,c.container,c.offset,i,s,o);if(IG(l))return en.some({matches:[{pattern:l,startRng:d,endRng:d}],position:c});{let i=IQ(e,r.remainingPatterns,c.container,c.offset,t,o),s=i.getOr({matches:[],position:c}),m=s.position;return IX(a,l,m.container,m.offset,t,i.isNone()).map(e=>{let t=ID(a,n,e,o);return{matches:s.matches.concat([{pattern:l,startRng:t,endRng:d}]),position:D6(e.startContainer,e.startOffset)}})}})},IQ=(e,t,r,o,a,n)=>{let l=e.dom;return Ne(r,o,l.getRoot()).bind(i=>{let s=IF(l,a,r,o);for(let l=0;l<t.length;l++){let c=t[l];if(!tu(s,c.end))continue;let d=t.slice();d.splice(l,1);let m=IJ(e,a,{pattern:c,remainingPatterns:d,position:i},n);if(m.isNone()&&o>0)return IQ(e,t,r,o-1,a,n);if(m.isSome())return m}return en.none()})},I1=(e,t,r)=>{e.selection.setRng(r),"inline-format"===t.type?ep(t.format,t=>{e.formatter.apply(t)}):e.execCommand(t.cmd,!1,t.value)},I0=(e,t,r,o)=>{let a=Iq(e.dom,r);IM(e.dom,a,o),I1(e,t,a)},I2=(e,t,r,o,a)=>{let n=e.dom,l=Iq(n,o),i=Iq(n,r);IM(n,i,a),IM(n,l,a),I1(e,t,Iq(n,{prefix:r.prefix,start:r.end,end:o.start}))},I4=(e,t)=>{let r=iX("mce_textpattern"),o=eb(t,(t,o)=>{let a=IW(e,r+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:a}])},[]);return eb(o,(t,a)=>{let n=o.length-t.length-1,l=IG(a.pattern)?a.endMarker:IW(e,r+`_start${n}`,a.startRng);return t.concat([{...a,startMarker:l}])},[])},I3=e=>eA(e,(e,t)=>t.end.length-e.end.length),I5=(e,t)=>{let r=eS(e,e=>eu(t,t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end));if(e.length===t.length)if(r)return e;else return t;return e.length>t.length?e:t},I6=(e,t,r,o,a,n)=>I5(IQ(e,a.inlinePatterns,r,o,t,n).fold(()=>[],e=>e.matches),IQ(e,I3(a.inlinePatterns),r,o,t,n).fold(()=>[],e=>e.matches)),I8=(e,t)=>{if(0===t.length)return;let r=e.dom,o=e.selection.getBookmark();ep(I4(r,t),t=>{let o=r.getParent(t.startMarker.start,r.isBlock),a=e=>e===o;IG(t.pattern)?I0(e,t.pattern,t.endMarker,a):I2(e,t.pattern,t.startMarker,t.endMarker,a),I$(r,t.endMarker,a),I$(r,t.startMarker,a)}),e.selection.moveToBookmark(o)},I7=(e,t)=>{let r=e.selection.getRng();return IR(e,r).map(o=>{var a;let n=Math.max(0,r.startOffset),l=IB(t,o,null!=(a=o.textContent)?a:""),i=I6(e,o,r.startContainer,n,l,!0),s=IV(e,o,l,!0);return(s.length>0||i.length>0)&&(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{a6(e),I8(e,i),IU(e,s);let t=e.selection.getRng(),r=Ne(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),r.each(t=>{let r=t.container;"\uFEFF"===r.data.charAt(t.offset-1)&&(r.deleteData(t.offset-1,1),IN(e.dom,r.parentNode,t=>t===e.dom.getRoot()))})}),!0)}).getOr(!1)},I9=(e,t)=>{let r=e.selection.getRng();IR(e,r).map(o=>{let a=Math.max(0,r.startOffset-1),n=IF(e.dom,o,r.startContainer,a),l=IB(t,o,n),i=I6(e,o,r.startContainer,a,l,!1);i.length>0&&e.undoManager.transact(()=>{I8(e,i)})})},Pe=(e,t,r)=>{for(let o=0;o<e.length;o++)if(r(e[o],t))return!0;return!1},Pt=(e,t)=>Pe(e,t,(e,t)=>e===t.keyCode&&!gK.modifierPressed(t)),Pr=(e,t)=>Pe(e,t,(e,t)=>e.charCodeAt(0)===t.charCode),Po=e=>{let t=[",",".",";",":","!","?"],r=[32],o=()=>ca(dL(e),dI(e)),a=()=>dW(e);e.on("keydown",t=>{if(13===t.keyCode&&!gK.modifierPressed(t)&&e.selection.isCollapsed()){let r=o();(r.inlinePatterns.length>0||r.blockPatterns.length>0||a())&&I7(e,r)&&t.preventDefault()}},!0);let n=()=>{if(e.selection.isCollapsed()){let t=o();(t.inlinePatterns.length>0||a())&&I9(e,t)}};e.on("keyup",e=>{Pt(r,e)&&n()}),e.on("keypress",r=>{Pr(t,r)&&hv.setEditorTimeout(e,n)})},Pa=e=>{Po(e)},Pn=e=>{let t=t2.each,r=gK.BACKSPACE,o=gK.DELETE,a=e.dom,n=e.selection,l=e.parser,i=tJ.browser,s=i.isFirefox(),c=i.isChromium()||i.isSafari(),d=tJ.deviceType.isiPhone()||tJ.deviceType.isiPad(),m=tJ.os.isMacOS()||tJ.os.isiOS(),u=(t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},g=e=>e.isDefaultPrevented(),p=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},h=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",t=>{let r;if(t.target===e.getDoc().documentElement)if(r=n.getRng(),e.getBody().focus(),"mousedown"===t.type){if(a9(r.startContainer))return;n.placeCaretAt(t.clientX,t.clientY)}else n.setRng(r)})},f=()=>{Range.prototype.getClientRects||e.on("mousedown",t=>{if(!g(t)&&"HTML"===t.target.nodeName){let t=e.getBody();t.blur(),hv.setEditorTimeout(e,()=>{t.focus()})}})},y=()=>{let t=dy(e);e.on("click",r=>{let o=r.target;/^(IMG|HR)$/.test(o.nodeName)&&a.isEditable(o)&&(r.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&a.hasClass(o,t)&&0===o.childNodes.length&&a.isEditable(o.parentNode)&&(r.preventDefault(),n.select(o))})},b=()=>{e.on("keydown",e=>{if(!g(e)&&e.keyCode===r&&n.isCollapsed()&&0===n.getRng().startOffset){let t=n.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0})},v=()=>{dc(e)||e.on("BeforeExecCommand mousedown",()=>{u("StyleWithCSS",!1),u("enableInlineTableEditing",!1),cY(e)||u("enableObjectResizing",!1)})},k=e=>{let t=e.getBody(),r=e.selection.getRng();return r.startContainer===r.endContainer&&r.startContainer===t&&0===r.startOffset&&r.endOffset===t.childNodes.length},w=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},_=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},x=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",t=>{let r;"HTML"===t.target.nodeName&&(r=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(r),e.selection.normalize(),e.nodeChanged())}))},C=()=>{m&&e.on("keydown",t=>{gK.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)&&(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},S=()=>{e.on("click",e=>{let t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},z=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",e=>{e.preventDefault()})})};return CP(e)?(c&&(h(),y(),z(),p(),d&&(_(),x(),S())),s&&(f(),v(),w(),C())):(e.on("keydown",t=>{if(g(t)||t.keyCode!==gK.BACKSPACE)return;let r=n.getRng(),o=r.startContainer,l=r.startOffset,i=a.getRoot(),s=o;if(r.collapsed&&0===l){for(;s.parentNode&&s.parentNode.firstChild===s&&s.parentNode!==i;)s=s.parentNode;"BLOCKQUOTE"===s.nodeName&&(e.formatter.toggle("blockquote",void 0,s),(r=a.createRng()).setStart(o,0),r.setEnd(o,0),n.setRng(r))}}),(()=>{let t=e=>{let t=a.create("body"),r=e.cloneContents();return t.appendChild(r),n.serializer.serialize(t,{format:"html"})},l=r=>{let o=t(r),n=a.createRng();return n.selectNode(e.getBody()),o===t(n)};e.on("keydown",t=>{let n=t.keyCode;if(!g(t)&&(n===o||n===r)&&e.selection.isEditable()){let r=e.selection.isCollapsed(),o=e.getBody();if(r&&!nB(rH.fromDom(o))||!r&&!l(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),o.firstChild&&a.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}})})(),tJ.windowsPhone||e.on("keyup focusin mouseup",t=>{gK.modifierPressed(t)||k(e)||n.normalize()},!0),c&&(h(),y(),e.on("init",()=>{u("DefaultParagraphSeparator",cx(e))}),z(),b(),l.addNodeFilter("br",e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),d?(_(),x(),S()):p()),s&&(e.on("keydown",t=>{if(!g(t)&&t.keyCode===r&&e.getBody().getElementsByTagName("hr").length&&n.isCollapsed()&&0===n.getRng().startOffset){let e=n.getNode(),r=e.previousSibling;if("HR"===e.nodeName){a.remove(e),t.preventDefault();return}r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(a.remove(r),t.preventDefault())}}),f(),(()=>{let r=()=>{let r=a.getAttribs(n.getStart().cloneNode(!1));return()=>{let o=n.getStart();o!==e.getBody()&&(a.setAttrib(o,"style",null),t(r,e=>{o.setAttributeNode(e.cloneNode(!0))}))}},o=()=>!n.isCollapsed()&&a.getParent(n.getStart(),a.isBlock)!==a.getParent(n.getEnd(),a.isBlock);e.on("keypress",t=>{let a;return!(!g(t)&&(8===t.keyCode||46===t.keyCode)&&o())||(a=r(),e.getDoc().execCommand("delete",!1),a(),t.preventDefault(),!1)}),a.bind(e.getDoc(),"cut",t=>{if(!g(t)&&o()){let t=r();hv.setEditorTimeout(e,()=>{t()})}})})(),v(),(()=>{let r=()=>{t(a.select("a:not([data-mce-block])"),e=>{var t;let r=e.parentNode,o=a.getRoot();if((null==r?void 0:r.lastChild)===e){for(;r&&!a.isBlock(r);){if((null==(t=r.parentNode)?void 0:t.lastChild)!==r||r===o)return;r=r.parentNode}a.add(r,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",e=>{("setcontent"===e.type||"mceInsertLink"===e.command)&&r()})})(),w(),C(),b(),e.on("drop",t=>{var r;let o=null==(r=t.dataTransfer)?void 0:r.getData("text/html");R(o)&&/^<img[^>]*>$/.test(o)&&e.dispatch("dragend",new window.DragEvent("dragend",t))}))),{refreshContentEditable:W,isHidden:()=>{if(!s||e.removed)return!1;let t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},Pl=ib.DOM,Pi=(e,t)=>{let r=oi(ol(rH.fromDom(e.getBody()))),o=rH.fromTag("style");rb(o,"type","text/css"),oH(o,rH.fromText(t)),oH(r,o),e.on("remove",()=>{oq(o)})},Ps=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,Pc=e=>eZ(e,e=>!1===H(e)),Pd=e=>{let t=e.options.get,r=e.editorUpload.blobCache;return Pc({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Ps(e),sandbox_iframes:t("sandbox_iframes"),sanitize:t("xss_sanitization"),validate:!0,blob_cache:r,document:e.getDoc()})},Pm=e=>{let t=e.options.get;return Pc({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Pu=e=>{let t=e.options.get;return{...Pd(e),...Pm(e),...Pc({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Pg=e=>{let t=xx(Pd(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(t,r)=>{let o=e.dom,a="data-mce-"+r,n=t.length;for(;n--;){let l=t[n],i=l.attr(r);if(i&&!l.attr(a)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===r?((i=o.serializeStyle(o.parseStyle(i),l.name)).length||(i=null),l.attr(a,i),l.attr(r,i)):"tabindex"===r?(l.attr(a,i),l.attr(r,null)):l.attr(a,e.convertURL(i,r,l.name))}}}),t.addNodeFilter("script",e=>{let t=e.length;for(;t--;){let r=e[t],o=r.attr("type")||"no/type";0!==o.indexOf("mce-")&&r.attr("type","mce-"+o)}}),dV(e)&&t.addNodeFilter("#cdata",t=>{var r;let o=t.length;for(;o--;){let a=t[o];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(null!=(r=a.value)?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",t=>{let r=t.length,o=e.schema.getNonEmptyElements();for(;r--;){let e=t[r];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new fc("br",1))}}),t},Pp=e=>{let t=d_(e);t&&hv.setEditorTimeout(e,()=>{let r;(r=!0===t?e:e.editorManager.get(t))&&!r.destroyed&&(r.focus(),r.selection.scrollIntoView())},100)},Ph=e=>{let t=e.dom.getRoot();e.inline||uA(e)&&e.selection.getStart(!0)!==t||mK(t).each(t=>{let r=t.getNode(),o=aw(r)?mK(r).getOr(t):t;e.selection.setRng(o.toRange())})},Pf=e=>{e.bindPendingEventDelegates(),e.initialized=!0,gM(e),e.focus(!0),Ph(e),e.nodeChanged({initial:!0});let t=dk(e);U(t)&&t.call(e,e),Pp(e)},Py=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Pb=(e,t,r)=>{let{pass:o,fail:a}=ef(t,e=>tinymce.Resource.has(zO(e))),n=[...o.map(t=>{let r=tinymce.Resource.get(zO(t));return R(r)?Promise.resolve(Py(e).loadRawCss(t,r)):Promise.resolve()}),Py(e).loadAll(a)];return e.inline?n:n.concat([e.ui.styleSheetLoader.loadAll(r)])},Pv=e=>{let t=Py(e),r=c$(e),o=e.contentCSS,a=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(r)},n=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let t="";t2.each(e.contentStyles,e=>{t+=e+"\r\n"}),e.dom.addStyle(t)}let l=Promise.all(Pb(e,o,r)).then(n).catch(n),i=cW(e);return i&&Pi(e,i),l},Pk=e=>{let t=e.getDoc(),r=e.getBody();gD(e),dx(e)||(t.body.spellcheck=!1,Pl.setAttrib(r,"spellcheck","false")),e.quirks=Pn(e),gN(e);let o=cG(e);void 0!==o&&(r.dir=o);let a=dC(e);a&&e.on("BeforeSetContent",e=>{t2.each(a,t=>{e.content=e.content.replace(t,e=>"\x3c!--mce:protected "+escape(e)+"--\x3e")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",t=>{e.composing="compositionstart"===t.type})},Pw=e=>{CP(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},P_=e=>{!0!==e.removed&&(Pw(e),Pf(e))},Px=e=>{let t=!1,r=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(r),t=!0,e.setProgressState(!1)}},PC=e=>{let t=e.getElement(),r=e.getDoc();e.inline&&(Pl.addClass(t,"mce-content-body"),e.contentDocument=r=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);let o=e.getBody();o.disabled=!0,e.readonly=dc(e),e._editableRoot=dd(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&"static"===Pl.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=zG(e),e.schema=lU(Pm(e)),e.dom=ib(r,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:cP(e),referrerPolicy:cH(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)},force_hex_color:d1(e)}),e.parser=Pg(e),e.serializer=SB(Pu(e),e),e.selection=S_(e.dom,e.getWin(),e.serializer,e),e.annotator=gw(e),e.formatter=z7(e),e.undoManager=Er(e),e._nodeChangeDispatcher=new BP(e),e._selectionOverrides=IS(e),OO(e),LS(e),OU(e),CP(e)||(LR(e),Pa(e));let a=BI(e);OE(e,a),OI(e),Ed(e),L_(e);let n=Cj(e);Pk(e),n.fold(()=>{let t=Px(e);Pv(e).then(()=>{P_(e),t()})},t=>{e.setProgressState(!0),Pv(e).then(()=>{t().then(t=>{e.setProgressState(!1),P_(e),Sn(e)},t=>{e.notificationManager.open({type:"error",text:String(t)}),P_(e),Sn(e)})})})},PS=(e,t,r)=>o2(e,t,ea,r),Pz=ib.DOM,PE=(e,t,r,o)=>{let a=rH.fromTag("iframe");return o.each(e=>rb(a,"tabindex",e)),rv(a,r),rv(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),rR(a,"tox-edit-area__iframe"),a},PT=e=>{let t=cy(e)+"<html><head>";cb(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';let r=cv(e),o=ck(e),a=e.translate(db(e));return cw(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+cw(e)+'" />'),t+=`</head><body id="${r}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${a}"><br></body></html>`},PA=(e,t)=>{let r=e.translate("Rich Text Area"),o=rw(rH.fromDom(e.getElement()),"tabindex").bind(tk),a=PE(e.id,r,cf(e),o).dom;a.onload=()=>{a.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=PT(e),Pz.add(t.iframeContainer,a)},PO=e=>{let t=e.iframeElement,r=()=>{e.contentDocument=t.contentDocument,PC(e)};if(dq(e)||tJ.browser.isFirefox()){let t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),r()}else{let o=PS(rH.fromDom(t),"load",()=>{o.unbind(),r()});t.srcdoc=e.iframeHTML}},PD=(e,t)=>{PA(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=Pz.isHidden(t.editorContainer)),e.getElement().style.display="none",Pz.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,PO(e)},PN=ib.DOM,PM=(e,t,r)=>{let o=zg.get(r),a=zg.urls[r]||e.documentBaseUrl.replace(/\/$/,"");if(r=t2.trim(r),o&&-1===t2.inArray(t,r)){if(e.plugins[r])return;try{let n=o(e,a)||{};e.plugins[r]=n,U(n.init)&&(n.init(e,a),t.push(r))}catch(t){zE(e,r,t)}}},PR=e=>e.replace(/^\-/,""),PB=e=>{let t=[];ep(du(e),r=>{PM(e,t,PR(r))})},PF=e=>{let t=t2.trim(cM(e)),r=e.ui.registry.getAll().icons;eI({...S8.get("default").icons,...S8.get(t).icons},(t,o)=>{eG(r,o)||e.ui.registry.addIcon(o,t)})},PL=e=>{let t=c0(e);R(t)?(e.theme=zp.get(t)(e,zp.urls[t])||{},U(e.theme.init)&&e.theme.init(e,zp.urls[t]||e.documentBaseUrl.replace(/\/$/,""))):e.theme={}},PI=e=>{let t=c4(e);e.model=S7.get(t)(e,S7.urls[t])},PP=e=>{let t=e.theme.renderUI;return t?t():PU(e)},PH=e=>{let t=e.getElement(),r=c0(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},Pj=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),PV=e=>{let t=PN.create("div");return PN.insertAfter(t,e),Pj(t,t)},PU=e=>{let t=e.getElement();return e.inline?Pj(null):PV(t)},PZ=e=>{let t=e.getElement();return(e.orgDisplay=t.style.display,R(c0(e)))?PP(e):U(c0(e))?PH(e):PU(e)},Pq=(e,t)=>{let r={show:en.from(t.show).getOr(W),hide:en.from(t.hide).getOr(W),isEnabled:en.from(t.isEnabled).getOr(ea),setEnabled:r=>{e.mode.isReadOnly()||en.from(t.setEnabled).each(e=>e(r))}};e.ui={...e.ui,...r}},PW=async e=>{e.dispatch("ScriptsLoaded"),PF(e),PL(e),PI(e),PB(e);let t=await PZ(e);Pq(e,en.from(t.api).getOr({})),e.editorContainer=t.editorContainer,zB(e),e.inline?PC(e):PD(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},P$=ib.DOM,PG=e=>"-"===e.charAt(0),PK=(e,t)=>{let r=cj(t),o=cV(t);if(!iT.hasCode(r)&&"en"!==r){let a=ty(o)?o:`${t.editorManager.baseURL}/langs/${r}.js`;e.add(a).catch(()=>{zC(t,a,r)})}},PY=(e,t)=>{let r=c0(e);if(R(r)&&!PG(r)&&!eG(zp.urls,r)){let o=c2(e),a=o?e.documentBaseURI.toAbsolute(o):`themes/${r}/theme${t}.js`;zp.load(r,a).catch(()=>{zS(e,a,r)})}},PX=(e,t)=>{let r=c4(e);if("plugin"!==r&&!eG(S7.urls,r)){let o=c3(e),a=R(o)?e.documentBaseURI.toAbsolute(o):`models/${r}/model${t}.js`;S7.load(r,a).catch(()=>{zz(e,a,r)})}},PJ=e=>en.from(cR(e)).filter(ty).map(e=>({url:e,name:en.none()})),PQ=(e,t,r)=>en.from(t).filter(e=>ty(e)&&!S8.has(e)).map(t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${r}.js`,name:en.some(t)})),P1=(e,t,r)=>{ep(t5([PQ(t,"default",r),PJ(t).orThunk(()=>PQ(t,cM(t),""))]),r=>{e.add(r.url).catch(()=>{zx(t,r.url,r.name.getOrUndefined())})})},P0=(e,t)=>{let r=(t,r)=>{zg.load(t,r).catch(()=>{z_(e,r,t)})};eI(dg(e),(t,o)=>{r(o,t),e.options.set("plugins",du(e).concat(o))}),ep(du(e),e=>{(e=t2.trim(e))&&!zg.urls[e]&&!PG(e)&&r(e,`plugins/${e}/plugin${t}.js`)})},P2=e=>{let t=c0(e);return!R(t)||V(zp.get(t))},P4=e=>{let t=c4(e);return V(S7.get(t))},P3=(e,t)=>{let r=ik.ScriptLoader,o=()=>{!e.removed&&P2(e)&&P4(e)&&PW(e)};PY(e,t),PX(e,t),PK(r,e),P1(r,e,t),P0(e,t),r.loadQueue().then(o,o)},P5=(e,t)=>lt.forElement(e,{contentCssCors:dm(t),referrerPolicy:cH(t)}),P6=e=>{let t=e.id;iT.setCode(cj(e));let r=()=>{P$.unbind(window,"ready",r),e.render()};if(!ia.Event.domLoaded)return void P$.bind(window,"ready",r);if(!e.getElement())return;let o=rH.fromDom(e.getElement()),a=rS(o);e.on("remove",()=>{eh(o.dom.attributes,e=>rx(o,e.name)),rv(o,a)}),e.ui.styleSheetLoader=P5(o,e),dt(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");let n=e.getElement().form||P$.getParent(t,"form");n&&(e.formElement=n,dr(e)&&!ax(e.getElement())&&(P$.insertAfter(P$.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},P$.bind(n,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),!da(e)||n.submit.nodeType||n.submit.length||n._mceOldSubmit||(n._mceOldSubmit=n.submit,n.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),n._mceOldSubmit(n)))),e.windowManager=zf(e),e.notificationManager=zu(e),dK(e)&&e.on("GetContent",e=>{e.save&&(e.content=P$.encode(e.content))}),dn(e)&&e.on("submit",()=>{e.initialized&&e.save()}),dl(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),P3(e,e.suffix)},P8=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),gG(e,t))},P7=e=>e._editableRoot,P9=(e,t)=>({sections:K(e),options:K(t)}),He=tq().deviceType,Ht=He.isPhone(),Hr=He.isTablet(),Ho=e=>j(e)?[]:ey(eg(L(e)?e:e.split(/[ ,]/),tp),ty),Ha=(e,t)=>{let r=eU(t,(t,r)=>em(e,r));return P9(r.t,r.f)},Hn=(e,t,r={})=>{let o=e$(e.sections(),t).getOr({});return t2.extend({},r,o)},Hl=(e,t)=>eG(e.sections(),t),Hi=(e,t)=>Hl(e,t)?e.sections()[t]:{},Hs=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:e$(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),Hc=(e,t)=>{var r;let o=null!=(r=t.external_plugins)?r:{};return e&&e.external_plugins?t2.extend({},e.external_plugins,o):o},Hd=(e,t)=>[...Ho(e),...Ho(t)],Hm=(e,t,r,o)=>e&&Hl(t,"mobile")?o:r,Hu=(e,t,r,o)=>{let a=Ho(r.forced_plugins),n=Ho(o.plugins),l=Hi(t,"mobile"),i=l.plugins?Ho(l.plugins):n,s=Hd(a,Hm(e,t,n,i));return t2.extend(o,{forced_plugins:a,plugins:s})},Hg=(e,t)=>e&&Hl(t,"mobile"),Hp=(e,t,r,o,a)=>{var n;let l=Ha(["mobile"],NM(e?{mobile:Hs(null!=(n=a.mobile)?n:{},t)}:{},a)),i=t2.extend(r,o,l.options(),Hg(e,l)?Hn(l,"mobile"):{},{external_plugins:Hc(o,l.options())});return Hu(e,l,o,i)},Hh=(e,t)=>Hp(Ht||Hr,Ht,t,e,t),Hf=(e,t)=>Sa(e,t),Hy=e=>{let t=(t,r)=>{e.formatter.toggle(t,r),e.nodeChanged()},r=r=>()=>{ep("left,center,right,justify".split(","),t=>{r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:r("left"),JustifyCenter:r("center"),JustifyRight:r("right"),JustifyFull:r("justify"),JustifyNone:r("none")})},Hb=e=>{let t=t=>()=>{let r=e.selection;return eu(r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks(),r=>V(e.formatter.matchNode(r,t)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Hv=e=>{Hy(e),Hb(e)},Hk=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{let r,o=e.getDoc();try{o.execCommand(t)}catch(e){r=!0}if("paste"!==t||o.queryCommandEnabled(t)||(r=!0),r||!o.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(tJ.os.isMacOS()||tJ.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})},Hw=(e,t,r,o)=>{let a=rH.fromDom(e.getRoot());return r=yC(a,sT.fromRangeStart(t),o)?r.replace(/^ /,"&nbsp;"):r.replace(/^&nbsp;/," "),r=yz(a,sT.fromRangeEnd(t),o)?r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r.replace(/&nbsp;(<br( \/)?>)?$/," ")},H_=e=>{if("string"!=typeof e){let t=t2.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Hx=(e,t)=>{let r=e.selection,o=e.dom;return/^ | $/.test(t)?Hw(o,r.getRng(),t,e.schema):t},HC=(e,t)=>{if(e.selection.isEditable()){let{content:r,details:o}=H_(t);xT(e,{...o,content:Hx(e,r),format:"html",set:!1,selection:!0}).each(t=>{let r=Sr(e,t.content,o);xA(e,r,t),e.addVisual()})}},HS=e=>{e.editorCommands.addCommands({mceCleanup:()=>{let t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,r,o)=>{HC(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,r,o)=>{HC(e,e.dom.encode(o))},insertHTML:(t,r,o)=>{HC(e,o)},mceInsertContent:(t,r,o)=>{HC(e,o)},mceSetContent:(t,r,o)=>{e.setContent(o)},mceReplaceContent:(t,r,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(dA(e))}})},Hz={"font-size":"size","font-family":"face"},HE=rf("font"),HT=(e,t,r)=>{let o=t=>oM(t,e).orThunk(()=>HE(t)?e$(Hz,e).bind(e=>rw(t,e)):en.none());return kp(rH.fromDom(r),e=>o(e),e=>rW(rH.fromDom(t),e))},HA=(e,t)=>en.from(ib.DOM.getStyle(t,e,!0)),HO=e=>(t,r)=>en.from(r).map(rH.fromDom).filter(ru).bind(r=>HT(e,t,r.dom).or(HA(e,r.dom))).getOr(""),HD=HO("font-size"),HN=$(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),HO("font-family")),HM=e=>mK(e.getBody()).bind(e=>{let t=e.container();return en.from(aC(t)?t.parentNode:t)}),HR=e=>en.from(e.selection.getRng()).bind(t=>{let r=e.getBody();return t.startContainer===r&&0===t.startOffset?en.none():en.from(e.selection.getStart(!0))}),HB=(e,t)=>HR(e).orThunk(J(HM,e)).map(rH.fromDom).filter(ru).bind(t),HF=(e,t)=>HB(e,G(en.some,t)),HL=(e,t)=>{if(!/^[0-9.]+$/.test(t))return t;{let r=parseInt(t,10);if(!(r>=1)||!(r<=7))return t;{let o=d$(e),a=dG(e);return a.length>0?a[r-1]||t:o[r-1]||t}}},HI=e=>eg(e.split(/\s*,\s*/),e=>-1===e.indexOf(" ")||tm(e,'"')||tm(e,"'")?e:`'${e}'`).join(","),HP=(e,t)=>{let r=HL(e,t);e.formatter.toggle("fontname",{value:HI(r)}),e.nodeChanged()},HH=e=>HF(e,t=>HN(e.getBody(),t.dom)).getOr(""),Hj=(e,t)=>{e.formatter.toggle("fontsize",{value:HL(e,t)}),e.nodeChanged()},HV=e=>HF(e,t=>HD(e.getBody(),t.dom)).getOr(""),HU=e=>HF(e,t=>kp(t,e=>oM(e,"line-height"),J(rW,rH.fromDom(e.getBody()))).getOrThunk(()=>String(parseFloat(oD(t,"line-height"))/parseFloat(oD(t,"font-size"))))).getOr(""),HZ=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Hq=e=>{let t=(t,r)=>{e.formatter.toggle(t,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,r,o)=>{t(e,{value:o})},BackColor:(e,r,o)=>{t("hilitecolor",{value:o})},FontName:(t,r,o)=>{HP(e,o)},FontSize:(t,r,o)=>{Hj(e,o)},LineHeight:(t,r,o)=>{HZ(e,o)},Lang:(e,r,o)=>{var a;t(e,{value:o.code,customValue:null!=(a=o.customCode)?a:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,r,o)=>{t(R(o)?o:"p")},mceToggleFormat:(e,r,o)=>{t(o)}})},HW=e=>{let t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>HH(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>HV(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>HU(e))},H$=e=>{Hq(e),HW(e)},HG=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},HK=e=>{e.editorCommands.addCommands({Indent:()=>{Ow(e)},Outdent:()=>{O_(e)}}),e.editorCommands.addCommands({Outdent:()=>Of(e)},"state")},HY=e=>{let t=(t,r,o)=>{let a=R(o)?{href:o}:o,n=e.dom.getParent(e.selection.getNode(),"a");B(a)&&R(a.href)&&(a.href=a.href.replace(/ /g,"%20"),n&&a.href||e.formatter.remove("link"),a.href&&e.formatter.apply("link",a,n))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){let t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},HX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);let r=e.dom.getParent(e.selection.getNode(),"ol,ul");if(r){let t=r.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){let o=e.selection.getBookmark();e.dom.split(t,r),e.selection.moveToBookmark(o)}}}})},HJ=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{let r=e.dom.getParent(e.selection.getNode(),"ul,ol");return r&&("insertunorderedlist"===t&&"UL"===r.tagName||"insertorderedlist"===t&&"OL"===r.tagName)}},"state")},HQ=e=>{HX(e),HJ(e)},H1=(e,t,r,o)=>{let a=e.dom,n=e=>a.isBlock(e)&&e.parentElement===r,l=n(t)?t:a.getParent(o,n,r);return en.from(l).map(rH.fromDom)},H0=(e,t)=>{let r=e.dom,o=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),n=t?o.startContainer:o.endContainer,l=Rl(r,n);if(!l||!l.isContentEditable)return;let i=t?oL:oI,s=cx(e);H1(e,a,l,n).each(t=>{let r=Rg(e,n,t.dom,l,!1,s);i(t,rH.fromDom(r)),e.selection.setCursorLocation(r,0),e.dispatch("NewBlock",{newBlock:r}),M5(e,"insertParagraph")})},H2=e=>H0(e,!0),H4=e=>H0(e,!1),H3=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{H2(e)},InsertNewBlockAfter:()=>{H4(e)}})},H5=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Bl(RH,e)},mceInsertNewLine:(t,r,o)=>{Bi(e,o)},InsertLineBreak:(t,r,o)=>{Bl(RJ,e)}})},H6=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,r,o)=>{let a=0;e.dom.getParent(e.selection.getNode(),t=>!au(t)||a++!==o||(e.selection.select(t),!1),e.getBody())},mceSelectNode:(t,r,o)=>{e.selection.select(o)},selectAll:()=>{let t=e.dom.getParent(e.selection.getStart(),aN);if(t){let r=e.dom.createRng();r.selectNodeContents(t),e.selection.setRng(r)}}})},H8=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,r,o)=>{let a=null!=o?o:e.selection.getNode();if(a!==e.getBody()){let t=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,r,o)=>{hW(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},H7=e=>{Hv(e),Hk(e),HG(e),H6(e),HS(e),HY(e),HK(e),H3(e),H5(e),HQ(e),H$(e),H8(e)},H9=["toggleview"],je=e=>em(H9,e.toLowerCase());class jt{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,r,o){let a=this.editor,n=e.toLowerCase(),l=null==o?void 0:o.skip_focus;if(a.removed||("mcefocus"!==n&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(n)||l?hh(a):a.focus()),a.dispatch("BeforeExecCommand",{command:e,ui:t,value:r}).isDefaultPrevented()))return!1;let i=this.commands.exec[n];return!!U(i)&&(i(n,t,r),a.dispatch("ExecCommand",{command:e,ui:t,value:r}),!0)}queryCommandState(e){if(!je(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;let t=e.toLowerCase(),r=this.commands.state[t];return!!U(r)&&r(t)}queryCommandValue(e){if(!je(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";let t=e.toLowerCase(),r=this.commands.value[t];return U(r)?r(t):""}addCommands(e,t="exec"){let r=this.commands;eI(e,(e,o)=>{ep(o.toLowerCase().split(","),o=>{r[t][o]=e})})}addCommand(e,t,r){let o=e.toLowerCase();this.commands.exec[o]=(e,o,a)=>t.call(null!=r?r:this.editor,o,a)}queryCommandSupported(e){let t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,r){this.commands.state[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}addQueryValueHandler(e,t,r){this.commands.value[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}}let jr="data-mce-contenteditable",jo=(e,t,r)=>{rI(e,t)&&!r?rF(e,t):r&&rR(e,t)},ja=(e,t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},jn=(e,t)=>{e.dom.contentEditable=t?"true":"false"},jl=e=>{ep(ai(e,'*[contenteditable="true"]'),e=>{rb(e,jr,"true"),jn(e,!1)})},ji=e=>{ep(ai(e,`*[${jr}="true"]`),e=>{rx(e,jr),jn(e,!0)})},js=e=>{en.from(e.selection.getNode()).each(e=>{e.removeAttribute("data-mce-selected")})},jc=e=>{e.selection.setRng(e.selection.getRng())},jd=(e,t)=>{let r=rH.fromDom(e.getBody());jo(r,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),js(e),e.readonly=!0,jn(r,!1),jl(r)):(e.readonly=!1,e.hasEditableRoot()&&jn(r,!0),ji(r),ja(e,"StyleWithCSS",!1),ja(e,"enableInlineTableEditing",!1),ja(e,"enableObjectResizing",!1),hU(e)&&e.focus(),jc(e),e.nodeChanged())},jm=e=>e.readonly,ju=e=>{e.parser.addAttributeFilter("contenteditable",t=>{jm(e)&&ep(t,e=>{e.attr(jr,e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(jr,t=>{jm(e)&&ep(t,e=>{e.attr("contenteditable",e.attr(jr))})}),e.serializer.addTempAttr(jr)},jg=e=>{e.serializer?ju(e):e.on("PreInit",()=>{ju(e)})},jp=e=>"click"===e.type,jh=["copy"],jf=e=>em(jh,e.type),jy=(e,t)=>o_(t,"a",t=>rW(t,rH.fromDom(e.getBody()))).bind(e=>rw(e,"href")),jb=(e,t)=>{jp(t)&&!gK.metaKeyPressed(t)?jy(e,rH.fromDom(t.target)).each(r=>{if(t.preventDefault(),/^#/.test(r)){let t=e.dom.select(`${r},[name="${tc(r,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}):jf(t)&&e.dispatch(t.type,t)},jv=e=>{e.on("ShowCaret",t=>{jm(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{jm(e)&&t.preventDefault()})},jk=t2.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class jw{static isNative(e){return!!jk[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||eo}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){let r=e.toLowerCase(),o=l8(r,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);let a=this.bindings[r];if(a)for(let e=0,t=a.length;e<t;e++){let t=a[e];if(!t.removed){if(t.once&&this.off(r,t.func),o.isImmediatePropagationStopped())return o;if(!1===t.func.call(this.scope,o)){o.preventDefault();break}}}return o}on(e,t,r,o){if(!1===t&&(t=eo),t){let a={func:t,removed:!1};o&&t2.extend(a,o);let n=e.toLowerCase().split(" "),l=n.length;for(;l--;){let e=n[l],t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=r?[a,...t]:[...t,a],this.bindings[e]=t}}return this}off(e,t){if(e){let r=e.toLowerCase().split(" "),o=r.length;for(;o--;){let a=r[o],n=this.bindings[a];if(!a){eI(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]});break}if(n){if(t){let e=ef(n,e=>e.func===t);n=e.fail,this.bindings[a]=n,ep(e.pass,e=>{e.removed=!0})}else n.length=0;n.length||(this.toggleEvent(e,!1),delete this.bindings[a])}}}else eI(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,r){return this.on(e,t,r,{once:!0})}has(e){e=e.toLowerCase();let t=this.bindings[e];return!(!t||0===t.length)}}let j_=e=>(e._eventDispatcher||(e._eventDispatcher=new jw({scope:e,toggleEvent:(t,r)=>{jw.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}})),e._eventDispatcher),jx={fire(e,t,r){return this.dispatch(e,t,r)},dispatch(e,t,r){if(this.removed&&"remove"!==e&&"detach"!==e)return l8(e.toLowerCase(),null!=t?t:{},this);let o=j_(this).dispatch(e,t);if(!1!==r&&this.parent){let t=this.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent?t.parent():void 0}return o},on(e,t,r){return j_(this).on(e,t,r)},off(e,t){return j_(this).off(e,t)},once(e,t){return j_(this).once(e,t)},hasEventListeners(e){return j_(this).has(e)}},jC=ib.DOM,jS=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;let r=cQ(e);return r?(e.eventRoot||(e.eventRoot=jC.select(r)[0]),e.eventRoot):e.getBody()},jz=e=>!e.hidden&&!jm(e),jE=(e,t,r)=>{jz(e)?e.dispatch(t,r):jm(e)&&jb(e,r)},jT=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;let o=jS(e,t);if(cQ(e)){if(r||(r={},e.editorManager.on("removeEditor",()=>{!e.editorManager.activeEditor&&r&&(eI(r,(t,r)=>{e.dom.unbind(jS(e,r))}),r=null)})),r[t])return;let a=r=>{let o=r.target,a=e.editorManager.get(),n=a.length;for(;n--;){let e=a[n].getBody();(e===o||jC.isChildOf(o,e))&&jE(a[n],t,r)}};r[t]=a,jC.bind(o,t,a)}else{let r=r=>{jE(e,t,r)};jC.bind(o,t,r),e.delegates[t]=r}},jA={...jx,bindPendingEventDelegates(){let e=this;t2.each(e._pendingNativeEvents,t=>{jT(e,t)})},toggleNativeEvent(e,t){"focus"!==e&&"blur"!==e&&!this.removed&&(t?this.initialized?jT(this,e):this._pendingNativeEvents?this._pendingNativeEvents.push(e):this._pendingNativeEvents=[e]:this.initialized&&this.delegates&&(this.dom.unbind(jS(this,e),e,this.delegates[e]),delete this.delegates[e]))},unbindAllNativeEvents(){let e=this,t=e.getBody(),r=e.dom;e.delegates&&(eI(e.delegates,(t,r)=>{e.dom.unbind(jS(e,r),r,t)}),delete e.delegates),!e.inline&&t&&r&&(t.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(t),r.unbind(e.getContainer()))}},jO=e=>R(e)?{value:e.split(/[ ,]/),valid:!0}:q(e,R)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},jD=e=>{let t=(()=>{switch(e){case"array":return L;case"boolean":return P;case"function":return U;case"number":return Z;case"object":return B;case"string":return R;case"string[]":return jO;case"object[]":return e=>q(e,B);case"regexp":return e=>M(e,RegExp);default:return ea}})();return r=>jB(r,t,`The value must be a ${e}.`)},jN=e=>R(e.processor),jM=(e,t)=>e+(tb(t.message)?"":`. ${t.message}`),jR=e=>e.valid,jB=(e,t,r="")=>{let o=t(e);return P(o)?o?{value:e,valid:!0}:{valid:!1,message:r}:o},jF=(e,t,r)=>{if(!H(t)){let o=jB(t,r);if(jR(o))return o.value;console.error(jM(`Invalid default value passed for the "${e}" option`,o))}},jL=(e,t)=>{let r={},o={},a=(e,t,r)=>{let a=jB(t,r);return jR(a)?(o[e]=a.value,!0):(console.warn(jM(`Invalid value passed for the ${e} option`,a)),!1)},n=e=>eG(r,e);return{register:(e,n)=>{let l=jN(n)?jD(n.processor):n.processor,i=jF(e,n.default,l);r[e]={...n,default:i,processor:l},e$(o,e).orThunk(()=>e$(t,e)).each(t=>a(e,t,l))},isRegistered:n,get:e=>e$(o,e).orThunk(()=>e$(r,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{if(!n(e))return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1;{let o=r[e];return o.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):a(e,t,o.processor)}},unset:e=>{let t=n(e);return t&&delete o[e],t},isSet:e=>eG(o,e)}},jI=["design","readonly"],jP=(e,t,r,o)=>{let a=r[t.get()],n=r[o];try{n.activate()}catch(e){console.error(`problem while activating editor mode ${o}:`,e);return}a.deactivate(),a.editorReadOnly!==n.editorReadOnly&&jd(e,n.editorReadOnly),t.set(o),gT(e,o)},jH=(e,t,r,o)=>{if(o!==r.get()){if(!eG(t,o))throw Error(`Editor mode '${o}' is invalid`);e.initialized?jP(e,r,t,o):e.on("init",()=>jP(e,r,t,o))}},jj=(e,t,r)=>{if(em(jI,t))throw Error(`Cannot override default mode ${t}`);return{...e,[t]:{...r,deactivate:()=>{try{r.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}},jV=e=>{let t=iw("design"),r=iw({design:{activate:W,deactivate:W,editorReadOnly:!1},readonly:{activate:W,deactivate:W,editorReadOnly:!0}});return jg(e),jv(e),{isReadOnly:()=>jm(e),set:o=>jH(e,r.get(),t,o),get:()=>t.get(),register:(e,t)=>{r.set(jj(r.get(),e,t))}}},jU=t2.each,jZ=t2.explode,jq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},jW=t2.makeMap("alt,ctrl,shift,meta,access"),j$=e=>e in jW,jG=e=>{let t,r={},o=tJ.os.isMacOS()||tJ.os.isiOS();jU(jZ(e.toLowerCase(),"+"),e=>{j$(e)?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=jq[e]||e.toUpperCase().charCodeAt(0))});let a=[r.keyCode];for(t in jW)r[t]?a.push(t):r[t]=!1;return r.id=a.join(","),r.access&&(r.alt=!0,o?r.ctrl=!0:r.shift=!0),r.meta&&(o?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r};class jK{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;let t=this;e.on("keyup keypress keydown",e=>{(t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()&&(jU(t.shortcuts,r=>{t.matchShortcut(e,r)&&(t.pendingPatterns=r.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(r))}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}add(e,t,r,o){let a=this,n=a.normalizeCommandFunc(r);return jU(jZ(t2.trim(e)),e=>{let r=a.createShortcut(e,t,n,o);a.shortcuts[r.id]=r}),!0}remove(e){let t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){let t=this;return"string"==typeof e?()=>{t.editor.execCommand(e,!1,null)}:t2.isArray(e)?()=>{t.editor.execCommand(e[0],e[1],e[2])}:e}createShortcut(e,t,r,o){let a=t2.map(jZ(e,">"),jG);return a[a.length-1]=t2.extend(a[a.length-1],{func:r,scope:o||this.editor}),t2.extend(a[0],{desc:this.editor.translate(t),subpatterns:a.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&(e.keyCode===t.keyCode||!!e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}let jY=()=>{let e={},t={},r={},o={},a={},n={},l={},i={},s=(e,t)=>(r,o)=>{e[r.toLowerCase()]={...o,type:t}};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(r,"autocompleter"),addContextMenu:s(a,"contextmenu"),addContextToolbar:s(n,"contexttoolbar"),addContextForm:s(n,"contextform"),addSidebar:s(l,"sidebar"),addView:s(i,"views"),addIcon:(e,t)=>o[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:r,contextMenus:a,contextToolbars:n,sidebars:l,views:i})}},jX=()=>{let e=jY();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},jJ=ib.DOM,jQ=t2.extend,j1=t2.each;class j0{constructor(e,t,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,jQ(this,jA),this.id=e,this.hidden=!1;let o=Hh(r.defaultOptions,t);this.options=jL(this,o),ch(this);let a=this.options.get;a("deprecation_warnings")&&SQ(t,o);let n=a("suffix");n&&(r.suffix=n),this.suffix=r.suffix;let l=a("base_url");l&&r._setBaseUrl(l),this.baseUri=r.baseURI;let i=cH(this);i&&(ik.ScriptLoader._setReferrerPolicy(i),ib.DOM.styleSheetLoader._setReferrerPolicy(i));let s=dm(this);V(s)&&ib.DOM.styleSheetLoader._setContentCssCors(s),iA.languageLoad=a("language_load"),iA.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new xo(cb(this),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=dt(this),this.hasVisual=dh(this),this.shortcuts=new jK(this),this.editorCommands=new jt(this),H7(this);let c=a("cache_suffix");c&&(tJ.cacheSuffix=c.replace(/^[\?\&]+/,"")),this.ui={registry:jX(),styleSheetLoader:void 0,show:W,hide:W,setEnabled:W,isEnabled:ea},this.mode=jV(this),r.dispatch("SetupEditor",{editor:this});let d=dv(this);U(d)&&d.call(this,this)}render(){P6(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return hV(this)}translate(e){return iT.translate(e)}getParam(e,t,r){let o=this.options;return o.isRegistered(e)||(V(r)?o.register(e,{processor:r,default:t}):o.register(e,{processor:ea,default:t})),o.isSet(e)||H(t)?o.get(e):t}hasPlugin(e,t){return!!em(du(this),e)&&(!t||void 0!==zg.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,r){this.editorCommands.addCommand(e,t,r)}addQueryStateHandler(e,t,r){this.editorCommands.addQueryStateHandler(e,t,r)}addQueryValueHandler(e,t,r){this.editorCommands.addQueryValueHandler(e,t,r)}addShortcut(e,t,r,o){this.shortcuts.add(e,t,r,o)}execCommand(e,t,r,o){return this.editorCommands.execCommand(e,t,r,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(jJ.show(this.getContainer()),jJ.hide(this.id)),this.load(),this.dispatch("show"))}hide(){this.hidden||(this.save(),this.inline?(this.getBody().contentEditable="false",this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(jJ.hide(this.getContainer()),jJ.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){let t=this.getElement();if(this.removed||!t)return"";{let r={...e,load:!0},o=ax(t)?t.value:t.innerHTML,a=this.setContent(o,r);return r.no_events||this.dispatch("LoadContent",{...r,element:t}),a}}save(e={}){let t=this,r=t.getElement();if(!r||!t.initialized||t.removed)return"";let o={...e,save:!0,element:r},a=t.getContent(o),n={...o,content:a};if(n.no_events||t.dispatch("SaveContent",n),"raw"===n.format&&t.dispatch("RawSaveContent",n),a=n.content,ax(r))r.value=a;else{(e.is_removing||!t.inline)&&(r.innerHTML=a);let o=jJ.getParent(t.id,"form");o&&j1(o.elements,e=>e.name!==t.id||(e.value=a,!1))}return n.element=o.element=r=null,!1!==n.set_dirty&&t.setDirty(!1),a}setContent(e,t){return SP(this,e,t)}getContent(e){return SL(this,e)}insertContent(e,t){t&&(e=jQ({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?SP(this,this.startContent,{format:"raw"}):SP(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){let t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){return this.container||(this.container=this.editorContainer||jJ.get(this.id+"_parent")),this.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=jJ.get(this.id)),this.targetElm}getWin(){if(!this.contentWindow){let e=this.iframeElement;e&&(this.contentWindow=e.contentWindow)}return this.contentWindow}getDoc(){if(!this.contentDocument){let e=this.getWin();e&&(this.contentDocument=e.document)}return this.contentDocument}getBody(){var e,t;let r=this.getDoc();return null!=(t=null!=(e=this.bodyElement)?e:null==r?void 0:r.body)?t:null}convertURL(e,t,r){let o=this.options.get,a=dw(this);if(U(a))return a.call(this,e,r,!0,t);if(!o("convert_urls")||"link"===r||B(r)&&"LINK"===r.nodeName||0===e.indexOf("file:")||0===e.length)return e;let n=new xo(e);return"http"!==n.protocol&&"https"!==n.protocol&&""!==n.protocol?e:o("relative_urls")?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){Hf(this,e)}setEditableRoot(e){P8(this,e)}hasEditableRoot(){return P7(this)}remove(){S5(this)}destroy(e){S6(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}let j2=ib.DOM,j4=t2.each,j3=!1,j5=[],j6=e=>{let t=e.type;j4(Vt.get(),r=>{switch(t){case"scroll":r.dispatch("ScrollWindow",e);break;case"resize":r.dispatch("ResizeWindow",e)}})},j8=e=>{if(e!==j3){let t=ib.DOM;e?(t.bind(window,"resize",j6),t.bind(window,"scroll",j6)):(t.unbind(window,"resize",j6),t.unbind(window,"scroll",j6)),j3=e}},j7=e=>{let t=j5;return j5=ey(j5,t=>e!==t),Vt.activeEditor===e&&(Vt.activeEditor=j5.length>0?j5[0]:null),Vt.focusedEditor===e&&(Vt.focusedEditor=null),t.length!==j5.length},j9=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(j7(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Ve="CSS1Compat"!==document.compatMode,Vt={...jx,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.6",releaseDate:"TBD",i18n:iT,activeEditor:null,focusedEditor:null,setup(){let e="",t="",r=xo.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));let o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,t=o.suffix;else{let r=document.getElementsByTagName("script");for(let o=0;o<r.length;o++){let a=r[o].src||"";if(""===a)continue;let n=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!==n.indexOf(".min")&&(t=".min"),e=a.substring(0,a.lastIndexOf("/"));break}}if(!e&&document.currentScript){let r=document.currentScript.src;-1!==r.indexOf(".min")&&(t=".min"),e=r.substring(0,r.lastIndexOf("/"))}}this.baseURL=new xo(r).toAbsolute(e),this.documentBaseURL=r,this.baseURI=new xo(this.baseURL),this.suffix=t,hN(this)},overrideDefaults(e){let t=e.base_url;t&&this._setBaseUrl(t);let r=e.suffix;r&&(this.suffix=r),this.defaultOptions=e;let o=e.plugin_base_urls;void 0!==o&&eI(o,(e,t)=>{iA.PluginManager.urls[t]=e})},init(e){let t,r=this,o=t2.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(e,t)=>e.inline&&t.tagName.toLowerCase()in o,n=e=>{let t=e.id;return t||(t=e$(e,"name").filter(e=>!j2.get(e)).getOrThunk(j2.uniqueId),e.setAttribute("id",t)),t},l=t=>{let o=e[t];if(o)return o.apply(r,[])},i=e=>tJ.browser.isIE()||tJ.browser.isEdge()?(zT("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):Ve?(zT("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):R(e.selector)?j2.select(e.selector):V(e.target)?[e.target]:[],s=e=>{t=e},c=()=>{let t,o=0,d=[],m=(e,a,n)=>{let l=new j0(e,a,r);d.push(l),l.on("init",()=>{++o===t.length&&s(d)}),l.targetElm=l.targetElm||n,l.render()};j2.unbind(window,"ready",c),l("onpageload"),t=eB(i(e)),t2.each(t,e=>{j9(r.get(e.id))}),0===(t=t2.grep(t,e=>!r.get(e.id))).length?s([]):j4(t,t=>{a(e,t)?zT("Could not initialize inline editor on invalid inline target element",t):m(n(t),e,t)})};return j2.bind(window,"ready",c),new Promise(e=>{t?e(t):s=t=>{e(t)}})},get(e){return 0==arguments.length?j5.slice(0):R(e)?ew(j5,t=>t.id===e).getOr(null):Z(e)?j5[e]?j5[e]:null:null},add(e){let t=this,r=t.get(e.id);return r===e||(null===r&&j5.push(e),j8(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),o||(o=e=>{let r=t.dispatch("BeforeUnload");if(r.returnValue)return e.preventDefault(),e.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",o))),e},createEditor(e,t){return this.add(new j0(e,t,this))},remove(e){let t,r=this;if(!e){for(let e=j5.length-1;e>=0;e--)r.remove(j5[e]);return}return R(e)?void j4(j2.select(e),e=>{(t=r.get(e.id))&&r.remove(t)}):(t=e,I(r.get(t.id)))?null:(j7(t)&&r.dispatch("RemoveEditor",{editor:t}),0===j5.length&&window.removeEventListener("beforeunload",o),t.remove(),j8(j5.length>0),t)},execCommand(e,t,r){var o;let a=B(r)?null!=(o=r.id)?o:r.index:r;switch(e){case"mceAddEditor":return this.get(a)||new j0(a,r.options,this).render(),!0;case"mceRemoveEditor":{let e=this.get(a);return e&&e.remove(),!0}case"mceToggleEditor":{let e=this.get(a);if(!e)return this.execCommand("mceAddEditor",!1,r),!0;return e.isHidden()?e.show():e.hide(),!0}}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,r)},triggerSave:()=>{j4(j5,e=>{e.save()})},addI18n:(e,t)=>{iT.add(e,t)},translate:e=>iT.translate(e),setActive(e){let t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new xo(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new xo(this.baseURL)}};Vt.setup();let Vr=(()=>{let e=iN();return{FakeClipboardItem:e=>({items:e,types:eF(e),getType:t=>e$(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),Vo=Math.min,Va=Math.max,Vn=Math.round,Vl=(e,t,r)=>{let o=t.x,a=t.y,n=e.w,l=e.h,i=t.w,s=t.h,c=(r||"").split("");return"b"===c[0]&&(a+=s),"r"===c[1]&&(o+=i),"c"===c[0]&&(a+=Vn(s/2)),"c"===c[1]&&(o+=Vn(i/2)),"b"===c[3]&&(a-=l),"r"===c[4]&&(o-=n),"c"===c[3]&&(a-=Vn(l/2)),"c"===c[4]&&(o-=Vn(n/2)),Vi(o,a,n,l)},Vi=(e,t,r,o)=>({x:e,y:t,w:r,h:o}),Vs=(e,t,r=1e3)=>{let o=!1,a=null,n=e=>(...t)=>{o||(o=!0,null!==a&&(clearTimeout(a),a=null),e.apply(null,t))},l=n(e),i=n(t);return{start:(...e)=>{o||null!==a||(a=setTimeout(()=>i.apply(null,e),r))},resolve:l,reject:i}},Vc=(()=>{let e={},t={},r={};return{load:(r,o)=>{let a=`Script at URL "${o}" failed to load`,n=`Script at URL "${o}" did not call \`tinymce.Resource.add('${r}', data)\` within 1 second`;if(void 0!==e[r])return e[r];{let l=new Promise((e,l)=>{let i=Vs(e,l);t[r]=i.resolve,ik.ScriptLoader.loadScript(o).then(()=>i.start(n),()=>i.reject(a))});return e[r]=l,l}},add:(o,a)=>{void 0!==t[o]&&(t[o](a),delete t[o]),e[o]=Promise.resolve(a),r[o]=a},has:e=>e in r,get:e=>r[e],unload:t=>{delete e[t]}}})();try{let e="__storage_test__";(a=window.localStorage).setItem(e,e),a.removeItem(e)}catch(e){a=(()=>{let e={},t=[],r={getItem:t=>e[t]||null,setItem:(r,o)=>{t.push(r),e[r]=String(o)},key:e=>t[e],removeItem:r=>{t=t.filter(e=>e===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(r,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),r})()}let Vd={geom:{Rect:{inflate:(e,t,r)=>Vi(e.x-t,e.y-r,e.w+2*t,e.h+2*r),relativePosition:Vl,findBestRelativePosition:(e,t,r,o)=>{for(let a=0;a<o.length;a++){let n=Vl(e,t,o[a]);if(n.x>=r.x&&n.x+n.w<=r.w+r.x&&n.y>=r.y&&n.y+n.h<=r.h+r.y)return o[a]}return null},intersect:(e,t)=>{let r=Va(e.x,t.x),o=Va(e.y,t.y),a=Vo(e.x+e.w,t.x+t.w),n=Vo(e.y+e.h,t.y+t.h);return a-r<0||n-o<0?null:Vi(r,o,a-r,n-o)},clamp:(e,t,r)=>{let o=e.x,a=e.y,n=e.x+e.w,l=e.y+e.h,i=t.x+t.w,s=t.y+t.h,c=Va(0,t.x-o),d=Va(0,t.y-a),m=Va(0,n-i),u=Va(0,l-s);return o+=c,a+=d,r&&(n+=c,l+=d,o-=m,a-=u),Vi(o,a,(n-=m)-o,(l-=u)-a)},create:Vi,fromClientRect:e=>Vi(e.left,e.top,e.width,e.height)}},util:{Delay:hv,Tools:t2,VK:gK,URI:xo,EventDispatcher:jw,Observable:jx,I18n:iT,LocalStorage:a,ImageUploader:e=>{let t=zq(e,zI());return{upload:(r,o=!0)=>t.upload(r,o?zZ(e):void 0)}}},dom:{EventUtils:ia,TreeWalker:ac,TextSeeker:i6,DOMUtils:ib,ScriptLoader:ik,RangeUtils:pM,Serializer:SB,StyleSheetLoader:le,ControlSelection:g0,BookmarkManager:g_,Selection:S_,Event:ia.Event},html:{Styles:l0,Entities:lC,Node:fc,Schema:lU,DomParser:xx,Writer:fD,Serializer:fN},Env:tJ,AddOnManager:iA,Annotator:gw,Formatter:z7,UndoManager:Er,EditorCommands:jt,WindowManager:zf,NotificationManager:zu,EditorObservable:jA,Shortcuts:jK,Editor:j0,FocusManager:hf,EditorManager:Vt,DOM:ib.DOM,ScriptLoader:ik.ScriptLoader,PluginManager:zg,ThemeManager:zp,ModelManager:S7,IconManager:S8,Resource:Vc,FakeClipboard:Vr,trim:t2.trim,isArray:t2.isArray,is:t2.is,toArray:t2.toArray,makeMap:t2.makeMap,each:t2.each,map:t2.map,grep:t2.grep,inArray:t2.inArray,extend:t2.extend,walk:t2.walk,resolve:t2.resolve,explode:t2.explode,_addCacheSuffix:t2._addCacheSuffix},Vm=t2.extend(Vt,Vd);window.tinymce=Vm,window.tinyMCE=Vm;try{e.exports=Vm}catch(e){}}()}}]);