"use strict";(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["2193"],{53653:function(t,n,i){i.r(n),i.d(n,{FormulaControlRenderer:()=>u,default:()=>a});var o=i(9787),e=i(65758),r=i(47755),a=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.inited=!1,n}return(0,o.ZT)(n,t),n.prototype.componentDidMount=function(){var t=this.props,n=t.formInited,i=t.initSet,o=t.addHook;this.unHook=o?o(this.handleFormInit,"init"):void 0,!1!==n&&(this.inited=!0,!1===i||this.initSet())},n.prototype.componentDidUpdate=function(t){var n=this.props,i=n.formInited,o=n.initSet,e=n.autoSet;this.inited?!1===e||this.autoSet(t):void 0===i&&(this.inited=!0,!1===o||this.initSet())},n.prototype.componentWillUnmount=function(){var t;null==(t=this.unHook)||t.call(this)},n.prototype.handleFormInit=function(t){this.inited=!0;var n=this.props,i=n.name;if(!1!==n.initSet){var o=this.initSet();"string"==typeof i&&void 0!==o&&(0,r.NI0)(t,i,o)}},n.prototype.initSet=function(){var t=this.props,n=t.formula,i=t.data,o=t.setPrinstineValue,e=(t.initSet,t.condition);if(n){if(!e||~e.indexOf("$")||~e.indexOf("<%")||(0,r.qZw)(e,i)){var a=(0,r.qZw)(n,i);return null!==a&&(null==o||o(a)),a}}},n.prototype.autoSet=function(t){var n=this.props,i=t.formula,o=t.data,e=t.onChange,a=t.value,u=t.condition;if(i&&n.formula&&(0,r.RjM)(o,n.data,!1)&&a===n.value){var p=(0,r.qZw)(n.formula,n.data);u&&n.condition?~u.indexOf("$")||~u.indexOf("<%")?(0,r.hXT)(u,o)!==(0,r.hXT)(n.condition,n.data)&&e(p):(0,r.qZw)(n.condition,n.data)&&e(p):JSON.stringify((0,r.qZw)(i,o))!==JSON.stringify(p)&&e(null!=p?p:"")}},n.prototype.doAction=function(){var t=this.props,n=t.formula,i=t.data,o=t.onChange;t.autoSet,t.value,o((0,r.qZw)(n,i))},n.prototype.render=function(){return null},(0,o.gn)([r.NjZ,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[Object]),(0,o.w6)("design:returntype",void 0)],n.prototype,"handleFormInit",null),n}(e.Component),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,o.ZT)(n,t),n=(0,o.gn)([(0,r.xJW)({type:"formula",wrap:!1,strictMode:!1,sizeMutable:!1})],n)}(a)}}]);