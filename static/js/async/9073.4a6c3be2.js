"use strict";(self.webpackChunkvue2_amis=self.webpackChunkvue2_amis||[]).push([["9073"],{86245:function(e,t,n){n.r(t),n.d(t,{Carousel:()=>d,CarouselRenderer:()=>h});var o,r=n(9787),i=n(65758),s=n(64658),a=n(47755),l=n(68333),p=n(67119),u=((o={})[s.d0]="in",o[s.cn]="in",o[s.Ix]="out",o),c={component:function(e){var t,n,o=e.data||{},r=e.thumbMode,s=e.classnames;return i.createElement(i.Fragment,null,o.hasOwnProperty("image")?i.createElement(p.default,{src:o.image,title:o.title,href:o.href,blank:o.blank,htmlTarget:o.htmlTarget,caption:o.description,thumbMode:null!=(n=null!=(t=o.thumbMode)?t:r)?n:"contain",imageMode:"original",className:s("Carousel-image")}):o.hasOwnProperty("html")?i.createElement(l.Vt,{html:o.html,filterHtml:e.env.filterHtml}):o.hasOwnProperty("item")?i.createElement("span",null,o.item):i.createElement("p",null))}},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=i.createRef(),t.state={current:0,options:t.props.options||(0,a.v8S)(t.props)||[],nextAnimation:"",mouseStartLocation:null},t.loading=!1,t}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){this.prepareAutoSlide()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.options||(0,a.v8S)(t)||[],o=e.options||(0,a.v8S)(e)||[];(0,a.RBK)(o,n)&&this.setState({options:n})},t.prototype.componentWillUnmount=function(){this.clearAutoTimeout()},t.prototype.doAction=function(e,t,n,o){var r=null==e?void 0:e.actionType;~["next","prev"].indexOf(r)?this.autoSlide(r):"goto-image"===r&&this.changeSlide((null==o?void 0:o.activeIndex)-1)},t.prototype.prepareAutoSlide=function(){if(!(this.state.options.length<2)&&(this.clearAutoTimeout(),this.props.auto)){var e=this.props.interval;this.intervalTimeout=setTimeout(this.autoSlide,"string"==typeof e?(0,a.OgC)(e,this.props.data)||5e3:e)}},t.prototype.autoSlide=function(e){this.clearAutoTimeout();var t=this.props.animation,n=this.state.nextAnimation;"prev"===e?(n="slide"===t?"slideRight":"",this.transitFramesTowards("right",n)):(n="",this.transitFramesTowards("left",n)),this.durationTimeout=setTimeout(this.prepareAutoSlide,this.props.duration)},t.prototype.transitFramesTowards=function(e,t){return(0,r.mG)(this,void 0,void 0,function(){var n,o,i,s,l,p;return(0,r.Jh)(this,function(r){switch(r.label){case 0:if(o=n=this.state.current,!1===this.props.loop&&(0===n&&"right"===e||n===this.state.options.length-1&&"left"===e))return[2];switch(e){case"left":n=this.getFrameId("next");break;case"right":n=this.getFrameId("prev")}return s=(i=this.props).dispatchEvent,l=i.data,[4,s("change",(0,a.nW9)(l,{activeIndex:n+1,prevIndex:o}))];case 1:if(null==(p=r.sent())?void 0:p.prevented)return[2];return this.setState({current:n,nextAnimation:t}),[2]}})})},t.prototype.getFrameId=function(e){var t=this.state,n=t.options,o=t.current,r=n.length;switch(e){case"prev":return(o-1+r)%r;case"next":return(o+1)%r;default:return o}},t.prototype.next=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("next")},t.prototype.prev=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("prev")},t.prototype.clearAutoTimeout=function(){clearTimeout(this.intervalTimeout),clearTimeout(this.durationTimeout)},t.prototype.changeSlide=function(e){return(0,r.mG)(this,void 0,void 0,function(){var t,n,o,i,s,l;return(0,r.Jh)(this,function(r){switch(r.label){case 0:if(t=this.state.current,o=(n=this.props).dispatchEvent,i=n.data,s=n.multiple,this.loading&&s&&s.count>1)return[2];return[4,o("change",(0,a.nW9)(i,{activeIndex:e,prevIndex:t}))];case 1:if(null==(l=r.sent())?void 0:l.prevented)return[2];return this.setState({current:e}),[2]}})})},t.prototype.renderDots=function(){var e=this,t=this.props.classnames,n=this.state,o=n.current,r=n.options;return i.createElement("div",{className:t("Carousel-dotsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},Array.from({length:r.length}).map(function(n,r){return i.createElement("span",{key:r,onClick:function(){return e.changeSlide(r)},className:t("Carousel-dot",o===r?"is-active":"")})}))},t.prototype.renderArrows=function(){var e=this.props.classnames;return i.createElement("div",{className:e("Carousel-arrowsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.createElement("div",{className:e("Carousel-leftArrow"),onClick:this.prev},i.createElement(l.JO,{icon:"left-arrow",className:"icon"})),i.createElement("div",{className:e("Carousel-rightArrow"),onClick:this.next},i.createElement(l.JO,{icon:"right-arrow",className:"icon"})))},t.prototype.handleMouseEnter=function(){var e=this.props.multiple;e&&e.count>1||this.clearAutoTimeout()},t.prototype.handleMouseLeave=function(){var e=this.props.multiple;e&&e.count>1||this.prepareAutoSlide()},t.prototype.getNewOptions=function(e,t){void 0===t&&(t=1);var n=e;if(Array.isArray(e)&&e.length){n=Array(e.length);for(var o=0;o<e.length;o++){n[o]=Array(t);for(var r=0;r<t;r++)n[o][r]=e[(o+r)%e.length]}}return n},t.prototype.getEventScreenXY=function(e){var t,n,o,r,i,s,a,l;return void 0!==e.screenX?(a=e.screenX,l=e.screenY):(null==(t=e.touches)?void 0:t.length)?(a=null==(n=e.touches[0])?void 0:n.screenX,l=null==(o=e.touches[0])?void 0:o.screenY):(null==(r=e.changedTouches)?void 0:r.length)&&(a=null==(i=e.changedTouches[0])?void 0:i.screenX,l=null==(s=e.changedTouches[0])?void 0:s.screenY),{screenX:a,screenY:l}},t.prototype.addMouseDownListener=function(e){var t=this.props.direction,n=this.getEventScreenXY(e),o=n.screenX,r=n.screenY,i="vertical"===t?r:o;void 0!==i&&this.setState({mouseStartLocation:i})},t.prototype.addMouseUpListener=function(e){var t=this.getEventScreenXY(e),n=t.screenX,o=t.screenY,r="vertical"===this.props.direction?o:n;null!==this.state.mouseStartLocation&&void 0!==r&&(r-this.state.mouseStartLocation>20?this.autoSlide("prev"):this.state.mouseStartLocation-r>20&&this.autoSlide(),this.setState({mouseStartLocation:null}))},t.prototype.render=function(){var e,t=this,n=this.props,o=n.render,p=n.className,d=n.style,h=n.classnames,m=n.itemSchema,g=n.animation,v=n.width,y=n.height,w=n.controls,f=n.controlsTheme,C=n.placeholder,S=n.data,E=n.name,N=n.duration,M=n.multiple,x=n.alwaysShowArrow,T=n.icons,A=n.id,b=n.wrapperCustomStyle,L=n.env,F=n.themeCss,O=this.state,j=O.options,k=O.current,Z=O.nextAnimation,I=null,R=d?(0,r.pi)({},d):{};v&&(isNaN(Number(v))?R.width=v:R.width=v+"px"),y&&(isNaN(Number(y))?R.height=y:R.height=y+"px");var X=(0,r.CR)([w.indexOf("dots")>-1,w.indexOf("arrows")>-1],2),D=X[0],U=X[1],W=Z||g;if(Array.isArray(j)&&j.length){var Y=1;M&&"number"==typeof M.count&&M.count>=2&&(Y=Math.floor(M.count)<j.length?Math.floor(M.count):j.length);var G=this.getNewOptions(j,Y),P=Y>1&&"number"==typeof N?"".concat(N,"ms"):N||"500ms",J=Y>1&&"number"==typeof N?N:500;I=i.createElement("div",{ref:this.wrapperRef,className:h("Carousel-container"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},j.map(function(e,n){return i.createElement(s.ZP,{mountOnEnter:!0,unmountOnExit:!0,in:n===k,timeout:J,key:n},function(l){l===s.d0&&t.wrapperRef.current&&t.wrapperRef.current.childNodes.forEach(function(e){return e.offsetHeight}),Y>1&&(l!==s.d0&&l!==s.Ix||t.loading?(l===s.cn||l===s.Wj)&&t.loading&&(t.loading=!1):t.loading=!0);var p,d=((p={})[s.d0]=0,p[s.cn]=0,p[s.Ix]="slideRight"===W?100/Y:-100/Y,p[s.Wj]="slideRight"===W?-100/Y:100/Y,p),v=Y>1?(0,r.pi)({transitionTimingFunction:"linear",transitionDuration:P},"slide"===g?{transform:"translateX(".concat(d[l],"%)")}:{}):{},y=function(e){var n,i=e.itemSchema,s=(0,r._T)(e,["itemSchema"]);return o("".concat(k,"/body"),i||m?i||m:c,{thumbMode:t.props.thumbMode,data:(0,a.nW9)(S,(0,a.Kn2)(e)?s:((n={item:e})[E]=e,n))})};return i.createElement("div",{className:h("Carousel-item",W,u[l]),style:v},1===Y?y(e):null,Y>1?G[n].map(function(e,t){return i.createElement("div",{key:t,style:{width:100/Y+"%",height:"100%",float:"left"}},y(e))}):null)})}))}return i.createElement("div",{className:h("Carousel Carousel--".concat(f),((e={})["Carousel-arrow--always"]=!!x,e),p,(0,a.GwQ)((0,r.pi)((0,r.pi)({},this.props),{name:"baseControlClassName",id:A,themeCss:F})),(0,a.GwQ)((0,r.pi)((0,r.pi)({},this.props),{name:"wrapperCustomStyle",id:A,themeCss:b})),{"Carousel-vertical":"vertical"===this.props.direction}),onMouseDown:this.props.mouseEvent?this.addMouseDownListener:void 0,onMouseUp:this.props.mouseEvent?this.addMouseUpListener:void 0,onMouseLeave:this.props.mouseEvent?this.addMouseUpListener:void 0,onTouchStart:this.props.mouseEvent?this.addMouseDownListener:void 0,onTouchEnd:this.props.mouseEvent?this.addMouseUpListener:void 0,style:R},I||C,D?this.renderDots():null,U?i.createElement("div",{className:h("Carousel-leftArrow",(0,a.GwQ)((0,r.pi)((0,r.pi)({},this.props),{name:"galleryControlClassName",id:A,themeCss:F}))),onClick:this.prev},T&&T.prev?i.isValidElement(T.prev)?T.prev:o("arrow-prev",T.prev):i.createElement(l.JO,{icon:"left-arrow",className:"icon",iconContent:"ImageGallery-prevBtn"})):null,U?i.createElement("div",{className:h("Carousel-rightArrow",(0,a.GwQ)((0,r.pi)((0,r.pi)({},this.props),{name:"galleryControlClassName",id:A,themeCss:F}))),onClick:this.next},T&&T.next?i.isValidElement(T.next)?T.next:o("arrow-next",T.next):i.createElement(l.JO,{icon:"right-arrow",className:"icon",iconContent:"ImageGallery-nextBtn"})):null,i.createElement(a.cWM,(0,r.pi)({},this.props,{config:{wrapperCustomStyle:b,id:A,themeCss:F,classNames:[{key:"baseControlClassName"},{key:"galleryControlClassName",weights:{default:{suf:" svg",important:!0}}}]},env:L})))},t.defaultProps={auto:!0,interval:5e3,duration:500,controlsTheme:"light",animation:"fade",controls:["dots","arrows"],placeholder:"-",multiple:{count:1},alwaysShowArrow:!1},(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"prepareAutoSlide",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String]),(0,r.w6)("design:returntype",void 0)],t.prototype,"autoSlide",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,String]),(0,r.w6)("design:returntype",Promise)],t.prototype,"transitFramesTowards",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String]),(0,r.w6)("design:returntype",void 0)],t.prototype,"getFrameId",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"next",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"prev",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"clearAutoTimeout",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Number]),(0,r.w6)("design:returntype",Promise)],t.prototype,"changeSlide",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[]),(0,r.w6)("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],t.prototype,"addMouseDownListener",null),(0,r.gn)([a.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],t.prototype,"addMouseUpListener",null),t}(i.Component),h=function(e){function t(t,n){var o=e.call(this,t)||this;return n.registerComponent(o),o}return(0,r.ZT)(t,e),t.prototype.componentWillUnmount=function(){var t;null==(t=e.prototype.componentWillUnmount)||t.call(this),this.context.unRegisterComponent(this)},t.contextType=a.ZHe,t=(0,r.gn)([(0,a.Thl)({type:"carousel"}),(0,r.w6)("design:paramtypes",[Object,Object])],t)}(d)}}]);